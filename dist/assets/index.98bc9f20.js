var fNe=Object.defineProperty;var dNe=(e,t,r)=>t in e?fNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Lr=(e,t,r)=>(dNe(e,typeof t!="symbol"?t+"":t,r),r);function pNe(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const u=Object.getOwnPropertyDescriptor(i,s);u&&Object.defineProperty(e,s,u.get?u:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const vNe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=r(s);fetch(s.href,u)}};vNe();const U4="/",IT="/shop",R7="/featured",$4="/recommended",V4="/account",mNe="/account/edit",q4="/admin/dashboard",SO="/admin/products",ape="/admin/add",upe="/admin/edit",cpe="/search/:searchKey",yf="/signin",cT="/signup",D7="/forgot_password",iN="/checkout/step1",L7="/checkout/step2",lpe="/checkout/step3",gNe="/product/:id",yNe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAABBCAYAAACaTpXhAAAACXBIWXMAAAsSAAALEgHS3X78AAAJJElEQVR4nO1dvXIbNxAGMuktPYEZvUCY0QOEhVyHKeg2dKM2SiWXSkd3VCk3ZlqqiFTTM5F6aSw/gDzUC8jUE2xm5Q8SDCyOd+QdyDvim4ElA4ufE75bLBY4QBORSkhoAn5IvZjQFCQyJzQGicwJjUEic0JjkMic0BgkMic0BonMCY3Bj016GK11RynVQmgrpbaQxL+/cMQflFI3Thz/f4bfL/gfIrrwKkpYS9R20URrzYTtIDBZf/aEyoMh/hQ/bxLJ1w+1IrPWmknbB4HnkfcO5JsJGngejHZXAa1u8BkanMs/I6KZJ5EQDWtPZmjgrlLqQCn10hP4hkuLVFMiKkrePO0wZottyvzqiBlyj6poQ0I21pbMsH+ZwL95id9Ic8bEWfVwD5Lb5o554e7QxkTsSFg7Mmut+yCxa0YwgUcYzqdexjWBRe6upbm57cNkilSLtSEzSHwkmBL/MBHqqN201lsgdRcjzANIPUykLh8rJ7PWuosOtkncuE4Hsc2os5VIXT5WRmYMx0NnErURmsuaD3TwrEeeUEJhRF8BZA2ltWbCfnKIzOZEizu26dqKJ61E1MWEsaW1noLgCUsgqmaGSTFy/LY8Oepv8owf7kfWzjMiOvAEEvL9HWOQGfbiSHCz/Z2G2GdYi0KNH52qQOVkXidtDA1oVvbWdt8Fmxzz2gbiq+TDfkZlZIY2Zq37p5PEtvFBLM0Dl19XGBUMzKrdcJ391wnzUQmZoTVGwsLHGyIaeRkqQIbfOgtRX7SEclE6mQNmBbvcOjGGxAz7PC+itTWhXJTqmoPL7V+HyHeRiXyxBJEV2v4Jmj2hRihFM2dow88gciz7+ELYybYokoauGZbWzBnaMDaRj0oksoKGPsPzJdQAS5EZE72pMNGLTeQWlocLodvtqul0yu6tx3B2dqZarZZdxMtFyk1YEUxHFg1YimWykhN4WN5atNwF2zIU2pEZ+n12c/uYzWbUarXsvDOpzlBQSm0rpcZW/olSaqCUOpTyQP5eKbUTSL93nmMsyWXJOvFeO4R8PUGmp5S6DdS7K/ytD4WyrwL5g2UX+ttLkTk6rB8gMse1pTwVk1lqSzBsbW09kjaE0Wjk5u1K9UqBO0wpdeKQ9UoiEdIPUcdASofMCWT2pPSA7H4gPkRWbsdEKhPpk1BeS+aWySsRNfSy5i07TyhsZmCW/0H4Lm4lEyaYOqFv9ES022314kU4C5sfbpQnJEBrvQstdW1SieirUuodSC2BO/sjk09IM/iCn1+9FB9G9tpJ+WKlnWitd7ycgfLxXF8Rstr5XZ3Ix6PSKyL64kkXK3suCpHZIrKEVW0WansxS0IgeitniYYM+zZZiOiUiN66wlrrfRD5PZNda33olVguTq0Xa1yg5H3k5XbugYCZwPNzHa9DRF607BBykxmLISEi/0VEZ15sHOQl2hN40peF8/NzNzWXlwSddgrtfKu1Hs/pHO7I90x2aM2eJ1Ey8FLxC7SrtZ7MK11rzcTfRRtPEZ3ZTuSZgMjuCLFU2VkoopmHXsw33BFRKG0twWQ+Pj4ONm04XPxxiOi1UuqtRc4rJo07rIPkXyytdQqCxSD0K5gEezlGA6M5FYh5jZEnZDYpEHkHdngWFik7jAITm25oQoX9DF6eSJO/I6E9ucJwOPxuCsiTQvZySHmlunO0bR+TP8IkaNtKG0v1SN4Ka5K4K9WTRxbxA+v/O5anoYd0qe5boY0hr8jYKW/exDZ32bn+3lJkKMCLIVVOsJmDeSskc1ab5gZ2w3U6nceQIXsh1V2gjaaT98nycAhyZla/48SLBJVCSNYlM+L2IHuPidrYSe/Znhkr/l5ypeE5763/D0LkLFp26WTOQZ7cLqwSydwW2lF2GEl1C20ZS4RDx9lkPszoYE+bhQhqvwTzZCUyO/LeqICXy6vTImmP/Od3XXNjidBFy66EzBahJd9uLfzMC4RcLyk64krQrBOjiaGVbwMduW1pyh0r/tB+GYQX4EnLz/Eze5rQyTO24vZcYjp1kju6SH5meva9PxF0kbIrIzNlrwBGJ/QiK4AFQu4VQJCuZ5kLJgzI14LfaSshjUCygbOKZuIGVj2PI4KQ/yoQvy20fWKtGLr2/K4lJ9n6UtvNM1858e5q47yyc2vopXbNYcHiQli0iLqAgr0ZN0I7ykD6TrEmWGqjEcjawsYiG0yqC/OdWtXA505VuAfvKio3oQJUvZ85toZO+5k3GKV8acIuWhxq4q5EGA0d66uNrjBKLIqDROR6IdY3gCrWx6wZo0ReJI1cV0izwhK8C21MyNyZaS5/bUlt6OPDgSKei1HsvdgR/x5PngLBi7GPMHHSjOfBdv1tW27GE6wk9pxtr7YHRfJtXwU8KqY+byUyT6jkrDlotY5gdvyhtb6J8SkSjwJExJPTN7x3yBN4xme08yci6m/aMQPYp2EWcV55Ar487wz8qLXeA4n38fOdJywAe0+u5+zbqHZvxhIaoSv4o2cYyj35ittiX+oTvf4C7Twoe4QIrU5S9oqkuKwMbUzW3hN35XA3pF0tv/O9q50RJ2rtPKHyU0CxNbTlaEe2p//D0QTRwC48nMC58usjJLArU2s9gjlWxQjBO/iKTJJ4jzVpra/sSOz0+0hE77Hr7dTLqVQPeQcmAvu3eaeghiYfOHlY6/OuQ2+XYR6kU0DXANZRZrO0QLM4oh82nnEG3fGmnX6Jv4U5dDy5ApdE9MPG4ZPmDvwFV54ZMLmnm3CSEA5cPzI3whJRcgWWgJXdnc2dx52olPody8YK5seHpp4kb9nEhrjtun2ls85Y+UXwPEG0XGiG1C8xQbypu6aGFu7zs2BT1hQkTgeKl4y63AN4h4ljLS7use71NudCX8JDEeU4301FHW9oPcfNp2t1QSTa27Xu9TYv4CgdYh4Hdb8729yZHdVvDOK2sGxvX0p/aV2DnCZ0kbH2ZLZhXWDTEQ5rVPBZ38AuNUHhcvhc2tG598T8vmWuOXNeqEvUZ16oZAOvELUisw3LLjUXsEvkLgsPIK0J03W93GeTUVsyS7CGf2MCmA1N0nl0D5aLzOAG+0ZmJi2Rtj5oFJkTNhsr9zMnJJSFROaExiCROaExSGROaAwSmROaAaXU//F9y/iNwmEoAAAAAElFTkSuQmCC";var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function M7(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}),r}var se={exports:{}},hr={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Tae=Object.getOwnPropertySymbols,bNe=Object.prototype.hasOwnProperty,wNe=Object.prototype.propertyIsEnumerable;function _Ne(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ENe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(t).map(function(u){return t[u]});if(i.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(u){s[u]=u}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var hpe=ENe()?Object.assign:function(e,t){for(var r,i=_Ne(e),s,u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var d in r)bNe.call(r,d)&&(i[d]=r[d]);if(Tae){s=Tae(r);for(var v=0;v<s.length;v++)wNe.call(r,s[v])&&(i[s[v]]=r[s[v]])}}return i};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7=hpe,nI=60103,fpe=60106;hr.Fragment=60107;hr.StrictMode=60108;hr.Profiler=60114;var dpe=60109,ppe=60110,vpe=60112;hr.Suspense=60113;var mpe=60115,gpe=60116;if(typeof Symbol=="function"&&Symbol.for){var uf=Symbol.for;nI=uf("react.element"),fpe=uf("react.portal"),hr.Fragment=uf("react.fragment"),hr.StrictMode=uf("react.strict_mode"),hr.Profiler=uf("react.profiler"),dpe=uf("react.provider"),ppe=uf("react.context"),vpe=uf("react.forward_ref"),hr.Suspense=uf("react.suspense"),mpe=uf("react.memo"),gpe=uf("react.lazy")}var Iae=typeof Symbol=="function"&&Symbol.iterator;function SNe(e){return e===null||typeof e!="object"?null:(e=Iae&&e[Iae]||e["@@iterator"],typeof e=="function"?e:null)}function JN(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ype={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bpe={};function rI(e,t,r){this.props=e,this.context=t,this.refs=bpe,this.updater=r||ype}rI.prototype.isReactComponent={};rI.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(JN(85));this.updater.enqueueSetState(this,e,t,"setState")};rI.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wpe(){}wpe.prototype=rI.prototype;function j7(e,t,r){this.props=e,this.context=t,this.refs=bpe,this.updater=r||ype}var U7=j7.prototype=new wpe;U7.constructor=j7;F7(U7,rI.prototype);U7.isPureReactComponent=!0;var $7={current:null},_pe=Object.prototype.hasOwnProperty,Epe={key:!0,ref:!0,__self:!0,__source:!0};function Spe(e,t,r){var i,s={},u=null,d=null;if(t!=null)for(i in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(u=""+t.key),t)_pe.call(t,i)&&!Epe.hasOwnProperty(i)&&(s[i]=t[i]);var v=arguments.length-2;if(v===1)s.children=r;else if(1<v){for(var g=Array(v),w=0;w<v;w++)g[w]=arguments[w+2];s.children=g}if(e&&e.defaultProps)for(i in v=e.defaultProps,v)s[i]===void 0&&(s[i]=v[i]);return{$$typeof:nI,type:e,key:u,ref:d,props:s,_owner:$7.current}}function TNe(e,t){return{$$typeof:nI,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function V7(e){return typeof e=="object"&&e!==null&&e.$$typeof===nI}function INe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cae=/\/+/g;function x8(e,t){return typeof e=="object"&&e!==null&&e.key!=null?INe(""+e.key):t.toString(36)}function RF(e,t,r,i,s){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(u){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case nI:case fpe:d=!0}}if(d)return d=e,s=s(d),e=i===""?"."+x8(d,0):i,Array.isArray(s)?(r="",e!=null&&(r=e.replace(Cae,"$&/")+"/"),RF(s,t,r,"",function(w){return w})):s!=null&&(V7(s)&&(s=TNe(s,r+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(Cae,"$&/")+"/")+e)),t.push(s)),1;if(d=0,i=i===""?".":i+":",Array.isArray(e))for(var v=0;v<e.length;v++){u=e[v];var g=i+x8(u,v);d+=RF(u,t,r,g,s)}else if(g=SNe(e),typeof g=="function")for(e=g.call(e),v=0;!(u=e.next()).done;)u=u.value,g=i+x8(u,v++),d+=RF(u,t,r,g,s);else if(u==="object")throw t=""+e,Error(JN(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return d}function VM(e,t,r){if(e==null)return e;var i=[],s=0;return RF(e,i,"","",function(u){return t.call(r,u,s++)}),i}function CNe(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var Tpe={current:null};function Wv(){var e=Tpe.current;if(e===null)throw Error(JN(321));return e}var kNe={ReactCurrentDispatcher:Tpe,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:$7,IsSomeRendererActing:{current:!1},assign:F7};hr.Children={map:VM,forEach:function(e,t,r){VM(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return VM(e,function(){t++}),t},toArray:function(e){return VM(e,function(t){return t})||[]},only:function(e){if(!V7(e))throw Error(JN(143));return e}};hr.Component=rI;hr.PureComponent=j7;hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kNe;hr.cloneElement=function(e,t,r){if(e==null)throw Error(JN(267,e));var i=F7({},e.props),s=e.key,u=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,d=$7.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var v=e.type.defaultProps;for(g in t)_pe.call(t,g)&&!Epe.hasOwnProperty(g)&&(i[g]=t[g]===void 0&&v!==void 0?v[g]:t[g])}var g=arguments.length-2;if(g===1)i.children=r;else if(1<g){v=Array(g);for(var w=0;w<g;w++)v[w]=arguments[w+2];i.children=v}return{$$typeof:nI,type:e.type,key:s,ref:u,props:i,_owner:d}};hr.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:ppe,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:dpe,_context:e},e.Consumer=e};hr.createElement=Spe;hr.createFactory=function(e){var t=Spe.bind(null,e);return t.type=e,t};hr.createRef=function(){return{current:null}};hr.forwardRef=function(e){return{$$typeof:vpe,render:e}};hr.isValidElement=V7;hr.lazy=function(e){return{$$typeof:gpe,_payload:{_status:-1,_result:e},_init:CNe}};hr.memo=function(e,t){return{$$typeof:mpe,type:e,compare:t===void 0?null:t}};hr.useCallback=function(e,t){return Wv().useCallback(e,t)};hr.useContext=function(e,t){return Wv().useContext(e,t)};hr.useDebugValue=function(){};hr.useEffect=function(e,t){return Wv().useEffect(e,t)};hr.useImperativeHandle=function(e,t,r){return Wv().useImperativeHandle(e,t,r)};hr.useLayoutEffect=function(e,t){return Wv().useLayoutEffect(e,t)};hr.useMemo=function(e,t){return Wv().useMemo(e,t)};hr.useReducer=function(e,t,r){return Wv().useReducer(e,t,r)};hr.useRef=function(e){return Wv().useRef(e)};hr.useState=function(e){return Wv().useState(e)};hr.version="17.0.2";(function(e){e.exports=hr})(se);const On=B4(se.exports),d3=pNe({__proto__:null,default:On},[se.exports]);var ie={exports:{}},ANe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xNe=ANe,ONe=xNe;function Ipe(){}function Cpe(){}Cpe.resetWarningCache=Ipe;var NNe=function(){function e(i,s,u,d,v,g){if(g!==ONe){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Cpe,resetWarningCache:Ipe};return r.PropTypes=r,r};ie.exports=NNe();var Hv=On.createContext(null);function PNe(e){e()}var kpe=PNe,RNe=function(t){return kpe=t},DNe=function(){return kpe};function LNe(){var e=DNe(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],u=t;u;)s.push(u),u=u.next;return s},subscribe:function(s){var u=!0,d=r={callback:s,next:null,prev:r};return d.prev?d.prev.next=d:t=d,function(){!u||t===null||(u=!1,d.next?d.next.prev=d.prev:r=d.prev,d.prev?d.prev.next=d.next:t=d.next)}}}}var kae={notify:function(){},get:function(){return[]}};function q7(e,t){var r,i=kae;function s(C){return g(),i.subscribe(C)}function u(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function v(){return Boolean(r)}function g(){r||(r=t?t.addNestedSub(d):e.subscribe(d),i=LNe())}function w(){r&&(r(),r=void 0,i.clear(),i=kae)}var S={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:v,trySubscribe:g,tryUnsubscribe:w,getListeners:function(){return i}};return S}var p3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?se.exports.useLayoutEffect:se.exports.useEffect,H4={exports:{}},ZN={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MNe=se.exports,Ape=60103;ZN.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Aae=Symbol.for;Ape=Aae("react.element"),ZN.Fragment=Aae("react.fragment")}var FNe=MNe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jNe=Object.prototype.hasOwnProperty,UNe={key:!0,ref:!0,__self:!0,__source:!0};function xpe(e,t,r){var i,s={},u=null,d=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)jNe.call(t,i)&&!UNe.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Ape,type:e,key:u,ref:d,props:s,_owner:FNe.current}}ZN.jsx=xpe;ZN.jsxs=xpe;(function(e){e.exports=ZN})(H4);const Mu=H4.exports.Fragment,D=H4.exports.jsx,ge=H4.exports.jsxs;function $Ne(e){var t=e.store,r=e.context,i=e.children,s=se.exports.useMemo(function(){var v=q7(t);return{store:t,subscription:v}},[t]),u=se.exports.useMemo(function(){return t.getState()},[t]);p3(function(){var v=s.subscription;return v.onStateChange=v.notifyNestedSubs,v.trySubscribe(),u!==t.getState()&&v.notifyNestedSubs(),function(){v.tryUnsubscribe(),v.onStateChange=null}},[s,u]);var d=r||Hv;return D(d.Provider,{value:s,children:i})}function En(){return En=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},En.apply(this,arguments)}function Sf(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,u;for(u=0;u<i.length;u++)s=i[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var Ope={exports:{}},Mr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=typeof Symbol=="function"&&Symbol.for,B7=Cs?Symbol.for("react.element"):60103,H7=Cs?Symbol.for("react.portal"):60106,z4=Cs?Symbol.for("react.fragment"):60107,K4=Cs?Symbol.for("react.strict_mode"):60108,W4=Cs?Symbol.for("react.profiler"):60114,G4=Cs?Symbol.for("react.provider"):60109,Q4=Cs?Symbol.for("react.context"):60110,z7=Cs?Symbol.for("react.async_mode"):60111,Y4=Cs?Symbol.for("react.concurrent_mode"):60111,X4=Cs?Symbol.for("react.forward_ref"):60112,J4=Cs?Symbol.for("react.suspense"):60113,VNe=Cs?Symbol.for("react.suspense_list"):60120,Z4=Cs?Symbol.for("react.memo"):60115,ej=Cs?Symbol.for("react.lazy"):60116,qNe=Cs?Symbol.for("react.block"):60121,BNe=Cs?Symbol.for("react.fundamental"):60117,HNe=Cs?Symbol.for("react.responder"):60118,zNe=Cs?Symbol.for("react.scope"):60119;function bl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case B7:switch(e=e.type,e){case z7:case Y4:case z4:case W4:case K4:case J4:return e;default:switch(e=e&&e.$$typeof,e){case Q4:case X4:case ej:case Z4:case G4:return e;default:return t}}case H7:return t}}}function Npe(e){return bl(e)===Y4}Mr.AsyncMode=z7;Mr.ConcurrentMode=Y4;Mr.ContextConsumer=Q4;Mr.ContextProvider=G4;Mr.Element=B7;Mr.ForwardRef=X4;Mr.Fragment=z4;Mr.Lazy=ej;Mr.Memo=Z4;Mr.Portal=H7;Mr.Profiler=W4;Mr.StrictMode=K4;Mr.Suspense=J4;Mr.isAsyncMode=function(e){return Npe(e)||bl(e)===z7};Mr.isConcurrentMode=Npe;Mr.isContextConsumer=function(e){return bl(e)===Q4};Mr.isContextProvider=function(e){return bl(e)===G4};Mr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===B7};Mr.isForwardRef=function(e){return bl(e)===X4};Mr.isFragment=function(e){return bl(e)===z4};Mr.isLazy=function(e){return bl(e)===ej};Mr.isMemo=function(e){return bl(e)===Z4};Mr.isPortal=function(e){return bl(e)===H7};Mr.isProfiler=function(e){return bl(e)===W4};Mr.isStrictMode=function(e){return bl(e)===K4};Mr.isSuspense=function(e){return bl(e)===J4};Mr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===z4||e===Y4||e===W4||e===K4||e===J4||e===VNe||typeof e=="object"&&e!==null&&(e.$$typeof===ej||e.$$typeof===Z4||e.$$typeof===G4||e.$$typeof===Q4||e.$$typeof===X4||e.$$typeof===BNe||e.$$typeof===HNe||e.$$typeof===zNe||e.$$typeof===qNe)};Mr.typeOf=bl;(function(e){e.exports=Mr})(Ope);var K7=Ope.exports,KNe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},WNe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GNe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ppe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W7={};W7[K7.ForwardRef]=GNe;W7[K7.Memo]=Ppe;function xae(e){return K7.isMemo(e)?Ppe:W7[e.$$typeof]||KNe}var QNe=Object.defineProperty,YNe=Object.getOwnPropertyNames,Oae=Object.getOwnPropertySymbols,XNe=Object.getOwnPropertyDescriptor,JNe=Object.getPrototypeOf,Nae=Object.prototype;function Rpe(e,t,r){if(typeof t!="string"){if(Nae){var i=JNe(t);i&&i!==Nae&&Rpe(e,i,r)}var s=YNe(t);Oae&&(s=s.concat(Oae(t)));for(var u=xae(e),d=xae(t),v=0;v<s.length;++v){var g=s[v];if(!WNe[g]&&!(r&&r[g])&&!(d&&d[g])&&!(u&&u[g])){var w=XNe(t,g);try{QNe(e,g,w)}catch{}}}}return e}var v3=Rpe,Dpe={exports:{}},zr={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=60103,nj=60106,eP=60107,tP=60108,nP=60114,rP=60109,iP=60110,oP=60112,sP=60113,G7=60120,aP=60115,uP=60116,Lpe=60121,Mpe=60122,Fpe=60117,jpe=60129,Upe=60131;if(typeof Symbol=="function"&&Symbol.for){var na=Symbol.for;tj=na("react.element"),nj=na("react.portal"),eP=na("react.fragment"),tP=na("react.strict_mode"),nP=na("react.profiler"),rP=na("react.provider"),iP=na("react.context"),oP=na("react.forward_ref"),sP=na("react.suspense"),G7=na("react.suspense_list"),aP=na("react.memo"),uP=na("react.lazy"),Lpe=na("react.block"),Mpe=na("react.server.block"),Fpe=na("react.fundamental"),jpe=na("react.debug_trace_mode"),Upe=na("react.legacy_hidden")}function Af(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tj:switch(e=e.type,e){case eP:case nP:case tP:case sP:case G7:return e;default:switch(e=e&&e.$$typeof,e){case iP:case oP:case uP:case aP:case rP:return e;default:return t}}case nj:return t}}}var ZNe=rP,ePe=tj,tPe=oP,nPe=eP,rPe=uP,iPe=aP,oPe=nj,sPe=nP,aPe=tP,uPe=sP;zr.ContextConsumer=iP;zr.ContextProvider=ZNe;zr.Element=ePe;zr.ForwardRef=tPe;zr.Fragment=nPe;zr.Lazy=rPe;zr.Memo=iPe;zr.Portal=oPe;zr.Profiler=sPe;zr.StrictMode=aPe;zr.Suspense=uPe;zr.isAsyncMode=function(){return!1};zr.isConcurrentMode=function(){return!1};zr.isContextConsumer=function(e){return Af(e)===iP};zr.isContextProvider=function(e){return Af(e)===rP};zr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tj};zr.isForwardRef=function(e){return Af(e)===oP};zr.isFragment=function(e){return Af(e)===eP};zr.isLazy=function(e){return Af(e)===uP};zr.isMemo=function(e){return Af(e)===aP};zr.isPortal=function(e){return Af(e)===nj};zr.isProfiler=function(e){return Af(e)===nP};zr.isStrictMode=function(e){return Af(e)===tP};zr.isSuspense=function(e){return Af(e)===sP};zr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eP||e===nP||e===jpe||e===tP||e===sP||e===G7||e===Upe||typeof e=="object"&&e!==null&&(e.$$typeof===uP||e.$$typeof===aP||e.$$typeof===rP||e.$$typeof===iP||e.$$typeof===oP||e.$$typeof===Fpe||e.$$typeof===Lpe||e[0]===Mpe)};zr.typeOf=Af;(function(e){e.exports=zr})(Dpe);var cPe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],lPe=["reactReduxForwardedRef"],hPe=[],fPe=[null,null];function dPe(e,t){var r=e[1];return[t.payload,r+1]}function Pae(e,t,r){p3(function(){return e.apply(void 0,t)},r)}function pPe(e,t,r,i,s,u,d){e.current=i,t.current=s,r.current=!1,u.current&&(u.current=null,d())}function vPe(e,t,r,i,s,u,d,v,g,w){if(!!e){var S=!1,C=null,A=function(){if(!S){var U=t.getState(),R,$;try{R=i(U,s.current)}catch(B){$=B,C=B}$||(C=null),R===u.current?d.current||g():(u.current=R,v.current=R,d.current=!0,w({type:"STORE_UPDATED",payload:{error:$}}))}};r.onStateChange=A,r.trySubscribe(),A();var L=function(){if(S=!0,r.tryUnsubscribe(),r.onStateChange=null,C)throw C};return L}}var mPe=function(){return[null,0]};function gPe(e,t){t===void 0&&(t={});var r=t,i=r.getDisplayName,s=i===void 0?function(G){return"ConnectAdvanced("+G+")"}:i,u=r.methodName,d=u===void 0?"connectAdvanced":u,v=r.renderCountProp,g=v===void 0?void 0:v,w=r.shouldHandleStateChanges,S=w===void 0?!0:w,C=r.storeKey,A=C===void 0?"store":C;r.withRef;var L=r.forwardRef,M=L===void 0?!1:L,U=r.context,R=U===void 0?Hv:U,$=Sf(r,cPe),B=R;return function(H){var Z=H.displayName||H.name||"Component",Y=s(Z),ce=En({},$,{getDisplayName:s,methodName:d,renderCountProp:g,shouldHandleStateChanges:S,storeKey:A,displayName:Y,wrappedComponentName:Z,WrappedComponent:H}),ye=$.pure;function xe(Ie){return e(Ie.dispatch,ce)}var re=ye?se.exports.useMemo:function(Ie){return Ie()};function ut(Ie){var Ne=se.exports.useMemo(function(){var Ot=Ie.reactReduxForwardedRef,we=Sf(Ie,lPe);return[Ie.context,Ot,we]},[Ie]),Be=Ne[0],_e=Ne[1],He=Ne[2],ct=se.exports.useMemo(function(){return Be&&Be.Consumer&&Dpe.exports.isContextConsumer(On.createElement(Be.Consumer,null))?Be:B},[Be,B]),Pe=se.exports.useContext(ct),he=Boolean(Ie.store)&&Boolean(Ie.store.getState)&&Boolean(Ie.store.dispatch);Boolean(Pe)&&Boolean(Pe.store);var fe=he?Ie.store:Pe.store,Se=se.exports.useMemo(function(){return xe(fe)},[fe]),Ae=se.exports.useMemo(function(){if(!S)return fPe;var Ot=q7(fe,he?null:Pe.subscription),we=Ot.notifyNestedSubs.bind(Ot);return[Ot,we]},[fe,he,Pe]),ee=Ae[0],be=Ae[1],st=se.exports.useMemo(function(){return he?Pe:En({},Pe,{subscription:ee})},[he,Pe,ee]),Re=se.exports.useReducer(dPe,hPe,mPe),Pt=Re[0],Nt=Pt[0],Vt=Re[1];if(Nt&&Nt.error)throw Nt.error;var At=se.exports.useRef(),Mt=se.exports.useRef(He),zt=se.exports.useRef(),Te=se.exports.useRef(!1),qe=re(function(){return zt.current&&He===Mt.current?zt.current:Se(fe.getState(),He)},[fe,Nt,He]);Pae(pPe,[Mt,At,Te,He,qe,zt,be]),Pae(vPe,[S,fe,ee,Se,Mt,At,Te,zt,be,Vt],[fe,ee,Se]);var rt=se.exports.useMemo(function(){return D(H,{...qe,ref:_e})},[_e,H,qe]),Fe=se.exports.useMemo(function(){return S?D(ct.Provider,{value:st,children:rt}):rt},[ct,rt,st]);return Fe}var it=ye?On.memo(ut):ut;if(it.WrappedComponent=H,it.displayName=ut.displayName=Y,M){var ht=On.forwardRef(function(Ne,Be){return D(it,{...Ne,reactReduxForwardedRef:Be})});return ht.displayName=Y,ht.WrappedComponent=H,v3(ht,H)}return v3(it,H)}}function Rae(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function TO(e,t){if(Rae(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Rae(e[r[s]],t[r[s]]))return!1;return!0}function yPe(e,t){var r={},i=function(d){var v=e[d];typeof v=="function"&&(r[d]=function(){return t(v.apply(void 0,arguments))})};for(var s in e)i(s);return r}function Q7(e){return function(r,i){var s=e(r,i);function u(){return s}return u.dependsOnOwnProps=!1,u}}function Dae(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?Boolean(e.dependsOnOwnProps):e.length!==1}function $pe(e,t){return function(i,s){s.displayName;var u=function(v,g){return u.dependsOnOwnProps?u.mapToProps(v,g):u.mapToProps(v)};return u.dependsOnOwnProps=!0,u.mapToProps=function(v,g){u.mapToProps=e,u.dependsOnOwnProps=Dae(e);var w=u(v,g);return typeof w=="function"&&(u.mapToProps=w,u.dependsOnOwnProps=Dae(w),w=u(v,g)),w},u}}function bPe(e){return typeof e=="function"?$pe(e):void 0}function wPe(e){return e?void 0:Q7(function(t){return{dispatch:t}})}function _Pe(e){return e&&typeof e=="object"?Q7(function(t){return yPe(e,t)}):void 0}const EPe=[bPe,wPe,_Pe];function SPe(e){return typeof e=="function"?$pe(e):void 0}function TPe(e){return e?void 0:Q7(function(){return{}})}const IPe=[SPe,TPe];function CPe(e,t,r){return En({},r,e,t)}function kPe(e){return function(r,i){i.displayName;var s=i.pure,u=i.areMergedPropsEqual,d=!1,v;return function(w,S,C){var A=e(w,S,C);return d?(!s||!u(A,v))&&(v=A):(d=!0,v=A),v}}}function APe(e){return typeof e=="function"?kPe(e):void 0}function xPe(e){return e?void 0:function(){return CPe}}const OPe=[APe,xPe];var NPe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function PPe(e,t,r,i){return function(u,d){return r(e(u,d),t(i,d),d)}}function RPe(e,t,r,i,s){var u=s.areStatesEqual,d=s.areOwnPropsEqual,v=s.areStatePropsEqual,g=!1,w,S,C,A,L;function M(G,H){return w=G,S=H,C=e(w,S),A=t(i,S),L=r(C,A,S),g=!0,L}function U(){return C=e(w,S),t.dependsOnOwnProps&&(A=t(i,S)),L=r(C,A,S),L}function R(){return e.dependsOnOwnProps&&(C=e(w,S)),t.dependsOnOwnProps&&(A=t(i,S)),L=r(C,A,S),L}function $(){var G=e(w,S),H=!v(G,C);return C=G,H&&(L=r(C,A,S)),L}function B(G,H){var Z=!d(H,S),Y=!u(G,w);return w=G,S=H,Z&&Y?U():Z?R():Y?$():L}return function(H,Z){return g?B(H,Z):M(H,Z)}}function DPe(e,t){var r=t.initMapStateToProps,i=t.initMapDispatchToProps,s=t.initMergeProps,u=Sf(t,NPe),d=r(e,u),v=i(e,u),g=s(e,u),w=u.pure?RPe:PPe;return w(d,v,g,e,u)}var LPe=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function O8(e,t,r){for(var i=t.length-1;i>=0;i--){var s=t[i](e);if(s)return s}return function(u,d){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+d.wrappedComponentName+".")}}function MPe(e,t){return e===t}function FPe(e){var t=e===void 0?{}:e,r=t.connectHOC,i=r===void 0?gPe:r,s=t.mapStateToPropsFactories,u=s===void 0?IPe:s,d=t.mapDispatchToPropsFactories,v=d===void 0?EPe:d,g=t.mergePropsFactories,w=g===void 0?OPe:g,S=t.selectorFactory,C=S===void 0?DPe:S;return function(L,M,U,R){R===void 0&&(R={});var $=R,B=$.pure,G=B===void 0?!0:B,H=$.areStatesEqual,Z=H===void 0?MPe:H,Y=$.areOwnPropsEqual,ce=Y===void 0?TO:Y,ye=$.areStatePropsEqual,xe=ye===void 0?TO:ye,re=$.areMergedPropsEqual,ut=re===void 0?TO:re,it=Sf($,LPe),ht=O8(L,u,"mapStateToProps"),Ie=O8(M,v,"mapDispatchToProps"),Ne=O8(U,w,"mergeProps");return i(C,En({methodName:"connect",getDisplayName:function(_e){return"Connect("+_e+")"},shouldHandleStateChanges:Boolean(L),initMapStateToProps:ht,initMapDispatchToProps:Ie,initMergeProps:Ne,pure:G,areStatesEqual:Z,areOwnPropsEqual:ce,areStatePropsEqual:xe,areMergedPropsEqual:ut},it))}}const Y7=FPe();function Vpe(){var e=se.exports.useContext(Hv);return e}function qpe(e){e===void 0&&(e=Hv);var t=e===Hv?Vpe:function(){return se.exports.useContext(e)};return function(){var i=t(),s=i.store;return s}}var jPe=qpe();function UPe(e){e===void 0&&(e=Hv);var t=e===Hv?jPe:qpe(e);return function(){var i=t();return i.dispatch}}var Lo=UPe(),$Pe=function(t,r){return t===r};function VPe(e,t,r,i){var s=se.exports.useReducer(function(M){return M+1},0),u=s[1],d=se.exports.useMemo(function(){return q7(r,i)},[r,i]),v=se.exports.useRef(),g=se.exports.useRef(),w=se.exports.useRef(),S=se.exports.useRef(),C=r.getState(),A;try{if(e!==g.current||C!==w.current||v.current){var L=e(C);S.current===void 0||!t(L,S.current)?A=L:A=S.current}else A=S.current}catch(M){throw v.current&&(M.message+=`
The error may be correlated with this previous error:
`+v.current.stack+`

`),M}return p3(function(){g.current=e,w.current=C,S.current=A,v.current=void 0}),p3(function(){function M(){try{var U=r.getState();if(U===w.current)return;var R=g.current(U);if(t(R,S.current))return;S.current=R,w.current=U}catch($){v.current=$}u()}return d.onStateChange=M,d.trySubscribe(),M(),function(){return d.tryUnsubscribe()}},[r,d]),A}function qPe(e){e===void 0&&(e=Hv);var t=e===Hv?Vpe:function(){return se.exports.useContext(e)};return function(i,s){s===void 0&&(s=$Pe);var u=t(),d=u.store,v=u.subscription,g=VPe(i,s,d,v);return se.exports.useDebugValue(g),g}}var ks=qPe(),iI={exports:{}},Sh={},Bpe={exports:{}},Hpe={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,i,s;if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,v=d.now();e.unstable_now=function(){return d.now()-v}}if(typeof window>"u"||typeof MessageChannel!="function"){var g=null,w=null,S=function(){if(g!==null)try{var he=e.unstable_now();g(!0,he),g=null}catch(fe){throw setTimeout(S,0),fe}};t=function(he){g!==null?setTimeout(t,0,he):(g=he,setTimeout(S,0))},r=function(he,fe){w=setTimeout(he,fe)},i=function(){clearTimeout(w)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var C=window.setTimeout,A=window.clearTimeout;if(typeof console<"u"){var L=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof L!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var M=!1,U=null,R=-1,$=5,B=0;e.unstable_shouldYield=function(){return e.unstable_now()>=B},s=function(){},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<he?Math.floor(1e3/he):5};var G=new MessageChannel,H=G.port2;G.port1.onmessage=function(){if(U!==null){var he=e.unstable_now();B=he+$;try{U(!0,he)?H.postMessage(null):(M=!1,U=null)}catch(fe){throw H.postMessage(null),fe}}else M=!1},t=function(he){U=he,M||(M=!0,H.postMessage(null))},r=function(he,fe){R=C(function(){he(e.unstable_now())},fe)},i=function(){A(R),R=-1}}function Z(he,fe){var Se=he.length;he.push(fe);e:for(;;){var Ae=Se-1>>>1,ee=he[Ae];if(ee!==void 0&&0<ye(ee,fe))he[Ae]=fe,he[Se]=ee,Se=Ae;else break e}}function Y(he){return he=he[0],he===void 0?null:he}function ce(he){var fe=he[0];if(fe!==void 0){var Se=he.pop();if(Se!==fe){he[0]=Se;e:for(var Ae=0,ee=he.length;Ae<ee;){var be=2*(Ae+1)-1,st=he[be],Re=be+1,Pt=he[Re];if(st!==void 0&&0>ye(st,Se))Pt!==void 0&&0>ye(Pt,st)?(he[Ae]=Pt,he[Re]=Se,Ae=Re):(he[Ae]=st,he[be]=Se,Ae=be);else if(Pt!==void 0&&0>ye(Pt,Se))he[Ae]=Pt,he[Re]=Se,Ae=Re;else break e}}return fe}return null}function ye(he,fe){var Se=he.sortIndex-fe.sortIndex;return Se!==0?Se:he.id-fe.id}var xe=[],re=[],ut=1,it=null,ht=3,Ie=!1,Ne=!1,Be=!1;function _e(he){for(var fe=Y(re);fe!==null;){if(fe.callback===null)ce(re);else if(fe.startTime<=he)ce(re),fe.sortIndex=fe.expirationTime,Z(xe,fe);else break;fe=Y(re)}}function He(he){if(Be=!1,_e(he),!Ne)if(Y(xe)!==null)Ne=!0,t(ct);else{var fe=Y(re);fe!==null&&r(He,fe.startTime-he)}}function ct(he,fe){Ne=!1,Be&&(Be=!1,i()),Ie=!0;var Se=ht;try{for(_e(fe),it=Y(xe);it!==null&&(!(it.expirationTime>fe)||he&&!e.unstable_shouldYield());){var Ae=it.callback;if(typeof Ae=="function"){it.callback=null,ht=it.priorityLevel;var ee=Ae(it.expirationTime<=fe);fe=e.unstable_now(),typeof ee=="function"?it.callback=ee:it===Y(xe)&&ce(xe),_e(fe)}else ce(xe);it=Y(xe)}if(it!==null)var be=!0;else{var st=Y(re);st!==null&&r(He,st.startTime-fe),be=!1}return be}finally{it=null,ht=Se,Ie=!1}}var Pe=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_continueExecution=function(){Ne||Ie||(Ne=!0,t(ct))},e.unstable_getCurrentPriorityLevel=function(){return ht},e.unstable_getFirstCallbackNode=function(){return Y(xe)},e.unstable_next=function(he){switch(ht){case 1:case 2:case 3:var fe=3;break;default:fe=ht}var Se=ht;ht=fe;try{return he()}finally{ht=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Pe,e.unstable_runWithPriority=function(he,fe){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Se=ht;ht=he;try{return fe()}finally{ht=Se}},e.unstable_scheduleCallback=function(he,fe,Se){var Ae=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Ae+Se:Ae):Se=Ae,he){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Se+ee,he={id:ut++,callback:fe,priorityLevel:he,startTime:Se,expirationTime:ee,sortIndex:-1},Se>Ae?(he.sortIndex=Se,Z(re,he),Y(xe)===null&&he===Y(re)&&(Be?i():Be=!0,r(He,Se-Ae))):(he.sortIndex=ee,Z(xe,he),Ne||Ie||(Ne=!0,t(ct))),he},e.unstable_wrapCallback=function(he){var fe=ht;return function(){var Se=ht;ht=fe;try{return he.apply(this,arguments)}finally{ht=Se}}}})(Hpe);(function(e){e.exports=Hpe})(Bpe);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj=se.exports,xi=hpe,Ts=Bpe.exports;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!rj)throw Error(St(227));var zpe=new Set,oN={};function Qw(e,t){CT(e,t),CT(e+"Capture",t)}function CT(e,t){for(oN[e]=t,e=0;e<t.length;e++)zpe.add(t[e])}var zv=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BPe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lae=Object.prototype.hasOwnProperty,Mae={},Fae={};function HPe(e){return Lae.call(Fae,e)?!0:Lae.call(Mae,e)?!1:BPe.test(e)?Fae[e]=!0:(Mae[e]=!0,!1)}function zPe(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KPe(e,t,r,i){if(t===null||typeof t>"u"||zPe(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fu(e,t,r,i,s,u,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=d}var da={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){da[e]=new Fu(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];da[t]=new Fu(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){da[e]=new Fu(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){da[e]=new Fu(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){da[e]=new Fu(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){da[e]=new Fu(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){da[e]=new Fu(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){da[e]=new Fu(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){da[e]=new Fu(e,5,!1,e.toLowerCase(),null,!1,!1)});var X7=/[\-:]([a-z])/g;function J7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(X7,J7);da[t]=new Fu(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(X7,J7);da[t]=new Fu(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(X7,J7);da[t]=new Fu(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){da[e]=new Fu(e,1,!1,e.toLowerCase(),null,!1,!1)});da.xlinkHref=new Fu("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){da[e]=new Fu(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z7(e,t,r,i){var s=da.hasOwnProperty(t)?da[t]:null,u=s!==null?s.type===0:i?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");u||(KPe(t,r,s,i)&&(r=null),i||s===null?HPe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Yw=rj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dO=60103,bw=60106,Bg=60107,eK=60108,IO=60114,tK=60109,nK=60110,ij=60112,CO=60113,m3=60120,oj=60115,rK=60116,iK=60121,oK=60128,Kpe=60129,sK=60130,lH=60131;if(typeof Symbol=="function"&&Symbol.for){var ws=Symbol.for;dO=ws("react.element"),bw=ws("react.portal"),Bg=ws("react.fragment"),eK=ws("react.strict_mode"),IO=ws("react.profiler"),tK=ws("react.provider"),nK=ws("react.context"),ij=ws("react.forward_ref"),CO=ws("react.suspense"),m3=ws("react.suspense_list"),oj=ws("react.memo"),rK=ws("react.lazy"),iK=ws("react.block"),ws("react.scope"),oK=ws("react.opaque.id"),Kpe=ws("react.debug_trace_mode"),sK=ws("react.offscreen"),lH=ws("react.legacy_hidden")}var jae=typeof Symbol=="function"&&Symbol.iterator;function Ux(e){return e===null||typeof e!="object"?null:(e=jae&&e[jae]||e["@@iterator"],typeof e=="function"?e:null)}var N8;function pO(e){if(N8===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);N8=t&&t[1]||""}return`
`+N8+e}var P8=!1;function qM(e,t){if(!e||P8)return"";P8=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var i=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){i=g}e.call(t.prototype)}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),u=i.stack.split(`
`),d=s.length-1,v=u.length-1;1<=d&&0<=v&&s[d]!==u[v];)v--;for(;1<=d&&0<=v;d--,v--)if(s[d]!==u[v]){if(d!==1||v!==1)do if(d--,v--,0>v||s[d]!==u[v])return`
`+s[d].replace(" at new "," at ");while(1<=d&&0<=v);break}}}finally{P8=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pO(e):""}function WPe(e){switch(e.tag){case 5:return pO(e.type);case 16:return pO("Lazy");case 13:return pO("Suspense");case 19:return pO("SuspenseList");case 0:case 2:case 15:return e=qM(e.type,!1),e;case 11:return e=qM(e.type.render,!1),e;case 22:return e=qM(e.type._render,!1),e;case 1:return e=qM(e.type,!0),e;default:return""}}function lT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bg:return"Fragment";case bw:return"Portal";case IO:return"Profiler";case eK:return"StrictMode";case CO:return"Suspense";case m3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nK:return(e.displayName||"Context")+".Consumer";case tK:return(e._context.displayName||"Context")+".Provider";case ij:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case oj:return lT(e.type);case iK:return lT(e._render);case rK:t=e._payload,e=e._init;try{return lT(e(t))}catch{}}return null}function dy(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Wpe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GPe(e){var t=Wpe(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){i=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function BM(e){e._valueTracker||(e._valueTracker=GPe(e))}function Gpe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Wpe(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function g3(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hH(e,t){var r=t.checked;return xi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Uae(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=dy(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qpe(e,t){t=t.checked,t!=null&&Z7(e,"checked",t,!1)}function fH(e,t){Qpe(e,t);var r=dy(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dH(e,t.type,r):t.hasOwnProperty("defaultValue")&&dH(e,t.type,dy(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $ae(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dH(e,t,r){(t!=="number"||g3(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function QPe(e){var t="";return rj.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function pH(e,t){return e=xi({children:void 0},t),(t=QPe(t.children))&&(e.children=t),e}function hT(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+dy(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function vH(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return xi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vae(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:dy(r)}}function Ype(e,t){var r=dy(t.value),i=dy(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function qae(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var mH={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Xpe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gH(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xpe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var HM,Jpe=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!==mH.svg||"innerHTML"in e)e.innerHTML=t;else{for(HM=HM||document.createElement("div"),HM.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=HM.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sN(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kO={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YPe=["Webkit","ms","Moz","O"];Object.keys(kO).forEach(function(e){YPe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kO[t]=kO[e]})});function Zpe(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kO.hasOwnProperty(e)&&kO[e]?(""+t).trim():t+"px"}function eve(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Zpe(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var XPe=xi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yH(e,t){if(t){if(XPe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function bH(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function aK(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wH=null,fT=null,dT=null;function Bae(e){if(e=lP(e)){if(typeof wH!="function")throw Error(St(280));var t=e.stateNode;t&&(t=hj(t),wH(e.stateNode,e.type,t))}}function tve(e){fT?dT?dT.push(e):dT=[e]:fT=e}function nve(){if(fT){var e=fT,t=dT;if(dT=fT=null,Bae(e),t)for(e=0;e<t.length;e++)Bae(t[e])}}function uK(e,t){return e(t)}function rve(e,t,r,i,s){return e(t,r,i,s)}function cK(){}var ive=uK,ww=!1,R8=!1;function lK(){(fT!==null||dT!==null)&&(cK(),nve())}function JPe(e,t,r){if(R8)return e(t,r);R8=!0;try{return ive(e,t,r)}finally{R8=!1,lK()}}function aN(e,t){var r=e.stateNode;if(r===null)return null;var i=hj(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var _H=!1;if(zv)try{var $x={};Object.defineProperty($x,"passive",{get:function(){_H=!0}}),window.addEventListener("test",$x,$x),window.removeEventListener("test",$x,$x)}catch{_H=!1}function ZPe(e,t,r,i,s,u,d,v,g){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(S){this.onError(S)}}var AO=!1,y3=null,b3=!1,EH=null,eRe={onError:function(e){AO=!0,y3=e}};function tRe(e,t,r,i,s,u,d,v,g){AO=!1,y3=null,ZPe.apply(eRe,arguments)}function nRe(e,t,r,i,s,u,d,v,g){if(tRe.apply(this,arguments),AO){if(AO){var w=y3;AO=!1,y3=null}else throw Error(St(198));b3||(b3=!0,EH=w)}}function Xw(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ove(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hae(e){if(Xw(e)!==e)throw Error(St(188))}function rRe(e){var t=e.alternate;if(!t){if(t=Xw(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var u=s.alternate;if(u===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===r)return Hae(s),e;if(u===i)return Hae(s),t;u=u.sibling}throw Error(St(188))}if(r.return!==i.return)r=s,i=u;else{for(var d=!1,v=s.child;v;){if(v===r){d=!0,r=s,i=u;break}if(v===i){d=!0,i=s,r=u;break}v=v.sibling}if(!d){for(v=u.child;v;){if(v===r){d=!0,r=u,i=s;break}if(v===i){d=!0,i=u,r=s;break}v=v.sibling}if(!d)throw Error(St(189))}}if(r.alternate!==i)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function sve(e){if(e=rRe(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function zae(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var ave,hK,uve,cve,SH=!1,zd=[],ny=null,ry=null,iy=null,uN=new Map,cN=new Map,Vx=[],Kae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TH(e,t,r,i,s){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:s,targetContainers:[i]}}function Wae(e,t){switch(e){case"focusin":case"focusout":ny=null;break;case"dragenter":case"dragleave":ry=null;break;case"mouseover":case"mouseout":iy=null;break;case"pointerover":case"pointerout":uN.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cN.delete(t.pointerId)}}function qx(e,t,r,i,s,u){return e===null||e.nativeEvent!==u?(e=TH(t,r,i,s,u),t!==null&&(t=lP(t),t!==null&&hK(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iRe(e,t,r,i,s){switch(t){case"focusin":return ny=qx(ny,e,t,r,i,s),!0;case"dragenter":return ry=qx(ry,e,t,r,i,s),!0;case"mouseover":return iy=qx(iy,e,t,r,i,s),!0;case"pointerover":var u=s.pointerId;return uN.set(u,qx(uN.get(u)||null,e,t,r,i,s)),!0;case"gotpointercapture":return u=s.pointerId,cN.set(u,qx(cN.get(u)||null,e,t,r,i,s)),!0}return!1}function oRe(e){var t=_w(e.target);if(t!==null){var r=Xw(t);if(r!==null){if(t=r.tag,t===13){if(t=ove(r),t!==null){e.blockedOn=t,cve(e.lanePriority,function(){Ts.unstable_runWithPriority(e.priority,function(){uve(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function DF(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=vK(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=lP(r),t!==null&&hK(t),e.blockedOn=r,!1;t.shift()}return!0}function Gae(e,t,r){DF(e)&&r.delete(t)}function sRe(){for(SH=!1;0<zd.length;){var e=zd[0];if(e.blockedOn!==null){e=lP(e.blockedOn),e!==null&&ave(e);break}for(var t=e.targetContainers;0<t.length;){var r=vK(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&zd.shift()}ny!==null&&DF(ny)&&(ny=null),ry!==null&&DF(ry)&&(ry=null),iy!==null&&DF(iy)&&(iy=null),uN.forEach(Gae),cN.forEach(Gae)}function Bx(e,t){e.blockedOn===t&&(e.blockedOn=null,SH||(SH=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,sRe)))}function lve(e){function t(s){return Bx(s,e)}if(0<zd.length){Bx(zd[0],e);for(var r=1;r<zd.length;r++){var i=zd[r];i.blockedOn===e&&(i.blockedOn=null)}}for(ny!==null&&Bx(ny,e),ry!==null&&Bx(ry,e),iy!==null&&Bx(iy,e),uN.forEach(t),cN.forEach(t),r=0;r<Vx.length;r++)i=Vx[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Vx.length&&(r=Vx[0],r.blockedOn===null);)oRe(r),r.blockedOn===null&&Vx.shift()}function zM(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var JS={animationend:zM("Animation","AnimationEnd"),animationiteration:zM("Animation","AnimationIteration"),animationstart:zM("Animation","AnimationStart"),transitionend:zM("Transition","TransitionEnd")},D8={},hve={};zv&&(hve=document.createElement("div").style,"AnimationEvent"in window||(delete JS.animationend.animation,delete JS.animationiteration.animation,delete JS.animationstart.animation),"TransitionEvent"in window||delete JS.transitionend.transition);function sj(e){if(D8[e])return D8[e];if(!JS[e])return e;var t=JS[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hve)return D8[e]=t[r];return e}var fve=sj("animationend"),dve=sj("animationiteration"),pve=sj("animationstart"),vve=sj("transitionend"),mve=new Map,fK=new Map,aRe=["abort","abort",fve,"animationEnd",dve,"animationIteration",pve,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",vve,"transitionEnd","waiting","waiting"];function dK(e,t){for(var r=0;r<e.length;r+=2){var i=e[r],s=e[r+1];s="on"+(s[0].toUpperCase()+s.slice(1)),fK.set(i,t),mve.set(i,s),Qw(s,[i])}}var uRe=Ts.unstable_now;uRe();var ri=8;function KS(e){if((1&e)!==0)return ri=15,1;if((2&e)!==0)return ri=14,2;if((4&e)!==0)return ri=13,4;var t=24&e;return t!==0?(ri=12,t):(e&32)!==0?(ri=11,32):(t=192&e,t!==0?(ri=10,t):(e&256)!==0?(ri=9,256):(t=3584&e,t!==0?(ri=8,t):(e&4096)!==0?(ri=7,4096):(t=4186112&e,t!==0?(ri=6,t):(t=62914560&e,t!==0?(ri=5,t):e&67108864?(ri=4,67108864):(e&134217728)!==0?(ri=3,134217728):(t=805306368&e,t!==0?(ri=2,t):(1073741824&e)!==0?(ri=1,1073741824):(ri=8,e))))))}function cRe(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function lRe(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(St(358,e))}}function lN(e,t){var r=e.pendingLanes;if(r===0)return ri=0;var i=0,s=0,u=e.expiredLanes,d=e.suspendedLanes,v=e.pingedLanes;if(u!==0)i=u,s=ri=15;else if(u=r&134217727,u!==0){var g=u&~d;g!==0?(i=KS(g),s=ri):(v&=u,v!==0&&(i=KS(v),s=ri))}else u=r&~d,u!==0?(i=KS(u),s=ri):v!==0&&(i=KS(v),s=ri);if(i===0)return 0;if(i=31-py(i),i=r&((0>i?0:1<<i)<<1)-1,t!==0&&t!==i&&(t&d)===0){if(KS(t),s<=ri)return t;ri=s}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-py(t),s=1<<r,i|=e[r],t&=~s;return i}function gve(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w3(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=WS(24&~t),e===0?w3(10,t):e;case 10:return e=WS(192&~t),e===0?w3(8,t):e;case 8:return e=WS(3584&~t),e===0&&(e=WS(4186112&~t),e===0&&(e=512)),e;case 2:return t=WS(805306368&~t),t===0&&(t=268435456),t}throw Error(St(358,e))}function WS(e){return e&-e}function L8(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function aj(e,t,r){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,e=e.eventTimes,t=31-py(t),e[t]=r}var py=Math.clz32?Math.clz32:dRe,hRe=Math.log,fRe=Math.LN2;function dRe(e){return e===0?32:31-(hRe(e)/fRe|0)|0}var pRe=Ts.unstable_UserBlockingPriority,vRe=Ts.unstable_runWithPriority,LF=!0;function mRe(e,t,r,i){ww||cK();var s=pK,u=ww;ww=!0;try{rve(s,e,t,r,i)}finally{(ww=u)||lK()}}function gRe(e,t,r,i){vRe(pRe,pK.bind(null,e,t,r,i))}function pK(e,t,r,i){if(LF){var s;if((s=(t&4)===0)&&0<zd.length&&-1<Kae.indexOf(e))e=TH(null,e,t,r,i),zd.push(e);else{var u=vK(e,t,r,i);if(u===null)s&&Wae(e,i);else{if(s){if(-1<Kae.indexOf(e)){e=TH(u,e,t,r,i),zd.push(e);return}if(iRe(u,e,t,r,i))return;Wae(e,i)}Ove(e,t,i,null,r)}}}}function vK(e,t,r,i){var s=aK(i);if(s=_w(s),s!==null){var u=Xw(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=ove(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.hydrate)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return Ove(e,t,i,s,r),null}var Qg=null,mK=null,MF=null;function yve(){if(MF)return MF;var e,t=mK,r=t.length,i,s="value"in Qg?Qg.value:Qg.textContent,u=s.length;for(e=0;e<r&&t[e]===s[e];e++);var d=r-e;for(i=1;i<=d&&t[r-i]===s[u-i];i++);return MF=s.slice(e,1<i?1-i:void 0)}function FF(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function KM(){return!0}function Qae(){return!1}function wl(e){function t(r,i,s,u,d){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?KM:Qae,this.isPropagationStopped=Qae,this}return xi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=KM)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=KM)},persist:function(){},isPersistent:KM}),t}var oI={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gK=wl(oI),cP=xi({},oI,{view:0,detail:0}),yRe=wl(cP),M8,F8,Hx,uj=xi({},cP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yK,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hx&&(Hx&&e.type==="mousemove"?(M8=e.screenX-Hx.screenX,F8=e.screenY-Hx.screenY):F8=M8=0,Hx=e),M8)},movementY:function(e){return"movementY"in e?e.movementY:F8}}),Yae=wl(uj),bRe=xi({},uj,{dataTransfer:0}),wRe=wl(bRe),_Re=xi({},cP,{relatedTarget:0}),j8=wl(_Re),ERe=xi({},oI,{animationName:0,elapsedTime:0,pseudoElement:0}),SRe=wl(ERe),TRe=xi({},oI,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IRe=wl(TRe),CRe=xi({},oI,{data:0}),Xae=wl(CRe),kRe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ARe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xRe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ORe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xRe[e])?!!t[e]:!1}function yK(){return ORe}var NRe=xi({},cP,{key:function(e){if(e.key){var t=kRe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=FF(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ARe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yK,charCode:function(e){return e.type==="keypress"?FF(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?FF(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PRe=wl(NRe),RRe=xi({},uj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jae=wl(RRe),DRe=xi({},cP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yK}),LRe=wl(DRe),MRe=xi({},oI,{propertyName:0,elapsedTime:0,pseudoElement:0}),FRe=wl(MRe),jRe=xi({},uj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),URe=wl(jRe),$Re=[9,13,27,32],bK=zv&&"CompositionEvent"in window,xO=null;zv&&"documentMode"in document&&(xO=document.documentMode);var VRe=zv&&"TextEvent"in window&&!xO,bve=zv&&(!bK||xO&&8<xO&&11>=xO),Zae=String.fromCharCode(32),eue=!1;function wve(e,t){switch(e){case"keyup":return $Re.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _ve(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ZS=!1;function qRe(e,t){switch(e){case"compositionend":return _ve(t);case"keypress":return t.which!==32?null:(eue=!0,Zae);case"textInput":return e=t.data,e===Zae&&eue?null:e;default:return null}}function BRe(e,t){if(ZS)return e==="compositionend"||!bK&&wve(e,t)?(e=yve(),MF=mK=Qg=null,ZS=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bve&&t.locale!=="ko"?null:t.data;default:return null}}var HRe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HRe[e.type]:t==="textarea"}function Eve(e,t,r,i){tve(i),t=_3(t,"onChange"),0<t.length&&(r=new gK("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var OO=null,hN=null;function zRe(e){kve(e,0)}function cj(e){var t=tT(e);if(Gpe(t))return e}function KRe(e,t){if(e==="change")return t}var Sve=!1;if(zv){var U8;if(zv){var $8="oninput"in document;if(!$8){var nue=document.createElement("div");nue.setAttribute("oninput","return;"),$8=typeof nue.oninput=="function"}U8=$8}else U8=!1;Sve=U8&&(!document.documentMode||9<document.documentMode)}function rue(){OO&&(OO.detachEvent("onpropertychange",Tve),hN=OO=null)}function Tve(e){if(e.propertyName==="value"&&cj(hN)){var t=[];if(Eve(t,hN,e,aK(e)),e=zRe,ww)e(t);else{ww=!0;try{uK(e,t)}finally{ww=!1,lK()}}}}function WRe(e,t,r){e==="focusin"?(rue(),OO=t,hN=r,OO.attachEvent("onpropertychange",Tve)):e==="focusout"&&rue()}function GRe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cj(hN)}function QRe(e,t){if(e==="click")return cj(t)}function YRe(e,t){if(e==="input"||e==="change")return cj(t)}function XRe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dh=typeof Object.is=="function"?Object.is:XRe,JRe=Object.prototype.hasOwnProperty;function fN(e,t){if(dh(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++)if(!JRe.call(t,r[i])||!dh(e[r[i]],t[r[i]]))return!1;return!0}function iue(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oue(e,t){var r=iue(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iue(r)}}function Ive(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ive(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sue(){for(var e=window,t=g3();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=g3(e.document)}return t}function IH(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ZRe=zv&&"documentMode"in document&&11>=document.documentMode,eT=null,CH=null,NO=null,kH=!1;function aue(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kH||eT==null||eT!==g3(i)||(i=eT,"selectionStart"in i&&IH(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),NO&&fN(NO,i)||(NO=i,i=_3(CH,"onSelect"),0<i.length&&(t=new gK("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=eT)))}dK("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);dK("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);dK(aRe,2);for(var uue="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),V8=0;V8<uue.length;V8++)fK.set(uue[V8],0);CT("onMouseEnter",["mouseout","mouseover"]);CT("onMouseLeave",["mouseout","mouseover"]);CT("onPointerEnter",["pointerout","pointerover"]);CT("onPointerLeave",["pointerout","pointerover"]);Qw("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qw("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qw("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qw("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qw("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qw("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vO="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cve=new Set("cancel close invalid load scroll toggle".split(" ").concat(vO));function cue(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,nRe(i,t,void 0,e),e.currentTarget=null}function kve(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var d=i.length-1;0<=d;d--){var v=i[d],g=v.instance,w=v.currentTarget;if(v=v.listener,g!==u&&s.isPropagationStopped())break e;cue(s,v,w),u=g}else for(d=0;d<i.length;d++){if(v=i[d],g=v.instance,w=v.currentTarget,v=v.listener,g!==u&&s.isPropagationStopped())break e;cue(s,v,w),u=g}}}if(b3)throw e=EH,b3=!1,EH=null,e}function fi(e,t){var r=Pve(t),i=e+"__bubble";r.has(i)||(xve(t,e,2,!1),r.add(i))}var lue="_reactListening"+Math.random().toString(36).slice(2);function Ave(e){e[lue]||(e[lue]=!0,zpe.forEach(function(t){Cve.has(t)||hue(t,!1,e,null),hue(t,!0,e,null)}))}function hue(e,t,r,i){var s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,u=r;if(e==="selectionchange"&&r.nodeType!==9&&(u=r.ownerDocument),i!==null&&!t&&Cve.has(e)){if(e!=="scroll")return;s|=2,u=i}var d=Pve(u),v=e+"__"+(t?"capture":"bubble");d.has(v)||(t&&(s|=4),xve(u,e,s,t),d.add(v))}function xve(e,t,r,i){var s=fK.get(t);switch(s===void 0?2:s){case 0:s=mRe;break;case 1:s=gRe;break;default:s=pK}r=s.bind(null,t,r,e),s=void 0,!_H||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ove(e,t,r,i,s){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var v=i.stateNode.containerInfo;if(v===s||v.nodeType===8&&v.parentNode===s)break;if(d===4)for(d=i.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;d=d.return}for(;v!==null;){if(d=_w(v),d===null)return;if(g=d.tag,g===5||g===6){i=u=d;continue e}v=v.parentNode}}i=i.return}JPe(function(){var w=u,S=aK(r),C=[];e:{var A=mve.get(e);if(A!==void 0){var L=gK,M=e;switch(e){case"keypress":if(FF(r)===0)break e;case"keydown":case"keyup":L=PRe;break;case"focusin":M="focus",L=j8;break;case"focusout":M="blur",L=j8;break;case"beforeblur":case"afterblur":L=j8;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Yae;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=wRe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=LRe;break;case fve:case dve:case pve:L=SRe;break;case vve:L=FRe;break;case"scroll":L=yRe;break;case"wheel":L=URe;break;case"copy":case"cut":case"paste":L=IRe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Jae}var U=(t&4)!==0,R=!U&&e==="scroll",$=U?A!==null?A+"Capture":null:A;U=[];for(var B=w,G;B!==null;){G=B;var H=G.stateNode;if(G.tag===5&&H!==null&&(G=H,$!==null&&(H=aN(B,$),H!=null&&U.push(dN(B,H,G)))),R)break;B=B.return}0<U.length&&(A=new L(A,M,null,r,S),C.push({event:A,listeners:U}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",A&&(t&16)===0&&(M=r.relatedTarget||r.fromElement)&&(_w(M)||M[sI]))break e;if((L||A)&&(A=S.window===S?S:(A=S.ownerDocument)?A.defaultView||A.parentWindow:window,L?(M=r.relatedTarget||r.toElement,L=w,M=M?_w(M):null,M!==null&&(R=Xw(M),M!==R||M.tag!==5&&M.tag!==6)&&(M=null)):(L=null,M=w),L!==M)){if(U=Yae,H="onMouseLeave",$="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(U=Jae,H="onPointerLeave",$="onPointerEnter",B="pointer"),R=L==null?A:tT(L),G=M==null?A:tT(M),A=new U(H,B+"leave",L,r,S),A.target=R,A.relatedTarget=G,H=null,_w(S)===w&&(U=new U($,B+"enter",M,r,S),U.target=G,U.relatedTarget=R,H=U),R=H,L&&M)t:{for(U=L,$=M,B=0,G=U;G;G=FS(G))B++;for(G=0,H=$;H;H=FS(H))G++;for(;0<B-G;)U=FS(U),B--;for(;0<G-B;)$=FS($),G--;for(;B--;){if(U===$||$!==null&&U===$.alternate)break t;U=FS(U),$=FS($)}U=null}else U=null;L!==null&&fue(C,A,L,U,!1),M!==null&&R!==null&&fue(C,R,M,U,!0)}}e:{if(A=w?tT(w):window,L=A.nodeName&&A.nodeName.toLowerCase(),L==="select"||L==="input"&&A.type==="file")var Z=KRe;else if(tue(A))if(Sve)Z=YRe;else{Z=GRe;var Y=WRe}else(L=A.nodeName)&&L.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(Z=QRe);if(Z&&(Z=Z(e,w))){Eve(C,Z,r,S);break e}Y&&Y(e,A,w),e==="focusout"&&(Y=A._wrapperState)&&Y.controlled&&A.type==="number"&&dH(A,"number",A.value)}switch(Y=w?tT(w):window,e){case"focusin":(tue(Y)||Y.contentEditable==="true")&&(eT=Y,CH=w,NO=null);break;case"focusout":NO=CH=eT=null;break;case"mousedown":kH=!0;break;case"contextmenu":case"mouseup":case"dragend":kH=!1,aue(C,r,S);break;case"selectionchange":if(ZRe)break;case"keydown":case"keyup":aue(C,r,S)}var ce;if(bK)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ZS?wve(e,r)&&(ye="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ye="onCompositionStart");ye&&(bve&&r.locale!=="ko"&&(ZS||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ZS&&(ce=yve()):(Qg=S,mK="value"in Qg?Qg.value:Qg.textContent,ZS=!0)),Y=_3(w,ye),0<Y.length&&(ye=new Xae(ye,e,null,r,S),C.push({event:ye,listeners:Y}),ce?ye.data=ce:(ce=_ve(r),ce!==null&&(ye.data=ce)))),(ce=VRe?qRe(e,r):BRe(e,r))&&(w=_3(w,"onBeforeInput"),0<w.length&&(S=new Xae("onBeforeInput","beforeinput",null,r,S),C.push({event:S,listeners:w}),S.data=ce))}kve(C,t)})}function dN(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _3(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,u=s.stateNode;s.tag===5&&u!==null&&(s=u,u=aN(e,r),u!=null&&i.unshift(dN(e,u,s)),u=aN(e,t),u!=null&&i.push(dN(e,u,s))),e=e.return}return i}function FS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fue(e,t,r,i,s){for(var u=t._reactName,d=[];r!==null&&r!==i;){var v=r,g=v.alternate,w=v.stateNode;if(g!==null&&g===i)break;v.tag===5&&w!==null&&(v=w,s?(g=aN(r,u),g!=null&&d.unshift(dN(r,g,v))):s||(g=aN(r,u),g!=null&&d.push(dN(r,g,v)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}function E3(){}var q8=null,B8=null;function Nve(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function AH(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var due=typeof setTimeout=="function"?setTimeout:void 0,e2e=typeof clearTimeout=="function"?clearTimeout:void 0;function wK(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function pT(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function pue(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var H8=0;function t2e(e){return{$$typeof:oK,toString:e,valueOf:e}}var lj=Math.random().toString(36).slice(2),Yg="__reactFiber$"+lj,S3="__reactProps$"+lj,sI="__reactContainer$"+lj,vue="__reactEvents$"+lj;function _w(e){var t=e[Yg];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sI]||r[Yg]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pue(e);e!==null;){if(r=e[Yg])return r;e=pue(e)}return t}e=r,r=e.parentNode}return null}function lP(e){return e=e[Yg]||e[sI],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tT(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function hj(e){return e[S3]||null}function Pve(e){var t=e[vue];return t===void 0&&(t=e[vue]=new Set),t}var xH=[],nT=-1;function Ty(e){return{current:e}}function gi(e){0>nT||(e.current=xH[nT],xH[nT]=null,nT--)}function Xi(e,t){nT++,xH[nT]=e.current,e.current=t}var vy={},Ga=Ty(vy),yc=Ty(!1),Mw=vy;function kT(e,t){var r=e.type.contextTypes;if(!r)return vy;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},u;for(u in r)s[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bc(e){return e=e.childContextTypes,e!=null}function T3(){gi(yc),gi(Ga)}function mue(e,t,r){if(Ga.current!==vy)throw Error(St(168));Xi(Ga,t),Xi(yc,r)}function Rve(e,t,r){var i=e.stateNode;if(e=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(St(108,lT(t)||"Unknown",s));return xi({},r,i)}function jF(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vy,Mw=Ga.current,Xi(Ga,e),Xi(yc,yc.current),!0}function gue(e,t,r){var i=e.stateNode;if(!i)throw Error(St(169));r?(e=Rve(e,t,Mw),i.__reactInternalMemoizedMergedChildContext=e,gi(yc),gi(Ga),Xi(Ga,e)):gi(yc),Xi(yc,r)}var _K=null,xw=null,n2e=Ts.unstable_runWithPriority,EK=Ts.unstable_scheduleCallback,OH=Ts.unstable_cancelCallback,r2e=Ts.unstable_shouldYield,yue=Ts.unstable_requestPaint,NH=Ts.unstable_now,i2e=Ts.unstable_getCurrentPriorityLevel,fj=Ts.unstable_ImmediatePriority,Dve=Ts.unstable_UserBlockingPriority,Lve=Ts.unstable_NormalPriority,Mve=Ts.unstable_LowPriority,Fve=Ts.unstable_IdlePriority,z8={},o2e=yue!==void 0?yue:function(){},Nv=null,UF=null,K8=!1,bue=NH(),Ba=1e4>bue?NH:function(){return NH()-bue};function AT(){switch(i2e()){case fj:return 99;case Dve:return 98;case Lve:return 97;case Mve:return 96;case Fve:return 95;default:throw Error(St(332))}}function jve(e){switch(e){case 99:return fj;case 98:return Dve;case 97:return Lve;case 96:return Mve;case 95:return Fve;default:throw Error(St(332))}}function Fw(e,t){return e=jve(e),n2e(e,t)}function pN(e,t,r){return e=jve(e),EK(e,t,r)}function op(){if(UF!==null){var e=UF;UF=null,OH(e)}Uve()}function Uve(){if(!K8&&Nv!==null){K8=!0;var e=0;try{var t=Nv;Fw(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Nv=null}catch(r){throw Nv!==null&&(Nv=Nv.slice(e+1)),EK(fj,op),r}finally{K8=!1}}}var s2e=Yw.ReactCurrentBatchConfig;function df(e,t){if(e&&e.defaultProps){t=xi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var I3=Ty(null),C3=null,rT=null,k3=null;function SK(){k3=rT=C3=null}function TK(e){var t=I3.current;gi(I3),e.type._context._currentValue=t}function $ve(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function vT(e,t){C3=e,k3=rT=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(gf=!0),e.firstContext=null)}function wh(e,t){if(k3!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(k3=e,t=1073741823),t={context:e,observedBits:t,next:null},rT===null){if(C3===null)throw Error(St(308));rT=t,C3.dependencies={lanes:0,firstContext:t,responders:null}}else rT=rT.next=t;return e._currentValue}var Ug=!1;function IK(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Vve(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oy(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sy(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function wue(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?s=u=d:u=u.next=d,r=r.next}while(r!==null);u===null?s=u=t:u=u.next=t}else s=u=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vN(e,t,r,i){var s=e.updateQueue;Ug=!1;var u=s.firstBaseUpdate,d=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var g=v,w=g.next;g.next=null,d===null?u=w:d.next=w,d=g;var S=e.alternate;if(S!==null){S=S.updateQueue;var C=S.lastBaseUpdate;C!==d&&(C===null?S.firstBaseUpdate=w:C.next=w,S.lastBaseUpdate=g)}}if(u!==null){C=s.baseState,d=0,S=w=g=null;do{v=u.lane;var A=u.eventTime;if((i&v)===v){S!==null&&(S=S.next={eventTime:A,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var L=e,M=u;switch(v=t,A=r,M.tag){case 1:if(L=M.payload,typeof L=="function"){C=L.call(A,C,v);break e}C=L;break e;case 3:L.flags=L.flags&-4097|64;case 0:if(L=M.payload,v=typeof L=="function"?L.call(A,C,v):L,v==null)break e;C=xi({},C,v);break e;case 2:Ug=!0}}u.callback!==null&&(e.flags|=32,v=s.effects,v===null?s.effects=[u]:v.push(u))}else A={eventTime:A,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},S===null?(w=S=A,g=C):S=S.next=A,d|=v;if(u=u.next,u===null){if(v=s.shared.pending,v===null)break;u=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(1);S===null&&(g=C),s.baseState=g,s.firstBaseUpdate=w,s.lastBaseUpdate=S,fP|=d,e.lanes=d,e.memoizedState=C}}function _ue(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(St(191,s));s.call(i)}}}var qve=new rj.Component().refs;function A3(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:xi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dj={isMounted:function(e){return(e=e._reactInternals)?Xw(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=vl(),s=ay(e),u=oy(i,s);u.payload=t,r!=null&&(u.callback=r),sy(e,u),uy(e,s,i)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=vl(),s=ay(e),u=oy(i,s);u.tag=1,u.payload=t,r!=null&&(u.callback=r),sy(e,u),uy(e,s,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vl(),i=ay(e),s=oy(r,i);s.tag=2,t!=null&&(s.callback=t),sy(e,s),uy(e,i,r)}};function Eue(e,t,r,i,s,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,d):t.prototype&&t.prototype.isPureReactComponent?!fN(r,i)||!fN(s,u):!0}function Bve(e,t,r){var i=!1,s=vy,u=t.contextType;return typeof u=="object"&&u!==null?u=wh(u):(s=bc(t)?Mw:Ga.current,i=t.contextTypes,u=(i=i!=null)?kT(e,s):vy),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dj,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=u),t}function Sue(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&dj.enqueueReplaceState(t,t.state,null)}function PH(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=qve,IK(e);var u=t.contextType;typeof u=="object"&&u!==null?s.context=wh(u):(u=bc(t)?Mw:Ga.current,s.context=kT(e,u)),vN(e,r,s,i),s.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(A3(e,t,u,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dj.enqueueReplaceState(s,s.state,null),vN(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4)}var WM=Array.isArray;function zx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var i=r.stateNode}if(!i)throw Error(St(147,e));var s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(u){var d=i.refs;d===qve&&(d=i.refs={}),u===null?delete d[s]:d[s]=u},t._stringRef=s,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function GM(e,t){if(e.type!=="textarea")throw Error(St(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Hve(e){function t(R,$){if(e){var B=R.lastEffect;B!==null?(B.nextEffect=$,R.lastEffect=$):R.firstEffect=R.lastEffect=$,$.nextEffect=null,$.flags=8}}function r(R,$){if(!e)return null;for(;$!==null;)t(R,$),$=$.sibling;return null}function i(R,$){for(R=new Map;$!==null;)$.key!==null?R.set($.key,$):R.set($.index,$),$=$.sibling;return R}function s(R,$){return R=gy(R,$),R.index=0,R.sibling=null,R}function u(R,$,B){return R.index=B,e?(B=R.alternate,B!==null?(B=B.index,B<$?(R.flags=2,$):B):(R.flags=2,$)):$}function d(R){return e&&R.alternate===null&&(R.flags=2),R}function v(R,$,B,G){return $===null||$.tag!==6?($=X8(B,R.mode,G),$.return=R,$):($=s($,B),$.return=R,$)}function g(R,$,B,G){return $!==null&&$.elementType===B.type?(G=s($,B.props),G.ref=zx(R,$,B),G.return=R,G):(G=BF(B.type,B.key,B.props,null,R.mode,G),G.ref=zx(R,$,B),G.return=R,G)}function w(R,$,B,G){return $===null||$.tag!==4||$.stateNode.containerInfo!==B.containerInfo||$.stateNode.implementation!==B.implementation?($=J8(B,R.mode,G),$.return=R,$):($=s($,B.children||[]),$.return=R,$)}function S(R,$,B,G,H){return $===null||$.tag!==7?($=bT(B,R.mode,G,H),$.return=R,$):($=s($,B),$.return=R,$)}function C(R,$,B){if(typeof $=="string"||typeof $=="number")return $=X8(""+$,R.mode,B),$.return=R,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case dO:return B=BF($.type,$.key,$.props,null,R.mode,B),B.ref=zx(R,null,$),B.return=R,B;case bw:return $=J8($,R.mode,B),$.return=R,$}if(WM($)||Ux($))return $=bT($,R.mode,B,null),$.return=R,$;GM(R,$)}return null}function A(R,$,B,G){var H=$!==null?$.key:null;if(typeof B=="string"||typeof B=="number")return H!==null?null:v(R,$,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case dO:return B.key===H?B.type===Bg?S(R,$,B.props.children,G,H):g(R,$,B,G):null;case bw:return B.key===H?w(R,$,B,G):null}if(WM(B)||Ux(B))return H!==null?null:S(R,$,B,G,null);GM(R,B)}return null}function L(R,$,B,G,H){if(typeof G=="string"||typeof G=="number")return R=R.get(B)||null,v($,R,""+G,H);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case dO:return R=R.get(G.key===null?B:G.key)||null,G.type===Bg?S($,R,G.props.children,H,G.key):g($,R,G,H);case bw:return R=R.get(G.key===null?B:G.key)||null,w($,R,G,H)}if(WM(G)||Ux(G))return R=R.get(B)||null,S($,R,G,H,null);GM($,G)}return null}function M(R,$,B,G){for(var H=null,Z=null,Y=$,ce=$=0,ye=null;Y!==null&&ce<B.length;ce++){Y.index>ce?(ye=Y,Y=null):ye=Y.sibling;var xe=A(R,Y,B[ce],G);if(xe===null){Y===null&&(Y=ye);break}e&&Y&&xe.alternate===null&&t(R,Y),$=u(xe,$,ce),Z===null?H=xe:Z.sibling=xe,Z=xe,Y=ye}if(ce===B.length)return r(R,Y),H;if(Y===null){for(;ce<B.length;ce++)Y=C(R,B[ce],G),Y!==null&&($=u(Y,$,ce),Z===null?H=Y:Z.sibling=Y,Z=Y);return H}for(Y=i(R,Y);ce<B.length;ce++)ye=L(Y,R,ce,B[ce],G),ye!==null&&(e&&ye.alternate!==null&&Y.delete(ye.key===null?ce:ye.key),$=u(ye,$,ce),Z===null?H=ye:Z.sibling=ye,Z=ye);return e&&Y.forEach(function(re){return t(R,re)}),H}function U(R,$,B,G){var H=Ux(B);if(typeof H!="function")throw Error(St(150));if(B=H.call(B),B==null)throw Error(St(151));for(var Z=H=null,Y=$,ce=$=0,ye=null,xe=B.next();Y!==null&&!xe.done;ce++,xe=B.next()){Y.index>ce?(ye=Y,Y=null):ye=Y.sibling;var re=A(R,Y,xe.value,G);if(re===null){Y===null&&(Y=ye);break}e&&Y&&re.alternate===null&&t(R,Y),$=u(re,$,ce),Z===null?H=re:Z.sibling=re,Z=re,Y=ye}if(xe.done)return r(R,Y),H;if(Y===null){for(;!xe.done;ce++,xe=B.next())xe=C(R,xe.value,G),xe!==null&&($=u(xe,$,ce),Z===null?H=xe:Z.sibling=xe,Z=xe);return H}for(Y=i(R,Y);!xe.done;ce++,xe=B.next())xe=L(Y,R,ce,xe.value,G),xe!==null&&(e&&xe.alternate!==null&&Y.delete(xe.key===null?ce:xe.key),$=u(xe,$,ce),Z===null?H=xe:Z.sibling=xe,Z=xe);return e&&Y.forEach(function(ut){return t(R,ut)}),H}return function(R,$,B,G){var H=typeof B=="object"&&B!==null&&B.type===Bg&&B.key===null;H&&(B=B.props.children);var Z=typeof B=="object"&&B!==null;if(Z)switch(B.$$typeof){case dO:e:{for(Z=B.key,H=$;H!==null;){if(H.key===Z){switch(H.tag){case 7:if(B.type===Bg){r(R,H.sibling),$=s(H,B.props.children),$.return=R,R=$;break e}break;default:if(H.elementType===B.type){r(R,H.sibling),$=s(H,B.props),$.ref=zx(R,H,B),$.return=R,R=$;break e}}r(R,H);break}else t(R,H);H=H.sibling}B.type===Bg?($=bT(B.props.children,R.mode,G,B.key),$.return=R,R=$):(G=BF(B.type,B.key,B.props,null,R.mode,G),G.ref=zx(R,$,B),G.return=R,R=G)}return d(R);case bw:e:{for(H=B.key;$!==null;){if($.key===H)if($.tag===4&&$.stateNode.containerInfo===B.containerInfo&&$.stateNode.implementation===B.implementation){r(R,$.sibling),$=s($,B.children||[]),$.return=R,R=$;break e}else{r(R,$);break}else t(R,$);$=$.sibling}$=J8(B,R.mode,G),$.return=R,R=$}return d(R)}if(typeof B=="string"||typeof B=="number")return B=""+B,$!==null&&$.tag===6?(r(R,$.sibling),$=s($,B),$.return=R,R=$):(r(R,$),$=X8(B,R.mode,G),$.return=R,R=$),d(R);if(WM(B))return M(R,$,B,G);if(Ux(B))return U(R,$,B,G);if(Z&&GM(R,B),typeof B>"u"&&!H)switch(R.tag){case 1:case 22:case 0:case 11:case 15:throw Error(St(152,lT(R.type)||"Component"))}return r(R,$)}}var x3=Hve(!0),zve=Hve(!1),hP={},Yd=Ty(hP),mN=Ty(hP),gN=Ty(hP);function Ew(e){if(e===hP)throw Error(St(174));return e}function RH(e,t){switch(Xi(gN,t),Xi(mN,e),Xi(Yd,hP),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gH(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gH(t,e)}gi(Yd),Xi(Yd,t)}function xT(){gi(Yd),gi(mN),gi(gN)}function Tue(e){Ew(gN.current);var t=Ew(Yd.current),r=gH(t,e.type);t!==r&&(Xi(mN,e),Xi(Yd,r))}function CK(e){mN.current===e&&(gi(Yd),gi(mN))}var Yi=Ty(0);function O3(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lv=null,Xg=null,Xd=!1;function Kve(e,t){var r=ph(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Iue(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function DH(e){if(Xd){var t=Xg;if(t){var r=t;if(!Iue(e,t)){if(t=pT(r.nextSibling),!t||!Iue(e,t)){e.flags=e.flags&-1025|2,Xd=!1,Lv=e;return}Kve(Lv,r)}Lv=e,Xg=pT(t.firstChild)}else e.flags=e.flags&-1025|2,Xd=!1,Lv=e}}function Cue(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lv=e}function QM(e){if(e!==Lv)return!1;if(!Xd)return Cue(e),Xd=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!AH(t,e.memoizedProps))for(t=Xg;t;)Kve(e,t),t=pT(t.nextSibling);if(Cue(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xg=pT(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xg=null}}else Xg=Lv?pT(e.stateNode.nextSibling):null;return!0}function W8(){Xg=Lv=null,Xd=!1}var mT=[];function kK(){for(var e=0;e<mT.length;e++)mT[e]._workInProgressVersionPrimary=null;mT.length=0}var PO=Yw.ReactCurrentDispatcher,yh=Yw.ReactCurrentBatchConfig,yN=0,ho=null,$a=null,sa=null,N3=!1,RO=!1;function cc(){throw Error(St(321))}function AK(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dh(e[r],t[r]))return!1;return!0}function xK(e,t,r,i,s,u){if(yN=u,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,PO.current=e===null||e.memoizedState===null?u2e:c2e,e=r(i,s),RO){u=0;do{if(RO=!1,!(25>u))throw Error(St(301));u+=1,sa=$a=null,t.updateQueue=null,PO.current=l2e,e=r(i,s)}while(RO)}if(PO.current=L3,t=$a!==null&&$a.next!==null,yN=0,sa=$a=ho=null,N3=!1,t)throw Error(St(300));return e}function Sw(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?ho.memoizedState=sa=e:sa=sa.next=e,sa}function Jw(){if($a===null){var e=ho.alternate;e=e!==null?e.memoizedState:null}else e=$a.next;var t=sa===null?ho.memoizedState:sa.next;if(t!==null)sa=t,$a=e;else{if(e===null)throw Error(St(310));$a=e,e={memoizedState:$a.memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},sa===null?ho.memoizedState=sa=e:sa=sa.next=e}return sa}function Kd(e,t){return typeof t=="function"?t(e):t}function Kx(e){var t=Jw(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var i=$a,s=i.baseQueue,u=r.pending;if(u!==null){if(s!==null){var d=s.next;s.next=u.next,u.next=d}i.baseQueue=s=u,r.pending=null}if(s!==null){s=s.next,i=i.baseState;var v=d=u=null,g=s;do{var w=g.lane;if((yN&w)===w)v!==null&&(v=v.next={lane:0,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null}),i=g.eagerReducer===e?g.eagerState:e(i,g.action);else{var S={lane:w,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null};v===null?(d=v=S,u=i):v=v.next=S,ho.lanes|=w,fP|=w}g=g.next}while(g!==null&&g!==s);v===null?u=i:v.next=d,dh(i,t.memoizedState)||(gf=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=v,r.lastRenderedState=i}return[t.memoizedState,r.dispatch]}function Wx(e){var t=Jw(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,u=t.memoizedState;if(s!==null){r.pending=null;var d=s=s.next;do u=e(u,d.action),d=d.next;while(d!==s);dh(u,t.memoizedState)||(gf=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,i]}function kue(e,t,r){var i=t._getVersion;i=i(t._source);var s=t._workInProgressVersionPrimary;if(s!==null?e=s===i:(e=e.mutableReadLanes,(e=(yN&e)===e)&&(t._workInProgressVersionPrimary=i,mT.push(t))),e)return r(t._source);throw mT.push(t),Error(St(350))}function Wve(e,t,r,i){var s=Lu;if(s===null)throw Error(St(349));var u=t._getVersion,d=u(t._source),v=PO.current,g=v.useState(function(){return kue(s,t,r)}),w=g[1],S=g[0];g=sa;var C=e.memoizedState,A=C.refs,L=A.getSnapshot,M=C.source;C=C.subscribe;var U=ho;return e.memoizedState={refs:A,source:t,subscribe:i},v.useEffect(function(){A.getSnapshot=r,A.setSnapshot=w;var R=u(t._source);if(!dh(d,R)){R=r(t._source),dh(S,R)||(w(R),R=ay(U),s.mutableReadLanes|=R&s.pendingLanes),R=s.mutableReadLanes,s.entangledLanes|=R;for(var $=s.entanglements,B=R;0<B;){var G=31-py(B),H=1<<G;$[G]|=R,B&=~H}}},[r,t,i]),v.useEffect(function(){return i(t._source,function(){var R=A.getSnapshot,$=A.setSnapshot;try{$(R(t._source));var B=ay(U);s.mutableReadLanes|=B&s.pendingLanes}catch(G){$(function(){throw G})}})},[t,i]),dh(L,r)&&dh(M,t)&&dh(C,i)||(e={pending:null,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:S},e.dispatch=w=PK.bind(null,ho,e),g.queue=e,g.baseQueue=null,S=kue(s,t,r),g.memoizedState=g.baseState=S),S}function Gve(e,t,r){var i=Jw();return Wve(i,e,t,r)}function Gx(e){var t=Sw();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:e},e=e.dispatch=PK.bind(null,ho,e),[t.memoizedState,e]}function P3(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=ho.updateQueue,t===null?(t={lastEffect:null},ho.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Aue(e){var t=Sw();return e={current:e},t.memoizedState=e}function R3(){return Jw().memoizedState}function LH(e,t,r,i){var s=Sw();ho.flags|=e,s.memoizedState=P3(1|t,r,void 0,i===void 0?null:i)}function OK(e,t,r,i){var s=Jw();i=i===void 0?null:i;var u=void 0;if($a!==null){var d=$a.memoizedState;if(u=d.destroy,i!==null&&AK(i,d.deps)){P3(t,r,u,i);return}}ho.flags|=e,s.memoizedState=P3(1|t,r,u,i)}function xue(e,t){return LH(516,4,e,t)}function D3(e,t){return OK(516,4,e,t)}function Qve(e,t){return OK(4,2,e,t)}function Yve(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xve(e,t,r){return r=r!=null?r.concat([e]):null,OK(4,2,Yve.bind(null,t,e),r)}function NK(){}function Jve(e,t){var r=Jw();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&AK(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Zve(e,t){var r=Jw();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&AK(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function a2e(e,t){var r=AT();Fw(98>r?98:r,function(){e(!0)}),Fw(97<r?97:r,function(){var i=yh.transition;yh.transition=1;try{e(!1),t()}finally{yh.transition=i}})}function PK(e,t,r){var i=vl(),s=ay(e),u={lane:s,action:r,eagerReducer:null,eagerState:null,next:null},d=t.pending;if(d===null?u.next=u:(u.next=d.next,d.next=u),t.pending=u,d=e.alternate,e===ho||d!==null&&d===ho)RO=N3=!0;else{if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var v=t.lastRenderedState,g=d(v,r);if(u.eagerReducer=d,u.eagerState=g,dh(g,v))return}catch{}finally{}uy(e,s,i)}}var L3={readContext:wh,useCallback:cc,useContext:cc,useEffect:cc,useImperativeHandle:cc,useLayoutEffect:cc,useMemo:cc,useReducer:cc,useRef:cc,useState:cc,useDebugValue:cc,useDeferredValue:cc,useTransition:cc,useMutableSource:cc,useOpaqueIdentifier:cc,unstable_isNewReconciler:!1},u2e={readContext:wh,useCallback:function(e,t){return Sw().memoizedState=[e,t===void 0?null:t],e},useContext:wh,useEffect:xue,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,LH(4,2,Yve.bind(null,t,e),r)},useLayoutEffect:function(e,t){return LH(4,2,e,t)},useMemo:function(e,t){var r=Sw();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Sw();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=PK.bind(null,ho,e),[i.memoizedState,e]},useRef:Aue,useState:Gx,useDebugValue:NK,useDeferredValue:function(e){var t=Gx(e),r=t[0],i=t[1];return xue(function(){var s=yh.transition;yh.transition=1;try{i(e)}finally{yh.transition=s}},[e]),r},useTransition:function(){var e=Gx(!1),t=e[0];return e=a2e.bind(null,e[1]),Aue(e),[e,t]},useMutableSource:function(e,t,r){var i=Sw();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},Wve(i,e,t,r)},useOpaqueIdentifier:function(){if(Xd){var e=!1,t=t2e(function(){throw e||(e=!0,r("r:"+(H8++).toString(36))),Error(St(355))}),r=Gx(t)[1];return(ho.mode&2)===0&&(ho.flags|=516,P3(5,function(){r("r:"+(H8++).toString(36))},void 0,null)),t}return t="r:"+(H8++).toString(36),Gx(t),t},unstable_isNewReconciler:!1},c2e={readContext:wh,useCallback:Jve,useContext:wh,useEffect:D3,useImperativeHandle:Xve,useLayoutEffect:Qve,useMemo:Zve,useReducer:Kx,useRef:R3,useState:function(){return Kx(Kd)},useDebugValue:NK,useDeferredValue:function(e){var t=Kx(Kd),r=t[0],i=t[1];return D3(function(){var s=yh.transition;yh.transition=1;try{i(e)}finally{yh.transition=s}},[e]),r},useTransition:function(){var e=Kx(Kd)[0];return[R3().current,e]},useMutableSource:Gve,useOpaqueIdentifier:function(){return Kx(Kd)[0]},unstable_isNewReconciler:!1},l2e={readContext:wh,useCallback:Jve,useContext:wh,useEffect:D3,useImperativeHandle:Xve,useLayoutEffect:Qve,useMemo:Zve,useReducer:Wx,useRef:R3,useState:function(){return Wx(Kd)},useDebugValue:NK,useDeferredValue:function(e){var t=Wx(Kd),r=t[0],i=t[1];return D3(function(){var s=yh.transition;yh.transition=1;try{i(e)}finally{yh.transition=s}},[e]),r},useTransition:function(){var e=Wx(Kd)[0];return[R3().current,e]},useMutableSource:Gve,useOpaqueIdentifier:function(){return Wx(Kd)[0]},unstable_isNewReconciler:!1},h2e=Yw.ReactCurrentOwner,gf=!1;function fc(e,t,r,i){t.child=e===null?zve(t,null,r,i):x3(t,e.child,r,i)}function Oue(e,t,r,i,s){r=r.render;var u=t.ref;return vT(t,s),i=xK(e,t,r,i,u,s),e!==null&&!gf?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~s,Mv(e,t,s)):(t.flags|=1,fc(e,t,i,s),t.child)}function Nue(e,t,r,i,s,u){if(e===null){var d=r.type;return typeof d=="function"&&!jK(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,eme(e,t,d,i,s,u)):(e=BF(r.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}return d=e.child,(s&u)===0&&(s=d.memoizedProps,r=r.compare,r=r!==null?r:fN,r(s,i)&&e.ref===t.ref)?Mv(e,t,u):(t.flags|=1,e=gy(d,i),e.ref=t.ref,e.return=t,t.child=e)}function eme(e,t,r,i,s,u){if(e!==null&&fN(e.memoizedProps,i)&&e.ref===t.ref)if(gf=!1,(u&s)!==0)(e.flags&16384)!==0&&(gf=!0);else return t.lanes=e.lanes,Mv(e,t,u);return MH(e,t,r,i,u)}function G8(e,t,r){var i=t.pendingProps,s=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden"||i.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},XM(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},XM(t,u!==null?u.baseLanes:r);else return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},XM(t,e),null;else u!==null?(i=u.baseLanes|r,t.memoizedState=null):i=r,XM(t,i);return fc(e,t,s,r),t.child}function tme(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function MH(e,t,r,i,s){var u=bc(r)?Mw:Ga.current;return u=kT(t,u),vT(t,s),r=xK(e,t,r,i,u,s),e!==null&&!gf?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~s,Mv(e,t,s)):(t.flags|=1,fc(e,t,r,s),t.child)}function Pue(e,t,r,i,s){if(bc(r)){var u=!0;jF(t)}else u=!1;if(vT(t,s),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),Bve(t,r,i),PH(t,r,i,s),i=!0;else if(e===null){var d=t.stateNode,v=t.memoizedProps;d.props=v;var g=d.context,w=r.contextType;typeof w=="object"&&w!==null?w=wh(w):(w=bc(r)?Mw:Ga.current,w=kT(t,w));var S=r.getDerivedStateFromProps,C=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function";C||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==i||g!==w)&&Sue(t,d,i,w),Ug=!1;var A=t.memoizedState;d.state=A,vN(t,i,d,s),g=t.memoizedState,v!==i||A!==g||yc.current||Ug?(typeof S=="function"&&(A3(t,r,S,i),g=t.memoizedState),(v=Ug||Eue(t,r,v,i,A,g,w))?(C||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4)):(typeof d.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=g),d.props=i,d.state=g,d.context=w,i=v):(typeof d.componentDidMount=="function"&&(t.flags|=4),i=!1)}else{d=t.stateNode,Vve(e,t),v=t.memoizedProps,w=t.type===t.elementType?v:df(t.type,v),d.props=w,C=t.pendingProps,A=d.context,g=r.contextType,typeof g=="object"&&g!==null?g=wh(g):(g=bc(r)?Mw:Ga.current,g=kT(t,g));var L=r.getDerivedStateFromProps;(S=typeof L=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==C||A!==g)&&Sue(t,d,i,g),Ug=!1,A=t.memoizedState,d.state=A,vN(t,i,d,s);var M=t.memoizedState;v!==C||A!==M||yc.current||Ug?(typeof L=="function"&&(A3(t,r,L,i),M=t.memoizedState),(w=Ug||Eue(t,r,w,i,A,M,g))?(S||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,M,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,M,g)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=M),d.props=i,d.state=M,d.context=g,i=w):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=256),i=!1)}return FH(e,t,r,i,u,s)}function FH(e,t,r,i,s,u){tme(e,t);var d=(t.flags&64)!==0;if(!i&&!d)return s&&gue(t,r,!1),Mv(e,t,u);i=t.stateNode,h2e.current=t;var v=d&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=x3(t,e.child,null,u),t.child=x3(t,null,v,u)):fc(e,t,v,u),t.memoizedState=i.state,s&&gue(t,r,!0),t.child}function Rue(e){var t=e.stateNode;t.pendingContext?mue(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mue(e,t.context,!1),RH(e,t.containerInfo)}var YM={dehydrated:null,retryLane:0};function Due(e,t,r){var i=t.pendingProps,s=Yi.current,u=!1,d;return(d=(t.flags&64)!==0)||(d=e!==null&&e.memoizedState===null?!1:(s&2)!==0),d?(u=!0,t.flags&=-65):e!==null&&e.memoizedState===null||i.fallback===void 0||i.unstable_avoidThisFallback===!0||(s|=1),Xi(Yi,s&1),e===null?(i.fallback!==void 0&&DH(t),e=i.children,s=i.fallback,u?(e=Lue(t,e,s,r),t.child.memoizedState={baseLanes:r},t.memoizedState=YM,e):typeof i.unstable_expectedLoadTime=="number"?(e=Lue(t,e,s,r),t.child.memoizedState={baseLanes:r},t.memoizedState=YM,t.lanes=33554432,e):(r=UK({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?u?(i=Fue(e,t,i.children,i.fallback,r),u=t.child,s=e.child.memoizedState,u.memoizedState=s===null?{baseLanes:r}:{baseLanes:s.baseLanes|r},u.childLanes=e.childLanes&~r,t.memoizedState=YM,i):(r=Mue(e,t,i.children,r),t.memoizedState=null,r):u?(i=Fue(e,t,i.children,i.fallback,r),u=t.child,s=e.child.memoizedState,u.memoizedState=s===null?{baseLanes:r}:{baseLanes:s.baseLanes|r},u.childLanes=e.childLanes&~r,t.memoizedState=YM,i):(r=Mue(e,t,i.children,r),t.memoizedState=null,r)}function Lue(e,t,r,i){var s=e.mode,u=e.child;return t={mode:"hidden",children:t},(s&2)===0&&u!==null?(u.childLanes=0,u.pendingProps=t):u=UK(t,s,0,null),r=bT(r,s,i,null),u.return=e,r.return=e,u.sibling=r,e.child=u,r}function Mue(e,t,r,i){var s=e.child;return e=s.sibling,r=gy(s,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=i),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Fue(e,t,r,i,s){var u=t.mode,d=e.child;e=d.sibling;var v={mode:"hidden",children:r};return(u&2)===0&&t.child!==d?(r=t.child,r.childLanes=0,r.pendingProps=v,d=r.lastEffect,d!==null?(t.firstEffect=r.firstEffect,t.lastEffect=d,d.nextEffect=null):t.firstEffect=t.lastEffect=null):r=gy(d,v),e!==null?i=gy(e,i):(i=bT(i,u,s,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,i}function jue(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$ve(e.return,t)}function Q8(e,t,r,i,s,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s,lastEffect:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=s,d.lastEffect=u)}function Uue(e,t,r){var i=t.pendingProps,s=i.revealOrder,u=i.tail;if(fc(e,t,i.children,r),i=Yi.current,(i&2)!==0)i=i&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jue(e,r);else if(e.tag===19)jue(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Xi(Yi,i),(t.mode&2)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&O3(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Q8(t,!1,s,r,u,t.lastEffect);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&O3(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Q8(t,!0,r,null,u,t.lastEffect);break;case"together":Q8(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Mv(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fP|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=gy(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gy(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var nme,jH,rme,ime;nme=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jH=function(){};rme=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Ew(Yd.current);var u=null;switch(r){case"input":s=hH(e,s),i=hH(e,i),u=[];break;case"option":s=pH(e,s),i=pH(e,i),u=[];break;case"select":s=xi({},s,{value:void 0}),i=xi({},i,{value:void 0}),u=[];break;case"textarea":s=vH(e,s),i=vH(e,i),u=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=E3)}yH(r,i);var d;r=null;for(w in s)if(!i.hasOwnProperty(w)&&s.hasOwnProperty(w)&&s[w]!=null)if(w==="style"){var v=s[w];for(d in v)v.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(oN.hasOwnProperty(w)?u||(u=[]):(u=u||[]).push(w,null));for(w in i){var g=i[w];if(v=s!=null?s[w]:void 0,i.hasOwnProperty(w)&&g!==v&&(g!=null||v!=null))if(w==="style")if(v){for(d in v)!v.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in g)g.hasOwnProperty(d)&&v[d]!==g[d]&&(r||(r={}),r[d]=g[d])}else r||(u||(u=[]),u.push(w,r)),r=g;else w==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,v=v?v.__html:void 0,g!=null&&v!==g&&(u=u||[]).push(w,g)):w==="children"?typeof g!="string"&&typeof g!="number"||(u=u||[]).push(w,""+g):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(oN.hasOwnProperty(w)?(g!=null&&w==="onScroll"&&fi("scroll",e),u||v===g||(u=[])):typeof g=="object"&&g!==null&&g.$$typeof===oK?g.toString():(u=u||[]).push(w,g))}r&&(u=u||[]).push("style",r);var w=u;(t.updateQueue=w)&&(t.flags|=4)}};ime=function(e,t,r,i){r!==i&&(t.flags|=4)};function Qx(e,t){if(!Xd)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function f2e(e,t,r){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return bc(t.type)&&T3(),null;case 3:return xT(),gi(yc),gi(Ga),kK(),i=t.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(QM(t)?t.flags|=4:i.hydrate||(t.flags|=256)),jH(t),null;case 5:CK(t);var s=Ew(gN.current);if(r=t.type,e!==null&&t.stateNode!=null)rme(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(t.stateNode===null)throw Error(St(166));return null}if(e=Ew(Yd.current),QM(t)){i=t.stateNode,r=t.type;var u=t.memoizedProps;switch(i[Yg]=t,i[S3]=u,r){case"dialog":fi("cancel",i),fi("close",i);break;case"iframe":case"object":case"embed":fi("load",i);break;case"video":case"audio":for(e=0;e<vO.length;e++)fi(vO[e],i);break;case"source":fi("error",i);break;case"img":case"image":case"link":fi("error",i),fi("load",i);break;case"details":fi("toggle",i);break;case"input":Uae(i,u),fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},fi("invalid",i);break;case"textarea":Vae(i,u),fi("invalid",i)}yH(r,u),e=null;for(var d in u)u.hasOwnProperty(d)&&(s=u[d],d==="children"?typeof s=="string"?i.textContent!==s&&(e=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(e=["children",""+s]):oN.hasOwnProperty(d)&&s!=null&&d==="onScroll"&&fi("scroll",i));switch(r){case"input":BM(i),$ae(i,u,!0);break;case"textarea":BM(i),qae(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=E3)}i=e,t.updateQueue=i,i!==null&&(t.flags|=4)}else{switch(d=s.nodeType===9?s:s.ownerDocument,e===mH.html&&(e=Xpe(r)),e===mH.html?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(r,{is:i.is}):(e=d.createElement(r),r==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,r),e[Yg]=t,e[S3]=i,nme(e,t,!1,!1),t.stateNode=e,d=bH(r,i),r){case"dialog":fi("cancel",e),fi("close",e),s=i;break;case"iframe":case"object":case"embed":fi("load",e),s=i;break;case"video":case"audio":for(s=0;s<vO.length;s++)fi(vO[s],e);s=i;break;case"source":fi("error",e),s=i;break;case"img":case"image":case"link":fi("error",e),fi("load",e),s=i;break;case"details":fi("toggle",e),s=i;break;case"input":Uae(e,i),s=hH(e,i),fi("invalid",e);break;case"option":s=pH(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=xi({},i,{value:void 0}),fi("invalid",e);break;case"textarea":Vae(e,i),s=vH(e,i),fi("invalid",e);break;default:s=i}yH(r,s);var v=s;for(u in v)if(v.hasOwnProperty(u)){var g=v[u];u==="style"?eve(e,g):u==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Jpe(e,g)):u==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&sN(e,g):typeof g=="number"&&sN(e,""+g):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oN.hasOwnProperty(u)?g!=null&&u==="onScroll"&&fi("scroll",e):g!=null&&Z7(e,u,g,d))}switch(r){case"input":BM(e),$ae(e,i,!1);break;case"textarea":BM(e),qae(e);break;case"option":i.value!=null&&e.setAttribute("value",""+dy(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?hT(e,!!i.multiple,u,!1):i.defaultValue!=null&&hT(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=E3)}Nve(r,i)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)ime(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(St(166));r=Ew(gN.current),Ew(Yd.current),QM(t)?(i=t.stateNode,r=t.memoizedProps,i[Yg]=t,i.nodeValue!==r&&(t.flags|=4)):(i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Yg]=t,t.stateNode=i)}return null;case 13:return gi(Yi),i=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(i=i!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&QM(t):r=e.memoizedState!==null,i&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Yi.current&1)!==0?ua===0&&(ua=3):((ua===0||ua===3)&&(ua=4),Lu===null||(fP&134217727)===0&&(uI&134217727)===0||gT(Lu,za))),(i||r)&&(t.flags|=4),null);case 4:return xT(),jH(t),e===null&&Ave(t.stateNode.containerInfo),null;case 10:return TK(t),null;case 17:return bc(t.type)&&T3(),null;case 19:if(gi(Yi),i=t.memoizedState,i===null)return null;if(u=(t.flags&64)!==0,d=i.rendering,d===null)if(u)Qx(i,!1);else{if(ua!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(d=O3(e),d!==null){for(t.flags|=64,Qx(i,!1),u=d.updateQueue,u!==null&&(t.updateQueue=u,t.flags|=4),i.lastEffect===null&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,r=t.child;r!==null;)u=r,e=i,u.flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,d=u.alternate,d===null?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=d.childLanes,u.lanes=d.lanes,u.child=d.child,u.memoizedProps=d.memoizedProps,u.memoizedState=d.memoizedState,u.updateQueue=d.updateQueue,u.type=d.type,e=d.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xi(Yi,Yi.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ba()>HH&&(t.flags|=64,u=!0,Qx(i,!1),t.lanes=33554432)}else{if(!u)if(e=O3(d),e!==null){if(t.flags|=64,u=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qx(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Xd)return t=t.lastEffect=i.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Ba()-i.renderingStartTime>HH&&r!==1073741824&&(t.flags|=64,u=!0,Qx(i,!1),t.lanes=33554432);i.isBackwards?(d.sibling=t.child,t.child=d):(r=i.last,r!==null?r.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Ba(),r.sibling=null,t=Yi.current,Xi(Yi,u?t&1|2:t&1),r):null;case 23:case 24:return FK(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&i.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(St(156,t.tag))}function d2e(e){switch(e.tag){case 1:bc(e.type)&&T3();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(xT(),gi(yc),gi(Ga),kK(),t=e.flags,(t&64)!==0)throw Error(St(285));return e.flags=t&-4097|64,e;case 5:return CK(e),null;case 13:return gi(Yi),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return gi(Yi),null;case 4:return xT(),null;case 10:return TK(e),null;case 23:case 24:return FK(),null;default:return null}}function RK(e,t){try{var r="",i=t;do r+=WPe(i),i=i.return;while(i);var s=r}catch(u){s=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:s}}function UH(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var p2e=typeof WeakMap=="function"?WeakMap:Map;function ome(e,t,r){r=oy(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){F3||(F3=!0,zH=i),UH(e,t)},r}function sme(e,t,r){r=oy(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return UH(e,t),i(s)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){typeof i!="function"&&(Wd===null?Wd=new Set([this]):Wd.add(this),UH(e,t));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}var v2e=typeof WeakSet=="function"?WeakSet:Set;function $ue(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){cy(e,r)}else t.current=null}function m2e(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,i=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:df(t.type,r),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&wK(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(St(163))}function g2e(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var s=e;i=s.next,s=s.tag,(s&4)!==0&&(s&1)!==0&&(vme(r,e),I2e(r,e)),e=i}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(i=r.elementType===r.type?t.memoizedProps:df(r.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&_ue(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}_ue(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&Nve(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&lve(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(St(163))}function Vue(e,t){for(var r=e;;){if(r.tag===5){var i=r.stateNode;if(t)i=i.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{i=r.stateNode;var s=r.memoizedProps.style;s=s!=null&&s.hasOwnProperty("display")?s.display:null,i.style.display=Zpe("display",s)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function que(e,t){if(xw&&typeof xw.onCommitFiberUnmount=="function")try{xw.onCommitFiberUnmount(_K,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var i=r,s=i.destroy;if(i=i.tag,s!==void 0)if((i&4)!==0)vme(t,r);else{i=t;try{s()}catch(u){cy(i,u)}}r=r.next}while(r!==e)}break;case 1:if($ue(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(u){cy(t,u)}break;case 5:$ue(t);break;case 4:ame(e,t)}}function Bue(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Hue(e){return e.tag===5||e.tag===3||e.tag===4}function zue(e){e:{for(var t=e.return;t!==null;){if(Hue(t))break e;t=t.return}throw Error(St(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var i=!1;break;case 3:t=t.containerInfo,i=!0;break;case 4:t=t.containerInfo,i=!0;break;default:throw Error(St(161))}r.flags&16&&(sN(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||Hue(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}i?$H(e,r,t):VH(e,r,t)}function $H(e,t,r){var i=e.tag,s=i===5||i===6;if(s)e=s?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=E3));else if(i!==4&&(e=e.child,e!==null))for($H(e,t,r),e=e.sibling;e!==null;)$H(e,t,r),e=e.sibling}function VH(e,t,r){var i=e.tag,s=i===5||i===6;if(s)e=s?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(VH(e,t,r),e=e.sibling;e!==null;)VH(e,t,r),e=e.sibling}function ame(e,t){for(var r=t,i=!1,s,u;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(St(160));switch(s=i.stateNode,i.tag){case 5:u=!1;break e;case 3:s=s.containerInfo,u=!0;break e;case 4:s=s.containerInfo,u=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var d=e,v=r,g=v;;)if(que(d,g),g.child!==null&&g.tag!==4)g.child.return=g,g=g.child;else{if(g===v)break e;for(;g.sibling===null;){if(g.return===null||g.return===v)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}u?(d=s,v=r.stateNode,d.nodeType===8?d.parentNode.removeChild(v):d.removeChild(v)):s.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,u=!0,r.child.return=r,r=r.child;continue}}else if(que(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Y8(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do(i.tag&3)===3&&(e=i.destroy,i.destroy=void 0,e!==void 0&&e()),i=i.next;while(i!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){i=t.memoizedProps;var s=e!==null?e.memoizedProps:i;e=t.type;var u=t.updateQueue;if(t.updateQueue=null,u!==null){for(r[S3]=i,e==="input"&&i.type==="radio"&&i.name!=null&&Qpe(r,i),bH(e,s),t=bH(e,i),s=0;s<u.length;s+=2){var d=u[s],v=u[s+1];d==="style"?eve(r,v):d==="dangerouslySetInnerHTML"?Jpe(r,v):d==="children"?sN(r,v):Z7(r,d,v,t)}switch(e){case"input":fH(r,i);break;case"textarea":Ype(r,i);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,u=i.value,u!=null?hT(r,!!i.multiple,u,!1):e!==!!i.multiple&&(i.defaultValue!=null?hT(r,!!i.multiple,i.defaultValue,!0):hT(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(St(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,lve(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(MK=Ba(),Vue(t.child,!0)),Kue(t);return;case 19:Kue(t);return;case 17:return;case 23:case 24:Vue(t,t.memoizedState!==null);return}throw Error(St(163))}function Kue(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v2e),t.forEach(function(i){var s=A2e.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function y2e(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var b2e=Math.ceil,M3=Yw.ReactCurrentDispatcher,DK=Yw.ReactCurrentOwner,In=0,Lu=null,Zo=null,za=0,jw=0,qH=Ty(0),ua=0,pj=null,aI=0,fP=0,uI=0,LK=0,BH=null,MK=0,HH=1/0;function cI(){HH=Ba()+500}var Ut=null,F3=!1,zH=null,Wd=null,my=!1,DO=null,mO=90,KH=[],WH=[],Uv=null,LO=0,GH=null,$F=-1,Rv=0,VF=0,MO=null,qF=!1;function vl(){return(In&48)!==0?Ba():$F!==-1?$F:$F=Ba()}function ay(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return AT()===99?1:2;if(Rv===0&&(Rv=aI),s2e.transition!==0){VF!==0&&(VF=BH!==null?BH.pendingLanes:0),e=Rv;var t=4186112&~VF;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=AT(),(In&4)!==0&&e===98?e=w3(12,Rv):(e=cRe(e),e=w3(e,Rv)),e}function uy(e,t,r){if(50<LO)throw LO=0,GH=null,Error(St(185));if(e=vj(e,t),e===null)return null;aj(e,t,r),e===Lu&&(uI|=t,ua===4&&gT(e,za));var i=AT();t===1?(In&8)!==0&&(In&48)===0?QH(e):(_h(e,r),In===0&&(cI(),op())):((In&4)===0||i!==98&&i!==99||(Uv===null?Uv=new Set([e]):Uv.add(e)),_h(e,r)),BH=e}function vj(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function _h(e,t){for(var r=e.callbackNode,i=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var v=31-py(d),g=1<<v,w=u[v];if(w===-1){if((g&i)===0||(g&s)!==0){w=t,KS(g);var S=ri;u[v]=10<=S?w+250:6<=S?w+5e3:-1}}else w<=t&&(e.expiredLanes|=g);d&=~g}if(i=lN(e,e===Lu?za:0),t=ri,i===0)r!==null&&(r!==z8&&OH(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==z8&&OH(r)}t===15?(r=QH.bind(null,e),Nv===null?(Nv=[r],UF=EK(fj,Uve)):Nv.push(r),r=z8):t===14?r=pN(99,QH.bind(null,e)):(r=lRe(t),r=pN(r,ume.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function ume(e){if($F=-1,VF=Rv=0,(In&48)!==0)throw Error(St(327));var t=e.callbackNode;if(Iy()&&e.callbackNode!==t)return null;var r=lN(e,e===Lu?za:0);if(r===0)return null;var i=r,s=In;In|=16;var u=fme();(Lu!==e||za!==i)&&(cI(),yT(e,i));do try{E2e();break}catch(v){hme(e,v)}while(1);if(SK(),M3.current=u,In=s,Zo!==null?i=0:(Lu=null,za=0,i=ua),(aI&uI)!==0)yT(e,0);else if(i!==0){if(i===2&&(In|=64,e.hydrate&&(e.hydrate=!1,wK(e.containerInfo)),r=gve(e),r!==0&&(i=gO(e,r))),i===1)throw t=pj,yT(e,0),gT(e,r),_h(e,Ba()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,i){case 0:case 1:throw Error(St(345));case 2:uw(e);break;case 3:if(gT(e,r),(r&62914560)===r&&(i=MK+500-Ba(),10<i)){if(lN(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){vl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=due(uw.bind(null,e),i);break}uw(e);break;case 4:if(gT(e,r),(r&4186112)===r)break;for(i=e.eventTimes,s=-1;0<r;){var d=31-py(r);u=1<<d,d=i[d],d>s&&(s=d),r&=~u}if(r=s,r=Ba()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b2e(r/1960))-r,10<r){e.timeoutHandle=due(uw.bind(null,e),r);break}uw(e);break;case 5:uw(e);break;default:throw Error(St(329))}}return _h(e,Ba()),e.callbackNode===t?ume.bind(null,e):null}function gT(e,t){for(t&=~LK,t&=~uI,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-py(t),i=1<<r;e[r]=-1,t&=~i}}function QH(e){if((In&48)!==0)throw Error(St(327));if(Iy(),e===Lu&&(e.expiredLanes&za)!==0){var t=za,r=gO(e,t);(aI&uI)!==0&&(t=lN(e,t),r=gO(e,t))}else t=lN(e,0),r=gO(e,t);if(e.tag!==0&&r===2&&(In|=64,e.hydrate&&(e.hydrate=!1,wK(e.containerInfo)),t=gve(e),t!==0&&(r=gO(e,t))),r===1)throw r=pj,yT(e,0),gT(e,t),_h(e,Ba()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,uw(e),_h(e,Ba()),null}function w2e(){if(Uv!==null){var e=Uv;Uv=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,_h(t,Ba())})}op()}function cme(e,t){var r=In;In|=1;try{return e(t)}finally{In=r,In===0&&(cI(),op())}}function lme(e,t){var r=In;In&=-2,In|=8;try{return e(t)}finally{In=r,In===0&&(cI(),op())}}function XM(e,t){Xi(qH,jw),jw|=t,aI|=t}function FK(){jw=qH.current,gi(qH)}function yT(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,e2e(r)),Zo!==null)for(r=Zo.return;r!==null;){var i=r;switch(i.tag){case 1:i=i.type.childContextTypes,i!=null&&T3();break;case 3:xT(),gi(yc),gi(Ga),kK();break;case 5:CK(i);break;case 4:xT();break;case 13:gi(Yi);break;case 19:gi(Yi);break;case 10:TK(i);break;case 23:case 24:FK()}r=r.return}Lu=e,Zo=gy(e.current,null),za=jw=aI=t,ua=0,pj=null,LK=uI=fP=0}function hme(e,t){do{var r=Zo;try{if(SK(),PO.current=L3,N3){for(var i=ho.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}N3=!1}if(yN=0,sa=$a=ho=null,RO=!1,DK.current=null,r===null||r.return===null){ua=1,pj=t,Zo=null;break}e:{var u=e,d=r.return,v=r,g=t;if(t=za,v.flags|=2048,v.firstEffect=v.lastEffect=null,g!==null&&typeof g=="object"&&typeof g.then=="function"){var w=g;if((v.mode&2)===0){var S=v.alternate;S?(v.updateQueue=S.updateQueue,v.memoizedState=S.memoizedState,v.lanes=S.lanes):(v.updateQueue=null,v.memoizedState=null)}var C=(Yi.current&1)!==0,A=d;do{var L;if(L=A.tag===13){var M=A.memoizedState;if(M!==null)L=M.dehydrated!==null;else{var U=A.memoizedProps;L=U.fallback===void 0?!1:U.unstable_avoidThisFallback!==!0?!0:!C}}if(L){var R=A.updateQueue;if(R===null){var $=new Set;$.add(w),A.updateQueue=$}else R.add(w);if((A.mode&2)===0){if(A.flags|=64,v.flags|=16384,v.flags&=-2981,v.tag===1)if(v.alternate===null)v.tag=17;else{var B=oy(-1,1);B.tag=2,sy(v,B)}v.lanes|=1;break e}g=void 0,v=t;var G=u.pingCache;if(G===null?(G=u.pingCache=new p2e,g=new Set,G.set(w,g)):(g=G.get(w),g===void 0&&(g=new Set,G.set(w,g))),!g.has(v)){g.add(v);var H=k2e.bind(null,u,w,v);w.then(H,H)}A.flags|=4096,A.lanes=t;break e}A=A.return}while(A!==null);g=Error((lT(v.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ua!==5&&(ua=2),g=RK(g,v),A=d;do{switch(A.tag){case 3:u=g,A.flags|=4096,t&=-t,A.lanes|=t;var Z=ome(A,u,t);wue(A,Z);break e;case 1:u=g;var Y=A.type,ce=A.stateNode;if((A.flags&64)===0&&(typeof Y.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Wd===null||!Wd.has(ce)))){A.flags|=4096,t&=-t,A.lanes|=t;var ye=sme(A,u,t);wue(A,ye);break e}}A=A.return}while(A!==null)}pme(r)}catch(xe){t=xe,Zo===r&&r!==null&&(Zo=r=r.return);continue}break}while(1)}function fme(){var e=M3.current;return M3.current=L3,e===null?L3:e}function gO(e,t){var r=In;In|=16;var i=fme();Lu===e&&za===t||yT(e,t);do try{_2e();break}catch(s){hme(e,s)}while(1);if(SK(),In=r,M3.current=i,Zo!==null)throw Error(St(261));return Lu=null,za=0,ua}function _2e(){for(;Zo!==null;)dme(Zo)}function E2e(){for(;Zo!==null&&!r2e();)dme(Zo)}function dme(e){var t=mme(e.alternate,e,jw);e.memoizedProps=e.pendingProps,t===null?pme(e):Zo=t,DK.current=null}function pme(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=f2e(r,t,jw),r!==null){Zo=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(jw&1073741824)!==0||(r.mode&4)===0){for(var i=0,s=r.child;s!==null;)i|=s.lanes|s.childLanes,s=s.sibling;r.childLanes=i}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=d2e(t),r!==null){r.flags&=2047,Zo=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Zo=t;return}Zo=t=e}while(t!==null);ua===0&&(ua=5)}function uw(e){var t=AT();return Fw(99,S2e.bind(null,e,t)),null}function S2e(e,t){do Iy();while(DO!==null);if((In&48)!==0)throw Error(St(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null;var i=r.lanes|r.childLanes,s=i,u=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;for(var d=e.eventTimes,v=e.expirationTimes;0<u;){var g=31-py(u),w=1<<g;s[g]=0,d[g]=-1,v[g]=-1,u&=~w}if(Uv!==null&&(i&24)===0&&Uv.has(e)&&Uv.delete(e),e===Lu&&(Zo=Lu=null,za=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,i!==null){if(s=In,In|=32,DK.current=null,q8=LF,d=sue(),IH(d)){if("selectionStart"in d)v={start:d.selectionStart,end:d.selectionEnd};else e:if(v=(v=d.ownerDocument)&&v.defaultView||window,(w=v.getSelection&&v.getSelection())&&w.rangeCount!==0){v=w.anchorNode,u=w.anchorOffset,g=w.focusNode,w=w.focusOffset;try{v.nodeType,g.nodeType}catch{v=null;break e}var S=0,C=-1,A=-1,L=0,M=0,U=d,R=null;t:for(;;){for(var $;U!==v||u!==0&&U.nodeType!==3||(C=S+u),U!==g||w!==0&&U.nodeType!==3||(A=S+w),U.nodeType===3&&(S+=U.nodeValue.length),($=U.firstChild)!==null;)R=U,U=$;for(;;){if(U===d)break t;if(R===v&&++L===u&&(C=S),R===g&&++M===w&&(A=S),($=U.nextSibling)!==null)break;U=R,R=U.parentNode}U=$}v=C===-1||A===-1?null:{start:C,end:A}}else v=null;v=v||{start:0,end:0}}else v=null;B8={focusedElem:d,selectionRange:v},LF=!1,MO=null,qF=!1,Ut=i;do try{T2e()}catch(xe){if(Ut===null)throw Error(St(330));cy(Ut,xe),Ut=Ut.nextEffect}while(Ut!==null);MO=null,Ut=i;do try{for(d=e;Ut!==null;){var B=Ut.flags;if(B&16&&sN(Ut.stateNode,""),B&128){var G=Ut.alternate;if(G!==null){var H=G.ref;H!==null&&(typeof H=="function"?H(null):H.current=null)}}switch(B&1038){case 2:zue(Ut),Ut.flags&=-3;break;case 6:zue(Ut),Ut.flags&=-3,Y8(Ut.alternate,Ut);break;case 1024:Ut.flags&=-1025;break;case 1028:Ut.flags&=-1025,Y8(Ut.alternate,Ut);break;case 4:Y8(Ut.alternate,Ut);break;case 8:v=Ut,ame(d,v);var Z=v.alternate;Bue(v),Z!==null&&Bue(Z)}Ut=Ut.nextEffect}}catch(xe){if(Ut===null)throw Error(St(330));cy(Ut,xe),Ut=Ut.nextEffect}while(Ut!==null);if(H=B8,G=sue(),B=H.focusedElem,d=H.selectionRange,G!==B&&B&&B.ownerDocument&&Ive(B.ownerDocument.documentElement,B)){for(d!==null&&IH(B)&&(G=d.start,H=d.end,H===void 0&&(H=G),"selectionStart"in B?(B.selectionStart=G,B.selectionEnd=Math.min(H,B.value.length)):(H=(G=B.ownerDocument||document)&&G.defaultView||window,H.getSelection&&(H=H.getSelection(),v=B.textContent.length,Z=Math.min(d.start,v),d=d.end===void 0?Z:Math.min(d.end,v),!H.extend&&Z>d&&(v=d,d=Z,Z=v),v=oue(B,Z),u=oue(B,d),v&&u&&(H.rangeCount!==1||H.anchorNode!==v.node||H.anchorOffset!==v.offset||H.focusNode!==u.node||H.focusOffset!==u.offset)&&(G=G.createRange(),G.setStart(v.node,v.offset),H.removeAllRanges(),Z>d?(H.addRange(G),H.extend(u.node,u.offset)):(G.setEnd(u.node,u.offset),H.addRange(G)))))),G=[],H=B;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<G.length;B++)H=G[B],H.element.scrollLeft=H.left,H.element.scrollTop=H.top}LF=!!q8,B8=q8=null,e.current=r,Ut=i;do try{for(B=e;Ut!==null;){var Y=Ut.flags;if(Y&36&&g2e(B,Ut.alternate,Ut),Y&128){G=void 0;var ce=Ut.ref;if(ce!==null){var ye=Ut.stateNode;switch(Ut.tag){case 5:G=ye;break;default:G=ye}typeof ce=="function"?ce(G):ce.current=G}}Ut=Ut.nextEffect}}catch(xe){if(Ut===null)throw Error(St(330));cy(Ut,xe),Ut=Ut.nextEffect}while(Ut!==null);Ut=null,o2e(),In=s}else e.current=r;if(my)my=!1,DO=e,mO=t;else for(Ut=i;Ut!==null;)t=Ut.nextEffect,Ut.nextEffect=null,Ut.flags&8&&(Y=Ut,Y.sibling=null,Y.stateNode=null),Ut=t;if(i=e.pendingLanes,i===0&&(Wd=null),i===1?e===GH?LO++:(LO=0,GH=e):LO=0,r=r.stateNode,xw&&typeof xw.onCommitFiberRoot=="function")try{xw.onCommitFiberRoot(_K,r,void 0,(r.current.flags&64)===64)}catch{}if(_h(e,Ba()),F3)throw F3=!1,e=zH,zH=null,e;return(In&8)!==0||op(),null}function T2e(){for(;Ut!==null;){var e=Ut.alternate;qF||MO===null||((Ut.flags&8)!==0?zae(Ut,MO)&&(qF=!0):Ut.tag===13&&y2e(e,Ut)&&zae(Ut,MO)&&(qF=!0));var t=Ut.flags;(t&256)!==0&&m2e(e,Ut),(t&512)===0||my||(my=!0,pN(97,function(){return Iy(),null})),Ut=Ut.nextEffect}}function Iy(){if(mO!==90){var e=97<mO?97:mO;return mO=90,Fw(e,C2e)}return!1}function I2e(e,t){KH.push(t,e),my||(my=!0,pN(97,function(){return Iy(),null}))}function vme(e,t){WH.push(t,e),my||(my=!0,pN(97,function(){return Iy(),null}))}function C2e(){if(DO===null)return!1;var e=DO;if(DO=null,(In&48)!==0)throw Error(St(331));var t=In;In|=32;var r=WH;WH=[];for(var i=0;i<r.length;i+=2){var s=r[i],u=r[i+1],d=s.destroy;if(s.destroy=void 0,typeof d=="function")try{d()}catch(g){if(u===null)throw Error(St(330));cy(u,g)}}for(r=KH,KH=[],i=0;i<r.length;i+=2){s=r[i],u=r[i+1];try{var v=s.create;s.destroy=v()}catch(g){if(u===null)throw Error(St(330));cy(u,g)}}for(v=e.current.firstEffect;v!==null;)e=v.nextEffect,v.nextEffect=null,v.flags&8&&(v.sibling=null,v.stateNode=null),v=e;return In=t,op(),!0}function Wue(e,t,r){t=RK(r,t),t=ome(e,t,1),sy(e,t),t=vl(),e=vj(e,1),e!==null&&(aj(e,1,t),_h(e,t))}function cy(e,t){if(e.tag===3)Wue(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){Wue(r,e,t);break}else if(r.tag===1){var i=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Wd===null||!Wd.has(i))){e=RK(t,e);var s=sme(r,e,1);if(sy(r,s),s=vl(),r=vj(r,1),r!==null)aj(r,1,s),_h(r,s);else if(typeof i.componentDidCatch=="function"&&(Wd===null||!Wd.has(i)))try{i.componentDidCatch(t,e)}catch{}break}}r=r.return}}function k2e(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=vl(),e.pingedLanes|=e.suspendedLanes&r,Lu===e&&(za&r)===r&&(ua===4||ua===3&&(za&62914560)===za&&500>Ba()-MK?yT(e,0):LK|=r),_h(e,t)}function A2e(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=AT()===99?1:2:(Rv===0&&(Rv=aI),t=WS(62914560&~Rv),t===0&&(t=4194304))),r=vl(),e=vj(e,t),e!==null&&(aj(e,t,r),_h(e,r))}var mme;mme=function(e,t,r){var i=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||yc.current)gf=!0;else if((r&i)!==0)gf=(e.flags&16384)!==0;else{switch(gf=!1,t.tag){case 3:Rue(t),W8();break;case 5:Tue(t);break;case 1:bc(t.type)&&jF(t);break;case 4:RH(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var s=t.type._context;Xi(I3,s._currentValue),s._currentValue=i;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?Due(e,t,r):(Xi(Yi,Yi.current&1),t=Mv(e,t,r),t!==null?t.sibling:null);Xi(Yi,Yi.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&64)!==0){if(i)return Uue(e,t,r);t.flags|=64}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xi(Yi,Yi.current),i)break;return null;case 23:case 24:return t.lanes=0,G8(e,t,r)}return Mv(e,t,r)}else gf=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=kT(t,Ga.current),vT(t,r),s=xK(null,t,i,e,s,r),t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bc(i)){var u=!0;jF(t)}else u=!1;t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,IK(t);var d=i.getDerivedStateFromProps;typeof d=="function"&&A3(t,i,d,e),s.updater=dj,t.stateNode=s,s._reactInternals=t,PH(t,i,e,r),t=FH(null,t,i,!0,u,r)}else t.tag=0,fc(null,t,s,r),t=t.child;return t;case 16:s=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=O2e(s),e=df(s,e),u){case 0:t=MH(null,t,s,e,r);break e;case 1:t=Pue(null,t,s,e,r);break e;case 11:t=Oue(null,t,s,e,r);break e;case 14:t=Nue(null,t,s,df(s.type,e),i,r);break e}throw Error(St(306,s,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:df(i,s),MH(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:df(i,s),Pue(e,t,i,s,r);case 3:if(Rue(t),i=t.updateQueue,e===null||i===null)throw Error(St(282));if(i=t.pendingProps,s=t.memoizedState,s=s!==null?s.element:null,Vve(e,t),vN(t,i,null,r),i=t.memoizedState.element,i===s)W8(),t=Mv(e,t,r);else{if(s=t.stateNode,(u=s.hydrate)&&(Xg=pT(t.stateNode.containerInfo.firstChild),Lv=t,u=Xd=!0),u){if(e=s.mutableSourceEagerHydrationData,e!=null)for(s=0;s<e.length;s+=2)u=e[s],u._workInProgressVersionPrimary=e[s+1],mT.push(u);for(r=zve(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else fc(e,t,i,r),W8();t=t.child}return t;case 5:return Tue(t),e===null&&DH(t),i=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,d=s.children,AH(i,s)?d=null:u!==null&&AH(i,u)&&(t.flags|=16),tme(e,t),fc(e,t,d,r),t.child;case 6:return e===null&&DH(t),null;case 13:return Due(e,t,r);case 4:return RH(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=x3(t,null,i,r):fc(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:df(i,s),Oue(e,t,i,s,r);case 7:return fc(e,t,t.pendingProps,r),t.child;case 8:return fc(e,t,t.pendingProps.children,r),t.child;case 12:return fc(e,t,t.pendingProps.children,r),t.child;case 10:e:{i=t.type._context,s=t.pendingProps,d=t.memoizedProps,u=s.value;var v=t.type._context;if(Xi(I3,v._currentValue),v._currentValue=u,d!==null)if(v=d.value,u=dh(v,u)?0:(typeof i._calculateChangedBits=="function"?i._calculateChangedBits(v,u):1073741823)|0,u===0){if(d.children===s.children&&!yc.current){t=Mv(e,t,r);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var g=v.dependencies;if(g!==null){d=v.child;for(var w=g.firstContext;w!==null;){if(w.context===i&&(w.observedBits&u)!==0){v.tag===1&&(w=oy(-1,r&-r),w.tag=2,sy(v,w)),v.lanes|=r,w=v.alternate,w!==null&&(w.lanes|=r),$ve(v.return,r),g.lanes|=r;break}w=w.next}}else d=v.tag===10&&v.type===t.type?null:v.child;if(d!==null)d.return=v;else for(d=v;d!==null;){if(d===t){d=null;break}if(v=d.sibling,v!==null){v.return=d.return,d=v;break}d=d.return}v=d}fc(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,u=t.pendingProps,i=u.children,vT(t,r),s=wh(s,u.unstable_observedBits),i=i(s),t.flags|=1,fc(e,t,i,r),t.child;case 14:return s=t.type,u=df(s,t.pendingProps),u=df(s.type,u),Nue(e,t,s,u,i,r);case 15:return eme(e,t,t.type,t.pendingProps,i,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:df(i,s),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,bc(i)?(e=!0,jF(t)):e=!1,vT(t,r),Bve(t,i,s),PH(t,i,s,r),FH(null,t,i,!0,e,r);case 19:return Uue(e,t,r);case 23:return G8(e,t,r);case 24:return G8(e,t,r)}throw Error(St(156,t.tag))};function x2e(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ph(e,t,r,i){return new x2e(e,t,r,i)}function jK(e){return e=e.prototype,!(!e||!e.isReactComponent)}function O2e(e){if(typeof e=="function")return jK(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ij)return 11;if(e===oj)return 14}return 2}function gy(e,t){var r=e.alternate;return r===null?(r=ph(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function BF(e,t,r,i,s,u){var d=2;if(i=e,typeof e=="function")jK(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case Bg:return bT(r.children,s,u,t);case Kpe:d=8,s|=16;break;case eK:d=8,s|=1;break;case IO:return e=ph(12,r,t,s|8),e.elementType=IO,e.type=IO,e.lanes=u,e;case CO:return e=ph(13,r,t,s),e.type=CO,e.elementType=CO,e.lanes=u,e;case m3:return e=ph(19,r,t,s),e.elementType=m3,e.lanes=u,e;case sK:return UK(r,s,u,t);case lH:return e=ph(24,r,t,s),e.elementType=lH,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tK:d=10;break e;case nK:d=9;break e;case ij:d=11;break e;case oj:d=14;break e;case rK:d=16,i=null;break e;case iK:d=22;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=ph(d,r,t,s),t.elementType=e,t.type=i,t.lanes=u,t}function bT(e,t,r,i){return e=ph(7,e,i,t),e.lanes=r,e}function UK(e,t,r,i){return e=ph(23,e,i,t),e.elementType=sK,e.lanes=r,e}function X8(e,t,r){return e=ph(6,e,null,t),e.lanes=r,e}function J8(e,t,r){return t=ph(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N2e(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=L8(0),this.expirationTimes=L8(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L8(0),this.mutableSourceEagerHydrationData=null}function P2e(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bw,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function j3(e,t,r,i){var s=t.current,u=vl(),d=ay(s);e:if(r){r=r._reactInternals;t:{if(Xw(r)!==r||r.tag!==1)throw Error(St(170));var v=r;do{switch(v.tag){case 3:v=v.stateNode.context;break t;case 1:if(bc(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break t}}v=v.return}while(v!==null);throw Error(St(171))}if(r.tag===1){var g=r.type;if(bc(g)){r=Rve(r,g,v);break e}}r=v}else r=vy;return t.context===null?t.context=r:t.pendingContext=r,t=oy(u,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),sy(s,t),uy(s,d,u),d}function Z8(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gue(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $K(e,t){Gue(e,t),(e=e.alternate)&&Gue(e,t)}function R2e(){return null}function VK(e,t,r){var i=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new N2e(e,t,r!=null&&r.hydrate===!0),t=ph(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,IK(t),e[sI]=r.current,Ave(e.nodeType===8?e.parentNode:e),i)for(e=0;e<i.length;e++){t=i[e];var s=t._getVersion;s=s(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,s]:r.mutableSourceEagerHydrationData.push(t,s)}this._internalRoot=r}VK.prototype.render=function(e){j3(e,this._internalRoot,null,null)};VK.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;j3(null,e,null,function(){t[sI]=null})};function dP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function D2e(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new VK(e,0,t?{hydrate:!0}:void 0)}function mj(e,t,r,i,s){var u=r._reactRootContainer;if(u){var d=u._internalRoot;if(typeof s=="function"){var v=s;s=function(){var w=Z8(d);v.call(w)}}j3(t,d,e,s)}else{if(u=r._reactRootContainer=D2e(r,i),d=u._internalRoot,typeof s=="function"){var g=s;s=function(){var w=Z8(d);g.call(w)}}lme(function(){j3(t,d,e,s)})}return Z8(d)}ave=function(e){if(e.tag===13){var t=vl();uy(e,4,t),$K(e,4)}};hK=function(e){if(e.tag===13){var t=vl();uy(e,67108864,t),$K(e,67108864)}};uve=function(e){if(e.tag===13){var t=vl(),r=ay(e);uy(e,r,t),$K(e,r)}};cve=function(e,t){return t()};wH=function(e,t,r){switch(t){case"input":if(fH(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=hj(i);if(!s)throw Error(St(90));Gpe(i),fH(i,s)}}}break;case"textarea":Ype(e,r);break;case"select":t=r.value,t!=null&&hT(e,!!r.multiple,t,!1)}};uK=cme;rve=function(e,t,r,i,s){var u=In;In|=4;try{return Fw(98,e.bind(null,t,r,i,s))}finally{In=u,In===0&&(cI(),op())}};cK=function(){(In&49)===0&&(w2e(),Iy())};ive=function(e,t){var r=In;In|=2;try{return e(t)}finally{In=r,In===0&&(cI(),op())}};function gme(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dP(t))throw Error(St(200));return P2e(e,t,null,r)}var L2e={Events:[lP,tT,hj,tve,nve,Iy,{current:!1}]},Yx={findFiberByHostInstance:_w,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},M2e={bundleType:Yx.bundleType,version:Yx.version,rendererPackageName:Yx.rendererPackageName,rendererConfig:Yx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yw.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sve(e),e===null?null:e.stateNode},findFiberByHostInstance:Yx.findFiberByHostInstance||R2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var JM=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!JM.isDisabled&&JM.supportsFiber)try{_K=JM.inject(M2e),xw=JM}catch{}}Sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2e;Sh.createPortal=gme;Sh.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):Error(St(268,Object.keys(e)));return e=sve(t),e=e===null?null:e.stateNode,e};Sh.flushSync=function(e,t){var r=In;if((r&48)!==0)return e(t);In|=1;try{if(e)return Fw(99,e.bind(null,t))}finally{In=r,op()}};Sh.hydrate=function(e,t,r){if(!dP(t))throw Error(St(200));return mj(null,e,t,!0,r)};Sh.render=function(e,t,r){if(!dP(t))throw Error(St(200));return mj(null,e,t,!1,r)};Sh.unmountComponentAtNode=function(e){if(!dP(e))throw Error(St(40));return e._reactRootContainer?(lme(function(){mj(null,null,e,!1,function(){e._reactRootContainer=null,e[sI]=null})}),!0):!1};Sh.unstable_batchedUpdates=cme;Sh.unstable_createPortal=function(e,t){return gme(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Sh.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!dP(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return mj(e,t,r,!1,i)};Sh.version="17.0.2";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Sh})(iI);RNe(iI.exports.unstable_batchedUpdates);function U3(e,t){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},U3(e,t)}function Tf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U3(e,t)}function ZM(e){return e.charAt(0)==="/"}function e9(e,t){for(var r=t,i=r+1,s=e.length;i<s;r+=1,i+=1)e[r]=e[i];e.pop()}function F2e(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&ZM(e),u=t&&ZM(t),d=s||u;if(e&&ZM(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";var v;if(i.length){var g=i[i.length-1];v=g==="."||g===".."||g===""}else v=!1;for(var w=0,S=i.length;S>=0;S--){var C=i[S];C==="."?e9(i,S):C===".."?(e9(i,S),w++):w&&(e9(i,S),w--)}if(!d)for(;w--;w)i.unshift("..");d&&i[0]!==""&&(!i[0]||!ZM(i[0]))&&i.unshift("");var A=i.join("/");return v&&A.substr(-1)!=="/"&&(A+="/"),A}function Que(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function HF(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(s,u){return HF(s,t[u])});if(typeof e=="object"||typeof t=="object"){var r=Que(e),i=Que(t);return r!==e||i!==t?HF(r,i):Object.keys(Object.assign({},e,t)).every(function(s){return HF(e[s],t[s])})}return!1}var j2e=!0;function qK(e,t){if(!j2e){if(e)return;var r="Warning: "+t;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var U2e=!0,t9="Invariant failed";function Gv(e,t){if(!e){if(U2e)throw new Error(t9);var r=typeof t=="function"?t():t,i=r?t9+": "+r:t9;throw new Error(i)}}function FO(e){return e.charAt(0)==="/"?e:"/"+e}function Yue(e){return e.charAt(0)==="/"?e.substr(1):e}function $2e(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function yme(e,t){return $2e(e,t)?e.substr(t.length):e}function bme(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function V2e(e){var t=e||"/",r="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var u=t.indexOf("?");return u!==-1&&(r=t.substr(u),t=t.substr(0,u)),{pathname:t,search:r==="?"?"":r,hash:i==="#"?"":i}}function dc(e){var t=e.pathname,r=e.search,i=e.hash,s=t||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Nu(e,t,r,i){var s;typeof e=="string"?(s=V2e(e),s.state=t):(s=En({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return r&&(s.key=r),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=F2e(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function q2e(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&HF(e.state,t.state)}function BK(){var e=null;function t(d){return e=d,function(){e===d&&(e=null)}}function r(d,v,g,w){if(e!=null){var S=typeof e=="function"?e(d,v):e;typeof S=="string"?typeof g=="function"?g(S,w):w(!0):w(S!==!1)}else w(!0)}var i=[];function s(d){var v=!0;function g(){v&&d.apply(void 0,arguments)}return i.push(g),function(){v=!1,i=i.filter(function(w){return w!==g})}}function u(){for(var d=arguments.length,v=new Array(d),g=0;g<d;g++)v[g]=arguments[g];i.forEach(function(w){return w.apply(void 0,v)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:s,notifyListeners:u}}var wme=!!(typeof window<"u"&&window.document&&window.document.createElement);function _me(e,t){t(window.confirm(e))}function B2e(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function H2e(){return window.navigator.userAgent.indexOf("Trident")===-1}function z2e(){return window.navigator.userAgent.indexOf("Firefox")===-1}function K2e(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Xue="popstate",Jue="hashchange";function Zue(){try{return window.history.state||{}}catch{return{}}}function Eme(e){e===void 0&&(e={}),wme||Gv(!1);var t=window.history,r=B2e(),i=!H2e(),s=e,u=s.forceRefresh,d=u===void 0?!1:u,v=s.getUserConfirmation,g=v===void 0?_me:v,w=s.keyLength,S=w===void 0?6:w,C=e.basename?bme(FO(e.basename)):"";function A(ct){var Pe=ct||{},he=Pe.key,fe=Pe.state,Se=window.location,Ae=Se.pathname,ee=Se.search,be=Se.hash,st=Ae+ee+be;return C&&(st=yme(st,C)),Nu(st,fe,he)}function L(){return Math.random().toString(36).substr(2,S)}var M=BK();function U(ct){En(He,ct),He.length=t.length,M.notifyListeners(He.location,He.action)}function R(ct){K2e(ct)||G(A(ct.state))}function $(){G(A(Zue()))}var B=!1;function G(ct){if(B)B=!1,U();else{var Pe="POP";M.confirmTransitionTo(ct,Pe,g,function(he){he?U({action:Pe,location:ct}):H(ct)})}}function H(ct){var Pe=He.location,he=Y.indexOf(Pe.key);he===-1&&(he=0);var fe=Y.indexOf(ct.key);fe===-1&&(fe=0);var Se=he-fe;Se&&(B=!0,re(Se))}var Z=A(Zue()),Y=[Z.key];function ce(ct){return C+dc(ct)}function ye(ct,Pe){var he="PUSH",fe=Nu(ct,Pe,L(),He.location);M.confirmTransitionTo(fe,he,g,function(Se){if(!!Se){var Ae=ce(fe),ee=fe.key,be=fe.state;if(r)if(t.pushState({key:ee,state:be},null,Ae),d)window.location.href=Ae;else{var st=Y.indexOf(He.location.key),Re=Y.slice(0,st+1);Re.push(fe.key),Y=Re,U({action:he,location:fe})}else window.location.href=Ae}})}function xe(ct,Pe){var he="REPLACE",fe=Nu(ct,Pe,L(),He.location);M.confirmTransitionTo(fe,he,g,function(Se){if(!!Se){var Ae=ce(fe),ee=fe.key,be=fe.state;if(r)if(t.replaceState({key:ee,state:be},null,Ae),d)window.location.replace(Ae);else{var st=Y.indexOf(He.location.key);st!==-1&&(Y[st]=fe.key),U({action:he,location:fe})}else window.location.replace(Ae)}})}function re(ct){t.go(ct)}function ut(){re(-1)}function it(){re(1)}var ht=0;function Ie(ct){ht+=ct,ht===1&&ct===1?(window.addEventListener(Xue,R),i&&window.addEventListener(Jue,$)):ht===0&&(window.removeEventListener(Xue,R),i&&window.removeEventListener(Jue,$))}var Ne=!1;function Be(ct){ct===void 0&&(ct=!1);var Pe=M.setPrompt(ct);return Ne||(Ie(1),Ne=!0),function(){return Ne&&(Ne=!1,Ie(-1)),Pe()}}function _e(ct){var Pe=M.appendListener(ct);return Ie(1),function(){Ie(-1),Pe()}}var He={length:t.length,action:"POP",location:Z,createHref:ce,push:ye,replace:xe,go:re,goBack:ut,goForward:it,block:Be,listen:_e};return He}var ece="hashchange",W2e={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+Yue(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:Yue,decodePath:FO},slash:{encodePath:FO,decodePath:FO}};function Sme(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Xx(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function G2e(e){window.location.hash=e}function n9(e){window.location.replace(Sme(window.location.href)+"#"+e)}function Q2e(e){e===void 0&&(e={}),wme||Gv(!1);var t=window.history;z2e();var r=e,i=r.getUserConfirmation,s=i===void 0?_me:i,u=r.hashType,d=u===void 0?"slash":u,v=e.basename?bme(FO(e.basename)):"",g=W2e[d],w=g.encodePath,S=g.decodePath;function C(){var Pe=S(Xx());return v&&(Pe=yme(Pe,v)),Nu(Pe)}var A=BK();function L(Pe){En(ct,Pe),ct.length=t.length,A.notifyListeners(ct.location,ct.action)}var M=!1,U=null;function R(Pe,he){return Pe.pathname===he.pathname&&Pe.search===he.search&&Pe.hash===he.hash}function $(){var Pe=Xx(),he=w(Pe);if(Pe!==he)n9(he);else{var fe=C(),Se=ct.location;if(!M&&R(Se,fe)||U===dc(fe))return;U=null,B(fe)}}function B(Pe){if(M)M=!1,L();else{var he="POP";A.confirmTransitionTo(Pe,he,s,function(fe){fe?L({action:he,location:Pe}):G(Pe)})}}function G(Pe){var he=ct.location,fe=ce.lastIndexOf(dc(he));fe===-1&&(fe=0);var Se=ce.lastIndexOf(dc(Pe));Se===-1&&(Se=0);var Ae=fe-Se;Ae&&(M=!0,ut(Ae))}var H=Xx(),Z=w(H);H!==Z&&n9(Z);var Y=C(),ce=[dc(Y)];function ye(Pe){var he=document.querySelector("base"),fe="";return he&&he.getAttribute("href")&&(fe=Sme(window.location.href)),fe+"#"+w(v+dc(Pe))}function xe(Pe,he){var fe="PUSH",Se=Nu(Pe,void 0,void 0,ct.location);A.confirmTransitionTo(Se,fe,s,function(Ae){if(!!Ae){var ee=dc(Se),be=w(v+ee),st=Xx()!==be;if(st){U=ee,G2e(be);var Re=ce.lastIndexOf(dc(ct.location)),Pt=ce.slice(0,Re+1);Pt.push(ee),ce=Pt,L({action:fe,location:Se})}else L()}})}function re(Pe,he){var fe="REPLACE",Se=Nu(Pe,void 0,void 0,ct.location);A.confirmTransitionTo(Se,fe,s,function(Ae){if(!!Ae){var ee=dc(Se),be=w(v+ee),st=Xx()!==be;st&&(U=ee,n9(be));var Re=ce.indexOf(dc(ct.location));Re!==-1&&(ce[Re]=ee),L({action:fe,location:Se})}})}function ut(Pe){t.go(Pe)}function it(){ut(-1)}function ht(){ut(1)}var Ie=0;function Ne(Pe){Ie+=Pe,Ie===1&&Pe===1?window.addEventListener(ece,$):Ie===0&&window.removeEventListener(ece,$)}var Be=!1;function _e(Pe){Pe===void 0&&(Pe=!1);var he=A.setPrompt(Pe);return Be||(Ne(1),Be=!0),function(){return Be&&(Be=!1,Ne(-1)),he()}}function He(Pe){var he=A.appendListener(Pe);return Ne(1),function(){Ne(-1),he()}}var ct={length:t.length,action:"POP",location:Y,createHref:ye,push:xe,replace:re,go:ut,goBack:it,goForward:ht,block:_e,listen:He};return ct}function tce(e,t,r){return Math.min(Math.max(e,t),r)}function Y2e(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,u=t.initialIndex,d=u===void 0?0:u,v=t.keyLength,g=v===void 0?6:v,w=BK();function S(ye){En(ce,ye),ce.length=ce.entries.length,w.notifyListeners(ce.location,ce.action)}function C(){return Math.random().toString(36).substr(2,g)}var A=tce(d,0,s.length-1),L=s.map(function(ye){return typeof ye=="string"?Nu(ye,void 0,C()):Nu(ye,void 0,ye.key||C())}),M=dc;function U(ye,xe){var re="PUSH",ut=Nu(ye,xe,C(),ce.location);w.confirmTransitionTo(ut,re,r,function(it){if(!!it){var ht=ce.index,Ie=ht+1,Ne=ce.entries.slice(0);Ne.length>Ie?Ne.splice(Ie,Ne.length-Ie,ut):Ne.push(ut),S({action:re,location:ut,index:Ie,entries:Ne})}})}function R(ye,xe){var re="REPLACE",ut=Nu(ye,xe,C(),ce.location);w.confirmTransitionTo(ut,re,r,function(it){!it||(ce.entries[ce.index]=ut,S({action:re,location:ut}))})}function $(ye){var xe=tce(ce.index+ye,0,ce.entries.length-1),re="POP",ut=ce.entries[xe];w.confirmTransitionTo(ut,re,r,function(it){it?S({action:re,location:ut,index:xe}):S()})}function B(){$(-1)}function G(){$(1)}function H(ye){var xe=ce.index+ye;return xe>=0&&xe<ce.entries.length}function Z(ye){return ye===void 0&&(ye=!1),w.setPrompt(ye)}function Y(ye){return w.appendListener(ye)}var ce={length:L.length,action:"POP",location:L[A],index:A,entries:L,createHref:M,push:U,replace:R,go:$,goBack:B,goForward:G,canGo:H,block:Z,listen:Y};return ce}var r9=1073741823,nce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function X2e(){var e="__global_unique_id__";return nce[e]=(nce[e]||0)+1}function J2e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Z2e(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(u){return u(e,s)})}}}function eDe(e){return Array.isArray(e)?e[0]:e}function tDe(e,t){var r,i,s="__create-react-context-"+X2e()+"__",u=function(v){Tf(g,v);function g(){var S;return S=v.apply(this,arguments)||this,S.emitter=Z2e(S.props.value),S}var w=g.prototype;return w.getChildContext=function(){var C;return C={},C[s]=this.emitter,C},w.componentWillReceiveProps=function(C){if(this.props.value!==C.value){var A=this.props.value,L=C.value,M;J2e(A,L)?M=0:(M=typeof t=="function"?t(A,L):r9,M|=0,M!==0&&this.emitter.set(C.value,M))}},w.render=function(){return this.props.children},g}(se.exports.Component);u.childContextTypes=(r={},r[s]=ie.exports.object.isRequired,r);var d=function(v){Tf(g,v);function g(){var S;return S=v.apply(this,arguments)||this,S.state={value:S.getValue()},S.onUpdate=function(C,A){var L=S.observedBits|0;(L&A)!==0&&S.setState({value:S.getValue()})},S}var w=g.prototype;return w.componentWillReceiveProps=function(C){var A=C.observedBits;this.observedBits=A==null?r9:A},w.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var C=this.props.observedBits;this.observedBits=C==null?r9:C},w.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},w.getValue=function(){return this.context[s]?this.context[s].get():e},w.render=function(){return eDe(this.props.children)(this.state.value)},g}(se.exports.Component);return d.contextTypes=(i={},i[s]=ie.exports.object,i),{Provider:u,Consumer:d}}var nDe=On.createContext||tDe,Zw={exports:{}},rDe=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},$3=rDe;Zw.exports=Cme;Zw.exports.parse=HK;Zw.exports.compile=oDe;Zw.exports.tokensToFunction=Tme;Zw.exports.tokensToRegExp=Ime;var iDe=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function HK(e,t){for(var r=[],i=0,s=0,u="",d=t&&t.delimiter||"/",v;(v=iDe.exec(e))!=null;){var g=v[0],w=v[1],S=v.index;if(u+=e.slice(s,S),s=S+g.length,w){u+=w[1];continue}var C=e[s],A=v[2],L=v[3],M=v[4],U=v[5],R=v[6],$=v[7];u&&(r.push(u),u="");var B=A!=null&&C!=null&&C!==A,G=R==="+"||R==="*",H=R==="?"||R==="*",Z=v[2]||d,Y=M||U;r.push({name:L||i++,prefix:A||"",delimiter:Z,optional:H,repeat:G,partial:B,asterisk:!!$,pattern:Y?uDe(Y):$?".*":"[^"+zF(Z)+"]+?"})}return s<e.length&&(u+=e.substr(s)),u&&r.push(u),r}function oDe(e,t){return Tme(HK(e,t),t)}function sDe(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function aDe(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Tme(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(r[i]=new RegExp("^(?:"+e[i].pattern+")$",KK(t)));return function(s,u){for(var d="",v=s||{},g=u||{},w=g.pretty?sDe:encodeURIComponent,S=0;S<e.length;S++){var C=e[S];if(typeof C=="string"){d+=C;continue}var A=v[C.name],L;if(A==null)if(C.optional){C.partial&&(d+=C.prefix);continue}else throw new TypeError('Expected "'+C.name+'" to be defined');if($3(A)){if(!C.repeat)throw new TypeError('Expected "'+C.name+'" to not repeat, but received `'+JSON.stringify(A)+"`");if(A.length===0){if(C.optional)continue;throw new TypeError('Expected "'+C.name+'" to not be empty')}for(var M=0;M<A.length;M++){if(L=w(A[M]),!r[S].test(L))throw new TypeError('Expected all "'+C.name+'" to match "'+C.pattern+'", but received `'+JSON.stringify(L)+"`");d+=(M===0?C.prefix:C.delimiter)+L}continue}if(L=C.asterisk?aDe(A):w(A),!r[S].test(L))throw new TypeError('Expected "'+C.name+'" to match "'+C.pattern+'", but received "'+L+'"');d+=C.prefix+L}return d}}function zF(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function uDe(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function zK(e,t){return e.keys=t,e}function KK(e){return e&&e.sensitive?"":"i"}function cDe(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return zK(e,t)}function lDe(e,t,r){for(var i=[],s=0;s<e.length;s++)i.push(Cme(e[s],t,r).source);var u=new RegExp("(?:"+i.join("|")+")",KK(r));return zK(u,t)}function hDe(e,t,r){return Ime(HK(e,r),t,r)}function Ime(e,t,r){$3(t)||(r=t||r,t=[]),r=r||{};for(var i=r.strict,s=r.end!==!1,u="",d=0;d<e.length;d++){var v=e[d];if(typeof v=="string")u+=zF(v);else{var g=zF(v.prefix),w="(?:"+v.pattern+")";t.push(v),v.repeat&&(w+="(?:"+g+w+")*"),v.optional?v.partial?w=g+"("+w+")?":w="(?:"+g+"("+w+"))?":w=g+"("+w+")",u+=w}}var S=zF(r.delimiter||"/"),C=u.slice(-S.length)===S;return i||(u=(C?u.slice(0,-S.length):u)+"(?:"+S+"(?=$))?"),s?u+="$":u+=i&&C?"":"(?="+S+"|$)",zK(new RegExp("^"+u,KK(r)),t)}function Cme(e,t,r){return $3(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?cDe(e,t):$3(e)?lDe(e,t,r):hDe(e,t,r)}var kme=function(t){var r=nDe();return r.displayName=t,r},Ame=kme("Router-History"),np=kme("Router"),pP=function(e){Tf(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(u){s._pendingLocation=u})),s}var r=t.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(u){s._isMounted&&s.setState({location:u})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return On.createElement(np.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},On.createElement(Ame.Provider,{children:this.props.children||null,value:this.props.history}))},t}(On.Component);On.Component;var fDe=function(e){Tf(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(On.Component),i9={},dDe=1e4,rce=0;function pDe(e){if(i9[e])return i9[e];var t=Zw.exports.compile(e);return rce<dDe&&(i9[e]=t,rce++),t}function ice(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:pDe(e)(t,{pretty:!0})}function yy(e){var t=e.computedMatch,r=e.to,i=e.push,s=i===void 0?!1:i;return On.createElement(np.Consumer,null,function(u){u||Gv(!1);var d=u.history,v=u.staticContext,g=s?d.push:d.replace,w=Nu(t?typeof r=="string"?ice(r,t.params):En({},r,{pathname:ice(r.pathname,t.params)}):r);return v?(g(w),null):D(fDe,{onMount:function(){g(w)},onUpdate:function(C,A){var L=Nu(A.to);q2e(L,En({},w,{key:L.key}))||g(w)},to:r})})}var oce={},vDe=1e4,sce=0;function mDe(e,t){var r=""+t.end+t.strict+t.sensitive,i=oce[r]||(oce[r]={});if(i[e])return i[e];var s=[],u=Zw.exports(e,s,t),d={regexp:u,keys:s};return sce<vDe&&(i[e]=d,sce++),d}function WK(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,i=r.path,s=r.exact,u=s===void 0?!1:s,d=r.strict,v=d===void 0?!1:d,g=r.sensitive,w=g===void 0?!1:g,S=[].concat(i);return S.reduce(function(C,A){if(!A&&A!=="")return null;if(C)return C;var L=mDe(A,{end:u,strict:v,sensitive:w}),M=L.regexp,U=L.keys,R=M.exec(e);if(!R)return null;var $=R[0],B=R.slice(1),G=e===$;return u&&!G?null:{path:A,url:A==="/"&&$===""?"/":$,isExact:G,params:U.reduce(function(H,Z,Y){return H[Z.name]=B[Y],H},{})}},null)}function gDe(e){return On.Children.count(e)===0}var Pv=function(e){Tf(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var s=this;return On.createElement(np.Consumer,null,function(u){u||Gv(!1);var d=s.props.location||u.location,v=s.props.computedMatch?s.props.computedMatch:s.props.path?WK(d.pathname,s.props):u.match,g=En({},u,{location:d,match:v}),w=s.props,S=w.children,C=w.component,A=w.render;return Array.isArray(S)&&gDe(S)&&(S=null),On.createElement(np.Provider,{value:g},g.match?S?typeof S=="function"?S(g):S:C?On.createElement(C,g):A?A(g):null:typeof S=="function"?S(g):null)})},t}(On.Component);function GK(e){return e.charAt(0)==="/"?e:"/"+e}function yDe(e,t){return e?En({},t,{pathname:GK(e)+t.pathname}):t}function bDe(e,t){if(!e)return t;var r=GK(e);return t.pathname.indexOf(r)!==0?t:En({},t,{pathname:t.pathname.substr(r.length)})}function ace(e){return typeof e=="string"?e:dc(e)}function o9(e){return function(){Gv(!1)}}function uce(){}On.Component;var wDe=function(e){Tf(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var s=this;return On.createElement(np.Consumer,null,function(u){u||Gv(!1);var d=s.props.location||u.location,v,g;return On.Children.forEach(s.props.children,function(w){if(g==null&&On.isValidElement(w)){v=w;var S=w.props.path||w.props.from;g=S?WK(d.pathname,En({},w.props,{path:S})):u.match}}),g?On.cloneElement(v,{location:d,computedMatch:g}):null})},t}(On.Component);function e_(e){var t="withRouter("+(e.displayName||e.name)+")",r=function(s){var u=s.wrappedComponentRef,d=Sf(s,["wrappedComponentRef"]);return On.createElement(np.Consumer,null,function(v){return v||Gv(!1),D(e,{...d,...v,ref:u})})};return r.displayName=t,r.WrappedComponent=e,v3(r,e)}var QK=On.useContext;function sp(){return QK(Ame)}function gj(){return QK(np).location}function _De(){var e=QK(np).match;return e?e.params:{}}On.Component;On.Component;var YH=function(t,r){return typeof t=="function"?t(r):t},XH=function(t,r){return typeof t=="string"?Nu(t,null,null,r):t},YK=function(t){return t},OT=On.forwardRef;typeof OT>"u"&&(OT=YK);function EDe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var SDe=OT(function(e,t){var r=e.innerRef,i=e.navigate,s=e.onClick,u=Sf(e,["innerRef","navigate","onClick"]),d=u.target,v=En({},u,{onClick:function(w){try{s&&s(w)}catch(S){throw w.preventDefault(),S}!w.defaultPrevented&&w.button===0&&(!d||d==="_self")&&!EDe(w)&&(w.preventDefault(),i())}});return YK!==OT?v.ref=t||r:v.ref=r,D("a",{...v})}),wc=OT(function(e,t){var r=e.component,i=r===void 0?SDe:r,s=e.replace,u=e.to,d=e.innerRef,v=Sf(e,["component","replace","to","innerRef"]);return On.createElement(np.Consumer,null,function(g){g||Gv(!1);var w=g.history,S=XH(YH(u,g.location),g.location),C=S?w.createHref(S):"",A=En({},v,{href:C,navigate:function(){var M=YH(u,g.location),U=dc(g.location)===dc(XH(M)),R=s||U?w.replace:w.push;R(M)}});return YK!==OT?A.ref=t||d:A.innerRef=d,On.createElement(i,A)})}),xme=function(t){return t},V3=On.forwardRef;typeof V3>"u"&&(V3=xme);function TDe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(i){return i}).join(" ")}var yO=V3(function(e,t){var r=e["aria-current"],i=r===void 0?"page":r,s=e.activeClassName,u=s===void 0?"active":s,d=e.activeStyle,v=e.className,g=e.exact,w=e.isActive,S=e.location,C=e.sensitive,A=e.strict,L=e.style,M=e.to,U=e.innerRef,R=Sf(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return On.createElement(np.Consumer,null,function($){$||Gv(!1);var B=S||$.location,G=XH(YH(M,B),B),H=G.pathname,Z=H&&H.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),Y=Z?WK(B.pathname,{path:Z,exact:g,sensitive:C,strict:A}):null,ce=!!(w?w(Y,B):Y),ye=typeof v=="function"?v(ce):v,xe=typeof L=="function"?L(ce):L;ce&&(ye=TDe(ye,u),xe=En({},xe,d));var re=En({"aria-current":ce&&i||null,className:ye,style:xe,to:G},R);return xme!==V3?re.ref=t||U:re.innerRef=U,D(wc,{...re})})}),IDe=se.exports.createContext({});const Ome=IDe;function lh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cce(Object(r),!0).forEach(function(i){lh(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cce(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function CDe(e){if(Array.isArray(e))return e}function kDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],s=!0,u=!1,d,v;try{for(r=r.call(e);!(s=(d=r.next()).done)&&(i.push(d.value),!(t&&i.length===t));s=!0);}catch(g){u=!0,v=g}finally{try{!s&&r.return!=null&&r.return()}finally{if(u)throw v}}return i}}function JH(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Nme(e,t){if(!!e){if(typeof e=="string")return JH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JH(e,t)}}function ADe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pme(e,t){return CDe(e)||kDe(e,t)||Nme(e,t)||ADe()}function Cy(e,t){if(e==null)return{};var r=Sf(e,t),i,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(s=0;s<u.length;s++)i=u[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}var Rme={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i=[],s=0;s<arguments.length;s++){var u=arguments[s];if(!!u){var d=typeof u;if(d==="string"||d==="number")i.push(u);else if(Array.isArray(u)){if(u.length){var v=r.apply(null,u);v&&i.push(v)}}else if(d==="object")if(u.toString===Object.prototype.toString)for(var g in u)t.call(u,g)&&u[g]&&i.push(g);else i.push(u.toString())}}return i.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Rme);const xDe=Rme.exports;function bN(e){return bN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bN(e)}function bh(e,t){ODe(e)&&(e="100%");var r=NDe(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function ODe(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function NDe(e){return typeof e=="string"&&e.indexOf("%")!==-1}function PDe(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function eF(e){return e<=1?"".concat(Number(e)*100,"%"):e}function s9(e){return e.length===1?"0"+e:String(e)}function RDe(e,t,r){return{r:bh(e,255)*255,g:bh(t,255)*255,b:bh(r,255)*255}}function a9(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*(6*r):r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function DDe(e,t,r){var i,s,u;if(e=bh(e,360),t=bh(t,100),r=bh(r,100),t===0)s=r,u=r,i=r;else{var d=r<.5?r*(1+t):r+t-r*t,v=2*r-d;i=a9(v,d,e+1/3),s=a9(v,d,e),u=a9(v,d,e-1/3)}return{r:i*255,g:s*255,b:u*255}}function LDe(e,t,r){e=bh(e,255),t=bh(t,255),r=bh(r,255);var i=Math.max(e,t,r),s=Math.min(e,t,r),u=0,d=i,v=i-s,g=i===0?0:v/i;if(i===s)u=0;else{switch(i){case e:u=(t-r)/v+(t<r?6:0);break;case t:u=(r-e)/v+2;break;case r:u=(e-t)/v+4;break}u/=6}return{h:u,s:g,v:d}}function MDe(e,t,r){e=bh(e,360)*6,t=bh(t,100),r=bh(r,100);var i=Math.floor(e),s=e-i,u=r*(1-t),d=r*(1-s*t),v=r*(1-(1-s)*t),g=i%6,w=[r,d,u,u,v,r][g],S=[v,r,r,d,u,u][g],C=[u,u,v,r,r,d][g];return{r:w*255,g:S*255,b:C*255}}function FDe(e,t,r,i){var s=[s9(Math.round(e).toString(16)),s9(Math.round(t).toString(16)),s9(Math.round(r).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function lce(e){return sl(e)/255}function sl(e){return parseInt(e,16)}var hce={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Jx(e){var t={r:0,g:0,b:0},r=1,i=null,s=null,u=null,d=!1,v=!1;return typeof e=="string"&&(e=$De(e)),typeof e=="object"&&(xv(e.r)&&xv(e.g)&&xv(e.b)?(t=RDe(e.r,e.g,e.b),d=!0,v=String(e.r).substr(-1)==="%"?"prgb":"rgb"):xv(e.h)&&xv(e.s)&&xv(e.v)?(i=eF(e.s),s=eF(e.v),t=MDe(e.h,i,s),d=!0,v="hsv"):xv(e.h)&&xv(e.s)&&xv(e.l)&&(i=eF(e.s),u=eF(e.l),t=DDe(e.h,i,u),d=!0,v="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(r=e.a)),r=PDe(r),{ok:d,format:e.format||v,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}var jDe="[-\\+]?\\d+%?",UDe="[-\\+]?\\d*\\.\\d+%?",Jg="(?:".concat(UDe,")|(?:").concat(jDe,")"),u9="[\\s|\\(]+(".concat(Jg,")[,|\\s]+(").concat(Jg,")[,|\\s]+(").concat(Jg,")\\s*\\)?"),c9="[\\s|\\(]+(".concat(Jg,")[,|\\s]+(").concat(Jg,")[,|\\s]+(").concat(Jg,")[,|\\s]+(").concat(Jg,")\\s*\\)?"),cf={CSS_UNIT:new RegExp(Jg),rgb:new RegExp("rgb"+u9),rgba:new RegExp("rgba"+c9),hsl:new RegExp("hsl"+u9),hsla:new RegExp("hsla"+c9),hsv:new RegExp("hsv"+u9),hsva:new RegExp("hsva"+c9),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $De(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(hce[e])e=hce[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=cf.rgb.exec(e);return r?{r:r[1],g:r[2],b:r[3]}:(r=cf.rgba.exec(e),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=cf.hsl.exec(e),r?{h:r[1],s:r[2],l:r[3]}:(r=cf.hsla.exec(e),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=cf.hsv.exec(e),r?{h:r[1],s:r[2],v:r[3]}:(r=cf.hsva.exec(e),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=cf.hex8.exec(e),r?{r:sl(r[1]),g:sl(r[2]),b:sl(r[3]),a:lce(r[4]),format:t?"name":"hex8"}:(r=cf.hex6.exec(e),r?{r:sl(r[1]),g:sl(r[2]),b:sl(r[3]),format:t?"name":"hex"}:(r=cf.hex4.exec(e),r?{r:sl(r[1]+r[1]),g:sl(r[2]+r[2]),b:sl(r[3]+r[3]),a:lce(r[4]+r[4]),format:t?"name":"hex8"}:(r=cf.hex3.exec(e),r?{r:sl(r[1]+r[1]),g:sl(r[2]+r[2]),b:sl(r[3]+r[3]),format:t?"name":"hex"}:!1)))))))))}function xv(e){return Boolean(cf.CSS_UNIT.exec(String(e)))}var tF=2,fce=.16,VDe=.05,qDe=.05,BDe=.15,Dme=5,Lme=4,HDe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function dce(e){var t=e.r,r=e.g,i=e.b,s=LDe(t,r,i);return{h:s.h*360,s:s.s,v:s.v}}function nF(e){var t=e.r,r=e.g,i=e.b;return"#".concat(FDe(t,r,i,!1))}function zDe(e,t,r){var i=r/100,s={r:(t.r-e.r)*i+e.r,g:(t.g-e.g)*i+e.g,b:(t.b-e.b)*i+e.b};return s}function pce(e,t,r){var i;return Math.round(e.h)>=60&&Math.round(e.h)<=240?i=r?Math.round(e.h)-tF*t:Math.round(e.h)+tF*t:i=r?Math.round(e.h)+tF*t:Math.round(e.h)-tF*t,i<0?i+=360:i>=360&&(i-=360),i}function vce(e,t,r){if(e.h===0&&e.s===0)return e.s;var i;return r?i=e.s-fce*t:t===Lme?i=e.s+fce:i=e.s+VDe*t,i>1&&(i=1),r&&t===Dme&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function mce(e,t,r){var i;return r?i=e.v+qDe*t:i=e.v-BDe*t,i>1&&(i=1),Number(i.toFixed(2))}function ZH(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],i=Jx(e),s=Dme;s>0;s-=1){var u=dce(i),d=nF(Jx({h:pce(u,s,!0),s:vce(u,s,!0),v:mce(u,s,!0)}));r.push(d)}r.push(nF(i));for(var v=1;v<=Lme;v+=1){var g=dce(i),w=nF(Jx({h:pce(g,v),s:vce(g,v),v:mce(g,v)}));r.push(w)}return t.theme==="dark"?HDe.map(function(S){var C=S.index,A=S.opacity,L=nF(zDe(Jx(t.backgroundColor||"#141414"),Jx(r[C]),A*100));return L}):r}var l9={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},h9={},f9={};Object.keys(l9).forEach(function(e){h9[e]=ZH(l9[e]),h9[e].primary=h9[e][5],f9[e]=ZH(l9[e],{theme:"dark",backgroundColor:"#141414"}),f9[e].primary=f9[e][5]});var gce={};function KDe(e,t){}function WDe(e,t,r){!t&&!gce[r]&&(e(!1,r),gce[r]=!0)}function GDe(e,t){WDe(KDe,e,t)}function QDe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var YDe="rc-util-key";function Mme(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):YDe}function XK(e){if(e.attachTo)return e.attachTo;var t=document.querySelector("head");return t||document.body}function yce(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!QDe())return null;var i=document.createElement("style");if(!((t=r.csp)===null||t===void 0)&&t.nonce){var s;i.nonce=(s=r.csp)===null||s===void 0?void 0:s.nonce}i.innerHTML=e;var u=XK(r),d=u.firstChild;return r.prepend&&u.prepend?u.prepend(i):r.prepend&&d?u.insertBefore(i,d):u.appendChild(i),i}var ez=new Map;function XDe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=XK(t);return Array.from(ez.get(r).children).find(function(i){return i.tagName==="STYLE"&&i.getAttribute(Mme(t))===e})}function JDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=XK(r);if(!ez.has(i)){var s=yce("",r),u=s.parentNode;ez.set(i,u),u.removeChild(s)}var d=XDe(t,r);if(d){var v,g;if(((v=r.csp)===null||v===void 0?void 0:v.nonce)&&d.nonce!==((g=r.csp)===null||g===void 0?void 0:g.nonce)){var w;d.nonce=(w=r.csp)===null||w===void 0?void 0:w.nonce}return d.innerHTML!==e&&(d.innerHTML=e),d}var S=yce(e,r);return S.setAttribute(Mme(r),t),S}function ZDe(e,t){GDe(e,"[@ant-design/icons] ".concat(t))}function bce(e){return bN(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(bN(e.icon)==="object"||typeof e.icon=="function")}function wce(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(t,r){var i=e[r];switch(r){case"class":t.className=i,delete t.class;break;default:t[r]=i}return t},{})}function tz(e,t,r){return r?On.createElement(e.tag,mn(mn({key:t},wce(e.attrs)),r),(e.children||[]).map(function(i,s){return tz(i,"".concat(t,"-").concat(e.tag,"-").concat(s))})):On.createElement(e.tag,mn({key:t},wce(e.attrs)),(e.children||[]).map(function(i,s){return tz(i,"".concat(t,"-").concat(e.tag,"-").concat(s))}))}function Fme(e){return ZH(e)[0]}function jme(e){return e?Array.isArray(e)?e:[e]:[]}var eLe=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,tLe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eLe,r=se.exports.useContext(Ome),i=r.csp;se.exports.useEffect(function(){JDe(t,"@ant-design-icons",{prepend:!0,csp:i})},[])},nLe=["icon","className","onClick","style","primaryColor","secondaryColor"],jO={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function rLe(e){var t=e.primaryColor,r=e.secondaryColor;jO.primaryColor=t,jO.secondaryColor=r||Fme(t),jO.calculated=!!r}function iLe(){return mn({},jO)}var yj=function(t){var r=t.icon,i=t.className,s=t.onClick,u=t.style,d=t.primaryColor,v=t.secondaryColor,g=Cy(t,nLe),w=jO;if(d&&(w={primaryColor:d,secondaryColor:v||Fme(d)}),tLe(),ZDe(bce(r),"icon should be icon definiton, but got ".concat(r)),!bce(r))return null;var S=r;return S&&typeof S.icon=="function"&&(S=mn(mn({},S),{},{icon:S.icon(w.primaryColor,w.secondaryColor)})),tz(S.icon,"svg-".concat(S.name),mn({className:i,onClick:s,style:u,"data-icon":S.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},g))};yj.displayName="IconReact";yj.getTwoToneColors=iLe;yj.setTwoToneColors=rLe;const JK=yj;function Ume(e){var t=jme(e),r=Pme(t,2),i=r[0],s=r[1];return JK.setTwoToneColors({primaryColor:i,secondaryColor:s})}function oLe(){var e=JK.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var sLe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ume("#1890ff");var bj=se.exports.forwardRef(function(e,t){var r,i=e.className,s=e.icon,u=e.spin,d=e.rotate,v=e.tabIndex,g=e.onClick,w=e.twoToneColor,S=Cy(e,sLe),C=se.exports.useContext(Ome),A=C.prefixCls,L=A===void 0?"anticon":A,M=xDe(L,(r={},lh(r,"".concat(L,"-").concat(s.name),!!s.name),lh(r,"".concat(L,"-spin"),!!u||s.name==="loading"),r),i),U=v;U===void 0&&g&&(U=-1);var R=d?{msTransform:"rotate(".concat(d,"deg)"),transform:"rotate(".concat(d,"deg)")}:void 0,$=jme(w),B=Pme($,2),G=B[0],H=B[1];return D("span",{...mn(mn({role:"img","aria-label":s.name},S),{},{ref:t,tabIndex:U,onClick:g,className:M}),children:D(JK,{icon:s,primaryColor:G,secondaryColor:H,style:R})})});bj.displayName="AntdIcon";bj.getTwoToneColor=oLe;bj.setTwoToneColor=Ume;const ns=bj;var aLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const uLe=aLe;var $me=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:uLe})})};$me.displayName="ArrowLeftOutlined";const ZK=se.exports.forwardRef($me);var cLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const lLe=cLe;var Vme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:lLe})})};Vme.displayName="ArrowRightOutlined";const vP=se.exports.forwardRef(Vme);var hLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const fLe=hLe;var qme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:fLe})})};qme.displayName="CheckOutlined";const mP=se.exports.forwardRef(qme);var dLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};const pLe=dLe;var Bme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:pLe})})};Bme.displayName="CloseCircleOutlined";const rF=se.exports.forwardRef(Bme);var vLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const mLe=vLe;var Hme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:mLe})})};Hme.displayName="CloseOutlined";const zme=se.exports.forwardRef(Hme);var gLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const yLe=gLe;var Kme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:yLe})})};Kme.displayName="DownOutlined";const bLe=se.exports.forwardRef(Kme);var wLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const _Le=wLe;var Wme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:_Le})})};Wme.displayName="EditOutlined";const _ce=se.exports.forwardRef(Wme);var ELe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-32 736H663.9V602.2h104l15.6-120.7H663.9v-77.1c0-35 9.7-58.8 59.8-58.8h63.9v-108c-11.1-1.5-49-4.8-93.2-4.8-92.2 0-155.3 56.3-155.3 159.6v89H434.9v120.7h104.3V848H176V176h672v672z"}}]},name:"facebook",theme:"outlined"};const SLe=ELe;var Gme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:SLe})})};Gme.displayName="FacebookOutlined";const TLe=se.exports.forwardRef(Gme);var ILe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};const CLe=ILe;var Qme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:CLe})})};Qme.displayName="FilterOutlined";const Yme=se.exports.forwardRef(Qme);var kLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"filled"};const ALe=kLe;var Xme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:ALe})})};Xme.displayName="GithubFilled";const xLe=se.exports.forwardRef(Xme);var OLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]},name:"google",theme:"outlined"};const NLe=OLe;var Jme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:NLe})})};Jme.displayName="GoogleOutlined";const PLe=se.exports.forwardRef(Jme);var RLe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const DLe=RLe;var Zme=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:DLe})})};Zme.displayName="LoadingOutlined";const Qa=se.exports.forwardRef(Zme);var LLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const MLe=LLe;var ege=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:MLe})})};ege.displayName="LogoutOutlined";const FLe=se.exports.forwardRef(ege);var jLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const ULe=jLe;var tge=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:ULe})})};tge.displayName="MinusOutlined";const $Le=se.exports.forwardRef(tge);var VLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const qLe=VLe;var nge=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:qLe})})};nge.displayName="PlusOutlined";const rge=se.exports.forwardRef(nge);var BLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const HLe=BLe;var ige=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:HLe})})};ige.displayName="SearchOutlined";const zLe=se.exports.forwardRef(ige);var KLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M882 272.1V144c0-17.7-14.3-32-32-32H174c-17.7 0-32 14.3-32 32v128.1c-16.7 1-30 14.9-30 31.9v131.7a177 177 0 0014.4 70.4c4.3 10.2 9.6 19.8 15.6 28.9v345c0 17.6 14.3 32 32 32h676c17.7 0 32-14.3 32-32V535a175 175 0 0015.6-28.9c9.5-22.3 14.4-46 14.4-70.4V304c0-17-13.3-30.9-30-31.9zM214 184h596v88H214v-88zm362 656.1H448V736h128v104.1zm234 0H640V704c0-17.7-14.3-32-32-32H416c-17.7 0-32 14.3-32 32v136.1H214V597.9c2.9 1.4 5.9 2.8 9 4 22.3 9.4 46 14.1 70.4 14.1s48-4.7 70.4-14.1c13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0038.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 3-1.3 6-2.6 9-4v242.2zm30-404.4c0 59.8-49 108.3-109.3 108.3-40.8 0-76.4-22.1-95.2-54.9-2.9-5-8.1-8.1-13.9-8.1h-.6c-5.7 0-11 3.1-13.9 8.1A109.24 109.24 0 01512 544c-40.7 0-76.2-22-95-54.7-3-5.1-8.4-8.3-14.3-8.3s-11.4 3.2-14.3 8.3a109.63 109.63 0 01-95.1 54.7C233 544 184 495.5 184 435.7v-91.2c0-.3.2-.5.5-.5h655c.3 0 .5.2.5.5v91.2z"}}]},name:"shop",theme:"outlined"};const WLe=KLe;var oge=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:WLe})})};oge.displayName="ShopOutlined";const GLe=se.exports.forwardRef(oge);var QLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-432-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16H400v-16zm392 544H232V384h96v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h224v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h96v456z"}}]},name:"shopping",theme:"outlined"};const YLe=QLe;var sge=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:YLe})})};sge.displayName="ShoppingOutlined";const XLe=se.exports.forwardRef(sge);var JLe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const ZLe=JLe;var age=function(t,r){return D(ns,{...mn(mn({},t),{},{ref:r,icon:ZLe})})};age.displayName="UserOutlined";const eMe=se.exports.forwardRef(age),eW="GET_PRODUCTS",tW="SEARCH_PRODUCT",uge="SEARCH_PRODUCT_SUCCESS",cge="GET_PRODUCTS_SUCCESS",nW="ADD_PRODUCT",lge="ADD_PRODUCT_SUCCESS",rW="REMOVE_PRODUCT",hge="REMOVE_PRODUCT_SUCCESS",iW="EDIT_PRODUCT",fge="EDIT_PRODUCT_SUCCESS",dge="CLEAR_SEARCH_STATE",pge="SET_BASKET_ITEMS",vge="ADD_TO_BASKET",mge="REMOVE_FROM_BASKET",gge="CLEAR_BASKET",yge="ADD_QTY_ITEM",bge="MINUS_QTY_ITEM",wge="SET_CHECKOUT_SHIPPING_DETAILS",tMe="SET_CHECKOUT_PAYMENT_DETAILS",_ge="RESET_CHECKOUT",oW="SIGNIN",Ege="SIGNIN_SUCCESS",sW="SIGNUP",aW="SIGNOUT",Sge="SIGNOUT_SUCCESS",Tge="SET_AUTH_STATUS",uW="SIGNIN_WITH_GOOGLE",cW="SIGNIN_WITH_FACEBOOK",lW="SIGNIN_WITH_GITHUB",nMe="ON_AUTHSTATE_CHANGED",Ige="SET_AUTH_PERSISTENCE",hW="ON_AUTHSTATE_SUCCESS",fW="ON_AUTHSTATE_FAIL",dW="RESET_PASSWORD",Cge="UPDATE_EMAIL",kge="SET_PROFILE",pW="UPDATE_PROFILE",Age="UPDATE_PROFILE_SUCCESS",xge="CLEAR_PROFILE",rMe="SET_TEXT_FILTER",iMe="SET_BRAND_FILTER",oMe="SET_MIN_PRICE_FILTER",sMe="SET_MAX_PRICE_FILTER",Oge="RESET_FILTER",Nge="APPLY_FILTER",Pge="CLEAR_RECENT_SEARCH",Rge="REMOVE_SELECTED_RECENT",aMe="ADD_USER",uMe="DELETE_USER",cMe="EDIT_USER",Dge="LOADING",Lge="IS_AUTHENTICATING",Mge="SET_REQUEST_STATUS",lMe=(e,t)=>({type:oW,payload:{email:e,password:t}}),hMe=()=>({type:uW}),fMe=()=>({type:cW}),dMe=()=>({type:lW}),pMe=e=>({type:sW,payload:e}),Ece=e=>({type:Ege,payload:e}),vMe=()=>({type:aW}),Sce=()=>({type:Sge}),mMe=e=>({type:hW,payload:e}),gMe=e=>({type:fW,payload:e}),yMe=e=>({type:dW,payload:e}),Fge=()=>{const{profile:e,isAuthenticating:t}=ks(d=>({profile:d.profile,isAuthenticating:d.app.isAuthenticating})),r=se.exports.useRef(null),i=Lo(),s=d=>{const v=d.target.closest("div.user-nav");try{!v&&r.current.classList.contains("user-sub-open")&&r.current.classList.remove("user-sub-open")}catch(g){console.log(g)}};return se.exports.useEffect(()=>(document.addEventListener("click",s),()=>document.removeEventListener("click",s)),[]),t?ge("div",{className:"user-nav",children:[D("span",{children:"Signing Out"}),"\xA0",D(Qa,{})]}):ge("div",{className:"user-nav",onClick:()=>{r.current.classList.toggle("user-sub-open")},onKeyDown:()=>{},ref:r,role:"button",tabIndex:0,children:[D("h5",{className:"text-overflow-ellipsis",children:e.fullname&&e.fullname.split(" ")[0]}),D("div",{className:"user-nav-img-wrapper",children:D("img",{alt:"",className:"user-nav-img",src:e.avatar})}),D(bLe,{style:{fontSize:"1.2rem",marginLeft:"1rem"}}),ge("div",{className:"user-nav-sub",children:[e.role!=="ADMIN"&&ge(wc,{to:V4,className:"user-nav-sub-link",children:["View Account",D(eMe,{})]}),ge("h6",{className:"user-nav-sub-link margin-0 d-flex",onClick:()=>i(vMe()),role:"presentation",children:["Sign Out",D(FLe,{})]})]})]})};Fge.propType={profile:ie.exports.object.isRequired};const vW=e_(Fge),bMe=()=>{const{isAuthenticating:e,profile:t}=ks(r=>({isAuthenticating:r.app.isAuthenticating,profile:r.profile}));return ge("nav",{className:"navigation navigation-admin",children:[D("div",{className:"logo",children:ge(wc,{to:q4,style:{display:"flex",alignItems:"center"},children:[D("img",{alt:"Logo",src:yNe}),D("h3",{children:"ADMIN PANEL"})]})}),D("ul",{className:"navigation-menu",children:D("li",{className:"navigation-menu-item",children:D(vW,{isAuthenticating:e,profile:t})})})]})},wMe=()=>D("aside",{className:"sidenavigation",children:ge("div",{className:"sidenavigation-wrapper",children:[D("div",{className:"sidenavigation-item",children:D(yO,{activeClassName:"sidenavigation-menu-active",className:"sidenavigation-menu",to:SO,children:"Products"})}),D("div",{className:"sidenavigation-item",children:D("h4",{className:"sidenavigation-menu my-0",children:"Users"})})]})}),mW=({count:e,children:t})=>ge("div",{className:"badge",children:[t,e>=1&&D("span",{className:"badge-count",children:e})]});mW.propTypes={count:ie.exports.number.isRequired,children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.node]).isRequired};class t_ extends se.exports.Component{static getDerivedStateFromError(){return{hasError:!0}}constructor(t){super(t),this.state={hasError:!1}}componentDidCatch(t){console.log(t)}render(){const{hasError:t}=this.state,{children:r}=this.props;return t?D("div",{className:"loader",children:D("h3",{children:":( Something went wrong."})}):r}}t_.propTypes={children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.node]).isRequired};const jge=({availableColors:e,onSelectedColorChange:t})=>{const[r,i]=se.exports.useState(""),s=u=>{i(u),t(u)};return D("div",{className:"color-chooser",children:e.map(u=>D("div",{className:r===u?"color-item color-item-selected":"color-item",onClick:()=>s(u),style:{backgroundColor:u},role:"presentation"},u))})};jge.propTypes={availableColors:ie.exports.arrayOf(ie.exports.string).isRequired,onSelectedColorChange:ie.exports.func.isRequired};const _Me=e=>{const t=new Date(e),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=t.getDate(),s=t.getMonth(),u=t.getFullYear();return`${r[s]} ${i}, ${u}`},by=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e),Uge=e=>!e||(e==null?void 0:e.length)===0?0:e.reduce((r,i)=>r+i,0).toFixed(2),Zg=(e,t="info")=>{const r=document.createElement("div"),i=document.createElement("span");r.className=`toast ${t==="info"?"toast-info":t==="success"?"toast-success":"toast-error"}`,i.className="toast-msg",i.textContent=e,r.appendChild(i),document.querySelector(".toast")&&document.body.removeChild(document.querySelector(".toast")),document.body.appendChild(r),setTimeout(()=>{try{document.body.removeChild(r)}catch(s){console.log(s)}},3e3)},Tce=(e=[])=>({type:pge,payload:e}),EMe=e=>({type:vge,payload:e}),$ge=e=>({type:mge,payload:e}),Vge=()=>({type:gge}),SMe=e=>({type:yge,payload:e}),TMe=e=>({type:bge,payload:e}),qge=()=>{const{basket:e}=ks(s=>({basket:s.basket})),t=Lo(),r=s=>!!e.find(u=>u.id===s);return{basket:e,isItemOnBasket:r,addToBasket:s=>{r(s.id)?(t($ge(s.id)),Zg("Item removed from basket","info")):(t(EMe(s)),Zg("Item added to basket","success"))}}},n_=(e=!1)=>{const[t,r]=se.exports.useState(e);return se.exports.useEffect(()=>(r(!0),()=>{r(!1)}),[]),t},Xa=e=>{se.exports.useLayoutEffect(()=>{e?document.title=e:document.title="eCommerce React App"},[e])};var nz=function(e,t){return nz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},nz(e,t)};function on(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nz(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var NT=function(){return NT=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},NT.apply(this,arguments)};function tt(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})}function et(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,s,u,d;return d={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function v(w){return function(S){return g([w,S])}}function g(w){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(u=w[0]&2?s.return:w[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,w[1])).done)return u;switch(s=0,u&&(w=[w[0]&2,u.value]),w[0]){case 0:case 1:u=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!u||w[1]>u[0]&&w[1]<u[3])){r.label=w[1];break}if(w[0]===6&&r.label<u[1]){r.label=u[1],u=w;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(w);break}u[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(S){w=[6,S],s=0}finally{i=u=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}function d9(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iF(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),s,u=[],d;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)u.push(s.value)}catch(v){d={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(d)throw d.error}}return u}function ki(e,t,r){if(r||arguments.length===2)for(var i=0,s=t.length,u;i<s;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bge=function(e){for(var t=[],r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}return t},IMe=function(e){for(var t=[],r=0,i=0;r<e.length;){var s=e[r++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){var u=e[r++];t[i++]=String.fromCharCode((s&31)<<6|u&63)}else if(s>239&&s<365){var u=e[r++],d=e[r++],v=e[r++],g=((s&7)<<18|(u&63)<<12|(d&63)<<6|v&63)-65536;t[i++]=String.fromCharCode(55296+(g>>10)),t[i++]=String.fromCharCode(56320+(g&1023))}else{var u=e[r++],d=e[r++];t[i++]=String.fromCharCode((s&15)<<12|(u&63)<<6|d&63)}}return t.join("")},CMe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],s=0;s<e.length;s+=3){var u=e[s],d=s+1<e.length,v=d?e[s+1]:0,g=s+2<e.length,w=g?e[s+2]:0,S=u>>2,C=(u&3)<<4|v>>4,A=(v&15)<<2|w>>6,L=w&63;g||(L=64,d||(A=64)),i.push(r[S],r[C],r[A],r[L])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bge(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):IMe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],s=0;s<e.length;){var u=r[e.charAt(s++)],d=s<e.length,v=d?r[e.charAt(s)]:0;++s;var g=s<e.length,w=g?r[e.charAt(s)]:64;++s;var S=s<e.length,C=S?r[e.charAt(s)]:64;if(++s,u==null||v==null||w==null||C==null)throw Error();var A=u<<2|v>>4;if(i.push(A),w!==64){var L=v<<4&240|w>>2;if(i.push(L),C!==64){var M=w<<6&192|C;i.push(M)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},kMe=function(e){var t=Bge(e);return CMe.encodeByteArray(t,!0)},Ice=function(e){return kMe(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AMe(e){return wN(void 0,e)}function wN(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var r=t;return new Date(r.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!xMe(i)||(e[i]=wN(e[i],t[i]));return e}function xMe(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OMe=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(r,i){t.resolve=r,t.reject=i})}return e.prototype.wrapCallback=function(t){var r=this;return function(i,s){i?r.reject(i):r.resolve(s),typeof t=="function"&&(r.promise.catch(function(){}),t.length===1?t(i):t(i,s))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hge(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var r={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var d=NT({iss:"https://securetoken.google.com/"+i,aud:i,iat:s,exp:s+3600,auth_time:s,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),v="";return[Ice(JSON.stringify(r)),Ice(JSON.stringify(d)),v].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NMe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Uw())}function zge(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PMe(){return typeof self=="object"&&self.self===self}function RMe(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function DMe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LMe(){return Uw().indexOf("Electron/")>=0}function MMe(){var e=Uw();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function FMe(){return Uw().indexOf("MSAppHost/")>=0}function jMe(){return!zge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UMe="FirebaseError",Kge=function(e){on(t,e);function t(r,i,s){var u=e.call(this,i)||this;return u.code=r,u.customData=s,u.name=UMe,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,gW.prototype.create),u}return t}(Error),gW=function(){function e(t,r,i){this.service=t,this.serviceName=r,this.errors=i}return e.prototype.create=function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=r[0]||{},u=this.service+"/"+t,d=this.errors[t],v=d?$Me(d,s):"Error",g=this.serviceName+": "+v+" ("+u+").",w=new Kge(u,g,s);return w},e}();function $Me(e,t){return e.replace(VMe,function(r,i){var s=t[i];return s!=null?String(s):"<"+i+"?>"})}var VMe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qMe(e,t){var r=new BMe(e,t);return r.subscribe.bind(r)}var BMe=function(){function e(t,r){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(function(){t(i)}).catch(function(s){i.error(s)})}return e.prototype.next=function(t){this.forEachObserver(function(r){r.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(r){r.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,r,i){var s=this,u;if(t===void 0&&r===void 0&&i===void 0)throw new Error("Missing Observer.");HMe(t,["next","error","complete"])?u=t:u={next:t,error:r,complete:i},u.next===void 0&&(u.next=p9),u.error===void 0&&(u.error=p9),u.complete===void 0&&(u.complete=p9);var d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{s.finalError?u.error(s.finalError):u.complete()}catch{}}),this.observers.push(u),d},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var r=0;r<this.observers.length;r++)this.sendOne(r,t)},e.prototype.sendOne=function(t,r){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{r(i.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})},e.prototype.close=function(t){var r=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){r.observers=void 0,r.onNoObservers=void 0}))},e}();function HMe(e,t){if(typeof e!="object"||e===null)return!1;for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s in e&&typeof e[s]=="function")return!0}return!1}function p9(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e){return e&&e._delegate?e._delegate:e}var gP=function(){function e(t,r,i){this.name=t,this.instanceFactory=r,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cw="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zMe=function(){function e(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){var i=new OMe;if(this.instancesDeferred.set(r,i),this.isInitialized(r)||this.shouldAutoInitialize())try{var s=this.getOrInitializeService({instanceIdentifier:r});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise},e.prototype.getImmediate=function(t){var r,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var r,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(WMe(t))try{this.getOrInitializeService({instanceIdentifier:cw})}catch{}try{for(var s=d9(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var d=iF(u.value,2),v=d[0],g=d[1],w=this.normalizeInstanceIdentifier(v);try{var S=this.getOrInitializeService({instanceIdentifier:w});g.resolve(S)}catch{}}}catch(C){r={error:C}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=cw),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){switch(r.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ki(ki([],iF(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),iF(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return r.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=cw),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=cw),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var r,i;t===void 0&&(t={});var s=t.options,u=s===void 0?{}:s,d=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(d))throw Error(this.name+"("+d+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var v=this.getOrInitializeService({instanceIdentifier:d,options:u});try{for(var g=d9(this.instancesDeferred.entries()),w=g.next();!w.done;w=g.next()){var S=iF(w.value,2),C=S[0],A=S[1],L=this.normalizeInstanceIdentifier(C);d===L&&A.resolve(v)}}catch(M){r={error:M}}finally{try{w&&!w.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}return v},e.prototype.onInit=function(t,r){var i,s=this.normalizeInstanceIdentifier(r),u=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(s,u);var d=this.instances.get(s);return d&&t(d,s),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,r){var i,s,u=this.onInitCallbacks.get(r);if(!!u)try{for(var d=d9(u),v=d.next();!v.done;v=d.next()){var g=v.value;try{g(t,r)}catch{}}}catch(w){i={error:w}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var r=t.instanceIdentifier,i=t.options,s=i===void 0?{}:i,u=this.instances.get(r);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:KMe(r),options:s}),this.instances.set(r,u),this.instancesOptions.set(r,s),this.invokeOnInitCallbacks(u,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=cw),this.component?this.component.multipleInstances?t:cw:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function KMe(e){return e===cw?void 0:e}function WMe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GMe=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var r=this.getProvider(t.name);if(r.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);r.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var r=this.getProvider(t.name);r.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var r=new zMe(t,this);return this.providers.set(t,r),r},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lf(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var u=arguments[t],d=0,v=u.length;d<v;d++,s++)i[s]=u[d];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nw,yW=[],br;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(br||(br={}));var Wge={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},QMe=br.INFO,YMe=(nw={},nw[br.DEBUG]="log",nw[br.VERBOSE]="log",nw[br.INFO]="info",nw[br.WARN]="warn",nw[br.ERROR]="error",nw),XMe=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(t<e.logLevel)){var s=new Date().toISOString(),u=YMe[t];if(u)console[u].apply(console,lf(["["+s+"]  "+e.name+":"],r));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Gge=function(){function e(t){this.name=t,this._logLevel=QMe,this._logHandler=XMe,this._userLogHandler=null,yW.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in br))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Wge[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,lf([this,br.DEBUG],t)),this._logHandler.apply(this,lf([this,br.DEBUG],t))},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,lf([this,br.VERBOSE],t)),this._logHandler.apply(this,lf([this,br.VERBOSE],t))},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,lf([this,br.INFO],t)),this._logHandler.apply(this,lf([this,br.INFO],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,lf([this,br.WARN],t)),this._logHandler.apply(this,lf([this,br.WARN],t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,lf([this,br.ERROR],t)),this._logHandler.apply(this,lf([this,br.ERROR],t))},e}();function JMe(e){yW.forEach(function(t){t.setLogLevel(e)})}function ZMe(e,t){for(var r=function(d){var v=null;t&&t.level&&(v=Wge[t.level]),e===null?d.userLogHandler=null:d.userLogHandler=function(g,w){for(var S=[],C=2;C<arguments.length;C++)S[C-2]=arguments[C];var A=S.map(function(L){if(L==null)return null;if(typeof L=="string")return L;if(typeof L=="number"||typeof L=="boolean")return L.toString();if(L instanceof Error)return L.message;try{return JSON.stringify(L)}catch{return null}}).filter(function(L){return L}).join(" ");w>=(v!=null?v:g.logLevel)&&e({level:br[w].toLowerCase(),message:A,args:S,type:g.name})}},i=0,s=yW;i<s.length;i++){var u=s[i];r(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rg,eFe=(Rg={},Rg["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Rg["bad-app-name"]="Illegal App name: '{$appName}",Rg["duplicate-app"]="Firebase App named '{$appName}' already exists",Rg["app-deleted"]="Firebase App named '{$appName}' already deleted",Rg["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Rg["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Rg),GS=new gW("app","Firebase",eFe),Qge="@firebase/app",tFe="0.6.30",nFe="@firebase/analytics",rFe="@firebase/app-check",iFe="@firebase/auth",oFe="@firebase/database",sFe="@firebase/functions",aFe="@firebase/installations",uFe="@firebase/messaging",cFe="@firebase/performance",lFe="@firebase/remote-config",hFe="@firebase/storage",fFe="@firebase/firestore",dFe="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ma,q3="[DEFAULT]",pFe=(Ma={},Ma[Qge]="fire-core",Ma[nFe]="fire-analytics",Ma[rFe]="fire-app-check",Ma[iFe]="fire-auth",Ma[oFe]="fire-rtdb",Ma[sFe]="fire-fn",Ma[aFe]="fire-iid",Ma[uFe]="fire-fcm",Ma[cFe]="fire-perf",Ma[lFe]="fire-rc",Ma[hFe]="fire-gcs",Ma[fFe]="fire-fst",Ma["fire-js"]="fire-js",Ma[dFe]="fire-js-all",Ma);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=new Gge("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KF=function(){function e(t,r,i){var s=this;this.firebase_=i,this.isDeleted_=!1,this.name_=r.name,this.automaticDataCollectionEnabled_=r.automaticDataCollectionEnabled||!1,this.options_=AMe(t),this.container=new GMe(r.name),this._addComponent(new gP("app",function(){return s},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return s._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(r){t.checkDestroyed_(),r()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(r){return r.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,r){var i;r===void 0&&(r=q3),this.checkDestroyed_();var s=this.container.getProvider(t);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:r})},e.prototype._removeServiceInstance=function(t,r){r===void 0&&(r=q3),this.container.getProvider(t).clearInstance(r)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(r){PT.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,r)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw GS.create("app-deleted",{appName:this.name_})},e}();KF.prototype.name&&KF.prototype.options||KF.prototype.delete||console.log("dc");var vFe="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mFe(e){var t={},r=new Map,i={__esModule:!0,initializeApp:d,app:u,registerVersion:w,setLogLevel:JMe,onLog:S,apps:null,SDK_VERSION:vFe,INTERNAL:{registerComponent:g,removeApp:s,components:r,useAsService:C}};i.default=i,Object.defineProperty(i,"apps",{get:v});function s(A){delete t[A]}function u(A){if(A=A||q3,!Cce(t,A))throw GS.create("no-app",{appName:A});return t[A]}u.App=e;function d(A,L){if(L===void 0&&(L={}),typeof L!="object"||L===null){var M=L;L={name:M}}var U=L;U.name===void 0&&(U.name=q3);var R=U.name;if(typeof R!="string"||!R)throw GS.create("bad-app-name",{appName:String(R)});if(Cce(t,R))throw GS.create("duplicate-app",{appName:R});var $=new e(A,U,i);return t[R]=$,$}function v(){return Object.keys(t).map(function(A){return t[A]})}function g(A){var L=A.name;if(r.has(L))return PT.debug("There were multiple attempts to register component "+L+"."),A.type==="PUBLIC"?i[L]:null;if(r.set(L,A),A.type==="PUBLIC"){var M=function(B){if(B===void 0&&(B=u()),typeof B[L]!="function")throw GS.create("invalid-app-argument",{appName:L});return B[L]()};A.serviceProps!==void 0&&wN(M,A.serviceProps),i[L]=M,e.prototype[L]=function(){for(var B=[],G=0;G<arguments.length;G++)B[G]=arguments[G];var H=this._getService.bind(this,L);return H.apply(this,A.multipleInstances?B:[])}}for(var U=0,R=Object.keys(t);U<R.length;U++){var $=R[U];t[$]._addComponent(A)}return A.type==="PUBLIC"?i[L]:null}function w(A,L,M){var U,R=(U=pFe[A])!==null&&U!==void 0?U:A;M&&(R+="-"+M);var $=R.match(/\s|\//),B=L.match(/\s|\//);if($||B){var G=['Unable to register library "'+R+'" with version "'+L+'":'];$&&G.push('library name "'+R+'" contains illegal characters (whitespace or "/")'),$&&B&&G.push("and"),B&&G.push('version name "'+L+'" contains illegal characters (whitespace or "/")'),PT.warn(G.join(" "));return}g(new gP(R+"-version",function(){return{library:R,version:L}},"VERSION"))}function S(A,L){if(A!==null&&typeof A!="function")throw GS.create("invalid-log-argument");ZMe(A,L)}function C(A,L){if(L==="serverAuth")return null;var M=L;return M}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yge(){var e=mFe(KF);e.INTERNAL=NT(NT({},e.INTERNAL),{createFirebaseNamespace:Yge,extendNamespace:t,createSubscribe:qMe,ErrorFactory:gW,deepExtend:wN});function t(r){wN(e,r)}return e}var bW=Yge();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gFe=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(r){if(yFe(r)){var i=r.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(r){return r}).join(" ")},e}();function yFe(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bFe(e,t){e.INTERNAL.registerComponent(new gP("platform-logger",function(r){return new gFe(r)},"PRIVATE")),e.registerVersion(Qge,tFe,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(PMe()&&self.firebase!==void 0){PT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var kce=self.firebase.SDK_VERSION;kce&&kce.indexOf("LITE")>=0&&PT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var wFe=bW.initializeApp;bW.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return zge()&&PT.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),wFe.apply(void 0,e)};var Jt=bW;bFe(Jt);var _Fe="firebase",Xge="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.registerVersion(_Fe,Xge,"app");Jt.SDK_VERSION=Xge;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,E){l!=Array.prototype&&l!=Object.prototype&&(l[m]=E.value)};function r(l){l=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,l];for(var m=0;m<l.length;++m){var E=l[m];if(E&&E.Math==Math)return E}return globalThis}var i=r(this);function s(l,m){if(m){var E=i;l=l.split(".");for(var O=0;O<l.length-1;O++){var F=l[O];F in E||(E[F]={}),E=E[F]}l=l[l.length-1],O=E[l],m=m(O),m!=O&&m!=null&&t(E,l,{configurable:!0,writable:!0,value:m})}}function u(l){var m=0;return function(){return m<l.length?{done:!1,value:l[m++]}:{done:!0}}}function d(l){var m=typeof Symbol<"u"&&Symbol.iterator&&l[Symbol.iterator];return m?m.call(l):{next:u(l)}}s("Promise",function(l){function m(Q){this.b=0,this.c=void 0,this.a=[];var ue=this.f();try{Q(ue.resolve,ue.reject)}catch(We){ue.reject(We)}}function E(){this.a=null}function O(Q){return Q instanceof m?Q:new m(function(ue){ue(Q)})}if(l)return l;E.prototype.b=function(Q){if(this.a==null){this.a=[];var ue=this;this.c(function(){ue.g()})}this.a.push(Q)};var F=i.setTimeout;E.prototype.c=function(Q){F(Q,0)},E.prototype.g=function(){for(;this.a&&this.a.length;){var Q=this.a;this.a=[];for(var ue=0;ue<Q.length;++ue){var We=Q[ue];Q[ue]=null;try{We()}catch(at){this.f(at)}}}this.a=null},E.prototype.f=function(Q){this.c(function(){throw Q})},m.prototype.f=function(){function Q(at){return function(pn){We||(We=!0,at.call(ue,pn))}}var ue=this,We=!1;return{resolve:Q(this.m),reject:Q(this.g)}},m.prototype.m=function(Q){if(Q===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Q instanceof m)this.s(Q);else{e:switch(typeof Q){case"object":var ue=Q!=null;break e;case"function":ue=!0;break e;default:ue=!1}ue?this.v(Q):this.h(Q)}},m.prototype.v=function(Q){var ue=void 0;try{ue=Q.then}catch(We){this.g(We);return}typeof ue=="function"?this.u(ue,Q):this.h(Q)},m.prototype.g=function(Q){this.i(2,Q)},m.prototype.h=function(Q){this.i(1,Q)},m.prototype.i=function(Q,ue){if(this.b!=0)throw Error("Cannot settle("+Q+", "+ue+"): Promise already settled in state"+this.b);this.b=Q,this.c=ue,this.l()},m.prototype.l=function(){if(this.a!=null){for(var Q=0;Q<this.a.length;++Q)z.b(this.a[Q]);this.a=null}};var z=new E;return m.prototype.s=function(Q){var ue=this.f();Q.Ra(ue.resolve,ue.reject)},m.prototype.u=function(Q,ue){var We=this.f();try{Q.call(ue,We.resolve,We.reject)}catch(at){We.reject(at)}},m.prototype.then=function(Q,ue){function We(Qn,io){return typeof Qn=="function"?function(Bh){try{at(Qn(Bh))}catch($0){pn($0)}}:io}var at,pn,Er=new m(function(Qn,io){at=Qn,pn=io});return this.Ra(We(Q,at),We(ue,pn)),Er},m.prototype.catch=function(Q){return this.then(void 0,Q)},m.prototype.Ra=function(Q,ue){function We(){switch(at.b){case 1:Q(at.c);break;case 2:ue(at.c);break;default:throw Error("Unexpected state: "+at.b)}}var at=this;this.a==null?z.b(We):this.a.push(We)},m.resolve=O,m.reject=function(Q){return new m(function(ue,We){We(Q)})},m.race=function(Q){return new m(function(ue,We){for(var at=d(Q),pn=at.next();!pn.done;pn=at.next())O(pn.value).Ra(ue,We)})},m.all=function(Q){var ue=d(Q),We=ue.next();return We.done?O([]):new m(function(at,pn){function Er(Bh){return function($0){Qn[Bh]=$0,io--,io==0&&at(Qn)}}var Qn=[],io=0;do Qn.push(void 0),io++,O(We.value).Ra(Er(Qn.length-1),pn),We=ue.next();while(!We.done)})},m});var v=v||{},g=this||self,w=/^[\w+/_-]+[=]{0,2}$/,S=null;function C(l){return(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&w.test(l)?l:""}function A(){}function L(l){var m=typeof l;return m!="object"?m:l?Array.isArray(l)?"array":m:"null"}function M(l){var m=L(l);return m=="array"||m=="object"&&typeof l.length=="number"}function U(l){return L(l)=="function"}function R(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function $(l){return Object.prototype.hasOwnProperty.call(l,B)&&l[B]||(l[B]=++G)}var B="closure_uid_"+(1e9*Math.random()>>>0),G=0;function H(l,m,E){return l.call.apply(l.bind,arguments)}function Z(l,m,E){if(!l)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,O),l.apply(m,F)}}return function(){return l.apply(m,arguments)}}function Y(l,m,E){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Y=H:Y=Z,Y.apply(null,arguments)}function ce(l,m){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),l.apply(this,O)}}function ye(l,m){function E(){}E.prototype=m.prototype,l.bb=m.prototype,l.prototype=new E,l.prototype.constructor=l}function xe(l){return l}function re(l,m,E){this.code=it+l,this.message=m||ht[l]||"",this.a=E||null}ye(re,Error),re.prototype.w=function(){var l={code:this.code,message:this.message};return this.a&&(l.serverResponse=this.a),l},re.prototype.toJSON=function(){return this.w()};function ut(l){var m=l&&l.code;return m?new re(m.substring(it.length),l.message,l.serverResponse):null}var it="auth/",ht={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ie={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ne(l){for(var m in Ie)if(Ie[m].id===l)return l=Ie[m],{firebaseEndpoint:l.Ua,secureTokenEndpoint:l.$a,identityPlatformEndpoint:l.Xa};return null}var Be;Be=Ne("__EID__")?"__EID__":void 0;function _e(l){if(!l)return!1;try{return!!l.$goog_Thenable}catch{return!1}}function He(l){if(Error.captureStackTrace)Error.captureStackTrace(this,He);else{var m=Error().stack;m&&(this.stack=m)}l&&(this.message=String(l))}ye(He,Error),He.prototype.name="CustomError";function ct(l,m){l=l.split("%s");for(var E="",O=l.length-1,F=0;F<O;F++)E+=l[F]+(F<m.length?m[F]:"%s");He.call(this,E+l[O])}ye(ct,He),ct.prototype.name="AssertionError";function Pe(l,m){throw new ct("Failure"+(l?": "+l:""),Array.prototype.slice.call(arguments,1))}function he(l,m){this.c=l,this.f=m,this.b=0,this.a=null}he.prototype.get=function(){if(0<this.b){this.b--;var l=this.a;this.a=l.next,l.next=null}else l=this.c();return l};function fe(l,m){l.f(m),100>l.b&&(l.b++,m.next=l.a,l.a=m)}function Se(){this.b=this.a=null}var Ae=new he(function(){return new be},function(l){l.reset()});Se.prototype.add=function(l,m){var E=Ae.get();E.set(l,m),this.b?this.b.next=E:this.a=E,this.b=E};function ee(){var l=Ps,m=null;return l.a&&(m=l.a,l.a=l.a.next,l.a||(l.b=null),m.next=null),m}function be(){this.next=this.b=this.a=null}be.prototype.set=function(l,m){this.a=l,this.b=m,this.next=null},be.prototype.reset=function(){this.next=this.b=this.a=null};var st=Array.prototype.indexOf?function(l,m){return Array.prototype.indexOf.call(l,m,void 0)}:function(l,m){if(typeof l=="string")return typeof m!="string"||m.length!=1?-1:l.indexOf(m,0);for(var E=0;E<l.length;E++)if(E in l&&l[E]===m)return E;return-1},Re=Array.prototype.forEach?function(l,m,E){Array.prototype.forEach.call(l,m,E)}:function(l,m,E){for(var O=l.length,F=typeof l=="string"?l.split(""):l,z=0;z<O;z++)z in F&&m.call(E,F[z],z,l)};function Pt(l,m){for(var E=typeof l=="string"?l.split(""):l,O=l.length-1;0<=O;--O)O in E&&m.call(void 0,E[O],O,l)}var Nt=Array.prototype.filter?function(l,m){return Array.prototype.filter.call(l,m,void 0)}:function(l,m){for(var E=l.length,O=[],F=0,z=typeof l=="string"?l.split(""):l,Q=0;Q<E;Q++)if(Q in z){var ue=z[Q];m.call(void 0,ue,Q,l)&&(O[F++]=ue)}return O},Vt=Array.prototype.map?function(l,m){return Array.prototype.map.call(l,m,void 0)}:function(l,m){for(var E=l.length,O=Array(E),F=typeof l=="string"?l.split(""):l,z=0;z<E;z++)z in F&&(O[z]=m.call(void 0,F[z],z,l));return O},At=Array.prototype.some?function(l,m){return Array.prototype.some.call(l,m,void 0)}:function(l,m){for(var E=l.length,O=typeof l=="string"?l.split(""):l,F=0;F<E;F++)if(F in O&&m.call(void 0,O[F],F,l))return!0;return!1};function Mt(l){e:{for(var m=Pl,E=l.length,O=typeof l=="string"?l.split(""):l,F=0;F<E;F++)if(F in O&&m.call(void 0,O[F],F,l)){m=F;break e}m=-1}return 0>m?null:typeof l=="string"?l.charAt(m):l[m]}function zt(l,m){return 0<=st(l,m)}function Te(l,m){m=st(l,m);var E;return(E=0<=m)&&Array.prototype.splice.call(l,m,1),E}function qe(l,m){var E=0;Pt(l,function(O,F){m.call(void 0,O,F,l)&&Array.prototype.splice.call(l,F,1).length==1&&E++})}function rt(l){return Array.prototype.concat.apply([],arguments)}function Fe(l){var m=l.length;if(0<m){for(var E=Array(m),O=0;O<m;O++)E[O]=l[O];return E}return[]}var Ot=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]},we=/&/g,Ze=/</g,ot=/>/g,je=/"/g,Le=/'/g,vt=/\x00/g,bt=/[\x00&<>"']/;function ft(l,m){return l.indexOf(m)!=-1}function _n(l,m){return l<m?-1:l>m?1:0}var xr;e:{var ur=g.navigator;if(ur){var yi=ur.userAgent;if(yi){xr=yi;break e}}xr=""}function te(l){return ft(xr,l)}function Ee(l,m){for(var E in l)m.call(void 0,l[E],E,l)}function Ue(l){for(var m in l)return!1;return!0}function ze(l){var m={},E;for(E in l)m[E]=l[E];return m}var _t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kt(l,m){for(var E,O,F=1;F<arguments.length;F++){O=arguments[F];for(E in O)l[E]=O[E];for(var z=0;z<_t.length;z++)E=_t[z],Object.prototype.hasOwnProperty.call(O,E)&&(l[E]=O[E])}}function Bt(l,m){e:{try{var E=l&&l.ownerDocument,O=E&&(E.defaultView||E.parentWindow);if(O=O||g,O.Element&&O.Location){var F=O;break e}}catch{}F=null}if(F&&typeof F[m]<"u"&&(!l||!(l instanceof F[m])&&(l instanceof F.Location||l instanceof F.Element))){if(R(l))try{var z=l.constructor.displayName||l.constructor.name||Object.prototype.toString.call(l)}catch{z="<object could not be stringified>"}else z=l===void 0?"undefined":l===null?"null":typeof l;Pe("Argument is not a %s (or a non-Element, non-Location mock); got: %s",m,z)}}function cn(l,m){this.a=l===dr&&m||"",this.b=fr}cn.prototype.ta=!0,cn.prototype.sa=function(){return this.a},cn.prototype.toString=function(){return"Const{"+this.a+"}"};function zn(l){return l instanceof cn&&l.constructor===cn&&l.b===fr?l.a:(Pe("expected object of type Const, got '"+l+"'"),"type_error:Const")}var fr={},dr={},Kr;function Ji(){if(Kr===void 0){var l=null,m=g.trustedTypes;if(m&&m.createPolicy){try{l=m.createPolicy("goog#html",{createHTML:xe,createScript:xe,createScriptURL:xe})}catch(E){g.console&&g.console.error(E.message)}Kr=l}else Kr=l}return Kr}function Or(l,m){this.a=m===up?l:""}Or.prototype.ta=!0,Or.prototype.sa=function(){return this.a.toString()},Or.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Wr(l){return l instanceof Or&&l.constructor===Or?l.a:(Pe("expected object of type TrustedResourceUrl, got '"+l+"' of type "+L(l)),"type_error:TrustedResourceUrl")}function ju(l,m){var E=zn(l);if(!em.test(E))throw Error("Invalid TrustedResourceUrl format: "+E);return l=E.replace(Zv,function(O,F){if(!Object.prototype.hasOwnProperty.call(m,F))throw Error('Found marker, "'+F+'", in format string, "'+E+'", but no valid label mapping found in args: '+JSON.stringify(m));return O=m[F],O instanceof cn?zn(O):encodeURIComponent(String(O))}),OI(l)}var Zv=/%{(\w+)}/g,em=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,up={};function OI(l){var m=Ji();return l=m?m.createScriptURL(l):l,new Or(l,up)}function Ui(l,m){this.a=m===eu?l:""}Ui.prototype.ta=!0,Ui.prototype.sa=function(){return this.a.toString()},Ui.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function As(l){return l instanceof Ui&&l.constructor===Ui?l.a:(Pe("expected object of type SafeUrl, got '"+l+"' of type "+L(l)),"type_error:SafeUrl")}var Za=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nr=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,tm=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ln(l){if(l instanceof Ui)return l;if(l=typeof l=="object"&&l.ta?l.sa():String(l),tm.test(l))l=new Ui(l,eu);else{l=String(l),l=l.replace(/(%0A|%0D)/g,"");var m=l.match(Nr);l=m&&Za.test(m[1])?new Ui(l,eu):null}return l}function Gr(l){return l instanceof Ui?l:(l=typeof l=="object"&&l.ta?l.sa():String(l),tm.test(l)||(l="about:invalid#zClosurez"),new Ui(l,eu))}var eu={},xs=new Ui("about:invalid#zClosurez",eu);function Os(l,m,E){this.a=E===nm?l:""}Os.prototype.ta=!0,Os.prototype.sa=function(){return this.a.toString()},Os.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function _l(l){return l instanceof Os&&l.constructor===Os?l.a:(Pe("expected object of type SafeHtml, got '"+l+"' of type "+L(l)),"type_error:SafeHtml")}var nm={};function Pf(l,m){Bt(l,"HTMLScriptElement"),l.src=Wr(m),(m=l.ownerDocument&&l.ownerDocument.defaultView)&&m!=g?m=C(m.document):(S===null&&(S=C(g.document)),m=S),m&&l.setAttribute("nonce",m)}function cp(l,m,E,O){return l=l instanceof Ui?l:Gr(l),m=m||g,E=E instanceof cn?zn(E):E||"",m.open(As(l),E,O,void 0)}function E_(l,m){for(var E=l.split("%s"),O="",F=Array.prototype.slice.call(arguments,1);F.length&&1<E.length;)O+=E.shift()+F.shift();return O+E.join("%s")}function oe(l){return bt.test(l)&&(l.indexOf("&")!=-1&&(l=l.replace(we,"&amp;")),l.indexOf("<")!=-1&&(l=l.replace(Ze,"&lt;")),l.indexOf(">")!=-1&&(l=l.replace(ot,"&gt;")),l.indexOf('"')!=-1&&(l=l.replace(je,"&quot;")),l.indexOf("'")!=-1&&(l=l.replace(Le,"&#39;")),l.indexOf("\0")!=-1&&(l=l.replace(vt,"&#0;"))),l}function Me(l){return Me[" "](l),l}Me[" "]=A;function nt(l,m){var E=Oi;return Object.prototype.hasOwnProperty.call(E,l)?E[l]:E[l]=m(l)}var Ge=te("Opera"),Dt=te("Trident")||te("MSIE"),Wt=te("Edge"),hn=Wt||Dt,pr=te("Gecko")&&!(ft(xr.toLowerCase(),"webkit")&&!te("Edge"))&&!(te("Trident")||te("MSIE"))&&!te("Edge"),cr=ft(xr.toLowerCase(),"webkit")&&!te("Edge");function Un(){var l=g.document;return l?l.documentMode:void 0}var Sn;e:{var Fo="",fo=function(){var l=xr;if(pr)return/rv:([^\);]+)(\)|;)/.exec(l);if(Wt)return/Edge\/([\d\.]+)/.exec(l);if(Dt)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l);if(cr)return/WebKit\/(\S+)/.exec(l);if(Ge)return/(?:Version)[ \/]?(\S+)/.exec(l)}();if(fo&&(Fo=fo?fo[1]:""),Dt){var $n=Un();if($n!=null&&$n>parseFloat(Fo)){Sn=String($n);break e}}Sn=Fo}var Oi={};function jo(l){return nt(l,function(){for(var m=0,E=Ot(String(Sn)).split("."),O=Ot(String(l)).split("."),F=Math.max(E.length,O.length),z=0;m==0&&z<F;z++){var Q=E[z]||"",ue=O[z]||"";do{if(Q=/(\d*)(\D*)(.*)/.exec(Q)||["","","",""],ue=/(\d*)(\D*)(.*)/.exec(ue)||["","","",""],Q[0].length==0&&ue[0].length==0)break;m=_n(Q[1].length==0?0:parseInt(Q[1],10),ue[1].length==0?0:parseInt(ue[1],10))||_n(Q[2].length==0,ue[2].length==0)||_n(Q[2],ue[2]),Q=Q[3],ue=ue[3]}while(m==0)}return 0<=m})}var Uu;if(g.document&&Dt){var $u=Un();Uu=$u||parseInt(Sn,10)||void 0}else Uu=void 0;var Ns=Uu;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var S_=!Dt||9<=Number(Ns);function Th(l){var m=document;return typeof l=="string"?m.getElementById(l):l}function ma(l,m){Ee(m,function(E,O){E&&typeof E=="object"&&E.ta&&(E=E.sa()),O=="style"?l.style.cssText=E:O=="class"?l.className=E:O=="for"?l.htmlFor=E:or.hasOwnProperty(O)?l.setAttribute(or[O],E):O.lastIndexOf("aria-",0)==0||O.lastIndexOf("data-",0)==0?l.setAttribute(O,E):l[O]=E})}var or={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function tr(l,m,E){var O=arguments,F=document,z=String(O[0]),Q=O[1];if(!S_&&Q&&(Q.name||Q.type)){if(z=["<",z],Q.name&&z.push(' name="',oe(Q.name),'"'),Q.type){z.push(' type="',oe(Q.type),'"');var ue={};kt(ue,Q),delete ue.type,Q=ue}z.push(">"),z=z.join("")}return z=Vu(F,z),Q&&(typeof Q=="string"?z.className=Q:Array.isArray(Q)?z.className=Q.join(" "):ma(z,Q)),2<O.length&&El(F,z,O),z}function El(l,m,E){function O(ue){ue&&m.appendChild(typeof ue=="string"?l.createTextNode(ue):ue)}for(var F=2;F<E.length;F++){var z=E[F];if(!M(z)||R(z)&&0<z.nodeType)O(z);else{e:{if(z&&typeof z.length=="number"){if(R(z)){var Q=typeof z.item=="function"||typeof z.item=="string";break e}if(U(z)){Q=typeof z.item=="function";break e}}Q=!1}Re(Q?Fe(z):z,O)}}}function Vu(l,m){return m=String(m),l.contentType==="application/xhtml+xml"&&(m=m.toLowerCase()),l.createElement(m)}function $i(l){g.setTimeout(function(){throw l},0)}var Qr;function ga(){var l=g.MessageChannel;if(typeof l>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!te("Presto")&&(l=function(){var F=Vu(document,"IFRAME");F.style.display="none",document.documentElement.appendChild(F);var z=F.contentWindow;F=z.document,F.open(),F.close();var Q="callImmediate"+Math.random(),ue=z.location.protocol=="file:"?"*":z.location.protocol+"//"+z.location.host;F=Y(function(We){(ue=="*"||We.origin==ue)&&We.data==Q&&this.port1.onmessage()},this),z.addEventListener("message",F,!1),this.port1={},this.port2={postMessage:function(){z.postMessage(Q,ue)}}}),typeof l<"u"&&!te("Trident")&&!te("MSIE")){var m=new l,E={},O=E;return m.port1.onmessage=function(){if(E.next!==void 0){E=E.next;var F=E.Hb;E.Hb=null,F()}},function(F){O.next={Hb:F},O=O.next,m.port2.postMessage(0)}}return function(F){g.setTimeout(F,0)}}function tu(l,m){Yr||Rf(),qu||(Yr(),qu=!0),Ps.add(l,m)}var Yr;function Rf(){if(g.Promise&&g.Promise.resolve){var l=g.Promise.resolve(void 0);Yr=function(){l.then(rm)}}else Yr=function(){var m=rm;!U(g.setImmediate)||g.Window&&g.Window.prototype&&!te("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(Qr||(Qr=ga()),Qr(m)):g.setImmediate(m)}}var qu=!1,Ps=new Se;function rm(){for(var l;l=ee();){try{l.a.call(l.b)}catch(m){$i(m)}fe(Ae,l)}qu=!1}function gn(l,m){if(this.a=Uo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,l!=A)try{var E=this;l.call(m,function(O){Df(E,ya,O)},function(O){if(!(O instanceof pp))try{throw O instanceof Error?O:Error("Promise rejected.")}catch{}Df(E,rs,O)})}catch(O){Df(this,rs,O)}}var Uo=0,ya=2,rs=3;function lp(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}lp.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ih=new he(function(){return new lp},function(l){l.reset()});function Sl(l,m,E){var O=Ih.get();return O.g=l,O.b=m,O.f=E,O}function Xt(l){if(l instanceof gn)return l;var m=new gn(A);return Df(m,ya,l),m}function vr(l){return new gn(function(m,E){E(l)})}function oR(l,m,E){T_(l,m,E,null)||tu(ce(m,l))}function sR(l){return new gn(function(m,E){var O=l.length,F=[];if(O)for(var z=function(at,pn){O--,F[at]=pn,O==0&&m(F)},Q=function(at){E(at)},ue=0,We;ue<l.length;ue++)We=l[ue],oR(We,ce(z,ue),Q);else m(F)})}function nu(l){return new gn(function(m){var E=l.length,O=[];if(E)for(var F=function(ue,We,at){E--,O[ue]=We?{Qb:!0,value:at}:{Qb:!1,reason:at},E==0&&m(O)},z=0,Q;z<l.length;z++)Q=l[z],oR(Q,ce(F,z,!0),ce(F,z,!1));else m(O)})}gn.prototype.then=function(l,m,E){return hp(this,U(l)?l:null,U(m)?m:null,E)},gn.prototype.$goog_Thenable=!0,e=gn.prototype,e.oa=function(l,m){return l=Sl(l,l,m),l.c=!0,My(this,l),this},e.o=function(l,m){return hp(this,null,l,m)},e.cancel=function(l){if(this.a==Uo){var m=new pp(l);tu(function(){aR(this,m)},this)}};function aR(l,m){if(l.a==Uo)if(l.c){var E=l.c;if(E.b){for(var O=0,F=null,z=null,Q=E.b;Q&&(Q.c||(O++,Q.a==l&&(F=Q),!(F&&1<O)));Q=Q.next)F||(z=Q);F&&(E.a==Uo&&O==1?aR(E,m):(z?(O=z,O.next==E.f&&(E.f=O),O.next=O.next.next):dp(E),I_(E,F,rs,m)))}l.c=null}else Df(l,rs,m)}function My(l,m){l.b||l.a!=ya&&l.a!=rs||fp(l),l.f?l.f.next=m:l.b=m,l.f=m}function hp(l,m,E,O){var F=Sl(null,null,null);return F.a=new gn(function(z,Q){F.g=m?function(ue){try{var We=m.call(O,ue);z(We)}catch(at){Q(at)}}:z,F.b=E?function(ue){try{var We=E.call(O,ue);We===void 0&&ue instanceof pp?Q(ue):z(We)}catch(at){Q(at)}}:Q}),F.a.c=l,My(l,F),F.a}e.$c=function(l){this.a=Uo,Df(this,ya,l)},e.ad=function(l){this.a=Uo,Df(this,rs,l)};function Df(l,m,E){l.a==Uo&&(l===E&&(m=rs,E=new TypeError("Promise cannot resolve to itself")),l.a=1,T_(E,l.$c,l.ad,l)||(l.i=E,l.a=m,l.c=null,fp(l),m!=rs||E instanceof pp||cR(l,E)))}function T_(l,m,E,O){if(l instanceof gn)return My(l,Sl(m||A,E||null,O)),!0;if(_e(l))return l.then(m,E,O),!0;if(R(l))try{var F=l.then;if(U(F))return uR(l,F,m,E,O),!0}catch(z){return E.call(O,z),!0}return!1}function uR(l,m,E,O,F){function z(We){ue||(ue=!0,O.call(F,We))}function Q(We){ue||(ue=!0,E.call(F,We))}var ue=!1;try{m.call(l,Q,z)}catch(We){z(We)}}function fp(l){l.h||(l.h=!0,tu(l.gc,l))}function dp(l){var m=null;return l.b&&(m=l.b,l.b=m.next,m.next=null),l.b||(l.f=null),m}e.gc=function(){for(var l;l=dp(this);)I_(this,l,this.a,this.i);this.h=!1};function I_(l,m,E,O){if(E==rs&&m.b&&!m.c)for(;l&&l.g;l=l.c)l.g=!1;if(m.a)m.a.c=null,NI(m,E,O);else try{m.c?m.g.call(m.f):NI(m,E,O)}catch(F){PI.call(null,F)}fe(Ih,m)}function NI(l,m,E){m==ya?l.g.call(l.f,E):l.b&&l.b.call(l.f,E)}function cR(l,m){l.g=!0,tu(function(){l.g&&PI.call(null,m)})}var PI=$i;function pp(l){He.call(this,l)}ye(pp,He),pp.prototype.name="cancel";function Ch(){this.ya=this.ya,this.pa=this.pa}var LU=0;Ch.prototype.ya=!1;function RI(l){!l.ya&&(l.ya=!0,l.Da(),LU!=0)&&$(l)}Ch.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var MU=Object.freeze||function(l){return l},kc=!Dt||9<=Number(Ns),lR=Dt&&!jo("9"),FU=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{g.addEventListener("test",A,m),g.removeEventListener("test",A,m)}catch{}return l}();function ba(l,m){this.type=l,this.b=this.target=m,this.defaultPrevented=!1}ba.prototype.preventDefault=function(){this.defaultPrevented=!0};function po(l,m){if(ba.call(this,l?l.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,l){var E=this.type=l.type,O=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.b=m,m=l.relatedTarget){if(pr){e:{try{Me(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else E=="mouseover"?m=l.fromElement:E=="mouseout"&&(m=l.toElement);this.relatedTarget=m,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:hR[l.pointerType]||"",this.a=l,l.defaultPrevented&&this.preventDefault()}}ye(po,ba);var hR=MU({2:"touch",3:"pen",4:"mouse"});po.prototype.preventDefault=function(){po.bb.preventDefault.call(this);var l=this.a;if(l.preventDefault)l.preventDefault();else if(l.returnValue=!1,lR)try{(l.ctrlKey||112<=l.keyCode&&123>=l.keyCode)&&(l.keyCode=-1)}catch{}},po.prototype.g=function(){return this.a};var vp="closure_listenable_"+(1e6*Math.random()|0),DI=0;function im(l,m,E,O,F){this.listener=l,this.proxy=null,this.src=m,this.type=E,this.capture=!!O,this.Wa=F,this.key=++DI,this.wa=this.Qa=!1}function C_(l){l.wa=!0,l.listener=null,l.proxy=null,l.src=null,l.Wa=null}function k_(l){this.src=l,this.a={},this.b=0}k_.prototype.add=function(l,m,E,O,F){var z=l.toString();l=this.a[z],l||(l=this.a[z]=[],this.b++);var Q=x_(l,m,O,F);return-1<Q?(m=l[Q],E||(m.Qa=!1)):(m=new im(m,this.src,z,!!O,F),m.Qa=E,l.push(m)),m};function A_(l,m){var E=m.type;E in l.a&&Te(l.a[E],m)&&(C_(m),l.a[E].length==0&&(delete l.a[E],l.b--))}function x_(l,m,E,O){for(var F=0;F<l.length;++F){var z=l[F];if(!z.wa&&z.listener==m&&z.capture==!!E&&z.Wa==O)return F}return-1}var O_="closure_lm_"+(1e6*Math.random()|0),LI={};function ru(l,m,E,O,F){if(O&&O.once)N_(l,m,E,O,F);else if(Array.isArray(m))for(var z=0;z<m.length;z++)ru(l,m[z],E,O,F);else E=mp(E),l&&l[vp]?FI(l,m,E,R(O)?!!O.capture:!!O,F):fR(l,m,E,!1,O,F)}function fR(l,m,E,O,F,z){if(!m)throw Error("Invalid event type");var Q=R(F)?!!F.capture:!!F,ue=om(l);if(ue||(l[O_]=ue=new k_(l)),E=ue.add(m,E,O,Q,z),!E.proxy)if(O=MI(),E.proxy=O,O.src=l,O.listener=E,l.addEventListener)FU||(F=Q),F===void 0&&(F=!1),l.addEventListener(m.toString(),O,F);else if(l.attachEvent)l.attachEvent(dR(m.toString()),O);else if(l.addListener&&l.removeListener)l.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.")}function MI(){var l=jU,m=kc?function(E){return l.call(m.src,m.listener,E)}:function(E){if(E=l.call(m.src,m.listener,E),!E)return E};return m}function N_(l,m,E,O,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)N_(l,m[z],E,O,F);else E=mp(E),l&&l[vp]?jI(l,m,E,R(O)?!!O.capture:!!O,F):fR(l,m,E,!0,O,F)}function Zi(l,m,E,O,F){if(Array.isArray(m))for(var z=0;z<m.length;z++)Zi(l,m[z],E,O,F);else O=R(O)?!!O.capture:!!O,E=mp(E),l&&l[vp]?(l=l.v,m=String(m).toString(),m in l.a&&(z=l.a[m],E=x_(z,E,O,F),-1<E&&(C_(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete l.a[m],l.b--)))):l&&(l=om(l))&&(m=l.a[m.toString()],l=-1,m&&(l=x_(m,E,O,F)),(E=-1<l?m[l]:null)&&P_(E))}function P_(l){if(typeof l!="number"&&l&&!l.wa){var m=l.src;if(m&&m[vp])A_(m.v,l);else{var E=l.type,O=l.proxy;m.removeEventListener?m.removeEventListener(E,O,l.capture):m.detachEvent?m.detachEvent(dR(E),O):m.addListener&&m.removeListener&&m.removeListener(O),(E=om(m))?(A_(E,l),E.b==0&&(E.src=null,m[O_]=null)):C_(l)}}}function dR(l){return l in LI?LI[l]:LI[l]="on"+l}function pR(l,m,E,O){var F=!0;if((l=om(l))&&(m=l.a[m.toString()]))for(m=m.concat(),l=0;l<m.length;l++){var z=m[l];z&&z.capture==E&&!z.wa&&(z=R_(z,O),F=F&&z!==!1)}return F}function R_(l,m){var E=l.listener,O=l.Wa||l.src;return l.Qa&&P_(l),E.call(O,m)}function jU(l,m){if(l.wa)return!0;if(!kc){if(!m)e:{m=["window","event"];for(var E=g,O=0;O<m.length;O++)if(E=E[m[O]],E==null){m=null;break e}m=E}if(O=m,m=new po(O,this),E=!0,!(0>O.keyCode||O.returnValue!=null)){e:{var F=!1;if(O.keyCode==0)try{O.keyCode=-1;break e}catch{F=!0}(F||O.returnValue==null)&&(O.returnValue=!0)}for(O=[],F=m.b;F;F=F.parentNode)O.push(F);for(l=l.type,F=O.length-1;0<=F;F--){m.b=O[F];var z=pR(O[F],l,!0,m);E=E&&z}for(F=0;F<O.length;F++)m.b=O[F],z=pR(O[F],l,!1,m),E=E&&z}return E}return R_(l,new po(m,this))}function om(l){return l=l[O_],l instanceof k_?l:null}var sm="__closure_events_fn_"+(1e9*Math.random()>>>0);function mp(l){return U(l)?l:(l[sm]||(l[sm]=function(m){return l.handleEvent(m)}),l[sm])}function vo(){Ch.call(this),this.v=new k_(this),this.bc=this,this.hb=null}ye(vo,Ch),vo.prototype[vp]=!0,vo.prototype.addEventListener=function(l,m,E,O){ru(this,l,m,E,O)},vo.prototype.removeEventListener=function(l,m,E,O){Zi(this,l,m,E,O)},vo.prototype.dispatchEvent=function(l){var m,E=this.hb;if(E)for(m=[];E;E=E.hb)m.push(E);E=this.bc;var O=l.type||l;if(typeof l=="string")l=new ba(l,E);else if(l instanceof ba)l.target=l.target||E;else{var F=l;l=new ba(O,E),kt(l,F)}if(F=!0,m)for(var z=m.length-1;0<=z;z--){var Q=l.b=m[z];F=Fy(Q,O,!0,l)&&F}if(Q=l.b=E,F=Fy(Q,O,!0,l)&&F,F=Fy(Q,O,!1,l)&&F,m)for(z=0;z<m.length;z++)Q=l.b=m[z],F=Fy(Q,O,!1,l)&&F;return F},vo.prototype.Da=function(){if(vo.bb.Da.call(this),this.v){var l=this.v,m;for(m in l.a){for(var E=l.a[m],O=0;O<E.length;O++)C_(E[O]);delete l.a[m],l.b--}}this.hb=null};function FI(l,m,E,O,F){l.v.add(String(m),E,!1,O,F)}function jI(l,m,E,O,F){l.v.add(String(m),E,!0,O,F)}function Fy(l,m,E,O){if(m=l.v.a[String(m)],!m)return!0;m=m.concat();for(var F=!0,z=0;z<m.length;++z){var Q=m[z];if(Q&&!Q.wa&&Q.capture==E){var ue=Q.listener,We=Q.Wa||Q.src;Q.Qa&&A_(l.v,Q),F=ue.call(We,O)!==!1&&F}}return F&&!O.defaultPrevented}function UI(l,m,E){if(U(l))E&&(l=Y(l,E));else if(l&&typeof l.handleEvent=="function")l=Y(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(l,m||0)}function am(l){var m=null;return new gn(function(E,O){m=UI(function(){E(void 0)},l),m==-1&&O(Error("Failed to schedule timer."))}).o(function(E){throw g.clearTimeout(m),E})}function $I(l){if(l.X&&typeof l.X=="function")return l.X();if(typeof l=="string")return l.split("");if(M(l)){for(var m=[],E=l.length,O=0;O<E;O++)m.push(l[O]);return m}m=[],E=0;for(O in l)m[E++]=l[O];return m}function D_(l){if(l.Y&&typeof l.Y=="function")return l.Y();if(!l.X||typeof l.X!="function"){if(M(l)||typeof l=="string"){var m=[];l=l.length;for(var E=0;E<l;E++)m.push(E);return m}m=[],E=0;for(var O in l)m[E++]=O;return m}}function VI(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(M(l)||typeof l=="string")Re(l,m,void 0);else for(var E=D_(l),O=$I(l),F=O.length,z=0;z<F;z++)m.call(void 0,O[z],E&&E[z],l)}function gp(l,m){this.b={},this.a=[],this.c=0;var E=arguments.length;if(1<E){if(E%2)throw Error("Uneven number of arguments");for(var O=0;O<E;O+=2)this.set(arguments[O],arguments[O+1])}else if(l)if(l instanceof gp)for(E=l.Y(),O=0;O<E.length;O++)this.set(E[O],l.get(E[O]));else for(O in l)this.set(O,l[O])}e=gp.prototype,e.X=function(){qI(this);for(var l=[],m=0;m<this.a.length;m++)l.push(this.b[this.a[m]]);return l},e.Y=function(){return qI(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function qI(l){if(l.c!=l.a.length){for(var m=0,E=0;m<l.a.length;){var O=l.a[m];yp(l.b,O)&&(l.a[E++]=O),m++}l.a.length=E}if(l.c!=l.a.length){var F={};for(E=m=0;m<l.a.length;)O=l.a[m],yp(F,O)||(l.a[E++]=O,F[O]=1),m++;l.a.length=E}}e.get=function(l,m){return yp(this.b,l)?this.b[l]:m},e.set=function(l,m){yp(this.b,l)||(this.c++,this.a.push(l)),this.b[l]=m},e.forEach=function(l,m){for(var E=this.Y(),O=0;O<E.length;O++){var F=E[O],z=this.get(F);l.call(m,z,F,this)}};function yp(l,m){return Object.prototype.hasOwnProperty.call(l,m)}var kh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function L_(l,m){if(l){l=l.split("&");for(var E=0;E<l.length;E++){var O=l[E].indexOf("="),F=null;if(0<=O){var z=l[E].substring(0,O);F=l[E].substring(O+1)}else z=l[E];m(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tl(l,m){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var E;l instanceof Tl?(this.i=m!==void 0?m:l.i,um(this,l.c),this.l=l.l,this.a=l.a,bp(this,l.g),this.f=l.f,M_(this,lm(l.b)),this.h=l.h):l&&(E=String(l).match(kh))?(this.i=!!m,um(this,E[1]||"",!0),this.l=jy(E[2]||""),this.a=jy(E[3]||"",!0),bp(this,E[4]),this.f=jy(E[5]||"",!0),M_(this,E[6]||"",!0),this.h=jy(E[7]||"")):(this.i=!!m,this.b=new _p(null,this.i))}Tl.prototype.toString=function(){var l=[],m=this.c;m&&l.push(cm(m,BI,!0),":");var E=this.a;return(E||m=="file")&&(l.push("//"),(m=this.l)&&l.push(cm(m,BI,!0),"@"),l.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.g,E!=null&&l.push(":",String(E))),(E=this.f)&&(this.a&&E.charAt(0)!="/"&&l.push("/"),l.push(cm(E,E.charAt(0)=="/"?VU:$U,!0))),(E=this.b.toString())&&l.push("?",E),(E=this.h)&&l.push("#",cm(E,F_)),l.join("")},Tl.prototype.resolve=function(l){var m=new Tl(this),E=!!l.c;E?um(m,l.c):E=!!l.l,E?m.l=l.l:E=!!l.a,E?m.a=l.a:E=l.g!=null;var O=l.f;if(E)bp(m,l.g);else if(E=!!l.f){if(O.charAt(0)!="/")if(this.a&&!this.f)O="/"+O;else{var F=m.f.lastIndexOf("/");F!=-1&&(O=m.f.substr(0,F+1)+O)}if(F=O,F==".."||F==".")O="";else if(ft(F,"./")||ft(F,"/.")){O=F.lastIndexOf("/",0)==0,F=F.split("/");for(var z=[],Q=0;Q<F.length;){var ue=F[Q++];ue=="."?O&&Q==F.length&&z.push(""):ue==".."?((1<z.length||z.length==1&&z[0]!="")&&z.pop(),O&&Q==F.length&&z.push("")):(z.push(ue),O=!0)}O=z.join("/")}else O=F}return E?m.f=O:E=l.b.toString()!=="",E?M_(m,lm(l.b)):E=!!l.h,E&&(m.h=l.h),m};function um(l,m,E){l.c=E?jy(m,!0):m,l.c&&(l.c=l.c.replace(/:$/,""))}function bp(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.g=m}else l.g=null}function M_(l,m,E){m instanceof _p?(l.b=m,Rn(l.b,l.i)):(E||(m=cm(m,vR)),l.b=new _p(m,l.i))}function wr(l,m,E){l.b.set(m,E)}function $o(l,m){return l.b.get(m)}function Rs(l){return l instanceof Tl?new Tl(l):new Tl(l,void 0)}function wp(l,m,E,O){var F=new Tl(null,void 0);return l&&um(F,l),m&&(F.a=m),E&&bp(F,E),O&&(F.f=O),F}function jy(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function cm(l,m,E){return typeof l=="string"?(l=encodeURI(l).replace(m,UU),E&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function UU(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var BI=/[#\/\?@]/g,$U=/[#\?:]/g,VU=/[#\?]/g,vR=/[#\?@]/g,F_=/#/g;function _p(l,m){this.b=this.a=null,this.c=l||null,this.f=!!m}function Ah(l){l.a||(l.a=new gp,l.b=0,l.c&&L_(l.c,function(m,E){l.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}function mR(l){var m=D_(l);if(typeof m>"u")throw Error("Keys are undefined");var E=new _p(null,void 0);l=$I(l);for(var O=0;O<m.length;O++){var F=m[O],z=l[O];Array.isArray(z)?j_(E,F,z):E.add(F,z)}return E}e=_p.prototype,e.add=function(l,m){Ah(this),this.c=null,l=Ds(this,l);var E=this.a.get(l);return E||this.a.set(l,E=[]),E.push(m),this.b+=1,this};function Il(l,m){Ah(l),m=Ds(l,m),yp(l.a.b,m)&&(l.c=null,l.b-=l.a.get(m).length,l=l.a,yp(l.b,m)&&(delete l.b[m],l.c--,l.a.length>2*l.c&&qI(l)))}e.clear=function(){this.a=this.c=null,this.b=0};function wa(l,m){return Ah(l),m=Ds(l,m),yp(l.a.b,m)}e.forEach=function(l,m){Ah(this),this.a.forEach(function(E,O){Re(E,function(F){l.call(m,F,O,this)},this)},this)},e.Y=function(){Ah(this);for(var l=this.a.X(),m=this.a.Y(),E=[],O=0;O<m.length;O++)for(var F=l[O],z=0;z<F.length;z++)E.push(m[O]);return E},e.X=function(l){Ah(this);var m=[];if(typeof l=="string")wa(this,l)&&(m=rt(m,this.a.get(Ds(this,l))));else{l=this.a.X();for(var E=0;E<l.length;E++)m=rt(m,l[E])}return m},e.set=function(l,m){return Ah(this),this.c=null,l=Ds(this,l),wa(this,l)&&(this.b-=this.a.get(l).length),this.a.set(l,[m]),this.b+=1,this},e.get=function(l,m){return l?(l=this.X(l),0<l.length?String(l[0]):m):m};function j_(l,m,E){Il(l,m),0<E.length&&(l.c=null,l.a.set(Ds(l,m),Fe(E)),l.b+=E.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var l=[],m=this.a.Y(),E=0;E<m.length;E++){var O=m[E],F=encodeURIComponent(String(O));O=this.X(O);for(var z=0;z<O.length;z++){var Q=F;O[z]!==""&&(Q+="="+encodeURIComponent(String(O[z]))),l.push(Q)}}return this.c=l.join("&")};function lm(l){var m=new _p;return m.c=l.c,l.a&&(m.a=new gp(l.a),m.b=l.b),m}function Ds(l,m){return m=String(m),l.f&&(m=m.toLowerCase()),m}function Rn(l,m){m&&!l.f&&(Ah(l),l.c=null,l.a.forEach(function(E,O){var F=O.toLowerCase();O!=F&&(Il(this,O),j_(this,F,E))},l)),l.f=m}function HI(l){var m=[];return Lf(new Ep,l,m),m.join("")}function Ep(){}function Lf(l,m,E){if(m==null)E.push("null");else{if(typeof m=="object"){if(Array.isArray(m)){var O=m;m=O.length,E.push("[");for(var F="",z=0;z<m;z++)E.push(F),Lf(l,O[z],E),F=",";E.push("]");return}if(m instanceof String||m instanceof Number||m instanceof Boolean)m=m.valueOf();else{E.push("{"),F="";for(O in m)Object.prototype.hasOwnProperty.call(m,O)&&(z=m[O],typeof z!="function"&&(E.push(F),yR(O,E),E.push(":"),Lf(l,z,E),F=","));E.push("}");return}}switch(typeof m){case"string":yR(m,E);break;case"number":E.push(isFinite(m)&&!isNaN(m)?String(m):"null");break;case"boolean":E.push(String(m));break;case"function":E.push("null");break;default:throw Error("Unknown type: "+typeof m)}}}var gR={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Ni=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function yR(l,m){m.push('"',l.replace(Ni,function(E){var O=gR[E];return O||(O="\\u"+(E.charCodeAt(0)|65536).toString(16).substr(1),gR[E]=O),O}),'"')}function zI(){var l=mo();return Dt&&!!Ns&&Ns==11||/Edge\/\d+/.test(l)}function Uy(){return g.window&&g.window.location.href||self&&self.location&&self.location.href||""}function U_(l,m){m=m||g.window;var E="about:blank";l&&(E=As(ln(l)||xs)),m.location.href=E}function si(l,m){var E=[],O;for(O in l)O in m?typeof l[O]!=typeof m[O]?E.push(O):typeof l[O]=="object"&&l[O]!=null&&m[O]!=null?0<si(l[O],m[O]).length&&E.push(O):l[O]!==m[O]&&E.push(O):E.push(O);for(O in m)O in l||E.push(O);return E}function hm(){var l=mo();return l=tn(l)!=GI?null:(l=l.match(/\sChrome\/(\d+)/i))&&l.length==2?parseInt(l[1],10):null,l&&30>l?!1:!Dt||!Ns||9<Ns}function KI(l){return l=(l||mo()).toLowerCase(),!!(l.match(/android/)||l.match(/webos/)||l.match(/iphone|ipad|ipod/)||l.match(/blackberry/)||l.match(/windows phone/)||l.match(/iemobile/))}function Sp(l){l=l||g.window;try{l.close()}catch{}}function bR(l,m,E){var O=Math.floor(1e9*Math.random()).toString();m=m||500,E=E||600;var F=(window.screen.availHeight-E)/2,z=(window.screen.availWidth-m)/2;m={width:m,height:E,top:0<F?F:0,left:0<z?z:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},E=mo().toLowerCase(),O&&(m.target=O,ft(E,"crios/")&&(m.target="_blank")),tn(mo())==q_&&(l=l||"http://localhost",m.scrollbars=!0),E=l||"",(l=m)||(l={}),O=window,m=E instanceof Ui?E:ln(typeof E.href<"u"?E.href:String(E))||xs,E=l.target||E.target,F=[];for(Q in l)switch(Q){case"width":case"height":case"top":case"left":F.push(Q+"="+l[Q]);break;case"target":case"noopener":case"noreferrer":break;default:F.push(Q+"="+(l[Q]?1:0))}var Q=F.join(",");if((te("iPhone")&&!te("iPod")&&!te("iPad")||te("iPad")||te("iPod"))&&O.navigator&&O.navigator.standalone&&E&&E!="_self"?(Q=Vu(document,"A"),Bt(Q,"HTMLAnchorElement"),m=m instanceof Ui?m:Gr(m),Q.href=As(m),Q.setAttribute("target",E),l.noreferrer&&Q.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,O,1),Q.dispatchEvent(l),Q={}):l.noreferrer?(Q=cp("",O,E,Q),l=As(m),Q&&(hn&&ft(l,";")&&(l="'"+l.replace(/'/g,"%27")+"'"),Q.opener=null,l='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+oe(l)+'">',l=(O=Ji())?O.createHTML(l):l,l=new Os(l,null,nm),O=Q.document)&&(O.write(_l(l)),O.close())):(Q=cp(m,O,E,Q))&&l.noopener&&(Q.opener=null),Q)try{Q.focus()}catch{}return Q}function qU(l){return new gn(function(m){function E(){am(2e3).then(function(){if(!l||l.closed)m();else return E()})}return E()})}var wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BU=/^[^@]+@[^@]+$/;function $_(){var l=null;return new gn(function(m){g.document.readyState=="complete"?m():(l=function(){m()},N_(window,"load",l))}).o(function(m){throw Zi(window,"load",l),m})}function yn(){return V_(void 0)?$_().then(function(){return new gn(function(l,m){var E=g.document,O=setTimeout(function(){m(Error("Cordova framework is not ready."))},1e3);E.addEventListener("deviceready",function(){clearTimeout(O),l()},!1)})}):vr(Error("Cordova must run in an Android or iOS file scheme."))}function V_(l){return l=l||mo(),!(jf()!=="file:"&&jf()!=="ionic:"||!l.toLowerCase().match(/iphone|ipad|ipod|android/))}function WI(){var l=g.window;try{return!(!l||l==l.top)}catch{return!1}}function _a(){return typeof g.WorkerGlobalScope<"u"&&typeof g.importScripts=="function"}function Ac(){return Jt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Jt.INTERNAL.hasOwnProperty("node")?"Node":_a()?"Worker":"Browser"}function _R(){var l=Ac();return l==="ReactNative"||l==="Node"}function ER(){for(var l=50,m=[];0<l;)m.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return m.join("")}var q_="Firefox",GI="Chrome";function tn(l){var m=l.toLowerCase();if(ft(m,"opera/")||ft(m,"opr/")||ft(m,"opios/"))return"Opera";if(ft(m,"iemobile"))return"IEMobile";if(ft(m,"msie")||ft(m,"trident/"))return"IE";if(ft(m,"edge/"))return"Edge";if(ft(m,"firefox/"))return q_;if(ft(m,"silk/"))return"Silk";if(ft(m,"blackberry"))return"Blackberry";if(ft(m,"webos"))return"Webos";if(!ft(m,"safari/")||ft(m,"chrome/")||ft(m,"crios/")||ft(m,"android"))if(!ft(m,"chrome/")&&!ft(m,"crios/")||ft(m,"edge/")){if(ft(m,"android"))return"Android";if((l=l.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&l.length==2)return l[1]}else return GI;else return"Safari";return"Other"}var bi={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Mf(l,m){m=m||[];var E=[],O={},F;for(F in bi)O[bi[F]]=!0;for(F=0;F<m.length;F++)typeof O[m[F]]<"u"&&(delete O[m[F]],E.push(m[F]));return E.sort(),m=E,m.length||(m=["FirebaseCore-web"]),E=Ac(),E==="Browser"?(O=mo(),E=tn(O)):E==="Worker"&&(O=mo(),E=tn(O)+"-"+E),E+"/JsCore/"+l+"/"+m.join(",")}function mo(){return g.navigator&&g.navigator.userAgent||""}function qr(l,m){l=l.split("."),m=m||g;for(var E=0;E<l.length&&typeof m=="object"&&m!=null;E++)m=m[l[E]];return E!=l.length&&(m=void 0),m}function QI(){try{var l=g.localStorage,m=Ms();if(l)return l.setItem(m,"1"),l.removeItem(m),zI()?!!g.indexedDB:!0}catch{return _a()&&!!g.indexedDB}return!1}function Ff(){return(Br()||jf()==="chrome-extension:"||V_())&&!_R()&&QI()&&!_a()}function Br(){return jf()==="http:"||jf()==="https:"}function jf(){return g.location&&g.location.protocol||null}function $y(l){return l=l||mo(),!(KI(l)||tn(l)==q_)}function Uf(l){return typeof l>"u"?null:HI(l)}function Ls(l){var m={},E;for(E in l)l.hasOwnProperty(E)&&l[E]!==null&&l[E]!==void 0&&(m[E]=l[E]);return m}function xh(l){if(l!==null)return JSON.parse(l)}function Ms(l){return l||Math.floor(1e9*Math.random()).toString()}function SR(l){return l=l||mo(),!(tn(l)=="Safari"||l.toLowerCase().match(/iphone|ipad|ipod/))}function YI(){var l=g.___jsl;if(l&&l.H){for(var m in l.H)if(l.H[m].r=l.H[m].r||[],l.H[m].L=l.H[m].L||[],l.H[m].r=l.H[m].L.concat(),l.CP)for(var E=0;E<l.CP.length;E++)l.CP[E]=null}}function eo(l,m){if(l>m)throw Error("Short delay should be less than long delay!");this.a=l,this.c=m,l=mo(),m=Ac(),this.b=KI(l)||m==="ReactNative"}eo.prototype.get=function(){var l=g.navigator;return!(l&&typeof l.onLine=="boolean"&&(Br()||jf()==="chrome-extension:"||typeof l.connection<"u"))||l.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Fs(){var l=g.document;return l&&typeof l.visibilityState<"u"?l.visibilityState=="visible":!0}function Vy(){var l=g.document,m=null;return Fs()||!l?Xt():new gn(function(E){m=function(){Fs()&&(l.removeEventListener("visibilitychange",m,!1),E())},l.addEventListener("visibilitychange",m,!1)}).o(function(E){throw l.removeEventListener("visibilitychange",m,!1),E})}function fm(l){try{var m=new Date(parseInt(l,10));if(!isNaN(m.getTime())&&!/[^0-9]/.test(l))return m.toUTCString()}catch{}return null}function Oh(){return!(!qr("fireauth.oauthhelper",g)&&!qr("fireauth.iframe",g))}function TR(){var l=g.navigator;return l&&l.serviceWorker&&l.serviceWorker.controller||null}function HU(){var l=g.navigator;return l&&l.serviceWorker?Xt().then(function(){return l.serviceWorker.ready}).then(function(m){return m.active||null}).o(function(){return null}):Xt(null)}var Cl={};function Tp(l){Cl[l]||(Cl[l]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(l))}var qy;try{var By={};Object.defineProperty(By,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(By,"abcd",{configurable:!0,enumerable:!0,value:2}),qy=By.abcd==2}catch{qy=!1}function xt(l,m,E){qy?Object.defineProperty(l,m,{configurable:!0,enumerable:!0,value:E}):l[m]=E}function Vo(l,m){if(m)for(var E in m)m.hasOwnProperty(E)&&xt(l,E,m[E])}function Bu(l){var m={};return Vo(m,l),m}function XI(l){var m={},E;for(E in l)l.hasOwnProperty(E)&&(m[E]=l[E]);return m}function B_(l,m){if(!m||!m.length)return!0;if(!l)return!1;for(var E=0;E<m.length;E++){var O=l[m[E]];if(O==null||O==="")return!1}return!0}function Hy(l){var m=l;if(typeof l=="object"&&l!=null){m="length"in l?[]:{};for(var E in l)xt(m,E,Hy(l[E]))}return m}function zy(l){var m=l&&(l[K_]?"phone":null);if(m&&l&&l[z_]){xt(this,"uid",l[z_]),xt(this,"displayName",l[dm]||null);var E=null;l[H_]&&(E=new Date(l[H_]).toUTCString()),xt(this,"enrollmentTime",E),xt(this,"factorId",m)}else throw new re("internal-error","Internal assert: invalid MultiFactorInfo object")}zy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Ky(l){try{var m=new iu(l)}catch{m=null}return m}var dm="displayName",H_="enrolledAt",z_="mfaEnrollmentId",K_="phoneInfo";function iu(l){zy.call(this,l),xt(this,"phoneNumber",l[K_])}ye(iu,zy),iu.prototype.w=function(){var l=iu.bb.w.call(this);return l.phoneNumber=this.phoneNumber,l};function zU(l){var m={},E=l[IR],O=l[JI],F=l[G_];if(l=Ky(l[CR]),!F||F!=is&&F!=Wy&&!E||F==Wy&&!O||F==W_&&!l)throw Error("Invalid checkActionCode response!");F==Wy?(m[xc]=E||null,m[$f]=E||null,m[ZI]=O):(m[xc]=O||null,m[$f]=O||null,m[ZI]=E||null),m[Gy]=l||null,xt(this,kR,F),xt(this,KU,Hy(m))}var W_="REVERT_SECOND_FACTOR_ADDITION",is="EMAIL_SIGNIN",Wy="VERIFY_AND_CHANGE_EMAIL",IR="email",CR="mfaInfo",JI="newEmail",G_="requestType",ZI="email",xc="fromEmail",Gy="multiFactorInfo",$f="previousEmail",KU="data",kR="operation";function Ct(l){l=Rs(l);var m=$o(l,sn)||null,E=$o(l,me)||null,O=$o(l,yo)||null;if(O=O&&AR[O]||null,!m||!E||!O)throw new re("argument-error",sn+", "+me+"and "+yo+" are required in a valid action code URL.");Vo(this,{apiKey:m,operation:O,code:E,continueUrl:$o(l,ve)||null,languageCode:$o(l,go)||null,tenantId:$o(l,an)||null})}var sn="apiKey",me="oobCode",ve="continueUrl",go="languageCode",yo="mode",an="tenantId",AR={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:W_,signIn:is,verifyAndChangeEmail:Wy,verifyEmail:"VERIFY_EMAIL"};function eC(l){try{return new Ct(l)}catch{return null}}function Qy(l){var m=l[xR];if(typeof m>"u")throw new re("missing-continue-uri");if(typeof m!="string"||typeof m=="string"&&!m.length)throw new re("invalid-continue-uri");this.h=m,this.b=this.a=null,this.g=!1;var E=l[tC];if(E&&typeof E=="object"){m=E[to];var O=E[nC];if(E=E[pm],typeof m=="string"&&m.length){if(this.a=m,typeof O<"u"&&typeof O!="boolean")throw new re("argument-error",nC+" property must be a boolean when specified.");if(this.g=!!O,typeof E<"u"&&(typeof E!="string"||typeof E=="string"&&!E.length))throw new re("argument-error",pm+" property must be a non empty string when specified.");this.b=E||null}else{if(typeof m<"u")throw new re("argument-error",to+" property must be a non empty string when specified.");if(typeof O<"u"||typeof E<"u")throw new re("missing-android-pkg-name")}}else if(typeof E<"u")throw new re("argument-error",tC+" property must be a non null object when specified.");if(this.f=null,(m=l[Yy])&&typeof m=="object"){if(m=m[rC],typeof m=="string"&&m.length)this.f=m;else if(typeof m<"u")throw new re("argument-error",rC+" property must be a non empty string when specified.")}else if(typeof m<"u")throw new re("argument-error",Yy+" property must be a non null object when specified.");if(m=l[Vf],typeof m<"u"&&typeof m!="boolean")throw new re("argument-error",Vf+" property must be a boolean when specified.");if(this.c=!!m,l=l[mt],typeof l<"u"&&(typeof l!="string"||typeof l=="string"&&!l.length))throw new re("argument-error",mt+" property must be a non empty string when specified.");this.i=l||null}var tC="android",mt="dynamicLinkDomain",Vf="handleCodeInApp",Yy="iOS",xR="url",nC="installApp",pm="minimumVersion",to="packageName",rC="bundleId";function vm(l){var m={};m.continueUrl=l.h,m.canHandleCodeInApp=l.c,(m.androidPackageName=l.a)&&(m.androidMinimumVersion=l.b,m.androidInstallApp=l.g),m.iOSBundleId=l.f,m.dynamicLinkDomain=l.i;for(var E in m)m[E]===null&&delete m[E];return m}function Ip(l){return Vt(l,function(m){return m=m.toString(16),1<m.length?m:"0"+m}).join("")}var Cp=null;function OR(l){var m=[];return iC(l,function(E){m.push(E)}),m}function iC(l,m){function E(We){for(;O<l.length;){var at=l.charAt(O++),pn=Cp[at];if(pn!=null)return pn;if(!/^[\s\xa0]*$/.test(at))throw Error("Unknown base64 encoding at char: "+at)}return We}NR();for(var O=0;;){var F=E(-1),z=E(0),Q=E(64),ue=E(64);if(ue===64&&F===-1)break;m(F<<2|z>>4),Q!=64&&(m(z<<4&240|Q>>2),ue!=64&&m(Q<<6&192|ue))}}function NR(){if(!Cp){Cp={};for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),m=["+/=","+/","-_=","-_.","-_"],E=0;5>E;E++)for(var O=l.concat(m[E].split("")),F=0;F<O.length;F++){var z=O[F];Cp[z]===void 0&&(Cp[z]=F)}}}function Xy(l){var m=Q_(l);if(!(m&&m.sub&&m.iss&&m.aud&&m.exp))throw Error("Invalid JWT");this.h=l,this.a=m.exp,this.i=m.sub,l=Date.now()/1e3,this.g=m.iat||(l>this.a?this.a:l),this.b=m.provider_id||m.firebase&&m.firebase.sign_in_provider||null,this.f=m.firebase&&m.firebase.tenant||null,this.c=!!m.is_anonymous||this.b=="anonymous"}Xy.prototype.T=function(){return this.f},Xy.prototype.l=function(){return this.c},Xy.prototype.toString=function(){return this.h};function qf(l){try{return new Xy(l)}catch{return null}}function Q_(l){if(!l||(l=l.split("."),l.length!=3))return null;l=l[1];for(var m=(4-l.length%4)%4,E=0;E<m;E++)l+=".";try{var O=OR(l);for(l=[],E=m=0;m<O.length;){var F=O[m++];if(128>F)l[E++]=String.fromCharCode(F);else if(191<F&&224>F){var z=O[m++];l[E++]=String.fromCharCode((F&31)<<6|z&63)}else if(239<F&&365>F){z=O[m++];var Q=O[m++],ue=O[m++],We=((F&7)<<18|(z&63)<<12|(Q&63)<<6|ue&63)-65536;l[E++]=String.fromCharCode(55296+(We>>10)),l[E++]=String.fromCharCode(56320+(We&1023))}else z=O[m++],Q=O[m++],l[E++]=String.fromCharCode((F&15)<<12|(z&63)<<6|Q&63)}return JSON.parse(l.join(""))}catch{}return null}var oC="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Jy=["client_id","response_type","scope","redirect_uri","state"],sC={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Jy},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Jy},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Jy},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:oC},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Bf(l){for(var m in sC)if(sC[m].fa==l)return sC[m];return null}function Y_(l){var m={};m["facebook.com"]=Vi,m["google.com"]=Sa,m["github.com"]=X_,m["twitter.com"]=Hf;var E=l&&l[aC];try{if(E)return m[E]?new m[E](l):new Ea(l);if(typeof l[Oc]<"u")return new uC(l)}catch{}return null}var Oc="idToken",aC="providerId";function uC(l){var m=l[aC];if(!m&&l[Oc]){var E=qf(l[Oc]);E&&E.b&&(m=E.b)}if(!m)throw Error("Invalid additional user info!");(m=="anonymous"||m=="custom")&&(m=null),E=!1,typeof l.isNewUser<"u"?E=!!l.isNewUser:l.kind==="identitytoolkit#SignupNewUserResponse"&&(E=!0),xt(this,"providerId",m),xt(this,"isNewUser",E)}function Ea(l){uC.call(this,l),l=xh(l.rawUserInfo||"{}"),xt(this,"profile",Hy(l||{}))}ye(Ea,uC);function Vi(l){if(Ea.call(this,l),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}ye(Vi,Ea);function X_(l){if(Ea.call(this,l),this.providerId!="github.com")throw Error("Invalid provider ID!");xt(this,"username",this.profile&&this.profile.login||null)}ye(X_,Ea);function Sa(l){if(Ea.call(this,l),this.providerId!="google.com")throw Error("Invalid provider ID!")}ye(Sa,Ea);function Hf(l){if(Ea.call(this,l),this.providerId!="twitter.com")throw Error("Invalid provider ID!");xt(this,"username",l.screenName||null)}ye(Hf,Ea);function J_(l){var m=Rs(l),E=$o(m,"link"),O=$o(Rs(E),"link");return m=$o(m,"deep_link_id"),$o(Rs(m),"link")||m||O||E||l}function kp(l,m){if(!l&&!m)throw new re("internal-error","Internal assert: no raw session string available");if(l&&m)throw new re("internal-error","Internal assert: unable to determine the session type");this.a=l||null,this.b=m||null,this.type=this.a?Zy:Z_}var Zy="enroll",Z_="signin";kp.prototype.Ha=function(){return this.a?Xt(this.a):Xt(this.b)},kp.prototype.w=function(){return this.type==Zy?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function kl(){}kl.prototype.ka=function(){},kl.prototype.b=function(){},kl.prototype.c=function(){},kl.prototype.w=function(){};function mm(l,m){return l.then(function(E){if(E[Dc]){var O=qf(E[Dc]);if(!O||m!=O.i)throw new re("user-mismatch");return E}throw new re("user-mismatch")}).o(function(E){throw E&&E.code&&E.code==it+"user-not-found"?new re("user-mismatch"):E})}function Ap(l,m){if(m)this.a=m;else throw new re("internal-error","failed to construct a credential");xt(this,"providerId",l),xt(this,"signInMethod",l)}Ap.prototype.ka=function(l){return Fp(l,Nc(this))},Ap.prototype.b=function(l,m){var E=Nc(this);return E.idToken=m,p1(l,E)},Ap.prototype.c=function(l,m){return mm(Fr(l,Nc(this)),m)};function Nc(l){return{pendingToken:l.a,requestUri:"http://localhost"}}Ap.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function cC(l){if(l&&l.providerId&&l.signInMethod&&l.providerId.indexOf("saml.")==0&&l.pendingToken)try{return new Ap(l.providerId,l.pendingToken)}catch{}return null}function Gt(l,m,E){if(this.a=null,m.idToken||m.accessToken)m.idToken&&xt(this,"idToken",m.idToken),m.accessToken&&xt(this,"accessToken",m.accessToken),m.nonce&&!m.pendingToken&&xt(this,"nonce",m.nonce),m.pendingToken&&(this.a=m.pendingToken);else if(m.oauthToken&&m.oauthTokenSecret)xt(this,"accessToken",m.oauthToken),xt(this,"secret",m.oauthTokenSecret);else throw new re("internal-error","failed to construct a credential");xt(this,"providerId",l),xt(this,"signInMethod",E)}Gt.prototype.ka=function(l){return Fp(l,os(this))},Gt.prototype.b=function(l,m){var E=os(this);return E.idToken=m,p1(l,E)},Gt.prototype.c=function(l,m){var E=os(this);return mm(Fr(l,E),m)};function os(l){var m={};return l.idToken&&(m.id_token=l.idToken),l.accessToken&&(m.access_token=l.accessToken),l.secret&&(m.oauth_token_secret=l.secret),m.providerId=l.providerId,l.nonce&&!l.a&&(m.nonce=l.nonce),m={postBody:mR(m).toString(),requestUri:"http://localhost"},l.a&&(delete m.postBody,m.pendingToken=l.a),m}Gt.prototype.w=function(){var l={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(l.oauthIdToken=this.idToken),this.accessToken&&(l.oauthAccessToken=this.accessToken),this.secret&&(l.oauthTokenSecret=this.secret),this.nonce&&(l.nonce=this.nonce),this.a&&(l.pendingToken=this.a),l};function bo(l){if(l&&l.providerId&&l.signInMethod){var m={idToken:l.oauthIdToken,accessToken:l.oauthTokenSecret?null:l.oauthAccessToken,oauthTokenSecret:l.oauthTokenSecret,oauthToken:l.oauthTokenSecret&&l.oauthAccessToken,nonce:l.nonce,pendingToken:l.pendingToken};try{return new Gt(l.providerId,m,l.signInMethod)}catch{}}return null}function zf(l,m){this.Qc=m||[],Vo(this,{providerId:l,isOAuthProvider:!0}),this.Jb={},this.qb=(Bf(l)||{}).Ja||null,this.pb=null}zf.prototype.Ka=function(l){return this.Jb=ze(l),this};function e0(l){if(typeof l!="string"||l.indexOf("saml.")!=0)throw new re("argument-error",'SAML provider IDs must be prefixed with "saml."');zf.call(this,l,[])}ye(e0,zf);function ou(l){zf.call(this,l,Jy),this.a=[]}ye(ou,zf),ou.prototype.Ca=function(l){return zt(this.a,l)||this.a.push(l),this},ou.prototype.Rb=function(){return Fe(this.a)},ou.prototype.credential=function(l,m){var E;if(R(l)?E={idToken:l.idToken||null,accessToken:l.accessToken||null,nonce:l.rawNonce||null}:E={idToken:l||null,accessToken:m||null},!E.idToken&&!E.accessToken)throw new re("argument-error","credential failed: must provide the ID token and/or the access token.");return new Gt(this.providerId,E,this.providerId)};function xp(){ou.call(this,"facebook.com")}ye(xp,ou),xt(xp,"PROVIDER_ID","facebook.com"),xt(xp,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function PR(l){if(!l)throw new re("argument-error","credential failed: expected 1 argument (the OAuth access token).");var m=l;return R(l)&&(m=l.accessToken),new xp().credential({accessToken:m})}function Op(){ou.call(this,"github.com")}ye(Op,ou),xt(Op,"PROVIDER_ID","github.com"),xt(Op,"GITHUB_SIGN_IN_METHOD","github.com");function e1(l){if(!l)throw new re("argument-error","credential failed: expected 1 argument (the OAuth access token).");var m=l;return R(l)&&(m=l.accessToken),new Op().credential({accessToken:m})}function fn(){ou.call(this,"google.com"),this.Ca("profile")}ye(fn,ou),xt(fn,"PROVIDER_ID","google.com"),xt(fn,"GOOGLE_SIGN_IN_METHOD","google.com");function qo(l,m){var E=l;return R(l)&&(E=l.idToken,m=l.accessToken),new fn().credential({idToken:E,accessToken:m})}function Al(){zf.call(this,"twitter.com",oC)}ye(Al,zf),xt(Al,"PROVIDER_ID","twitter.com"),xt(Al,"TWITTER_SIGN_IN_METHOD","twitter.com");function Kf(l,m){var E=l;if(R(E)||(E={oauthToken:l,oauthTokenSecret:m}),!E.oauthToken||!E.oauthTokenSecret)throw new re("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Gt("twitter.com",E,"twitter.com")}function Nh(l,m,E){this.a=l,this.f=m,xt(this,"providerId","password"),xt(this,"signInMethod",E===su.EMAIL_LINK_SIGN_IN_METHOD?su.EMAIL_LINK_SIGN_IN_METHOD:su.EMAIL_PASSWORD_SIGN_IN_METHOD)}Nh.prototype.ka=function(l){return this.signInMethod==su.EMAIL_LINK_SIGN_IN_METHOD?Mn(l,jp,{email:this.a,oobCode:this.f}):Mn(l,Fl,{email:this.a,password:this.f})},Nh.prototype.b=function(l,m){return this.signInMethod==su.EMAIL_LINK_SIGN_IN_METHOD?Mn(l,WR,{idToken:m,email:this.a,oobCode:this.f}):Mn(l,Mc,{idToken:m,email:this.a,password:this.f})},Nh.prototype.c=function(l,m){return mm(this.ka(l),m)},Nh.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function ss(l){return l&&l.email&&l.password?new Nh(l.email,l.password,l.signInMethod):null}function su(){Vo(this,{providerId:"password",isOAuthProvider:!1})}function gm(l,m){if(m=Pn(m),!m)throw new re("argument-error","Invalid email link!");return new Nh(l,m.code,su.EMAIL_LINK_SIGN_IN_METHOD)}function Pn(l){return l=J_(l),(l=eC(l))&&l.operation===is?l:null}Vo(su,{PROVIDER_ID:"password"}),Vo(su,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vo(su,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function xl(l){if(!(l.fb&&l.eb||l.La&&l.ea))throw new re("internal-error");this.a=l,xt(this,"providerId","phone"),this.fa="phone",xt(this,"signInMethod","phone")}xl.prototype.ka=function(l){return l.gb(ym(this))},xl.prototype.b=function(l,m){var E=ym(this);return E.idToken=m,Mn(l,n$,E)},xl.prototype.c=function(l,m){var E=ym(this);return E.operation="REAUTH",l=Mn(l,SC,E),mm(l,m)},xl.prototype.w=function(){var l={providerId:"phone"};return this.a.fb&&(l.verificationId=this.a.fb),this.a.eb&&(l.verificationCode=this.a.eb),this.a.La&&(l.temporaryProof=this.a.La),this.a.ea&&(l.phoneNumber=this.a.ea),l};function WU(l){if(l&&l.providerId==="phone"&&(l.verificationId&&l.verificationCode||l.temporaryProof&&l.phoneNumber)){var m={};return Re(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(E){l[E]&&(m[E]=l[E])}),new xl(m)}return null}function ym(l){return l.a.La&&l.a.ea?{temporaryProof:l.a.La,phoneNumber:l.a.ea}:{sessionInfo:l.a.fb,code:l.a.eb}}function Ph(l){try{this.a=l||Jt.auth()}catch{throw new re("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vo(this,{providerId:"phone",isOAuthProvider:!1})}Ph.prototype.gb=function(l,m){var E=this.a.a;return Xt(m.verify()).then(function(O){if(typeof O!="string")throw new re("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(m.type){case"recaptcha":var F=R(l)?l.session:null,z=R(l)?l.phoneNumber:l,Q;return F&&F.type==Zy?Q=F.Ha().then(function(ue){return mr(E,{idToken:ue,phoneEnrollmentInfo:{phoneNumber:z,recaptchaToken:O}})}):F&&F.type==Z_?Q=F.Ha().then(function(ue){return sr(E,{mfaPendingCredential:ue,mfaEnrollmentId:l.multiFactorHint&&l.multiFactorHint.uid||l.multiFactorUid,phoneSignInInfo:{recaptchaToken:O}})}):Q=zR(E,{phoneNumber:z,recaptchaToken:O}),Q.then(function(ue){return typeof m.reset=="function"&&m.reset(),ue},function(ue){throw typeof m.reset=="function"&&m.reset(),ue});default:throw new re("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function RR(l,m){if(!l)throw new re("missing-verification-id");if(!m)throw new re("missing-verification-code");return new xl({fb:l,eb:m})}Vo(Ph,{PROVIDER_ID:"phone"}),Vo(Ph,{PHONE_SIGN_IN_METHOD:"phone"});function Rh(l){if(l.temporaryProof&&l.phoneNumber)return new xl({La:l.temporaryProof,ea:l.phoneNumber});var m=l&&l.providerId;if(!m||m==="password")return null;var E=l&&l.oauthAccessToken,O=l&&l.oauthTokenSecret,F=l&&l.nonce,z=l&&l.oauthIdToken,Q=l&&l.pendingToken;try{switch(m){case"google.com":return qo(z,E);case"facebook.com":return PR(E);case"github.com":return e1(E);case"twitter.com":return Kf(E,O);default:return E||O||z||Q?Q?m.indexOf("saml.")==0?new Ap(m,Q):new Gt(m,{pendingToken:Q,idToken:l.oauthIdToken,accessToken:l.oauthAccessToken},m):new ou(m).credential({idToken:z,accessToken:E,rawNonce:F}):null}}catch{return null}}function Hu(l){if(!l.isOAuthProvider)throw new re("invalid-oauth-provider")}function Pc(l,m,E,O,F,z,Q){if(this.c=l,this.b=m||null,this.g=E||null,this.f=O||null,this.i=z||null,this.h=Q||null,this.a=F||null,this.g||this.a){if(this.g&&this.a)throw new re("invalid-auth-event");if(this.g&&!this.f)throw new re("invalid-auth-event")}else throw new re("invalid-auth-event")}Pc.prototype.getUid=function(){var l=[];return l.push(this.c),this.b&&l.push(this.b),this.f&&l.push(this.f),this.h&&l.push(this.h),l.join("-")},Pc.prototype.T=function(){return this.h},Pc.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function DR(l){return l=l||{},l.type?new Pc(l.type,l.eventId,l.urlResponse,l.sessionId,l.error&&ut(l.error),l.postBody,l.tenantId):null}function bm(){this.b=null,this.a=[]}var t1=null;function n1(l){var m=t1;m.a.push(l),m.b||(m.b=function(E){for(var O=0;O<m.a.length;O++)m.a[O](E)},l=qr("universalLinks.subscribe",g),typeof l=="function"&&l(null,m.b))}function lC(l){var m="unauthorized-domain",E=void 0,O=Rs(l);l=O.a,O=O.c,O=="chrome-extension"?E=E_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):O=="http"||O=="https"?E=E_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",l):m="operation-not-supported-in-this-environment",re.call(this,m,E)}ye(lC,re);function Ol(l,m,E){re.call(this,l,E),l=m||{},l.Kb&&xt(this,"email",l.Kb),l.ea&&xt(this,"phoneNumber",l.ea),l.credential&&xt(this,"credential",l.credential),l.$b&&xt(this,"tenantId",l.$b)}ye(Ol,re),Ol.prototype.w=function(){var l={code:this.code,message:this.message};this.email&&(l.email=this.email),this.phoneNumber&&(l.phoneNumber=this.phoneNumber),this.tenantId&&(l.tenantId=this.tenantId);var m=this.credential&&this.credential.w();return m&&kt(l,m),l},Ol.prototype.toJSON=function(){return this.w()};function Np(l){if(l.code){var m=l.code||"";m.indexOf(it)==0&&(m=m.substring(it.length));var E={credential:Rh(l),$b:l.tenantId};if(l.email)E.Kb=l.email;else if(l.phoneNumber)E.ea=l.phoneNumber;else if(!E.credential)return new re(m,l.message||void 0);return new Ol(m,E,l.message)}return null}function js(){}js.prototype.c=null;function LR(l){return l.c||(l.c=l.b())}var hC;function r1(){}ye(r1,js),r1.prototype.a=function(){var l=fC(this);return l?new ActiveXObject(l):new XMLHttpRequest},r1.prototype.b=function(){var l={};return fC(this)&&(l[0]=!0,l[1]=!0),l};function fC(l){if(!l.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var m=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],E=0;E<m.length;E++){var O=m[E];try{return new ActiveXObject(O),l.f=O}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return l.f}hC=new r1;function i1(){}ye(i1,js),i1.prototype.a=function(){var l=new XMLHttpRequest;if("withCredentials"in l)return l;if(typeof XDomainRequest<"u")return new o1;throw Error("Unsupported browser")},i1.prototype.b=function(){return{}};function o1(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Y(this.qc,this),this.a.onerror=Y(this.Tb,this),this.a.onprogress=Y(this.rc,this),this.a.ontimeout=Y(this.vc,this)}e=o1.prototype,e.open=function(l,m,E){if(E!=null&&!E)throw Error("Only async requests are supported.");this.a.open(l,m)},e.send=function(l){if(l)if(typeof l=="string")this.a.send(l);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(l){return l.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,dC(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",dC(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,dC(this,1)};function dC(l,m){l.readyState=m,l.onreadystatechange&&l.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Ht(l,m,E){this.reset(l,m,E,void 0,void 0)}Ht.prototype.a=null,Ht.prototype.reset=function(l,m,E,O,F){delete this.a};function s1(l){this.f=l,this.b=this.c=this.a=null}function wm(l,m){this.name=l,this.value=m}wm.prototype.toString=function(){return this.name};var MR=new wm("SEVERE",1e3),Wf=new wm("WARNING",900),GU=new wm("CONFIG",700),a1=new wm("FINE",500);function pC(l){return l.c?l.c:l.a?pC(l.a):(Pe("Root logger has no level set."),null)}s1.prototype.log=function(l,m,E){if(l.value>=pC(this).value)for(U(m)&&(m=m()),l=new Ht(l,String(m),this.f),E&&(l.a=E),E=this;E;)E=E.a};var u1={},_m=null;function Em(l){_m||(_m=new s1(""),u1[""]=_m,_m.c=GU);var m;if(!(m=u1[l])){m=new s1(l);var E=l.lastIndexOf("."),O=l.substr(E+1);E=Em(l.substr(0,E)),E.b||(E.b={}),E.b[O]=m,m.a=E,u1[l]=m}return m}function zu(l,m){l&&l.log(a1,m,void 0)}function Gf(l){this.f=l}ye(Gf,js),Gf.prototype.a=function(){return new t0(this.f)},Gf.prototype.b=function(l){return function(){return l}}({});function t0(l){vo.call(this),this.u=l,this.h=void 0,this.readyState=c1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Em("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}ye(t0,vo);var c1=0;e=t0.prototype,e.open=function(l,m){if(this.readyState!=c1)throw this.abort(),Error("Error reopening a connection");this.s=l,this.f=m,this.readyState=1,Nl(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var m={headers:this.l,method:this.s,credentials:this.h,cache:void 0};l&&(m.body=l),this.u.fetch(new Request(this.f,m)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Pp(this)),this.readyState=c1},e.uc=function(l){this.a&&(this.g=l,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=l.headers,this.readyState=2,Nl(this)),this.a&&(this.readyState=3,Nl(this),this.a&&(this.responseType==="arraybuffer"?l.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof g.ReadableStream<"u"&&"body"in l?(this.response=this.responseText="",this.c=l.body.getReader(),this.m=new TextDecoder,Qf(this)):l.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Qf(l){l.c.read().then(l.pc.bind(l)).catch(l.Va.bind(l))}e.pc=function(l){if(this.a){var m=this.m.decode(l.value?l.value:new Uint8Array(0),{stream:!l.done});m&&(this.response=this.responseText+=m),l.done?Pp(this):Nl(this),this.readyState==3&&Qf(this)}},e.tc=function(l){this.a&&(this.response=this.responseText=l,Pp(this))},e.sc=function(l){this.a&&(this.response=l,Pp(this))},e.Va=function(l){var m=this.i;m&&m.log(Wf,"Failed to fetch url "+this.f,l instanceof Error?l:Error(l)),this.a&&Pp(this)};function Pp(l){l.readyState=4,l.g=null,l.c=null,l.m=null,Nl(l)}e.setRequestHeader=function(l,m){this.l.append(l,m)},e.getResponseHeader=function(l){return this.b?this.b.get(l.toLowerCase())||"":((l=this.i)&&l.log(Wf,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var l=this.i;return l&&l.log(Wf,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}l=[];for(var m=this.b.entries(),E=m.next();!E.done;)E=E.value,l.push(E[0]+": "+E[1]),E=m.next();return l.join(`\r
`)};function Nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(t0.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(l){this.h=l?"include":"same-origin"}});function Sm(l){vo.call(this),this.headers=new gp,this.D=l||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Tm,this.u=this.S=!1}ye(Sm,vo);var Tm="";Sm.prototype.b=Em("goog.net.XhrIo");var Rp=/^https?$/i,FR=["POST","PUT"];function wo(l,m,E,O,F){if(l.a)throw Error("[goog.net.XhrIo] Object is active with another request="+l.l+"; newUri="+m);E=E?E.toUpperCase():"GET",l.l=m,l.h="",l.P=E,l.J=!1,l.c=!0,l.a=l.D?l.D.a():hC.a(),l.C=l.D?LR(l.D):LR(hC),l.a.onreadystatechange=Y(l.Wb,l);try{zu(l.b,Dh(l,"Opening Xhr")),l.N=!0,l.a.open(E,String(m),!0),l.N=!1}catch(Q){zu(l.b,Dh(l,"Error opening Xhr: "+Q.message)),_o(l,Q);return}m=O||"";var z=new gp(l.headers);F&&VI(F,function(Q,ue){z.set(ue,Q)}),F=Mt(z.Y()),O=g.FormData&&m instanceof g.FormData,!zt(FR,E)||F||O||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),z.forEach(function(Q,ue){this.a.setRequestHeader(ue,Q)},l),l.m&&(l.a.responseType=l.m),"withCredentials"in l.a&&l.a.withCredentials!==l.S&&(l.a.withCredentials=l.S);try{l1(l),0<l.g&&(l.u=n0(l.a),zu(l.b,Dh(l,"Will abort after "+l.g+"ms if incomplete, xhr2 "+l.u)),l.u?(l.a.timeout=l.g,l.a.ontimeout=Y(l.Ma,l)):l.s=UI(l.Ma,l.g,l)),zu(l.b,Dh(l,"Sending request")),l.i=!0,l.a.send(m),l.i=!1}catch(Q){zu(l.b,Dh(l,"Send error: "+Q.message)),_o(l,Q)}}function n0(l){return Dt&&jo(9)&&typeof l.timeout=="number"&&l.ontimeout!==void 0}function Pl(l){return l.toLowerCase()=="content-type"}e=Sm.prototype,e.Ma=function(){typeof v<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zu(this.b,Dh(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function _o(l,m){l.c=!1,l.a&&(l.f=!0,l.a.abort(),l.f=!1),l.h=m,Rl(l),Dl(l)}function Rl(l){l.J||(l.J=!0,l.dispatchEvent("complete"),l.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(zu(this.b,Dh(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Dl(this,!0)),Sm.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Rc(this):this.Jc())},e.Jc=function(){Rc(this)};function Rc(l){if(l.c&&typeof v<"u"){if(l.C[1]&&ai(l)==4&&r0(l)==2)zu(l.b,Dh(l,"Local request error detected and ignored"));else if(l.i&&ai(l)==4)UI(l.Wb,0,l);else if(l.dispatchEvent("readystatechange"),ai(l)==4){zu(l.b,Dh(l,"Request complete")),l.c=!1;try{var m=r0(l);e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var O;if(!(O=E)){var F;if(F=m===0){var z=String(l.l).match(kh)[1]||null;if(!z&&g.self&&g.self.location){var Q=g.self.location.protocol;z=Q.substr(0,Q.length-1)}F=!Rp.test(z?z.toLowerCase():"")}O=F}if(O)l.dispatchEvent("complete"),l.dispatchEvent("success");else{try{var ue=2<ai(l)?l.a.statusText:""}catch(We){zu(l.b,"Can not get status: "+We.message),ue=""}l.h=ue+" ["+r0(l)+"]",Rl(l)}}finally{Dl(l)}}}}function Dl(l,m){if(l.a){l1(l);var E=l.a,O=l.C[0]?A:null;l.a=null,l.C=null,m||l.dispatchEvent("ready");try{E.onreadystatechange=O}catch(F){(l=l.b)&&l.log(MR,"Problem encountered resetting onreadystatechange: "+F.message,void 0)}}}function l1(l){l.a&&l.u&&(l.a.ontimeout=null),l.s&&(g.clearTimeout(l.s),l.s=null)}function ai(l){return l.a?l.a.readyState:0}function r0(l){try{return 2<ai(l)?l.a.status:-1}catch{return-1}}function i0(l){try{return l.a?l.a.responseText:""}catch(m){return zu(l.b,"Can not get responseText: "+m.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Tm:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var l=this.b;return l&&l.log(MR,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(m){return zu(this.b,"Can not get response: "+m.message),null}};function Dh(l,m){return m+" ["+l.P+" "+l.l+" "+r0(l)+"]"}function Yf(l){var m=mC;this.g=[],this.u=m,this.s=l||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Yf.prototype.cancel=function(l){if(this.a)this.c instanceof Yf&&this.c.cancel();else{if(this.b){var m=this.b;delete this.b,l?m.cancel(l):(m.l--,0>=m.l&&m.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(l=new Lh,Lp(this),Dp(this,!1,l))}},Yf.prototype.m=function(l,m){this.i=!1,Dp(this,l,m)};function Dp(l,m,E){l.a=!0,l.c=E,l.f=!m,jR(l)}function Lp(l){if(l.a){if(!l.v)throw new Xf;l.v=!1}}function Im(l,m){vC(l,null,m,void 0)}function vC(l,m,E,O){l.g.push([m,E,O]),l.a&&jR(l)}Yf.prototype.then=function(l,m,E){var O,F,z=new gn(function(Q,ue){O=Q,F=ue});return vC(this,O,function(Q){Q instanceof Lh?z.cancel():F(Q)}),z.then(l,m,E)},Yf.prototype.$goog_Thenable=!0;function o0(l){return At(l.g,function(m){return U(m[1])})}function jR(l){if(l.h&&l.a&&o0(l)){var m=l.h,E=s0[m];E&&(g.clearTimeout(E.a),delete s0[m]),l.h=0}l.b&&(l.b.l--,delete l.b),m=l.c;for(var O=E=!1;l.g.length&&!l.i;){var F=l.g.shift(),z=F[0],Q=F[1];if(F=F[2],z=l.f?Q:z)try{var ue=z.call(F||l.s,m);ue!==void 0&&(l.f=l.f&&(ue==m||ue instanceof Error),l.c=m=ue),(_e(m)||typeof g.Promise=="function"&&m instanceof g.Promise)&&(O=!0,l.i=!0)}catch(We){m=We,l.f=!0,o0(l)||(E=!0)}}l.c=m,O&&(ue=Y(l.m,l,!0),O=Y(l.m,l,!1),m instanceof Yf?(vC(m,ue,O),m.C=!0):m.then(ue,O)),E&&(m=new Mp(m),s0[m.a]=m,l.h=m.a)}function Xf(){He.call(this)}ye(Xf,He),Xf.prototype.message="Deferred has already fired",Xf.prototype.name="AlreadyCalledError";function Lh(){He.call(this)}ye(Lh,He),Lh.prototype.message="Deferred was canceled",Lh.prototype.name="CanceledError";function Mp(l){this.a=g.setTimeout(Y(this.c,this),0),this.b=l}Mp.prototype.c=function(){throw delete s0[this.a],this.b};var s0={};function h1(l){var m={},E=m.document||document,O=Wr(l).toString(),F=Vu(document,"SCRIPT"),z={Xb:F,Ma:void 0},Q=new Yf(z),ue=null,We=m.timeout!=null?m.timeout:5e3;return 0<We&&(ue=window.setTimeout(function(){Mh(F,!0);var at=new a0(QU,"Timeout reached for loading script "+O);Lp(Q),Dp(Q,!1,at)},We),z.Ma=ue),F.onload=F.onreadystatechange=function(){F.readyState&&F.readyState!="loaded"&&F.readyState!="complete"||(Mh(F,m.xd||!1,ue),Lp(Q),Dp(Q,!0,null))},F.onerror=function(){Mh(F,!0,ue);var at=new a0($R,"Error while loading script "+O);Lp(Q),Dp(Q,!1,at)},z=m.attributes||{},kt(z,{type:"text/javascript",charset:"UTF-8"}),ma(F,z),Pf(F,l),UR(E).appendChild(F),Q}function UR(l){var m;return(m=(l||document).getElementsByTagName("HEAD"))&&m.length!=0?m[0]:l.documentElement}function mC(){if(this&&this.Xb){var l=this.Xb;l&&l.tagName=="SCRIPT"&&Mh(l,!0,this.Ma)}}function Mh(l,m,E){E!=null&&g.clearTimeout(E),l.onload=A,l.onerror=A,l.onreadystatechange=A,m&&window.setTimeout(function(){l&&l.parentNode&&l.parentNode.removeChild(l)},0)}var $R=0,QU=1;function a0(l,m){var E="Jsloader error (code #"+l+")";m&&(E+=": "+m),He.call(this,E),this.code=l}ye(a0,He);function Cm(l){this.f=l}ye(Cm,js),Cm.prototype.a=function(){return new this.f},Cm.prototype.b=function(){return{}};function au(l,m,E){if(this.c=l,l=m||{},this.l=l.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=l.secureTokenTimeout||gC,this.g=ze(l.secureTokenHeaders||YU),this.h=l.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=l.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=l.firebaseTimeout||XU,this.a=ze(l.firebaseHeaders||yC),E&&(this.a["X-Client-Version"]=E,this.g["X-Client-Version"]=E),E=Ac()=="Node",E=g.XMLHttpRequest||E&&Jt.INTERNAL.node&&Jt.INTERNAL.node.XMLHttpRequest,!E&&!_a())throw new re("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,_a()?this.f=new Gf(self):_R()?this.f=new Cm(E):this.f=new i1,this.b=null}var u0,Dc="idToken",gC=new eo(3e4,6e4),YU={"Content-Type":"application/x-www-form-urlencoded"},XU=new eo(3e4,6e4),yC={"Content-Type":"application/json"};function Eo(l,m){m?l.a["X-Firebase-Locale"]=m:delete l.a["X-Firebase-Locale"]}function f1(l,m){m&&(l.l=Lc("https://securetoken.googleapis.com/v1/token",m),l.h=Lc("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",m),l.i=Lc("https://identitytoolkit.googleapis.com/v2/",m))}function Lc(l,m){return l=Rs(l),m=Rs(m.url),l.f=l.a+l.f,um(l,m.c),l.a=m.a,bp(l,m.g),l.toString()}function c0(l,m){m?(l.a["X-Client-Version"]=m,l.g["X-Client-Version"]=m):(delete l.a["X-Client-Version"],delete l.g["X-Client-Version"])}au.prototype.T=function(){return this.b};function Jf(l,m,E,O,F,z,Q){hm()||_a()?l=Y(l.u,l):(u0||(u0=new gn(function(ue,We){km(ue,We)})),l=Y(l.s,l)),l(m,E,O,F,z,Q)}au.prototype.u=function(l,m,E,O,F,z){if(_a()&&(typeof g.fetch>"u"||typeof g.Headers>"u"||typeof g.Request>"u"))throw new re("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var Q=new Sm(this.f);if(z){Q.g=Math.max(0,z);var ue=setTimeout(function(){Q.dispatchEvent("timeout")},z)}FI(Q,"complete",function(){ue&&clearTimeout(ue);var We=null;try{We=JSON.parse(i0(this))||null}catch{We=null}m&&m(We)}),jI(Q,"ready",function(){ue&&clearTimeout(ue),RI(this)}),jI(Q,"timeout",function(){ue&&clearTimeout(ue),RI(this),m&&m(null)}),wo(Q,l,E,O,F)};var ui=new cn(dr,"https://apis.google.com/js/client.js?onload=%{onload}"),VR="__fcb"+Math.floor(1e6*Math.random()).toString();function km(l,m){if(((window.gapi||{}).client||{}).request)l();else{g[VR]=function(){((window.gapi||{}).client||{}).request?l():m(Error("CORS_UNSUPPORTED"))};var E=ju(ui,{onload:VR});Im(h1(E),function(){m(Error("CORS_UNSUPPORTED"))})}}au.prototype.s=function(l,m,E,O,F){var z=this;u0.then(function(){window.gapi.client.setApiKey(z.c);var Q=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:l,method:E,body:O,headers:F,authType:"none",callback:function(ue){window.gapi.auth.setToken(Q),m&&m(ue)}})}).o(function(Q){m&&m({error:{message:Q&&Q.message||"CORS_UNSUPPORTED"}})})};function qR(l,m){return new gn(function(E,O){m.grant_type=="refresh_token"&&m.refresh_token||m.grant_type=="authorization_code"&&m.code?Jf(l,l.l+"?key="+encodeURIComponent(l.c),function(F){F?F.error?O(w1(F)):F.access_token&&F.refresh_token?E(F):O(new re("internal-error")):O(new re("network-request-failed"))},"POST",mR(m).toString(),l.g,l.m.get()):O(new re("internal-error"))})}function Ir(l,m,E,O,F,z,Q){var ue=Rs(m+E);wr(ue,"key",l.c),Q&&wr(ue,"cb",Date.now().toString());var We=O=="GET";if(We)for(var at in F)F.hasOwnProperty(at)&&wr(ue,at,F[at]);return new gn(function(pn,Er){Jf(l,ue.toString(),function(Qn){Qn?Qn.error?Er(w1(Qn,z||{})):pn(Qn):Er(new re("network-request-failed"))},O,We?void 0:HI(Ls(F)),l.a,l.v.get())})}function Us(l){if(l=l.email,typeof l!="string"||!BU.test(l))throw new re("invalid-email")}function wi(l){"email"in l&&Us(l)}function l0(l,m){return Mn(l,Ku,{identifier:m,continueUri:Br()?Uy():"http://localhost"}).then(function(E){return E.signinMethods||[]})}function BR(l){return Mn(l,Vn,{}).then(function(m){return m.authorizedDomains||[]})}function $s(l){if(!l[Dc])throw l.mfaPendingCredential?new re("multi-factor-auth-required",null,ze(l)):new re("internal-error")}function Zf(l){if(l.phoneNumber||l.temporaryProof){if(!l.phoneNumber||!l.temporaryProof)throw new re("internal-error")}else{if(!l.sessionInfo)throw new re("missing-verification-id");if(!l.code)throw new re("missing-verification-code")}}au.prototype.Ab=function(){return Mn(this,Ml,{})},au.prototype.Cb=function(l,m){return Mn(this,g1,{idToken:l,email:m})},au.prototype.Db=function(l,m){return Mn(this,Mc,{idToken:l,password:m})};var HR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=au.prototype,e.Eb=function(l,m){var E={idToken:l},O=[];return Ee(HR,function(F,z){var Q=m[z];Q===null?O.push(F):z in m&&(E[z]=Q)}),O.length&&(E.deleteAttribute=O),Mn(this,g1,E)},e.wb=function(l,m){return l={requestType:"PASSWORD_RESET",email:l},kt(l,m),Mn(this,un,l)},e.xb=function(l,m){return l={requestType:"EMAIL_SIGNIN",email:l},kt(l,m),Mn(this,f0,l)},e.vb=function(l,m){return l={requestType:"VERIFY_EMAIL",idToken:l},kt(l,m),Mn(this,t$,l)},e.Fb=function(l,m,E){return l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:l,newEmail:m},kt(l,E),Mn(this,Up,l)};function zR(l,m){return Mn(l,m1,m)}e.gb=function(l){return Mn(this,no,l)};function mr(l,m){return Mn(l,y1,m).then(function(E){return E.phoneSessionInfo.sessionInfo})}function bC(l){if(!l.phoneVerificationInfo)throw new re("internal-error");if(!l.phoneVerificationInfo.sessionInfo)throw new re("missing-verification-id");if(!l.phoneVerificationInfo.code)throw new re("missing-verification-code")}function sr(l,m){return Mn(l,b1,m).then(function(E){return E.phoneResponseInfo.sessionInfo})}function Dn(l,m,E){return Mn(l,KR,{idToken:m,deleteProvider:E})}function Ll(l){if(!l.requestUri||!l.sessionId&&!l.postBody&&!l.pendingToken)throw new re("internal-error")}function _r(l,m){return m.oauthIdToken&&m.providerId&&m.providerId.indexOf("oidc.")==0&&!m.pendingToken&&(l.sessionId?m.nonce=l.sessionId:l.postBody&&(l=new _p(l.postBody),wa(l,"nonce")&&(m.nonce=l.get("nonce")))),m}function d1(l){var m=null;if(l.needConfirmation?(l.code="account-exists-with-different-credential",m=Np(l)):l.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(l.code="credential-already-in-use",m=Np(l)):l.errorMessage=="EMAIL_EXISTS"?(l.code="email-already-in-use",m=Np(l)):l.errorMessage&&(m=TC(l.errorMessage)),m)throw m;$s(l)}function Fp(l,m){return m.returnIdpCredential=!0,Mn(l,Fc,m)}function p1(l,m){return m.returnIdpCredential=!0,Mn(l,Wu,m)}function Fr(l,m){return m.returnIdpCredential=!0,m.autoCreate=!1,Mn(l,Pr,m)}function Nn(l){if(!l.oobCode)throw new re("invalid-action-code")}e.ob=function(l,m){return Mn(this,v1,{oobCode:l,newPassword:m})},e.Sa=function(l){return Mn(this,JU,{oobCode:l})},e.kb=function(l){return Mn(this,Vs,{oobCode:l})};var Vs={endpoint:"setAccountInfo",A:Nn,Z:"email",B:!0},JU={endpoint:"resetPassword",A:Nn,G:function(l){var m=l.requestType;if(!m||!l.email&&m!="EMAIL_SIGNIN"&&m!="VERIFY_AND_CHANGE_EMAIL")throw new re("internal-error")},B:!0},wC={endpoint:"signupNewUser",A:function(l){if(Us(l),!l.password)throw new re("weak-password")},G:$s,V:!0,B:!0},Ku={endpoint:"createAuthUri",B:!0},ZU={endpoint:"deleteAccount",O:["idToken"]},KR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(l){if(!Array.isArray(l.deleteProvider))throw new re("internal-error")}},jp={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Us,G:$s,V:!0,B:!0},WR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Us,G:$s,V:!0},e$={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:bC,G:$s,B:!0,Na:!0},h0={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:bC,G:$s,B:!0,Na:!0},GR={endpoint:"getAccountInfo"},f0={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if(l.requestType!="EMAIL_SIGNIN")throw new re("internal-error");Us(l)},Z:"email",B:!0},t$={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(l){if(l.requestType!="VERIFY_EMAIL")throw new re("internal-error")},Z:"email",B:!0},Up={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(l){if(l.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new re("internal-error")},Z:"email",B:!0},un={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(l){if(l.requestType!="PASSWORD_RESET")throw new re("internal-error");Us(l)},Z:"email",B:!0},Vn={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},_C={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(l){if(!l.recaptchaSiteKey)throw new re("internal-error")}},v1={endpoint:"resetPassword",A:Nn,Z:"email",B:!0},m1={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},g1={endpoint:"setAccountInfo",O:["idToken"],A:wi,V:!0},Mc={endpoint:"setAccountInfo",O:["idToken"],A:function(l){if(wi(l),!l.password)throw new re("weak-password")},G:$s,V:!0},Ml={endpoint:"signupNewUser",G:$s,V:!0,B:!0},y1={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(l){if(!l.phoneEnrollmentInfo)throw new re("internal-error");if(!l.phoneEnrollmentInfo.phoneNumber)throw new re("missing-phone-number");if(!l.phoneEnrollmentInfo.recaptchaToken)throw new re("missing-app-credential")},G:function(l){if(!l.phoneSessionInfo||!l.phoneSessionInfo.sessionInfo)throw new re("internal-error")},B:!0,Na:!0},b1={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(l){if(!l.phoneSignInInfo||!l.phoneSignInInfo.recaptchaToken)throw new re("missing-app-credential")},G:function(l){if(!l.phoneResponseInfo||!l.phoneResponseInfo.sessionInfo)throw new re("internal-error")},B:!0,Na:!0},Fc={endpoint:"verifyAssertion",A:Ll,Za:_r,G:d1,V:!0,B:!0},Pr={endpoint:"verifyAssertion",A:Ll,Za:_r,G:function(l){if(l.errorMessage&&l.errorMessage=="USER_NOT_FOUND")throw new re("user-not-found");if(l.errorMessage)throw TC(l.errorMessage);$s(l)},V:!0,B:!0},Wu={endpoint:"verifyAssertion",A:function(l){if(Ll(l),!l.idToken)throw new re("internal-error")},Za:_r,G:d1,V:!0},EC={endpoint:"verifyCustomToken",A:function(l){if(!l.token)throw new re("invalid-custom-token")},G:$s,V:!0,B:!0},Fl={endpoint:"verifyPassword",A:function(l){if(Us(l),!l.password)throw new re("wrong-password")},G:$s,V:!0,B:!0},no={endpoint:"verifyPhoneNumber",A:Zf,G:$s,B:!0},n$={endpoint:"verifyPhoneNumber",A:function(l){if(!l.idToken)throw new re("internal-error");Zf(l)},G:function(l){if(l.temporaryProof)throw l.code="credential-already-in-use",Np(l);$s(l)}},SC={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Zf,G:$s,B:!0},QR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(l){if(!!l[Dc]^!!l.refreshToken)throw new re("internal-error")},B:!0,Na:!0};function Mn(l,m,E){if(!B_(E,m.O))return vr(new re("internal-error"));var O=!!m.Na,F=m.Vb||"POST",z;return Xt(E).then(m.A).then(function(){return m.V&&(E.returnSecureToken=!0),m.B&&l.b&&typeof E.tenantId>"u"&&(E.tenantId=l.b),O?Ir(l,l.i,m.endpoint,F,E,m.Ib,m.mb||!1):Ir(l,l.h,m.endpoint,F,E,m.Ib,m.mb||!1)}).then(function(Q){return z=Q,m.Za?m.Za(E,z):z}).then(m.G).then(function(){if(!m.Z)return z;if(!(m.Z in z))throw new re("internal-error");return z[m.Z]})}function TC(l){return w1({error:{errors:[{message:l}],code:400,message:l}})}function w1(l,m){var E=(l.error&&l.error.errors&&l.error.errors[0]||{}).reason||"",O={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(E=O[E]?new re(O[E]):null)return E;E=l.error&&l.error.message||"",O={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},kt(O,m||{}),m=(m=E.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<m.length?m[1]:void 0;for(var F in O)if(E.indexOf(F)===0)return new re(O[F],m);return!m&&l&&(m=Uf(l)),new re("internal-error",m)}function IC(l){this.b=l,this.a=null,this.sb=YR(this)}function YR(l){return XR().then(function(){return new gn(function(m,E){qr("gapi.iframes.getContext")().open({where:document.body,url:l.b,messageHandlersFilter:qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(O){function F(){clearTimeout(z),m()}l.a=O,l.a.restyle({setHideOnLeave:!1});var z=setTimeout(function(){E(Error("Network Error"))},r$.get());O.ping(F).then(F,function(){E(Error("Network Error"))})})})})}function Am(l,m){return l.sb.then(function(){return new gn(function(E){l.a.send(m.type,m,E,qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function nr(l,m){l.sb.then(function(){l.a.register("authEvent",m,qr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Fh=new cn(dr,"https://apis.google.com/js/api.js?onload=%{onload}"),jr=new eo(3e4,6e4),r$=new eo(5e3,15e3),_1=null;function XR(){return _1||(_1=new gn(function(l,m){function E(){YI(),qr("gapi.load")("gapi.iframes",{callback:l,ontimeout:function(){YI(),m(Error("Network Error"))},timeout:jr.get()})}if(qr("gapi.iframes.Iframe"))l();else if(qr("gapi.load"))E();else{var O="__iframefcb"+Math.floor(1e6*Math.random()).toString();g[O]=function(){qr("gapi.load")?E():m(Error("Network Error"))},O=ju(Fh,{onload:O}),Xt(h1(O)).o(function(){m(Error("Network Error"))})}}).o(function(l){throw _1=null,l}))}function CC(l,m,E,O){this.l=l,this.h=m,this.i=E,this.g=O,this.f=null,this.g?(l=Rs(this.g.url),l=wp(l.c,l.a,l.g,"/emulator/auth/iframe")):l=wp("https",this.l,null,"/__/auth/iframe"),this.a=l,wr(this.a,"apiKey",this.h),wr(this.a,"appName",this.i),this.b=null,this.c=[]}CC.prototype.toString=function(){return this.f?wr(this.a,"v",this.f):Il(this.a.b,"v"),this.b?wr(this.a,"eid",this.b):Il(this.a.b,"eid"),this.c.length?wr(this.a,"fw",this.c.join(",")):Il(this.a.b,"fw"),this.a.toString()};function $p(l,m,E,O,F,z){this.u=l,this.s=m,this.c=E,this.m=O,this.v=z,this.i=this.g=this.l=null,this.a=F,this.h=this.f=null}$p.prototype.zb=function(l){return this.h=l,this},$p.prototype.toString=function(){if(this.v){var l=Rs(this.v.url);l=wp(l.c,l.a,l.g,"/emulator/auth/handler")}else l=wp("https",this.u,null,"/__/auth/handler");if(wr(l,"apiKey",this.s),wr(l,"appName",this.c),wr(l,"authType",this.m),this.a.isOAuthProvider){var m=this.a;try{var E=Jt.app(this.c).auth().la()}catch{E=null}m.pb=E,wr(l,"providerId",this.a.providerId),E=this.a,m=Ls(E.Jb);for(var O in m)m[O]=m[O].toString();O=E.Qc,m=ze(m);for(var F=0;F<O.length;F++){var z=O[F];z in m&&delete m[z]}E.qb&&E.pb&&!m[E.qb]&&(m[E.qb]=E.pb),Ue(m)||wr(l,"customParameters",Uf(m))}if(typeof this.a.Rb=="function"&&(E=this.a.Rb(),E.length&&wr(l,"scopes",E.join(","))),this.l?wr(l,"redirectUrl",this.l):Il(l.b,"redirectUrl"),this.g?wr(l,"eventId",this.g):Il(l.b,"eventId"),this.i?wr(l,"v",this.i):Il(l.b,"v"),this.b)for(var Q in this.b)this.b.hasOwnProperty(Q)&&!$o(l,Q)&&wr(l,Q,this.b[Q]);return this.h?wr(l,"tid",this.h):Il(l.b,"tid"),this.f?wr(l,"eid",this.f):Il(l.b,"eid"),Q=xm(this.c),Q.length&&wr(l,"fw",Q.join(",")),l.toString()};function xm(l){try{return Jt.app(l).auth().Ga()}catch{return[]}}function Om(l,m,E,O,F,z){this.s=l,this.g=m,this.b=E,this.f=z,this.c=O||null,this.i=F||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function d0(l){var m=Uy();return BR(l).then(function(E){e:{var O=Rs(m),F=O.c;O=O.a;for(var z=0;z<E.length;z++){var Q=E[z],ue=O,We=F;if(Q.indexOf("chrome-extension://")==0?ue=Rs(Q).a==ue&&We=="chrome-extension":We!="http"&&We!="https"?ue=!1:wR.test(Q)?ue=ue==Q:(Q=Q.split(".").join("\\."),ue=new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(ue)),ue){E=!0;break e}}E=!1}if(!E)throw new lC(Uy())})}function Gu(l){return l.m||(l.m=$_().then(function(){if(!l.u){var m=l.c,E=l.i,O=xm(l.b),F=new CC(l.s,l.g,l.b,l.f);F.f=m,F.b=E,F.c=Fe(O||[]),l.u=F.toString()}l.v=new IC(l.u),Kn(l)})),l.m}e=Om.prototype,e.Pb=function(l,m,E){var O=new re("popup-closed-by-user"),F=new re("web-storage-unsupported"),z=this,Q=!1;return this.ma().then(function(){Vp(z).then(function(ue){ue||(l&&Sp(l),m(F),Q=!0)})}).o(function(){}).then(function(){if(!Q)return qU(l)}).then(function(){if(!Q)return am(E).then(function(){m(O)})})},e.Yb=function(){var l=mo();return!$y(l)&&!SR(l)},e.Ub=function(){return!1},e.Nb=function(l,m,E,O,F,z,Q,ue){if(!l)return vr(new re("popup-blocked"));if(Q&&!$y())return this.ma().o(function(at){Sp(l),F(at)}),O(),Xt();this.a||(this.a=d0(kC(this)));var We=this;return this.a.then(function(){var at=We.ma().o(function(pn){throw Sp(l),F(pn),pn});return O(),at}).then(function(){if(Hu(E),!Q){var at=dn(We.s,We.g,We.b,m,E,null,z,We.c,void 0,We.i,ue,We.f);U_(at,l)}}).o(function(at){throw at.code=="auth/network-request-failed"&&(We.a=null),at})};function kC(l){return l.l||(l.C=l.c?Mf(l.c,xm(l.b)):null,l.l=new au(l.g,Ne(l.i),l.C),l.f&&f1(l.l,l.f)),l.l}e.Ob=function(l,m,E,O){this.a||(this.a=d0(kC(this)));var F=this;return this.a.then(function(){Hu(m);var z=dn(F.s,F.g,F.b,l,m,Uy(),E,F.c,void 0,F.i,O,F.f);U_(z)}).o(function(z){throw z.code=="auth/network-request-failed"&&(F.a=null),z})},e.ma=function(){var l=this;return Gu(this).then(function(){return l.v.sb}).o(function(){throw l.a=null,new re("network-request-failed")})},e.ac=function(){return!0};function dn(l,m,E,O,F,z,Q,ue,We,at,pn,Er){return l=new $p(l,m,E,O,F,Er),l.l=z,l.g=Q,l.i=ue,l.b=ze(We||null),l.f=at,l.zb(pn).toString()}function Kn(l){if(!l.v)throw Error("IfcHandler must be initialized!");nr(l.v,function(m){var E={};if(m&&m.authEvent){var O=!1;for(m=DR(m.authEvent),E=0;E<l.h.length;E++)O=l.h[E](m)||O;return E={},E.status=O?"ACK":"ERROR",Xt(E)}return E.status="ERROR",Xt(E)})}function Vp(l){var m={type:"webStorageSupport"};return Gu(l).then(function(){return Am(l.v,m)}).then(function(E){if(E&&E.length&&typeof E[0].webStorageSupport<"u")return E[0].webStorageSupport;throw Error()})}e.Ea=function(l){this.h.push(l)},e.Ta=function(l){qe(this.h,function(m){return m==l})};function p0(l){if(this.a=l||Jt.INTERNAL.reactNative&&Jt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new re("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=p0.prototype,e.get=function(l){return Xt(this.a.getItem(l)).then(function(m){return m&&xh(m)})},e.set=function(l,m){return Xt(this.a.setItem(l,Uf(m)))},e.U=function(l){return Xt(this.a.removeItem(l))},e.ca=function(){},e.ia=function(){};function JR(l){this.b=l,this.a={},this.f=Y(this.c,this)}var Xr=[];function ZR(){var l=_a()?self:null;if(Re(Xr,function(E){E.b==l&&(m=E)}),!m){var m=new JR(l);Xr.push(m)}return m}JR.prototype.c=function(l){var m=l.data.eventType,E=l.data.eventId,O=this.a[m];if(O&&0<O.length){l.ports[0].postMessage({status:"ack",eventId:E,eventType:m,response:null});var F=[];Re(O,function(z){F.push(Xt().then(function(){return z(l.origin,l.data.data)}))}),nu(F).then(function(z){var Q=[];Re(z,function(ue){Q.push({fulfilled:ue.Qb,value:ue.value,reason:ue.reason?ue.reason.message:void 0})}),Re(Q,function(ue){for(var We in ue)typeof ue[We]>"u"&&delete ue[We]}),l.ports[0].postMessage({status:"done",eventId:E,eventType:m,response:Q})})}};function E1(l,m,E){Ue(l.a)&&l.b.addEventListener("message",l.f),typeof l.a[m]>"u"&&(l.a[m]=[]),l.a[m].push(E)}function S1(l){this.a=l}S1.prototype.postMessage=function(l,m){this.a.postMessage(l,m)};function jh(l){this.c=l,this.b=!1,this.a=[]}function jl(l,m,E,O){var F,z=E||{},Q,ue,We,at=null;if(l.b)return vr(Error("connection_unavailable"));var pn=O?800:50,Er=typeof MessageChannel<"u"?new MessageChannel:null;return new gn(function(Qn,io){Er?(F=Math.floor(Math.random()*Math.pow(10,20)).toString(),Er.port1.start(),ue=setTimeout(function(){io(Error("unsupported_event"))},pn),Q=function(Bh){Bh.data.eventId===F&&(Bh.data.status==="ack"?(clearTimeout(ue),We=setTimeout(function(){io(Error("timeout"))},3e3)):Bh.data.status==="done"?(clearTimeout(We),typeof Bh.data.response<"u"?Qn(Bh.data.response):io(Error("unknown_error"))):(clearTimeout(ue),clearTimeout(We),io(Error("invalid_response"))))},at={messageChannel:Er,onMessage:Q},l.a.push(at),Er.port1.addEventListener("message",Q),l.c.postMessage({eventType:m,eventId:F,data:z},[Er.port2])):io(Error("connection_unavailable"))}).then(function(Qn){return T1(l,at),Qn}).o(function(Qn){throw T1(l,at),Qn})}function T1(l,m){if(m){var E=m.messageChannel,O=m.onMessage;E&&(E.port1.removeEventListener("message",O),E.port1.close()),qe(l.a,function(F){return F==m})}}jh.prototype.close=function(){for(;0<this.a.length;)T1(this,this.a[0]);this.b=!0};function AC(){if(!k1())throw new re("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=g.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var l=this;_a()&&self?(this.v=ZR(),E1(this.v,"keyChanged",function(m,E){return td(l).then(function(O){return 0<O.length&&Re(l.a,function(F){F(O)}),{keyProcessed:zt(O,E.key)}})}),E1(this.v,"ping",function(){return Xt(["keyChanged"])})):HU().then(function(m){(l.h=m)&&(l.g=new jh(new S1(m)),jl(l.g,"ping",null,!0).then(function(E){E[0].fulfilled&&zt(E[0].value,"keyChanged")&&(l.s=!0)}).o(function(){}))})}var v0;function Nm(l){return new gn(function(m,E){var O=l.m.deleteDatabase("firebaseLocalStorageDb");O.onsuccess=function(){m()},O.onerror=function(F){E(Error(F.target.error))}})}function I1(l){return new gn(function(m,E){var O=l.m.open("firebaseLocalStorageDb",1);O.onerror=function(F){try{F.preventDefault()}catch{}E(Error(F.target.error))},O.onupgradeneeded=function(F){F=F.target.result;try{F.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(z){E(z)}},O.onsuccess=function(F){F=F.target.result,F.objectStoreNames.contains("firebaseLocalStorage")?m(F):Nm(l).then(function(){return I1(l)}).then(function(z){m(z)}).o(function(z){E(z)})}})}function ed(l){return l.i||(l.i=I1(l)),l.i}function C1(l,m){function E(F,z){ed(l).then(m).then(F).o(function(Q){if(3<++O)z(Q);else return ed(l).then(function(ue){return ue.close(),l.i=void 0,E(F,z)}).o(function(ue){z(ue)})})}var O=0;return new gn(E)}function k1(){try{return!!g.indexedDB}catch{return!1}}function Ul(l){return l.objectStore("firebaseLocalStorage")}function Uh(l,m){return l.transaction(["firebaseLocalStorage"],m?"readwrite":"readonly")}function $l(l){return new gn(function(m,E){l.onsuccess=function(O){O&&O.target?m(O.target.result):m()},l.onerror=function(O){E(O.target.error)}})}e=AC.prototype,e.set=function(l,m){var E=this,O=!1;return C1(this,function(F){return F=Ul(Uh(F,!0)),$l(F.get(l))}).then(function(F){return C1(E,function(z){if(z=Ul(Uh(z,!0)),F)return F.value=m,$l(z.put(F));E.b++,O=!0;var Q={};return Q.fbase_key=l,Q.value=m,$l(z.add(Q))})}).then(function(){return E.c[l]=m,A1(E,l)}).oa(function(){O&&E.b--})};function A1(l,m){return l.g&&l.h&&TR()===l.h?jl(l.g,"keyChanged",{key:m},l.s).then(function(){}).o(function(){}):Xt()}e.get=function(l){return C1(this,function(m){return $l(Ul(Uh(m,!1)).get(l))}).then(function(m){return m&&m.value})},e.U=function(l){var m=this,E=!1;return C1(this,function(O){return E=!0,m.b++,$l(Ul(Uh(O,!0)).delete(l))}).then(function(){return delete m.c[l],A1(m,l)}).oa(function(){E&&m.b--})};function td(l){return ed(l).then(function(m){var E=Ul(Uh(m,!1));return E.getAll?$l(E.getAll()):new gn(function(O,F){var z=[],Q=E.openCursor();Q.onsuccess=function(ue){(ue=ue.target.result)?(z.push(ue.value),ue.continue()):O(z)},Q.onerror=function(ue){F(ue.target.error)}})}).then(function(m){var E={},O=[];if(l.b==0){for(O=0;O<m.length;O++)E[m[O].fbase_key]=m[O].value;O=si(l.c,E),l.c=E}return O})}e.ca=function(l){this.a.length==0&&e2(this),this.a.push(l)},e.ia=function(l){qe(this.a,function(m){return m==l}),this.a.length==0&&qs(this)};function e2(l){function m(){l.f=setTimeout(function(){l.l=td(l).then(function(E){0<E.length&&Re(l.a,function(O){O(E)})}).then(function(){m()}).o(function(E){E.message!="STOP_EVENT"&&m()})},800)}qs(l),m()}function qs(l){l.l&&l.l.cancel("STOP_EVENT"),l.f&&(clearTimeout(l.f),l.f=null)}function t2(l){var m=this,E=null;this.a=[],this.type="indexedDB",this.c=l,this.b=Xt().then(function(){if(k1()){var O=Ms(),F="__sak"+O;return v0||(v0=new AC),E=v0,E.set(F,O).then(function(){return E.get(F)}).then(function(z){if(z!==O)throw Error("indexedDB not supported!");return E.U(F)}).then(function(){return E}).o(function(){return m.c})}return m.c}).then(function(O){return m.type=O.type,O.ca(function(F){Re(m.a,function(z){z(F)})}),O})}e=t2.prototype,e.get=function(l){return this.b.then(function(m){return m.get(l)})},e.set=function(l,m){return this.b.then(function(E){return E.set(l,m)})},e.U=function(l){return this.b.then(function(m){return m.U(l)})},e.ca=function(l){this.a.push(l)},e.ia=function(l){qe(this.a,function(m){return m==l})};function Qu(){this.a={},this.type="inMemory"}e=Qu.prototype,e.get=function(l){return Xt(this.a[l])},e.set=function(l,m){return this.a[l]=m,Xt()},e.U=function(l){return delete this.a[l],Xt()},e.ca=function(){},e.ia=function(){};function m0(){if(!xC())throw Ac()=="Node"?new re("internal-error","The LocalStorage compatibility library was not found."):new re("web-storage-unsupported");this.a=ro()||Jt.INTERNAL.node.localStorage,this.type="localStorage"}function ro(){try{var l=g.localStorage,m=Ms();return l&&(l.setItem(m,"1"),l.removeItem(m)),l}catch{return null}}function xC(){var l=Ac()=="Node";if(l=ro()||l&&Jt.INTERNAL.node&&Jt.INTERNAL.node.localStorage,!l)return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch{return!1}}e=m0.prototype,e.get=function(l){var m=this;return Xt().then(function(){var E=m.a.getItem(l);return xh(E)})},e.set=function(l,m){var E=this;return Xt().then(function(){var O=Uf(m);O===null?E.U(l):E.a.setItem(l,O)})},e.U=function(l){var m=this;return Xt().then(function(){m.a.removeItem(l)})},e.ca=function(l){g.window&&ru(g.window,"storage",l)},e.ia=function(l){g.window&&Zi(g.window,"storage",l)};function g0(){this.type="nullStorage"}e=g0.prototype,e.get=function(){return Xt(null)},e.set=function(){return Xt()},e.U=function(){return Xt()},e.ca=function(){},e.ia=function(){};function Pm(){if(!n2())throw Ac()=="Node"?new re("internal-error","The SessionStorage compatibility library was not found."):new re("web-storage-unsupported");this.a=OC()||Jt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function OC(){try{var l=g.sessionStorage,m=Ms();return l&&(l.setItem(m,"1"),l.removeItem(m)),l}catch{return null}}function n2(){var l=Ac()=="Node";if(l=OC()||l&&Jt.INTERNAL.node&&Jt.INTERNAL.node.sessionStorage,!l)return!1;try{return l.setItem("__sak","1"),l.removeItem("__sak"),!0}catch{return!1}}e=Pm.prototype,e.get=function(l){var m=this;return Xt().then(function(){var E=m.a.getItem(l);return xh(E)})},e.set=function(l,m){var E=this;return Xt().then(function(){var O=Uf(m);O===null?E.U(l):E.a.setItem(l,O)})},e.U=function(l){var m=this;return Xt().then(function(){m.a.removeItem(l)})},e.ca=function(){},e.ia=function(){};function r2(){var l={};l.Browser=jc,l.Node=i$,l.ReactNative=PC,l.Worker=x1,this.a=l[Ac()]}var NC,jc={F:m0,cb:Pm},i$={F:m0,cb:Pm},PC={F:p0,cb:g0},x1={F:m0,cb:g0},Uc={rd:"local",NONE:"none",td:"session"};function RC(l){var m=new re("invalid-persistence-type"),E=new re("unsupported-persistence-type");e:{for(O in Uc)if(Uc[O]==l){var O=!0;break e}O=!1}if(!O||typeof l!="string")throw m;switch(Ac()){case"ReactNative":if(l==="session")throw E;break;case"Node":if(l!=="none")throw E;break;case"Worker":if(l==="session"||!k1()&&l!=="none")throw E;break;default:if(!QI()&&l!=="none")throw E}}function DC(){var l=!!(!SR(mo())&&WI()),m=$y(),E=QI();this.m=l,this.h=m,this.l=E,this.a={},NC||(NC=new r2),l=NC;try{this.g=!zI()&&Oh()||!g.indexedDB?new l.a.F:new t2(_a()?new Qu:new l.a.F)}catch{this.g=new Qu,this.h=!0}try{this.i=new l.a.cb}catch{this.i=new Qu}this.v=new Qu,this.f=Y(this.Zb,this),this.b={}}var O1;function Bs(){return O1||(O1=new DC),O1}function qp(l,m){switch(m){case"session":return l.i;case"none":return l.v;default:return l.g}}function Bp(l,m){return"firebase:"+l.name+(m?":"+m:"")}function LC(l,m,E){var O=Bp(m,E),F=qp(l,m.F);return l.get(m,E).then(function(z){var Q=null;try{Q=xh(g.localStorage.getItem(O))}catch{}if(Q&&!z)return g.localStorage.removeItem(O),l.set(m,Q,E);Q&&z&&F.type!="localStorage"&&g.localStorage.removeItem(O)})}e=DC.prototype,e.get=function(l,m){return qp(this,l.F).get(Bp(l,m))};function nd(l,m,E){return E=Bp(m,E),m.F=="local"&&(l.b[E]=null),qp(l,m.F).U(E)}e.set=function(l,m,E){var O=Bp(l,E),F=this,z=qp(this,l.F);return z.set(O,m).then(function(){return z.get(O)}).then(function(Q){l.F=="local"&&(F.b[O]=Q)})},e.addListener=function(l,m,E){l=Bp(l,m),this.l&&(this.b[l]=g.localStorage.getItem(l)),Ue(this.a)&&(qp(this,"local").ca(this.f),this.h||(zI()||!Oh())&&g.indexedDB||!this.l||MC(this)),this.a[l]||(this.a[l]=[]),this.a[l].push(E)},e.removeListener=function(l,m,E){l=Bp(l,m),this.a[l]&&(qe(this.a[l],function(O){return O==E}),this.a[l].length==0&&delete this.a[l]),Ue(this.a)&&(qp(this,"local").ia(this.f),FC(this))};function MC(l){FC(l),l.c=setInterval(function(){for(var m in l.a){var E=g.localStorage.getItem(m),O=l.b[m];E!=O&&(l.b[m]=E,E=new po({type:"storage",key:m,target:window,oldValue:O,newValue:E,a:!0}),l.Zb(E))}},1e3)}function FC(l){l.c&&(clearInterval(l.c),l.c=null)}e.Zb=function(l){if(l&&l.g){var m=l.a.key;if(m==null)for(var E in this.a){var O=this.b[E];typeof O>"u"&&(O=null);var F=g.localStorage.getItem(E);F!==O&&(this.b[E]=F,this.nb(E))}else if(m.indexOf("firebase:")==0&&this.a[m]){if(typeof l.a.a<"u"?qp(this,"local").ia(this.f):FC(this),this.m){if(E=g.localStorage.getItem(m),O=l.a.newValue,O!==E)O!==null?g.localStorage.setItem(m,O):g.localStorage.removeItem(m);else if(this.b[m]===O&&typeof l.a.a>"u")return}var z=this;E=function(){(typeof l.a.a<"u"||z.b[m]!==g.localStorage.getItem(m))&&(z.b[m]=g.localStorage.getItem(m),z.nb(m))},Dt&&Ns&&Ns==10&&g.localStorage.getItem(m)!==l.a.newValue&&l.a.newValue!==l.a.oldValue?setTimeout(E,10):E()}}else Re(l,Y(this.nb,this))},e.nb=function(l){this.a[l]&&Re(this.a[l],function(m){m()})};function N1(l){this.a=l,this.b=Bs()}var P1={name:"authEvent",F:"local"};function R1(l){return l.b.get(P1,l.a).then(function(m){return DR(m)})}function D1(){this.a=Bs()}function L1(){this.b=-1}function Rm(l,m){this.b=$h,this.f=g.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=l,this.h=m,this.l=g.Int32Array?new Int32Array(64):Array(64),rd===void 0&&(g.Int32Array?rd=new Int32Array(Mm):rd=Mm),this.reset()}var rd;ye(Rm,L1);for(var $h=64,Dm=$h-1,jC=[],UC=0;UC<Dm;UC++)jC[UC]=0;var i2=rt(128,jC);Rm.prototype.reset=function(){this.g=this.c=0,this.a=g.Int32Array?new Int32Array(this.h):Fe(this.h)};function Hp(l){for(var m=l.f,E=l.l,O=0,F=0;F<m.length;)E[O++]=m[F]<<24|m[F+1]<<16|m[F+2]<<8|m[F+3],F=4*O;for(m=16;64>m;m++){F=E[m-15]|0,O=E[m-2]|0;var z=(E[m-16]|0)+((F>>>7|F<<25)^(F>>>18|F<<14)^F>>>3)|0,Q=(E[m-7]|0)+((O>>>17|O<<15)^(O>>>19|O<<13)^O>>>10)|0;E[m]=z+Q|0}O=l.a[0]|0,F=l.a[1]|0;var ue=l.a[2]|0,We=l.a[3]|0,at=l.a[4]|0,pn=l.a[5]|0,Er=l.a[6]|0;for(z=l.a[7]|0,m=0;64>m;m++){var Qn=((O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10))+(O&F^O&ue^F&ue)|0;Q=at&pn^~at&Er,z=z+((at>>>6|at<<26)^(at>>>11|at<<21)^(at>>>25|at<<7))|0,Q=Q+(rd[m]|0)|0,Q=z+(Q+(E[m]|0)|0)|0,z=Er,Er=pn,pn=at,at=We+Q|0,We=ue,ue=F,F=O,O=Q+Qn|0}l.a[0]=l.a[0]+O|0,l.a[1]=l.a[1]+F|0,l.a[2]=l.a[2]+ue|0,l.a[3]=l.a[3]+We|0,l.a[4]=l.a[4]+at|0,l.a[5]=l.a[5]+pn|0,l.a[6]=l.a[6]+Er|0,l.a[7]=l.a[7]+z|0}function Lm(l,m,E){E===void 0&&(E=m.length);var O=0,F=l.c;if(typeof m=="string")for(;O<E;)l.f[F++]=m.charCodeAt(O++),F==l.b&&(Hp(l),F=0);else if(M(m))for(;O<E;){var z=m[O++];if(!(typeof z=="number"&&0<=z&&255>=z&&z==(z|0)))throw Error("message must be a byte array");l.f[F++]=z,F==l.b&&(Hp(l),F=0)}else throw Error("message must be string or array");l.c=F,l.g+=E}var Mm=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $C(){Rm.call(this,8,M1)}ye($C,Rm);var M1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function id(l,m,E,O,F,z){this.v=l,this.i=m,this.l=E,this.m=O||null,this.u=F||null,this.s=z,this.h=m+":"+E,this.C=new D1,this.g=new N1(this.h),this.f=null,this.b=[],this.a=this.c=null}function as(l){return new re("invalid-cordova-configuration",l)}e=id.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=yn().then(function(){if(typeof qr("universalLinks.subscribe",g)!="function")throw as("cordova-universal-links-plugin-fix is not installed");if(typeof qr("BuildInfo.packageName",g)>"u")throw as("cordova-plugin-buildinfo is not installed");if(typeof qr("cordova.plugins.browsertab.openUrl",g)!="function")throw as("cordova-plugin-browsertab is not installed");if(typeof qr("cordova.InAppBrowser.open",g)!="function")throw as("cordova-plugin-inappbrowser is not installed")},function(){throw new re("cordova-not-ready")})};function lr(){for(var l=20,m=[];0<l;)m.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),l--;return m.join("")}function od(l){var m=new $C;Lm(m,l),l=[];var E=8*m.g;56>m.c?Lm(m,i2,56-m.c):Lm(m,i2,m.b-(m.c-56));for(var O=63;56<=O;O--)m.f[O]=E&255,E/=256;for(Hp(m),O=E=0;O<m.i;O++)for(var F=24;0<=F;F-=8)l[E++]=m.a[O]>>F&255;return Ip(l)}e.Pb=function(l,m){return m(new re("operation-not-supported-in-this-environment")),Xt()},e.Nb=function(){return vr(new re("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(l,m,E,O){if(this.c)return vr(new re("redirect-operation-pending"));var F=this,z=g.document,Q=null,ue=null,We=null,at=null;return this.c=Xt().then(function(){return Hu(m),F1(F)}).then(function(){return VC(F,l,m,E,O)}).then(function(){return new gn(function(pn,Er){ue=function(){var Qn=qr("cordova.plugins.browsertab.close",g);return pn(),typeof Qn=="function"&&Qn(),F.a&&typeof F.a.close=="function"&&(F.a.close(),F.a=null),!1},F.Ea(ue),We=function(){Q||(Q=am(2e3).then(function(){Er(new re("redirect-cancelled-by-user"))}))},at=function(){Fs()&&We()},z.addEventListener("resume",We,!1),mo().toLowerCase().match(/android/)||z.addEventListener("visibilitychange",at,!1)}).o(function(pn){return j1(F).then(function(){throw pn})})}).oa(function(){We&&z.removeEventListener("resume",We,!1),at&&z.removeEventListener("visibilitychange",at,!1),Q&&Q.cancel(),ue&&F.Ta(ue),F.c=null})};function VC(l,m,E,O,F){var z=lr(),Q=new Pc(m,O,null,z,new re("no-auth-event"),null,F),ue=qr("BuildInfo.packageName",g);if(typeof ue!="string")throw new re("invalid-cordova-configuration");var We=qr("BuildInfo.displayName",g),at={};if(mo().toLowerCase().match(/iphone|ipad|ipod/))at.ibi=ue;else if(mo().toLowerCase().match(/android/))at.apn=ue;else return vr(new re("operation-not-supported-in-this-environment"));We&&(at.appDisplayName=We),z=od(z),at.sessionId=z;var pn=dn(l.v,l.i,l.l,m,E,null,O,l.m,at,l.u,F,l.s);return l.ma().then(function(){var Er=l.h;return l.C.a.set(P1,Q.w(),Er)}).then(function(){var Er=qr("cordova.plugins.browsertab.isAvailable",g);if(typeof Er!="function")throw new re("invalid-cordova-configuration");var Qn=null;Er(function(io){if(io){if(Qn=qr("cordova.plugins.browsertab.openUrl",g),typeof Qn!="function")throw new re("invalid-cordova-configuration");Qn(pn)}else{if(Qn=qr("cordova.InAppBrowser.open",g),typeof Qn!="function")throw new re("invalid-cordova-configuration");io=mo(),l.a=Qn(pn,io.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||io.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Fm(l,m){for(var E=0;E<l.b.length;E++)try{l.b[E](m)}catch{}}function F1(l){return l.f||(l.f=l.ma().then(function(){return new gn(function(m){function E(O){return m(O),l.Ta(E),!1}l.Ea(E),qC(l)})})),l.f}function j1(l){var m=null;return R1(l.g).then(function(E){return m=E,E=l.g,nd(E.b,P1,E.a)}).then(function(){return m})}function qC(l){function m(Q){O=!0,F&&F.cancel(),j1(l).then(function(ue){var We=E;if(ue&&Q&&Q.url){var at=null;We=J_(Q.url),We.indexOf("/__/auth/callback")!=-1&&(at=Rs(We),at=xh($o(at,"firebaseError")||null),at=(at=typeof at=="object"?ut(at):null)?new Pc(ue.c,ue.b,null,null,at,null,ue.T()):new Pc(ue.c,ue.b,We,ue.f,null,null,ue.T())),We=at||E}Fm(l,We)})}var E=new Pc("unknown",null,null,null,new re("no-auth-event")),O=!1,F=am(500).then(function(){return j1(l).then(function(){O||Fm(l,E)})}),z=g.handleOpenURL;g.handleOpenURL=function(Q){if(Q.toLowerCase().indexOf(qr("BuildInfo.packageName",g).toLowerCase()+"://")==0&&m({url:Q}),typeof z=="function")try{z(Q)}catch(ue){console.error(ue)}},t1||(t1=new bm),n1(m)}e.Ea=function(l){this.b.push(l),F1(this).o(function(m){m.code==="auth/invalid-cordova-configuration"&&(m=new Pc("unknown",null,null,null,new re("no-auth-event")),l(m))})},e.Ta=function(l){qe(this.b,function(m){return m==l})};function zp(l){this.a=l,this.b=Bs()}var U1={name:"pendingRedirect",F:"session"};function sd(l){return l.b.set(U1,"pending",l.a)}function y0(l){return nd(l.b,U1,l.a)}function jm(l){return l.b.get(U1,l.a).then(function(m){return m=="pending"})}function Kp(l,m,E,O){this.i={},this.u=0,this.D=l,this.v=m,this.m=E,this.J=O,this.h=[],this.f=!1,this.l=Y(this.s,this),this.b=new $m,this.C=new XC,this.g=new zp(u2(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=o2(this.D,this.v,this.m,Be,this.J)}function o2(l,m,E,O,F){var z=Jt.SDK_VERSION||null;return V_()?new id(l,m,E,z,O,F):new Om(l,m,E,z,O,F)}Kp.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=o2(this.D,this.v,this.m,null,this.J),this.i={}};function s2(l){l.f||(l.f=!0,l.a.Ea(l.l));var m=l.a;return l.a.ma().o(function(E){throw l.a==m&&l.reset(),E})}function BC(l){l.a.Yb()&&s2(l).o(function(m){var E=new Pc("unknown",null,null,null,new re("operation-not-supported-in-this-environment"));zC(m)&&l.s(E)}),l.a.Ub()||WC(l.b)}function b0(l,m){zt(l.h,m)||l.h.push(m),l.f||jm(l.g).then(function(E){E?y0(l.g).then(function(){s2(l).o(function(O){var F=new Pc("unknown",null,null,null,new re("operation-not-supported-in-this-environment"));zC(O)&&l.s(F)})}):BC(l)}).o(function(){BC(l)})}function Um(l,m){qe(l.h,function(E){return E==m})}Kp.prototype.s=function(l){if(!l)throw new re("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),l&&l.getUid()&&this.i.hasOwnProperty(l.getUid()))return!1;for(var m=!1,E=0;E<this.h.length;E++){var O=this.h[E];if(O.Gb(l.c,l.b)){(m=this.c[l.c])&&(m.h(l,O),l&&(l.f||l.b)&&(this.i[l.getUid()]=!0,this.u=Date.now())),m=!0;break}}return WC(this.b),m};var HC=new eo(2e3,1e4),a2=new eo(3e4,6e4);Kp.prototype.ra=function(){return this.b.ra()};function w0(l,m,E,O,F,z,Q){return l.a.Nb(m,E,O,function(){l.f||(l.f=!0,l.a.Ea(l.l))},function(){l.reset()},F,z,Q)}function zC(l){return!!(l&&l.code=="auth/cordova-not-ready")}function $1(l,m,E,O,F){var z;return sd(l.g).then(function(){return l.a.Ob(m,E,O,F).o(function(Q){if(zC(Q))throw new re("operation-not-supported-in-this-environment");return z=Q,y0(l.g).then(function(){throw z})}).then(function(){return l.a.ac()?new gn(function(){}):y0(l.g).then(function(){return l.ra()}).then(function(){}).o(function(){})})})}function KC(l,m,E,O,F){return l.a.Pb(O,function(z){m.na(E,null,z,F)},HC.get())}var V1={};function u2(l,m,E){return l=l+":"+m,E&&(l=l+":"+E.url),l}function _0(l,m,E,O){var F=u2(m,E,O);return V1[F]||(V1[F]=new Kp(l,m,E,O)),V1[F]}function $m(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}$m.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$m.prototype.h=function(l,m){if(l){this.reset(),this.g=!0;var E=l.c,O=l.b,F=l.a&&l.a.code=="auth/web-storage-unsupported",z=l.a&&l.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!F&&!z),E!="unknown"||F||z?l.a?(Vl(this,!0,null,l.a),Xt()):m.Fa(E,O)?GC(this,l,m):vr(new re("invalid-auth-event")):(Vl(this,!1,null,null),Xt())}else vr(new re("invalid-auth-event"))};function WC(l){l.g||(l.g=!0,Vl(l,!1,null,null))}function Vm(l){l.g&&!l.i&&Vl(l,!1,null,null)}function GC(l,m,E){E=E.Fa(m.c,m.b);var O=m.g,F=m.f,z=m.i,Q=m.T(),ue=!!m.c.match(/Redirect$/);E(O,F,Q,z).then(function(We){Vl(l,ue,We,null)}).o(function(We){Vl(l,ue,null,We)})}function o$(l,m){if(l.b=function(){return vr(m)},l.c.length)for(var E=0;E<l.c.length;E++)l.c[E](m)}function QC(l,m){if(l.b=function(){return Xt(m)},l.f.length)for(var E=0;E<l.f.length;E++)l.f[E](m)}function Vl(l,m,E,O){m?O?o$(l,O):QC(l,E):QC(l,{user:null}),l.f=[],l.c=[]}$m.prototype.ra=function(){var l=this;return new gn(function(m,E){l.b?l.b().then(m,E):(l.f.push(m),l.c.push(E),YC(l))})};function YC(l){var m=new re("timeout");l.a&&l.a.cancel(),l.a=am(a2.get()).then(function(){l.b||(l.g=!0,Vl(l,!0,null,m))})}function XC(){}XC.prototype.h=function(l,m){if(l){var E=l.c,O=l.b;l.a?(m.na(l.c,null,l.a,l.b),Xt()):m.Fa(E,O)?c2(l,m):vr(new re("invalid-auth-event"))}else vr(new re("invalid-auth-event"))};function c2(l,m){var E=l.b,O=l.c;m.Fa(O,E)(l.g,l.f,l.T(),l.i).then(function(F){m.na(O,F,null,E)}).o(function(F){m.na(O,null,F,E)})}function q1(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(l){this.jb=l},enumerable:!1})}function qm(l,m){this.a=m,xt(this,"verificationId",l)}qm.prototype.confirm=function(l){return l=RR(this.verificationId,l),this.a(l)};function JC(l,m,E,O){return new Ph(l).gb(m,E).then(function(F){return new qm(F,O)})}function l2(l){var m=Q_(l);if(!(m&&m.exp&&m.auth_time&&m.iat))throw new re("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vo(this,{token:l,expirationTime:fm(1e3*m.exp),authTime:fm(1e3*m.auth_time),issuedAtTime:fm(1e3*m.iat),signInProvider:m.firebase&&m.firebase.sign_in_provider?m.firebase.sign_in_provider:null,signInSecondFactor:m.firebase&&m.firebase.sign_in_second_factor?m.firebase.sign_in_second_factor:null,claims:m})}function B1(l,m,E){var O=m&&m[ek];if(!O)throw new re("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=l,this.f=ze(m),this.g=E,this.c=new kp(null,O),this.b=[];var F=this;Re(m[ZC]||[],function(z){(z=Ky(z))&&F.b.push(z)}),xt(this,"auth",this.a),xt(this,"session",this.c),xt(this,"hints",this.b)}var ZC="mfaInfo",ek="mfaPendingCredential";B1.prototype.Rc=function(l){var m=this;return l.tb(this.a.a,this.c).then(function(E){var O=ze(m.f);return delete O[ZC],delete O[ek],kt(O,E),m.g(O)})};function H1(l,m,E,O){re.call(this,"multi-factor-auth-required",O,m),this.b=new B1(l,m,E),xt(this,"resolver",this.b)}ye(H1,re);function E0(l,m,E){if(l&&R(l.serverResponse)&&l.code==="auth/multi-factor-auth-required")try{return new H1(m,l.serverResponse,E,l.message)}catch{}return null}function tk(){}tk.prototype.tb=function(l,m,E){return m.type==Zy?nk(this,l,m,E):h2(this,l,m)};function nk(l,m,E,O){return E.Ha().then(function(F){return F={idToken:F},typeof O<"u"&&(F.displayName=O),kt(F,{phoneVerificationInfo:ym(l.a)}),Mn(m,e$,F)})}function h2(l,m,E){return E.Ha().then(function(O){return O={mfaPendingCredential:O},kt(O,{phoneVerificationInfo:ym(l.a)}),Mn(m,h0,O)})}function rk(l){xt(this,"factorId",l.fa),this.a=l}ye(rk,tk);function f2(l){if(rk.call(this,l),this.a.fa!=Ph.PROVIDER_ID)throw new re("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}ye(f2,rk);function Wp(l,m){ba.call(this,l);for(var E in m)this[E]=m[E]}ye(Wp,ba);function ql(l,m){this.a=l,this.b=[],this.c=Y(this.yc,this),ru(this.a,"userReloaded",this.c);var E=[];m&&m.multiFactor&&m.multiFactor.enrolledFactors&&Re(m.multiFactor.enrolledFactors,function(O){var F=null,z={};if(O){O.uid&&(z[z_]=O.uid),O.displayName&&(z[dm]=O.displayName),O.enrollmentTime&&(z[H_]=new Date(O.enrollmentTime).toISOString()),O.phoneNumber&&(z[K_]=O.phoneNumber);try{F=new iu(z)}catch{}O=F}else O=null;O&&E.push(O)}),S0(this,E)}function d2(l){var m=[];return Re(l.mfaInfo||[],function(E){(E=Ky(E))&&m.push(E)}),m}e=ql.prototype,e.yc=function(l){S0(this,d2(l.hd))};function S0(l,m){l.b=m,xt(l,"enrolledFactors",m)}e.Sb=function(){return this.a.I().then(function(l){return new kp(l,null)})},e.fc=function(l,m){var E=this,O=this.a.a;return this.Sb().then(function(F){return l.tb(O,F,m)}).then(function(F){return us(E.a,F),E.a.reload()})},e.bd=function(l){var m=this,E=typeof l=="string"?l:l.uid,O=this.a.a;return this.a.I().then(function(F){return Mn(O,QR,{idToken:F,mfaEnrollmentId:E})}).then(function(F){var z=Nt(m.b,function(Q){return Q.uid!=E});return S0(m,z),us(m.a,F),m.a.reload().o(function(Q){if(Q.code!="auth/user-token-expired")throw Q})})},e.w=function(){return{multiFactor:{enrolledFactors:Vt(this.b,function(l){return l.w()})}}};function Bl(l,m,E){if(this.h=l,this.i=m,this.g=E,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Bl.prototype.start=function(){this.a=this.c,ik(this,!0)};function z1(l,m){return m?(l.a=l.c,l.g()):(m=l.a,l.a*=2,l.a>l.f&&(l.a=l.f),m)}function ik(l,m){l.stop(),l.b=am(z1(l,m)).then(function(){return Vy()}).then(function(){return l.h()}).then(function(){ik(l,!0)}).o(function(E){l.i(E)&&ik(l,!1)})}Bl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function K1(l){this.f=l,this.b=this.a=null,this.c=Date.now()}K1.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function W1(l,m){typeof m>"u"&&(l.b?(m=l.b,m=m.a-m.g):m=0),l.c=Date.now()+1e3*m}function p2(l,m){l.b=qf(m[Dc]||""),l.a=m.refreshToken,m=m.expiresIn,W1(l,typeof m<"u"?Number(m):void 0)}function ad(l,m){l.b=m.b,l.a=m.a,l.c=m.c}function T0(l,m){return qR(l.f,m).then(function(E){return l.b=qf(E.access_token),l.a=E.refresh_token,W1(l,E.expires_in),{accessToken:l.b.toString(),refreshToken:l.a}}).o(function(E){throw E.code=="auth/user-token-expired"&&(l.a=null),E})}K1.prototype.getToken=function(l){return l=!!l,this.b&&!this.a?vr(new re("user-token-expired")):l||!this.b||Date.now()>this.c-3e4?this.a?T0(this,{grant_type:"refresh_token",refresh_token:this.a}):Xt(null):Xt({accessToken:this.b.toString(),refreshToken:this.a})};function Bm(l,m){this.a=l||null,this.b=m||null,Vo(this,{lastSignInTime:fm(m||null),creationTime:fm(l||null)})}function v2(l){return new Bm(l.a,l.b)}Bm.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function G1(l,m,E,O,F,z){Vo(this,{uid:l,displayName:O||null,photoURL:F||null,email:E||null,phoneNumber:z||null,providerId:m})}function uu(l,m,E){this.N=[],this.l=l.apiKey,this.m=l.appName,this.s=l.authDomain||null;var O=Jt.SDK_VERSION?Mf(Jt.SDK_VERSION):null;this.a=new au(this.l,Ne(Be),O),(this.u=l.emulatorConfig||null)&&f1(this.a,this.u),this.h=new K1(this.a),sk(this,m[Dc]),p2(this.h,m),xt(this,"refreshToken",this.h.a),m2(this,E||{}),vo.call(this),this.P=!1,this.s&&Ff()&&(this.b=_0(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=ok(this),this.ba=Y(this.ib,this);var F=this;this.za=null,this.Pa=function(z){F.xa(z.h)},this.qa=null,this.Ba=function(z){ud(F,z.c)},this.$=null,this.aa=[],this.Oa=function(z){cd(F,z.f)},this.ja=null,this.S=new ql(this,E),xt(this,"multiFactor",this.S)}ye(uu,vo),uu.prototype.xa=function(l){this.za=l,Eo(this.a,l)};function ud(l,m){l.u=m,f1(l.a,m),l.b&&(m=l.b,l.b=_0(l.s,l.l,l.m,l.u),l.P&&(Um(m,l),b0(l.b,l)))}uu.prototype.la=function(){return this.za};function Q1(l,m){l.qa&&Zi(l.qa,"languageCodeChanged",l.Pa),(l.qa=m)&&ru(m,"languageCodeChanged",l.Pa)}function Y1(l,m){l.$&&Zi(l.$,"emulatorConfigChanged",l.Ba),(l.$=m)&&ru(m,"emulatorConfigChanged",l.Ba)}function cd(l,m){l.aa=m,c0(l.a,Jt.SDK_VERSION?Mf(Jt.SDK_VERSION,l.aa):null)}uu.prototype.Ga=function(){return Fe(this.aa)};function Hm(l,m){l.ja&&Zi(l.ja,"frameworkChanged",l.Oa),(l.ja=m)&&ru(m,"frameworkChanged",l.Oa)}uu.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function I0(l){try{return Jt.app(l.m).auth()}catch{throw new re("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+l.m+"'!")}}function ok(l){return new Bl(function(){return l.I(!0)},function(m){return!!(m&&m.code=="auth/network-request-failed")},function(){var m=l.h.c-Date.now()-3e5;return 0<m?m:0})}function X1(l){l.J||l.D.b||(l.D.start(),Zi(l,"tokenChanged",l.ba),ru(l,"tokenChanged",l.ba))}function Gp(l){Zi(l,"tokenChanged",l.ba),l.D.stop()}function sk(l,m){l.Aa=m,xt(l,"_lat",m)}function J1(l,m){qe(l.W,function(E){return E==m})}function Qp(l){for(var m=[],E=0;E<l.W.length;E++)m.push(l.W[E](l));return nu(m).then(function(){return l})}function ld(l){l.b&&!l.P&&(l.P=!0,b0(l.b,l))}function m2(l,m){Vo(l,{uid:m.uid,displayName:m.displayName||null,photoURL:m.photoURL||null,email:m.email||null,emailVerified:m.emailVerified||!1,phoneNumber:m.phoneNumber||null,isAnonymous:m.isAnonymous||!1,tenantId:m.tenantId||null,metadata:new Bm(m.createdAt,m.lastLoginAt),providerData:[]}),l.a.b=l.tenantId}xt(uu.prototype,"providerId","firebase");function ak(){}function uk(l){return Xt().then(function(){if(l.J)throw new re("app-deleted")})}function ck(l){return Vt(l.providerData,function(m){return m.providerId})}function Z1(l,m){m&&(eE(l,m.providerId),l.providerData.push(m))}function eE(l,m){qe(l.providerData,function(E){return E.providerId==m})}function Hl(l,m,E){(m!="uid"||E)&&l.hasOwnProperty(m)&&xt(l,m,E)}function zm(l,m){l!=m&&(Vo(l,{uid:m.uid,displayName:m.displayName,photoURL:m.photoURL,email:m.email,emailVerified:m.emailVerified,phoneNumber:m.phoneNumber,isAnonymous:m.isAnonymous,tenantId:m.tenantId,providerData:[]}),m.metadata?xt(l,"metadata",v2(m.metadata)):xt(l,"metadata",new Bm),Re(m.providerData,function(E){Z1(l,E)}),ad(l.h,m.h),xt(l,"refreshToken",l.h.a),S0(l.S,m.S.b))}e=uu.prototype,e.reload=function(){var l=this;return Pi(this,uk(this).then(function(){return Km(l).then(function(){return Qp(l)}).then(ak)}))};function Km(l){return l.I().then(function(m){var E=l.isAnonymous;return lk(l,m).then(function(){return E||Hl(l,"isAnonymous",!1),m})})}e.oc=function(l){return this.I(l).then(function(m){return new l2(m)})},e.I=function(l){var m=this;return Pi(this,uk(this).then(function(){return m.h.getToken(l)}).then(function(E){if(!E)throw new re("internal-error");return E.accessToken!=m.Aa&&(sk(m,E.accessToken),m.dispatchEvent(new Wp("tokenChanged"))),Hl(m,"refreshToken",E.refreshToken),E.accessToken}))};function us(l,m){m[Dc]&&l.Aa!=m[Dc]&&(p2(l.h,m),l.dispatchEvent(new Wp("tokenChanged")),sk(l,m[Dc]),Hl(l,"refreshToken",l.h.a))}function lk(l,m){return Mn(l.a,GR,{idToken:m}).then(Y(l.Kc,l))}e.Kc=function(l){if(l=l.users,!l||!l.length)throw new re("internal-error");l=l[0],m2(this,{uid:l.localId,displayName:l.displayName,photoURL:l.photoUrl,email:l.email,emailVerified:!!l.emailVerified,phoneNumber:l.phoneNumber,lastLoginAt:l.lastLoginAt,createdAt:l.createdAt,tenantId:l.tenantId});for(var m=g2(l),E=0;E<m.length;E++)Z1(this,m[E]);Hl(this,"isAnonymous",!(this.email&&l.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Wp("userReloaded",{hd:l}))};function g2(l){return(l=l.providerUserInfo)&&l.length?Vt(l,function(m){return new G1(m.rawId,m.providerId,m.email,m.displayName,m.photoUrl,m.phoneNumber)}):[]}e.Lc=function(l){return Tp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(l)},e.ub=function(l){var m=this,E=null;return Pi(this,l.c(this.a,this.uid).then(function(O){return us(m,O),E=Vh(m,O,"reauthenticate"),m.i=null,m.reload()}).then(function(){return E}),!0)};function Yp(l,m){return Km(l).then(function(){if(zt(ck(l),m))return Qp(l).then(function(){throw new re("provider-already-linked")})})}e.Cc=function(l){return Tp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(l)},e.rb=function(l){var m=this,E=null;return Pi(this,Yp(this,l.providerId).then(function(){return m.I()}).then(function(O){return l.b(m.a,O)}).then(function(O){return E=Vh(m,O,"link"),tE(m,O)}).then(function(){return E}))},e.Dc=function(l,m){var E=this;return Pi(this,Yp(this,"phone").then(function(){return JC(I0(E),l,m,Y(E.rb,E))}))},e.Mc=function(l,m){var E=this;return Pi(this,Xt().then(function(){return JC(I0(E),l,m,Y(E.ub,E))}),!0)};function Vh(l,m,E){var O=Rh(m);return m=Y_(m),Bu({user:l,credential:O,additionalUserInfo:m,operationType:E})}function tE(l,m){return us(l,m),l.reload().then(function(){return l})}e.Cb=function(l){var m=this;return Pi(this,this.I().then(function(E){return m.a.Cb(E,l)}).then(function(E){return us(m,E),m.reload()}))},e.ed=function(l){var m=this;return Pi(this,this.I().then(function(E){return l.b(m.a,E)}).then(function(E){return us(m,E),m.reload()}))},e.Db=function(l){var m=this;return Pi(this,this.I().then(function(E){return m.a.Db(E,l)}).then(function(E){return us(m,E),m.reload()}))},e.Eb=function(l){if(l.displayName===void 0&&l.photoURL===void 0)return uk(this);var m=this;return Pi(this,this.I().then(function(E){return m.a.Eb(E,{displayName:l.displayName,photoUrl:l.photoURL})}).then(function(E){return us(m,E),Hl(m,"displayName",E.displayName||null),Hl(m,"photoURL",E.photoUrl||null),Re(m.providerData,function(O){O.providerId==="password"&&(xt(O,"displayName",m.displayName),xt(O,"photoURL",m.photoURL))}),Qp(m)}).then(ak))},e.cd=function(l){var m=this;return Pi(this,Km(this).then(function(E){return zt(ck(m),l)?Dn(m.a,E,[l]).then(function(O){var F={};return Re(O.providerUserInfo||[],function(z){F[z.providerId]=!0}),Re(ck(m),function(z){F[z]||eE(m,z)}),F[Ph.PROVIDER_ID]||xt(m,"phoneNumber",null),Qp(m)}):Qp(m).then(function(){throw new re("no-such-provider")})}))},e.delete=function(){var l=this;return Pi(this,this.I().then(function(m){return Mn(l.a,ZU,{idToken:m})}).then(function(){l.dispatchEvent(new Wp("userDeleted"))})).then(function(){for(var m=0;m<l.N.length;m++)l.N[m].cancel("app-deleted");Q1(l,null),Y1(l,null),Hm(l,null),l.N=[],l.J=!0,Gp(l),xt(l,"refreshToken",null),l.b&&Um(l.b,l)})},e.Gb=function(l,m){return!!(l=="linkViaPopup"&&(this.g||null)==m&&this.f||l=="reauthViaPopup"&&(this.g||null)==m&&this.f||l=="linkViaRedirect"&&(this.ga||null)==m||l=="reauthViaRedirect"&&(this.ga||null)==m)},e.na=function(l,m,E,O){l!="linkViaPopup"&&l!="reauthViaPopup"||O!=(this.g||null)||(E&&this.C?this.C(E):m&&!E&&this.f&&this.f(m),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(l,m){return l=="linkViaPopup"&&m==(this.g||null)?Y(this.Lb,this):l=="reauthViaPopup"&&m==(this.g||null)?Y(this.Mb,this):l=="linkViaRedirect"&&(this.ga||null)==m?Y(this.Lb,this):l=="reauthViaRedirect"&&(this.ga||null)==m?Y(this.Mb,this):null},e.Ec=function(l){var m=this;return C0(this,"linkViaPopup",l,function(){return Yp(m,l.providerId).then(function(){return Qp(m)})},!1)},e.Nc=function(l){return C0(this,"reauthViaPopup",l,function(){return Xt()},!0)};function C0(l,m,E,O,F){if(!Ff())return vr(new re("operation-not-supported-in-this-environment"));if(l.i&&!F)return vr(l.i);var z=Bf(E.providerId),Q=Ms(l.uid+":::"),ue=null;(!$y()||WI())&&l.s&&E.isOAuthProvider&&(ue=dn(l.s,l.l,l.m,m,E,null,Q,Jt.SDK_VERSION||null,null,null,l.tenantId,l.u));var We=bR(ue,z&&z.va,z&&z.ua);return O=O().then(function(){if(fk(l),!F)return l.I().then(function(){})}).then(function(){return w0(l.b,We,m,E,Q,!!ue,l.tenantId)}).then(function(){return new gn(function(at,pn){l.na(m,null,new re("cancelled-popup-request"),l.g||null),l.f=at,l.C=pn,l.g=Q,l.c=KC(l.b,l,m,We,Q)})}).then(function(at){return We&&Sp(We),at?Bu(at):null}).o(function(at){throw We&&Sp(We),at}),Pi(l,O,F)}e.Fc=function(l){var m=this;return hk(this,"linkViaRedirect",l,function(){return Yp(m,l.providerId)},!1)},e.Oc=function(l){return hk(this,"reauthViaRedirect",l,function(){return Xt()},!0)};function hk(l,m,E,O,F){if(!Ff())return vr(new re("operation-not-supported-in-this-environment"));if(l.i&&!F)return vr(l.i);var z=null,Q=Ms(l.uid+":::");return O=O().then(function(){if(fk(l),!F)return l.I().then(function(){})}).then(function(){return l.ga=Q,Qp(l)}).then(function(ue){return l.ha&&(ue=l.ha,ue=ue.b.set(Yu,l.w(),ue.a)),ue}).then(function(){return $1(l.b,m,E,Q,l.tenantId)}).o(function(ue){if(z=ue,l.ha)return Wm(l.ha);throw z}).then(function(){if(z)throw z}),Pi(l,O,F)}function fk(l){if(!l.b||!l.P)throw l.b&&!l.P?new re("internal-error"):new re("auth-domain-config-required")}e.Lb=function(l,m,E,O){var F=this;this.c&&(this.c.cancel(),this.c=null);var z=null;return E=this.I().then(function(Q){return p1(F.a,{requestUri:l,postBody:O,sessionId:m,idToken:Q})}).then(function(Q){return z=Vh(F,Q,"link"),tE(F,Q)}).then(function(){return z}),Pi(this,E)},e.Mb=function(l,m,E,O){var F=this;this.c&&(this.c.cancel(),this.c=null);var z=null,Q=Xt().then(function(){return mm(Fr(F.a,{requestUri:l,sessionId:m,postBody:O,tenantId:E}),F.uid)}).then(function(ue){return z=Vh(F,ue,"reauthenticate"),us(F,ue),F.i=null,F.reload()}).then(function(){return z});return Pi(this,Q,!0)},e.vb=function(l){var m=this,E=null;return Pi(this,this.I().then(function(O){return E=O,typeof l>"u"||Ue(l)?{}:vm(new Qy(l))}).then(function(O){return m.a.vb(E,O)}).then(function(O){if(m.email!=O)return m.reload()}).then(function(){}))},e.Fb=function(l,m){var E=this,O=null;return Pi(this,this.I().then(function(F){return O=F,typeof m>"u"||Ue(m)?{}:vm(new Qy(m))}).then(function(F){return E.a.Fb(O,l,F)}).then(function(F){if(E.email!=F)return E.reload()}).then(function(){}))};function Pi(l,m,E){var O=k0(l,m,E);return l.N.push(O),O.oa(function(){Te(l.N,O)}),O.o(function(F){var z=null;throw F&&F.code==="auth/multi-factor-auth-required"&&(z=E0(F.w(),I0(l),Y(l.jc,l))),z||F})}e.jc=function(l){var m=null,E=this;return l=mm(Xt(l),E.uid).then(function(O){return m=Vh(E,O,"reauthenticate"),us(E,O),E.i=null,E.reload()}).then(function(){return m}),Pi(this,l,!0)};function k0(l,m,E){return l.i&&!E?(m.cancel(),vr(l.i)):m.o(function(O){throw!O||O.code!="auth/user-disabled"&&O.code!="auth/user-token-expired"||(l.i||l.dispatchEvent(new Wp("userInvalidated")),l.i=O),O})}e.toJSON=function(){return this.w()},e.w=function(){var l={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&kt(l,this.metadata.w()),Re(this.providerData,function(m){l.providerData.push(XI(m))}),kt(l,this.S.w()),l};function y2(l){if(!l.apiKey)return null;var m={apiKey:l.apiKey,authDomain:l.authDomain,appName:l.appName,emulatorConfig:l.emulatorConfig},E={};if(l.stsTokenManager&&l.stsTokenManager.accessToken){E[Dc]=l.stsTokenManager.accessToken,E.refreshToken=l.stsTokenManager.refreshToken||null;var O=l.stsTokenManager.expirationTime;O&&(E.expiresIn=(O-Date.now())/1e3)}else return null;var F=new uu(m,E,l);return l.providerData&&Re(l.providerData,function(z){z&&Z1(F,Bu(z))}),l.redirectEventId&&(F.ga=l.redirectEventId),F}function s$(l,m,E,O){var F=new uu(l,m);return E&&(F.ha=E),O&&cd(F,O),F.reload().then(function(){return F})}function dk(l,m,E,O){var F=l.h,z={};return z[Dc]=F.b&&F.b.toString(),z.refreshToken=F.a,m=new uu(m||{apiKey:l.l,authDomain:l.s,appName:l.m},z),E&&(m.ha=E),O&&cd(m,O),zm(m,l),m}function A0(l){this.a=l,this.b=Bs()}var Yu={name:"redirectUser",F:"session"};function Wm(l){return nd(l.b,Yu,l.a)}function x0(l,m){return l.b.get(Yu,l.a).then(function(E){return E&&m&&(E.authDomain=m),y2(E||{})})}function pk(l){this.a=l,this.b=Bs(),this.c=null,this.f=b2(this),this.b.addListener(cu("local"),this.a,Y(this.g,this))}pk.prototype.g=function(){var l=this,m=cu("local");Gm(this,function(){return Xt().then(function(){return l.c&&l.c.F!="local"?l.b.get(m,l.a):null}).then(function(E){if(E)return Ta(l,"local").then(function(){l.c=m})})})};function Ta(l,m){var E=[],O;for(O in Uc)Uc[O]!==m&&E.push(nd(l.b,cu(Uc[O]),l.a));return E.push(nd(l.b,vk,l.a)),sR(E)}function b2(l){var m=cu("local"),E=cu("session"),O=cu("none");return LC(l.b,m,l.a).then(function(){return l.b.get(E,l.a)}).then(function(F){return F?E:l.b.get(O,l.a).then(function(z){return z?O:l.b.get(m,l.a).then(function(Q){return Q?m:l.b.get(vk,l.a).then(function(ue){return ue?cu(ue):m})})})}).then(function(F){return l.c=F,Ta(l,F.F)}).o(function(){l.c||(l.c=m)})}var vk={name:"persistence",F:"session"};function cu(l){return{name:"authUser",F:l}}pk.prototype.yb=function(l){var m=null,E=this;return RC(l),Gm(this,function(){return l!=E.c.F?E.b.get(E.c,E.a).then(function(O){return m=O,Ta(E,l)}).then(function(){if(E.c=cu(l),m)return E.b.set(E.c,m,E.a)}):Xt()})};function mk(l){return Gm(l,function(){return l.b.set(vk,l.c.F,l.a)})}function lu(l,m){return Gm(l,function(){return l.b.set(l.c,m.w(),l.a)})}function gk(l){return Gm(l,function(){return nd(l.b,l.c,l.a)})}function yk(l,m,E){return Gm(l,function(){return l.b.get(l.c,l.a).then(function(O){return O&&m&&(O.authDomain=m),O&&E&&(O.emulatorConfig=E),y2(O||{})})})}function Gm(l,m){return l.f=l.f.then(m,m),l.f}function $c(l){if(this.l=!1,xt(this,"settings",new q1),xt(this,"app",l),Wn(this).options&&Wn(this).options.apiKey)l=Jt.SDK_VERSION?Mf(Jt.SDK_VERSION):null,this.a=new au(Wn(this).options&&Wn(this).options.apiKey,Ne(Be),l);else throw new re("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Jt.INTERNAL.createSubscribe(Y(this.zc,this)),this.W=void 0,this.ib=Jt.INTERNAL.createSubscribe(Y(this.Ac,this)),Qm(this,null),this.i=new pk(Wn(this).options.apiKey+":"+Wn(this).name),this.D=new A0(Wn(this).options.apiKey+":"+Wn(this).name),this.$=ci(this,Sk(this)),this.h=ci(this,S2(this)),this.ba=!1,this.ja=Y(this.Zc,this),this.Ba=Y(this.da,this),this.qa=Y(this.mc,this),this.za=Y(this.wc,this),this.Aa=Y(this.xc,this),this.b=null,_k(this),this.INTERNAL={},this.INTERNAL.delete=Y(this.delete,this),this.INTERNAL.logFramework=Y(this.Gc,this),this.u=0,vo.call(this),_2(this),this.J=[],this.R=null}ye($c,vo);function bk(l){ba.call(this,"languageCodeChanged"),this.h=l}ye(bk,ba);function w2(l){ba.call(this,"emulatorConfigChanged"),this.c=l}ye(w2,ba);function wk(l){ba.call(this,"frameworkChanged"),this.f=l}ye(wk,ba),e=$c.prototype,e.yb=function(l){return l=this.i.yb(l),ci(this,l)},e.xa=function(l){this.aa===l||this.l||(this.aa=l,Eo(this.a,this.aa),this.dispatchEvent(new bk(this.la())))},e.la=function(){return this.aa},e.fd=function(){var l=g.navigator;this.xa(l&&(l.languages&&l.languages[0]||l.language||l.userLanguage)||null)},e.gd=function(l,m){if(!this.R){if(!/^https?:\/\//.test(l))throw new re("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");m=m?!!m.disableWarnings:!1,O0(m),this.R={url:l,ec:m},this.settings.jb=!0,f1(this.a,this.R),this.dispatchEvent(new w2(this.R))}};function O0(l){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),g.document&&!l&&$_().then(function(){var m=g.document.createElement("div");m.innerText="Running in emulator mode. Do not use with production credentials.",m.style.position="fixed",m.style.width="100%",m.style.backgroundColor="#ffffff",m.style.border=".1em solid #000000",m.style.color="#b50000",m.style.bottom="0px",m.style.left="0px",m.style.margin="0px",m.style.zIndex=1e4,m.style.textAlign="center",m.classList.add("firebase-emulator-warning"),g.document.body.appendChild(m)})}e.Gc=function(l){this.J.push(l),c0(this.a,Jt.SDK_VERSION?Mf(Jt.SDK_VERSION,this.J):null),this.dispatchEvent(new wk(this.J))},e.Ga=function(){return Fe(this.J)},e.zb=function(l){this.S===l||this.l||(this.S=l,this.a.b=this.S)},e.T=function(){return this.S};function _2(l){Object.defineProperty(l,"lc",{get:function(){return this.la()},set:function(m){this.xa(m)},enumerable:!1}),l.aa=null,Object.defineProperty(l,"ti",{get:function(){return this.T()},set:function(m){this.zb(m)},enumerable:!1}),l.S=null,Object.defineProperty(l,"emulatorConfig",{get:function(){if(this.R){var m=Rs(this.R.url);m=Bu({protocol:m.c,host:m.a,port:m.g,options:Bu({disableWarnings:this.R.ec})})}else m=null;return m},enumerable:!1})}e.toJSON=function(){return{apiKey:Wn(this).options.apiKey,authDomain:Wn(this).options.authDomain,appName:Wn(this).name,currentUser:Cn(this)&&Cn(this).w()}};function nE(l){return l.Oa||vr(new re("auth-domain-config-required"))}function _k(l){var m=Wn(l).options.authDomain,E=Wn(l).options.apiKey;m&&Ff()&&(l.Oa=l.$.then(function(){if(!l.l){if(l.b=_0(m,E,Wn(l).name,l.R),b0(l.b,l),Cn(l)&&ld(Cn(l)),l.m){ld(l.m);var O=l.m;O.xa(l.la()),Q1(O,l),O=l.m,cd(O,l.J),Hm(O,l),O=l.m,ud(O,l.R),Y1(O,l),l.m=null}return l.b}}))}e.Gb=function(l,m){switch(l){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==m&&!!this.f;default:return!1}},e.na=function(l,m,E,O){l=="signInViaPopup"&&this.g==O&&(E&&this.C?this.C(E):m&&!E&&this.f&&this.f(m),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(l,m){return l=="signInViaRedirect"||l=="signInViaPopup"&&this.g==m&&this.f?Y(this.ic,this):null},e.ic=function(l,m,E,O){var F=this,z={requestUri:l,postBody:O,sessionId:m,tenantId:E};return this.c&&(this.c.cancel(),this.c=null),F.$.then(function(){return Xu(F,Fp(F.a,z))})},e.Xc=function(l){if(!Ff())return vr(new re("operation-not-supported-in-this-environment"));var m=this,E=Bf(l.providerId),O=Ms(),F=null;(!$y()||WI())&&Wn(this).options.authDomain&&l.isOAuthProvider&&(F=dn(Wn(this).options.authDomain,Wn(this).options.apiKey,Wn(this).name,"signInViaPopup",l,null,O,Jt.SDK_VERSION||null,null,null,this.T(),this.R));var z=bR(F,E&&E.va,E&&E.ua);return E=nE(this).then(function(Q){return w0(Q,z,"signInViaPopup",l,O,!!F,m.T())}).then(function(){return new gn(function(Q,ue){m.na("signInViaPopup",null,new re("cancelled-popup-request"),m.g),m.f=Q,m.C=ue,m.g=O,m.c=KC(m.b,m,"signInViaPopup",z,O)})}).then(function(Q){return z&&Sp(z),Q?Bu(Q):null}).o(function(Q){throw z&&Sp(z),Q}),ci(this,E)},e.Yc=function(l){if(!Ff())return vr(new re("operation-not-supported-in-this-environment"));var m=this,E=nE(this).then(function(){return mk(m.i)}).then(function(){return $1(m.b,"signInViaRedirect",l,void 0,m.T())});return ci(this,E)};function N0(l){if(!Ff())return vr(new re("operation-not-supported-in-this-environment"));var m=nE(l).then(function(){return l.b.ra()}).then(function(E){return E?Bu(E):null});return ci(l,m)}e.ra=function(){var l=this;return N0(this).then(function(m){return l.b&&Vm(l.b.b),m}).o(function(m){throw l.b&&Vm(l.b.b),m})},e.dd=function(l){if(!l)return vr(new re("null-user"));if(this.S!=l.tenantId)return vr(new re("tenant-id-mismatch"));var m=this,E={};E.apiKey=Wn(this).options.apiKey,E.authDomain=Wn(this).options.authDomain,E.appName=Wn(this).name;var O=dk(l,E,m.D,m.Ga());return ci(this,this.h.then(function(){if(Wn(m).options.apiKey!=l.l)return O.reload()}).then(function(){return Cn(m)&&l.uid==Cn(m).uid?(zm(Cn(m),l),m.da(l)):(Qm(m,O),ld(O),m.da(O))}).then(function(){zl(m)}))};function Ek(l,m){var E={};return E.apiKey=Wn(l).options.apiKey,E.authDomain=Wn(l).options.authDomain,E.appName=Wn(l).name,l.R&&(E.emulatorConfig=l.R),l.$.then(function(){return s$(E,m,l.D,l.Ga())}).then(function(O){return Cn(l)&&O.uid==Cn(l).uid?(zm(Cn(l),O),l.da(O)):(Qm(l,O),ld(O),l.da(O))}).then(function(){zl(l)})}function Qm(l,m){Cn(l)&&(J1(Cn(l),l.Ba),Zi(Cn(l),"tokenChanged",l.qa),Zi(Cn(l),"userDeleted",l.za),Zi(Cn(l),"userInvalidated",l.Aa),Gp(Cn(l))),m&&(m.W.push(l.Ba),ru(m,"tokenChanged",l.qa),ru(m,"userDeleted",l.za),ru(m,"userInvalidated",l.Aa),0<l.u&&X1(m)),xt(l,"currentUser",m),m&&(m.xa(l.la()),Q1(m,l),cd(m,l.J),Hm(m,l),ud(m,l.R),Y1(m,l))}e.Bb=function(){var l=this,m=this.h.then(function(){return l.b&&Vm(l.b.b),Cn(l)?(Qm(l,null),gk(l.i).then(function(){zl(l)})):Xt()});return ci(this,m)};function E2(l){var m=x0(l.D,Wn(l).options.authDomain).then(function(E){return(l.m=E)&&(E.ha=l.D),Wm(l.D)});return ci(l,m)}function Sk(l){var m=Wn(l).options.authDomain,E=E2(l).then(function(){return yk(l.i,m,l.R)}).then(function(O){return O?(O.ha=l.D,l.m&&(l.m.ga||null)==(O.ga||null)?O:O.reload().then(function(){return lu(l.i,O).then(function(){return O})}).o(function(F){return F.code=="auth/network-request-failed"?O:gk(l.i)})):null}).then(function(O){Qm(l,O||null)});return ci(l,E)}function S2(l){return l.$.then(function(){return N0(l)}).o(function(){}).then(function(){if(!l.l)return l.ja()}).o(function(){}).then(function(){if(!l.l){l.ba=!0;var m=l.i;m.b.addListener(cu("local"),m.a,l.ja)}})}e.Zc=function(){var l=this;return yk(this.i,Wn(this).options.authDomain).then(function(m){if(!l.l){var E;if(E=Cn(l)&&m){E=Cn(l).uid;var O=m.uid;E=E==null||E===""||O===void 0||O===null||O===""?!1:E==O}if(E)return zm(Cn(l),m),Cn(l).I();(Cn(l)||m)&&(Qm(l,m),m&&(ld(m),m.ha=l.D),l.b&&b0(l.b,l),zl(l))}})},e.da=function(l){return lu(this.i,l)},e.mc=function(){zl(this),this.da(Cn(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Xu(l,m){var E=null,O=null;return ci(l,m.then(function(F){return E=Rh(F),O=Y_(F),Ek(l,F)},function(F){var z=null;throw F&&F.code==="auth/multi-factor-auth-required"&&(z=E0(F.w(),l,Y(l.kc,l))),z||F}).then(function(){return Bu({user:Cn(l),credential:E,additionalUserInfo:O,operationType:"signIn"})}))}e.kc=function(l){var m=this;return this.h.then(function(){return Xu(m,Xt(l))})},e.zc=function(l){var m=this;this.addAuthTokenListener(function(){l.next(Cn(m))})},e.Ac=function(l){var m=this;T2(this,function(){l.next(Cn(m))})},e.Ic=function(l,m,E){var O=this;return this.ba&&Promise.resolve().then(function(){typeof l=="function"?l(Cn(O)):typeof l.next=="function"&&l.next(Cn(O))}),this.Pa(l,m,E)},e.Hc=function(l,m,E){var O=this;return this.ba&&Promise.resolve().then(function(){O.W=O.getUid(),typeof l=="function"?l(Cn(O)):typeof l.next=="function"&&l.next(Cn(O))}),this.ib(l,m,E)},e.nc=function(l){var m=this,E=this.h.then(function(){return Cn(m)?Cn(m).I(l).then(function(O){return{accessToken:O}}):null});return ci(this,E)},e.Tc=function(l){var m=this;return this.h.then(function(){return Xu(m,Mn(m.a,EC,{token:l}))}).then(function(E){var O=E.user;return Hl(O,"isAnonymous",!1),m.da(O),E})},e.Uc=function(l,m){var E=this;return this.h.then(function(){return Xu(E,Mn(E.a,Fl,{email:l,password:m}))})},e.dc=function(l,m){var E=this;return this.h.then(function(){return Xu(E,Mn(E.a,wC,{email:l,password:m}))})},e.ab=function(l){var m=this;return this.h.then(function(){return Xu(m,l.ka(m.a))})},e.Sc=function(l){return Tp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(l)},e.Ab=function(){var l=this;return this.h.then(function(){var m=Cn(l);if(m&&m.isAnonymous){var E=Bu({providerId:null,isNewUser:!1});return Bu({user:m,credential:null,additionalUserInfo:E,operationType:"signIn"})}return Xu(l,l.a.Ab()).then(function(O){var F=O.user;return Hl(F,"isAnonymous",!0),l.da(F),O})})};function Wn(l){return l.app}function Cn(l){return l.currentUser}e.getUid=function(){return Cn(this)&&Cn(this).uid||null};function Xp(l){return Cn(l)&&Cn(l)._lat||null}function zl(l){if(l.ba){for(var m=0;m<l.s.length;m++)l.s[m]&&l.s[m](Xp(l));if(l.W!==l.getUid()&&l.N.length)for(l.W=l.getUid(),m=0;m<l.N.length;m++)l.N[m]&&l.N[m](Xp(l))}}e.cc=function(l){this.addAuthTokenListener(l),this.u++,0<this.u&&Cn(this)&&X1(Cn(this))},e.Pc=function(l){var m=this;Re(this.s,function(E){E==l&&m.u--}),0>this.u&&(this.u=0),this.u==0&&Cn(this)&&Gp(Cn(this)),this.removeAuthTokenListener(l)},e.addAuthTokenListener=function(l){var m=this;this.s.push(l),ci(this,this.h.then(function(){m.l||zt(m.s,l)&&l(Xp(m))}))},e.removeAuthTokenListener=function(l){qe(this.s,function(m){return m==l})};function T2(l,m){l.N.push(m),ci(l,l.h.then(function(){!l.l&&zt(l.N,m)&&l.W!==l.getUid()&&(l.W=l.getUid(),m(Xp(l)))}))}e.delete=function(){this.l=!0;for(var l=0;l<this.P.length;l++)this.P[l].cancel("app-deleted");return this.P=[],this.i&&(l=this.i,l.b.removeListener(cu("local"),l.a,this.ja)),this.b&&(Um(this.b,this),Vm(this.b.b)),Promise.resolve()};function ci(l,m){return l.P.push(m),m.oa(function(){Te(l.P,m)}),m}e.hc=function(l){return ci(this,l0(this.a,l))},e.Bc=function(l){return!!Pn(l)},e.xb=function(l,m){var E=this;return ci(this,Xt().then(function(){var O=new Qy(m);if(!O.c)throw new re("argument-error",Vf+" must be true when sending sign in link to email");return vm(O)}).then(function(O){return E.a.xb(l,O)}).then(function(){}))},e.jd=function(l){return this.Sa(l).then(function(m){return m.data.email})},e.ob=function(l,m){return ci(this,this.a.ob(l,m).then(function(){}))},e.Sa=function(l){return ci(this,this.a.Sa(l).then(function(m){return new zU(m)}))},e.kb=function(l){return ci(this,this.a.kb(l).then(function(){}))},e.wb=function(l,m){var E=this;return ci(this,Xt().then(function(){return typeof m>"u"||Ue(m)?{}:vm(new Qy(m))}).then(function(O){return E.a.wb(l,O)}).then(function(){}))},e.Wc=function(l,m){return ci(this,JC(this,l,m,Y(this.ab,this)))},e.Vc=function(l,m){var E=this;return ci(this,Xt().then(function(){var O=m||Uy(),F=gm(l,O);if(O=Pn(O),!O)throw new re("argument-error","Invalid email link!");if(O.tenantId!==E.T())throw new re("tenant-id-mismatch");return E.ab(F)}))};function hd(){}hd.prototype.render=function(){},hd.prototype.reset=function(){},hd.prototype.getResponse=function(){},hd.prototype.execute=function(){};function fd(){this.a={},this.b=1e12}var P0=null;fd.prototype.render=function(l,m){return this.a[this.b.toString()]=new D0(l,m),this.b++},fd.prototype.reset=function(l){var m=R0(this,l);l=I2(l),m&&l&&(m.delete(),delete this.a[l])},fd.prototype.getResponse=function(l){return(l=R0(this,l))?l.getResponse():null},fd.prototype.execute=function(l){(l=R0(this,l))&&l.execute()};function R0(l,m){return(m=I2(m))&&l.a[m]||null}function I2(l){return(l=typeof l>"u"?1e12:l)?l.toString():null}function D0(l,m){this.g=!1,this.c=m,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Th(l);var E=this;this.i=function(){E.execute()},this.h?this.execute():ru(this.f,"click",this.i)}D0.prototype.getResponse=function(){return Jp(this),this.b},D0.prototype.execute=function(){Jp(this);var l=this;this.a||(this.a=setTimeout(function(){l.b=ER();var m=l.c.callback,E=l.c["expired-callback"];if(m)try{m(l.b)}catch{}l.a=setTimeout(function(){if(l.a=null,l.b=null,E)try{E()}catch{}l.h&&l.execute()},6e4)},500))},D0.prototype.delete=function(){Jp(this),this.g=!0,clearTimeout(this.a),this.a=null,Zi(this.f,"click",this.i)};function Jp(l){if(l.g)throw Error("reCAPTCHA mock was already deleted!")}function rE(){}xt(rE,"FACTOR_ID","phone");function Zp(){}Zp.prototype.g=function(){return P0||(P0=new fd),Xt(P0)},Zp.prototype.c=function(){};var iE=null;function ev(){this.b=g.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var a$=new cn(dr,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ym=new eo(3e4,6e4);ev.prototype.g=function(l){var m=this;return new gn(function(E,O){var F=setTimeout(function(){O(new re("network-request-failed"))},Ym.get());if(!g.grecaptcha||l!==m.f&&!m.b){g[m.a]=function(){if(g.grecaptcha){m.f=l;var Q=g.grecaptcha.render;g.grecaptcha.render=function(ue,We){return ue=Q(ue,We),m.b++,ue},clearTimeout(F),E(g.grecaptcha)}else clearTimeout(F),O(new re("internal-error"));delete g[m.a]};var z=ju(a$,{onload:m.a,hl:l||""});Xt(h1(z)).o(function(){clearTimeout(F),O(new re("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(F),E(g.grecaptcha)})},ev.prototype.c=function(){this.b--};var Ia=null;function Vc(l,m,E,O,F,z,Q){if(xt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=m,this.g=null,Q?(iE||(iE=new Zp),Q=iE):(Ia||(Ia=new ev),Q=Ia),this.m=Q,this.a=E||{theme:"light",type:"image"},this.h=[],this.a[M0])throw new re("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[C2]==="invisible",!g.document)throw new re("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Th(m)||!this.i&&Th(m).hasChildNodes())throw new re("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new au(l,z||null,F||null),this.u=O||function(){return null};var ue=this;this.l=[];var We=this.a[L0];this.a[L0]=function(pn){if(qc(ue,pn),typeof We=="function")We(pn);else if(typeof We=="string"){var Er=qr(We,g);typeof Er=="function"&&Er(pn)}};var at=this.a[qh];this.a[qh]=function(){if(qc(ue,null),typeof at=="function")at();else if(typeof at=="string"){var pn=qr(at,g);typeof pn=="function"&&pn()}}}var L0="callback",qh="expired-callback",M0="sitekey",C2="size";function qc(l,m){for(var E=0;E<l.l.length;E++)try{l.l[E](m)}catch{}}function F0(l,m){qe(l.l,function(E){return E==m})}function Xm(l,m){return l.h.push(m),m.oa(function(){Te(l.h,m)}),m}e=Vc.prototype,e.Ia=function(){var l=this;return this.f?this.f:this.f=Xm(this,Xt().then(function(){if(Br()&&!_a())return $_();throw new re("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return l.m.g(l.u())}).then(function(m){return l.g=m,Mn(l.s,_C,{})}).then(function(m){l.a[M0]=m.recaptchaSiteKey}).o(function(m){throw l.f=null,m}))},e.render=function(){Bo(this);var l=this;return Xm(this,this.Ia().then(function(){if(l.c===null){var m=l.v;if(!l.i){var E=Th(m);m=tr("DIV"),E.appendChild(m)}l.c=l.g.render(m,l.a)}return l.c}))},e.verify=function(){Bo(this);var l=this;return Xm(this,this.render().then(function(m){return new gn(function(E){var O=l.g.getResponse(m);if(O)E(O);else{var F=function(z){z&&(F0(l,F),E(z))};l.l.push(F),l.i&&l.g.execute(l.c)}})}))},e.reset=function(){Bo(this),this.c!==null&&this.g.reset(this.c)};function Bo(l){if(l.J)throw new re("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Bo(this),this.J=!0,this.m.c();for(var l=0;l<this.h.length;l++)this.h[l].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){l=Th(this.v);for(var m;m=l.firstChild;)l.removeChild(m)}};function oE(l,m,E){var O=!1;try{this.b=E||Jt.app()}catch{throw new re("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)E=this.b.options.apiKey;else throw new re("invalid-api-key");var F=this,z=null;try{z=this.b.auth().Ga()}catch{}try{O=this.b.auth().settings.appVerificationDisabledForTesting}catch{}z=Jt.SDK_VERSION?Mf(Jt.SDK_VERSION,z):null,Vc.call(this,E,l,m,function(){try{var Q=F.b.auth().la()}catch{Q=null}return Q},z,Ne(Be),O)}ye(oE,Vc);function Tk(l,m,E,O){e:{E=Array.prototype.slice.call(E);for(var F=0,z=!1,Q=0;Q<m.length;Q++)if(m[Q].optional)z=!0;else{if(z)throw new re("internal-error","Argument validator encountered a required argument after an optional argument.");F++}if(z=m.length,E.length<F||z<E.length)O="Expected "+(F==z?F==1?"1 argument":F+" arguments":F+"-"+z+" arguments")+" but got "+E.length+".";else{for(F=0;F<E.length;F++)if(z=m[F].optional&&E[F]===void 0,!m[F].M(E[F])&&!z){if(m=m[F],0>F||F>=dd.length)throw new re("internal-error","Argument validator received an unsupported number of arguments.");E=dd[F],O=(O?"":E+" argument ")+(m.name?'"'+m.name+'" ':"")+"must be "+m.K+".";break e}O=null}}if(O)throw new re("argument-error",l+" failed: "+O)}var dd="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Lt(l,m){return{name:l||"",K:"a valid string",optional:!!m,M:function(E){return typeof E=="string"}}}function Ik(l,m){return{name:l||"",K:"a boolean",optional:!!m,M:function(E){return typeof E=="boolean"}}}function qi(l,m){return{name:l||"",K:"a valid object",optional:!!m,M:R}}function tv(l,m){return{name:l||"",K:"a function",optional:!!m,M:function(E){return typeof E=="function"}}}function Ho(l,m){return{name:l||"",K:"null",optional:!!m,M:function(E){return E===null}}}function k2(){return{name:"",K:"an HTML element",optional:!1,M:function(l){return!!(l&&l instanceof Element)}}}function pd(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(l){return!!(l&&l instanceof $c)}}}function j0(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(l){return!!(l&&l instanceof Jt.app.App)}}}function Kl(l){return{name:l?l+"Credential":"credential",K:l?"a valid "+l+" credential":"a valid credential",optional:!1,M:function(m){if(!m)return!1;var E=!l||m.providerId===l;return!(!m.ka||!E)}}}function Ck(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(l){return l?!!l.tb:!1}}}function nv(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(l){return!!(l&&l.providerId&&l.hasOwnProperty&&l.hasOwnProperty("isOAuthProvider"))}}}function sE(l,m){return R(l)&&typeof l.type=="string"&&l.type===m&&typeof l.Ha=="function"}function kk(l){return R(l)&&typeof l.uid=="string"}function U0(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(l){return!(!l||typeof l.type!="string"||typeof l.verify!="function")}}}function _i(l,m,E,O){return{name:E||"",K:l.K+" or "+m.K,optional:!!O,M:function(F){return l.M(F)||m.M(F)}}}function Qe(l,m){for(var E in m){var O=m[E].name;l[O]=xk(O,l[E],m[E].j)}}function Ak(l,m){for(var E in m){var O=m[E].name;O!==E&&Object.defineProperty(l,O,{get:ce(function(F){return this[F]},E),set:ce(function(F,z,Q,ue){Tk(F,[Q],[ue],!0),this[z]=ue},O,E,m[E].lb),enumerable:!0})}}function li(l,m,E,O){l[m]=xk(m,E,O)}function xk(l,m,E){function O(){var Q=Array.prototype.slice.call(arguments);return Tk(F,E,Q),m.apply(this,Q)}if(!E)return m;var F=u$(l),z;for(z in m)O[z]=m[z];for(z in m.prototype)O.prototype[z]=m.prototype[z];return O}function u$(l){return l=l.split("."),l[l.length-1]}Qe($c.prototype,{kb:{name:"applyActionCode",j:[Lt("code")]},Sa:{name:"checkActionCode",j:[Lt("code")]},ob:{name:"confirmPasswordReset",j:[Lt("code"),Lt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Lt("email"),Lt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Lt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Lt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[_i(qi(),tv(),"nextOrObserver"),tv("opt_error",!0),tv("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[_i(qi(),tv(),"nextOrObserver"),tv("opt_error",!0),tv("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Lt("email"),_i(qi("opt_actionCodeSettings",!0),Ho(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Lt("email"),qi("actionCodeSettings")]},yb:{name:"setPersistence",j:[Lt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Kl()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Kl()]},Tc:{name:"signInWithCustomToken",j:[Lt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Lt("email"),Lt("password")]},Vc:{name:"signInWithEmailLink",j:[Lt("email"),Lt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Lt("phoneNumber"),U0()]},Xc:{name:"signInWithPopup",j:[nv()]},Yc:{name:"signInWithRedirect",j:[nv()]},dd:{name:"updateCurrentUser",j:[_i(function(l){return{name:"user",K:"an instance of Firebase User",optional:!!l,M:function(m){return!!(m&&m instanceof uu)}}}(),Ho(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Lt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Lt("url"),qi("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Lt("code")]}}),Ak($c.prototype,{lc:{name:"languageCode",lb:_i(Lt(),Ho(),"languageCode")},ti:{name:"tenantId",lb:_i(Lt(),Ho(),"tenantId")}}),$c.Persistence=Uc,$c.Persistence.LOCAL="local",$c.Persistence.SESSION="session",$c.Persistence.NONE="none",Qe(uu.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ik("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ik("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Kl()]},rb:{name:"linkWithCredential",j:[Kl()]},Dc:{name:"linkWithPhoneNumber",j:[Lt("phoneNumber"),U0()]},Ec:{name:"linkWithPopup",j:[nv()]},Fc:{name:"linkWithRedirect",j:[nv()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Kl()]},ub:{name:"reauthenticateWithCredential",j:[Kl()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Lt("phoneNumber"),U0()]},Nc:{name:"reauthenticateWithPopup",j:[nv()]},Oc:{name:"reauthenticateWithRedirect",j:[nv()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[_i(qi("opt_actionCodeSettings",!0),Ho(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Lt(null,!0)]},cd:{name:"unlink",j:[Lt("provider")]},Cb:{name:"updateEmail",j:[Lt("email")]},Db:{name:"updatePassword",j:[Lt("password")]},ed:{name:"updatePhoneNumber",j:[Kl("phone")]},Eb:{name:"updateProfile",j:[qi("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Lt("email"),_i(qi("opt_actionCodeSettings",!0),Ho(null,!0),"opt_actionCodeSettings",!0)]}}),Qe(fd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qe(hd.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Qe(gn.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ak(q1.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ik("appVerificationDisabledForTesting")}}),Qe(qm.prototype,{confirm:{name:"confirm",j:[Lt("verificationCode")]}}),li(kl,"fromJSON",function(l){l=typeof l=="string"?JSON.parse(l):l;for(var m,E=[bo,ss,WU,cC],O=0;O<E.length;O++)if(m=E[O](l))return m;return null},[_i(Lt(),qi(),"json")]),li(su,"credential",function(l,m){return new Nh(l,m)},[Lt("email"),Lt("password")]),Qe(Nh.prototype,{w:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(xp.prototype,{Ca:{name:"addScope",j:[Lt("scope")]},Ka:{name:"setCustomParameters",j:[qi("customOAuthParameters")]}}),li(xp,"credential",PR,[_i(Lt(),qi(),"token")]),li(su,"credentialWithLink",gm,[Lt("email"),Lt("emailLink")]),Qe(Op.prototype,{Ca:{name:"addScope",j:[Lt("scope")]},Ka:{name:"setCustomParameters",j:[qi("customOAuthParameters")]}}),li(Op,"credential",e1,[_i(Lt(),qi(),"token")]),Qe(fn.prototype,{Ca:{name:"addScope",j:[Lt("scope")]},Ka:{name:"setCustomParameters",j:[qi("customOAuthParameters")]}}),li(fn,"credential",qo,[_i(Lt(),_i(qi(),Ho()),"idToken"),_i(Lt(),Ho(),"accessToken",!0)]),Qe(Al.prototype,{Ka:{name:"setCustomParameters",j:[qi("customOAuthParameters")]}}),li(Al,"credential",Kf,[_i(Lt(),qi(),"token"),Lt("secret",!0)]),Qe(ou.prototype,{Ca:{name:"addScope",j:[Lt("scope")]},credential:{name:"credential",j:[_i(Lt(),_i(qi(),Ho()),"optionsOrIdToken"),_i(Lt(),Ho(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qi("customOAuthParameters")]}}),Qe(Gt.prototype,{w:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(Ap.prototype,{w:{name:"toJSON",j:[Lt(null,!0)]}}),li(Ph,"credential",RR,[Lt("verificationId"),Lt("verificationCode")]),Qe(Ph.prototype,{gb:{name:"verifyPhoneNumber",j:[_i(Lt(),function(l,m){return{name:l||"phoneInfoOptions",K:"valid phone info options",optional:!!m,M:function(E){return E?E.session&&E.phoneNumber?sE(E.session,Zy)&&typeof E.phoneNumber=="string":E.session&&E.multiFactorHint?sE(E.session,Z_)&&kk(E.multiFactorHint):E.session&&E.multiFactorUid?sE(E.session,Z_)&&typeof E.multiFactorUid=="string":E.phoneNumber?typeof E.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),U0()]}}),Qe(xl.prototype,{w:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(re.prototype,{toJSON:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(Ol.prototype,{toJSON:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(lC.prototype,{toJSON:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(H1.prototype,{toJSON:{name:"toJSON",j:[Lt(null,!0)]}}),Qe(B1.prototype,{Rc:{name:"resolveSignIn",j:[Ck()]}}),Qe(ql.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Ck(),Lt("displayName",!0)]},bd:{name:"unenroll",j:[_i({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:kk},Lt(),"multiFactorInfoIdentifier")]}}),Qe(oE.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),li(Ct,"parseLink",eC,[Lt("link")]),li(rE,"assertion",function(l){return new f2(l)},[Kl("phone")]),function(){if(typeof Jt<"u"&&Jt.INTERNAL&&Jt.INTERNAL.registerComponent){var l={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:is,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:W_,VERIFY_AND_CHANGE_EMAIL:Wy,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$c,AuthCredential:kl,Error:re};li(l,"EmailAuthProvider",su,[]),li(l,"FacebookAuthProvider",xp,[]),li(l,"GithubAuthProvider",Op,[]),li(l,"GoogleAuthProvider",fn,[]),li(l,"TwitterAuthProvider",Al,[]),li(l,"OAuthProvider",ou,[Lt("providerId")]),li(l,"SAMLAuthProvider",e0,[Lt("providerId")]),li(l,"PhoneAuthProvider",Ph,[pd()]),li(l,"RecaptchaVerifier",oE,[_i(Lt(),k2(),"recaptchaContainer"),qi("recaptchaParameters",!0),j0()]),li(l,"ActionCodeURL",Ct,[]),li(l,"PhoneMultiFactorGenerator",rE,[]),Jt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(m){return m=m.getProvider("app").getImmediate(),new $c(m)},multipleInstances:!1,serviceProps:l,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(m){m.getProvider("auth-internal").initialize()}}),Jt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(m){return m=m.getProvider("auth").getImmediate(),{getUid:Y(m.getUid,m),getToken:Y(m.nc,m),addAuthTokenListener:Y(m.cc,m),removeAuthTokenListener:Y(m.Pc,m)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Jt.registerVersion("@firebase/auth","0.16.8"),Jt.INTERNAL.extendNamespace({User:uu})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rz=function(e,t){return rz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},rz(e,t)};function EFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rz(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Jge(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var SFe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jt,wW=wW||{},An=SFe||self;function B3(){}function iz(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function yP(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function TFe(e){return Object.prototype.hasOwnProperty.call(e,v9)&&e[v9]||(e[v9]=++IFe)}var v9="closure_uid_"+(1e9*Math.random()>>>0),IFe=0;function CFe(e,t,r){return e.call.apply(e.bind,arguments)}function kFe(e,t,r){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function la(e,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la=CFe:la=kFe,la.apply(null,arguments)}function oF(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var i=r.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function pa(e,t){function r(){}r.prototype=t.prototype,e.Z=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Vb=function(i,s,u){for(var d=Array(arguments.length-2),v=2;v<arguments.length;v++)d[v-2]=arguments[v];return t.prototype[s].apply(i,d)}}function ky(){this.s=this.s,this.o=this.o}var AFe=0;ky.prototype.s=!1;ky.prototype.na=function(){!this.s&&(this.s=!0,this.M(),AFe!=0)&&TFe(this)};ky.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zge=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},eye=Array.prototype.forEach?function(e,t,r){Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var i=e.length,s=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in s&&t.call(r,s[u],u,e)};function xFe(e){e:{for(var t=w3e,r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)if(s in i&&t.call(void 0,i[s],s,e)){t=s;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Ace(e){return Array.prototype.concat.apply([],arguments)}function _W(e){var t=e.length;if(0<t){for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r}return[]}function H3(e){return/^[\s\xa0]*$/.test(e)}var xce=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Au(e,t){return e.indexOf(t)!=-1}function m9(e,t){return e<t?-1:e>t?1:0}var xu;e:{var Oce=An.navigator;if(Oce){var Nce=Oce.userAgent;if(Nce){xu=Nce;break e}}xu=""}function EW(e,t,r){for(var i in e)t.call(r,e[i],i,e)}function tye(e){var t={};for(var r in e)t[r]=e[r];return t}var Pce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nye(e,t){for(var r,i,s=1;s<arguments.length;s++){i=arguments[s];for(r in i)e[r]=i[r];for(var u=0;u<Pce.length;u++)r=Pce[u],Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}}function SW(e){return SW[" "](e),e}SW[" "]=B3;function OFe(e){var t=RFe;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var NFe=Au(xu,"Opera"),RT=Au(xu,"Trident")||Au(xu,"MSIE"),rye=Au(xu,"Edge"),oz=rye||RT,iye=Au(xu,"Gecko")&&!(Au(xu.toLowerCase(),"webkit")&&!Au(xu,"Edge"))&&!(Au(xu,"Trident")||Au(xu,"MSIE"))&&!Au(xu,"Edge"),PFe=Au(xu.toLowerCase(),"webkit")&&!Au(xu,"Edge");function oye(){var e=An.document;return e?e.documentMode:void 0}var z3;e:{var g9="",y9=function(){var e=xu;if(iye)return/rv:([^\);]+)(\)|;)/.exec(e);if(rye)return/Edge\/([\d\.]+)/.exec(e);if(RT)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(PFe)return/WebKit\/(\S+)/.exec(e);if(NFe)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(y9&&(g9=y9?y9[1]:""),RT){var b9=oye();if(b9!=null&&b9>parseFloat(g9)){z3=String(b9);break e}}z3=g9}var RFe={};function DFe(){return OFe(function(){for(var e=0,t=xce(String(z3)).split("."),r=xce("9").split("."),i=Math.max(t.length,r.length),s=0;e==0&&s<i;s++){var u=t[s]||"",d=r[s]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],u[0].length==0&&d[0].length==0)break;e=m9(u[1].length==0?0:parseInt(u[1],10),d[1].length==0?0:parseInt(d[1],10))||m9(u[2].length==0,d[2].length==0)||m9(u[2],d[2]),u=u[3],d=d[3]}while(e==0)}return 0<=e})}var sz;if(An.document&&RT){var Rce=oye();sz=Rce||parseInt(z3,10)||void 0}else sz=void 0;var LFe=sz,MFe=function(){if(!An.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{An.addEventListener("test",B3,t),An.removeEventListener("test",B3,t)}catch{}return e}();function Ka(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ka.prototype.h=function(){this.defaultPrevented=!0};function _N(e,t){if(Ka.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(iye){e:{try{SW(t.nodeName);var s=!0;break e}catch{}s=!1}s||(t=null)}}else r=="mouseover"?t=e.fromElement:r=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:FFe[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_N.Z.h.call(this)}}pa(_N,Ka);var FFe={2:"touch",3:"pen",4:"mouse"};_N.prototype.h=function(){_N.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bP="closure_listenable_"+(1e6*Math.random()|0),jFe=0;function UFe(e,t,r,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!i,this.ia=s,this.key=++jFe,this.ca=this.fa=!1}function wj(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _j(e){this.src=e,this.g={},this.h=0}_j.prototype.add=function(e,t,r,i,s){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var d=uz(e,t,i,s);return-1<d?(t=e[d],r||(t.fa=!1)):(t=new UFe(t,this.src,u,!!i,s),t.fa=r,e.push(t)),t};function az(e,t){var r=t.type;if(r in e.g){var i=e.g[r],s=Zge(i,t),u;(u=0<=s)&&Array.prototype.splice.call(i,s,1),u&&(wj(t),e.g[r].length==0&&(delete e.g[r],e.h--))}}function uz(e,t,r,i){for(var s=0;s<e.length;++s){var u=e[s];if(!u.ca&&u.listener==t&&u.capture==!!r&&u.ia==i)return s}return-1}var TW="closure_lm_"+(1e6*Math.random()|0),w9={};function sye(e,t,r,i,s){if(i&&i.once)return uye(e,t,r,i,s);if(Array.isArray(t)){for(var u=0;u<t.length;u++)sye(e,t[u],r,i,s);return null}return r=kW(r),e&&e[bP]?e.N(t,r,yP(i)?!!i.capture:!!i,s):aye(e,t,r,!1,i,s)}function aye(e,t,r,i,s,u){if(!t)throw Error("Invalid event type");var d=yP(s)?!!s.capture:!!s,v=CW(e);if(v||(e[TW]=v=new _j(e)),r=v.add(t,r,i,d,u),r.proxy)return r;if(i=$Fe(),r.proxy=i,i.src=e,i.listener=r,e.addEventListener)MFe||(s=d),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(lye(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return r}function $Fe(){function e(r){return t.call(e.src,e.listener,r)}var t=VFe;return e}function uye(e,t,r,i,s){if(Array.isArray(t)){for(var u=0;u<t.length;u++)uye(e,t[u],r,i,s);return null}return r=kW(r),e&&e[bP]?e.O(t,r,yP(i)?!!i.capture:!!i,s):aye(e,t,r,!0,i,s)}function cye(e,t,r,i,s){if(Array.isArray(t))for(var u=0;u<t.length;u++)cye(e,t[u],r,i,s);else i=yP(i)?!!i.capture:!!i,r=kW(r),e&&e[bP]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],r=uz(u,r,i,s),-1<r&&(wj(u[r]),Array.prototype.splice.call(u,r,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=CW(e))&&(t=e.g[t.toString()],e=-1,t&&(e=uz(t,r,i,s)),(r=-1<e?t[e]:null)&&IW(r))}function IW(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[bP])az(t.i,e);else{var r=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(r,i,e.capture):t.detachEvent?t.detachEvent(lye(r),i):t.addListener&&t.removeListener&&t.removeListener(i),(r=CW(t))?(az(r,e),r.h==0&&(r.src=null,t[TW]=null)):wj(e)}}}function lye(e){return e in w9?w9[e]:w9[e]="on"+e}function VFe(e,t){if(e.ca)e=!0;else{t=new _N(t,this);var r=e.listener,i=e.ia||e.src;e.fa&&IW(e),e=r.call(i,t)}return e}function CW(e){return e=e[TW],e instanceof _j?e:null}var _9="__closure_events_fn_"+(1e9*Math.random()>>>0);function kW(e){return typeof e=="function"?e:(e[_9]||(e[_9]=function(t){return e.handleEvent(t)}),e[_9])}function Is(){ky.call(this),this.i=new _j(this),this.P=this,this.I=null}pa(Is,ky);Is.prototype[bP]=!0;Is.prototype.removeEventListener=function(e,t,r,i){cye(this,e,t,r,i)};function ha(e,t){var r,i=e.I;if(i)for(r=[];i;i=i.I)r.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new Ka(t,e);else if(t instanceof Ka)t.target=t.target||e;else{var s=t;t=new Ka(i,e),nye(t,s)}if(s=!0,r)for(var u=r.length-1;0<=u;u--){var d=t.g=r[u];s=sF(d,i,!0,t)&&s}if(d=t.g=e,s=sF(d,i,!0,t)&&s,s=sF(d,i,!1,t)&&s,r)for(u=0;u<r.length;u++)d=t.g=r[u],s=sF(d,i,!1,t)&&s}Is.prototype.M=function(){if(Is.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var r=e.g[t],i=0;i<r.length;i++)wj(r[i]);delete e.g[t],e.h--}}this.I=null};Is.prototype.N=function(e,t,r,i){return this.i.add(String(e),t,!1,r,i)};Is.prototype.O=function(e,t,r,i){return this.i.add(String(e),t,!0,r,i)};function sF(e,t,r,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,u=0;u<t.length;++u){var d=t[u];if(d&&!d.ca&&d.capture==r){var v=d.listener,g=d.ia||d.src;d.fa&&az(e.i,d),s=v.call(g,i)!==!1&&s}}return s&&!i.defaultPrevented}var AW=An.JSON.stringify;function qFe(){var e=fye,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var BFe=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,r){var i=hye.get();i.set(t,r),this.h?this.h.next=i:this.g=i,this.h=i},e}(),hye=new(function(){function e(t,r){this.i=t,this.j=r,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new HFe},function(e){return e.reset()}),HFe=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,r){this.h=t,this.g=r,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function zFe(e){An.setTimeout(function(){throw e},0)}function xW(e,t){cz||KFe(),lz||(cz(),lz=!0),fye.add(e,t)}var cz;function KFe(){var e=An.Promise.resolve(void 0);cz=function(){e.then(WFe)}}var lz=!1,fye=new BFe;function WFe(){for(var e;e=qFe();){try{e.h.call(e.g)}catch(r){zFe(r)}var t=hye;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lz=!1}function Ej(e,t){Is.call(this),this.h=e||1,this.g=t||An,this.j=la(this.kb,this),this.l=Date.now()}pa(Ej,Is);jt=Ej.prototype;jt.da=!1;jt.S=null;jt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ha(this,"tick"),this.da&&(OW(this),this.start()))}};jt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function OW(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}jt.M=function(){Ej.Z.M.call(this),OW(this),delete this.g};function NW(e,t,r){if(typeof e=="function")r&&(e=la(e,r));else if(e&&typeof e.handleEvent=="function")e=la(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:An.setTimeout(e,t||0)}function dye(e){e.g=NW(function(){e.g=null,e.i&&(e.i=!1,dye(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var GFe=function(e){EFe(t,e);function t(r,i){var s=e.call(this)||this;return s.m=r,s.j=i,s.h=null,s.i=!1,s.g=null,s}return t.prototype.l=function(r){this.h=arguments,this.g?this.i=!0:dye(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(An.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ky);function EN(e){ky.call(this),this.h=e,this.g={}}pa(EN,ky);var Dce=[];function pye(e,t,r,i){Array.isArray(r)||(r&&(Dce[0]=r.toString()),r=Dce);for(var s=0;s<r.length;s++){var u=sye(t,r[s],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function vye(e){EW(e.g,function(t,r){this.g.hasOwnProperty(r)&&IW(t)},e),e.g={}}EN.prototype.M=function(){EN.Z.M.call(this),vye(this)};EN.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sj(){this.g=!0}Sj.prototype.Aa=function(){this.g=!1};function QFe(e,t,r,i,s,u){e.info(function(){if(e.g)if(u)for(var d="",v=u.split("&"),g=0;g<v.length;g++){var w=v[g].split("=");if(1<w.length){var S=w[0];w=w[1];var C=S.split("_");d=2<=C.length&&C[1]=="type"?d+(S+"="+w+"&"):d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+r+`
`+d})}function YFe(e,t,r,i,s,u,d){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+r+`
`+u+" "+d})}function iT(e,t,r,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+JFe(e,r)+(i?" "+i:"")})}function XFe(e,t){e.info(function(){return"TIMEOUT: "+t})}Sj.prototype.info=function(){};function JFe(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var i=r[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if(u!="noop"&&u!="stop"&&u!="close")for(var d=1;d<s.length;d++)s[d]=""}}}}return AW(r)}catch{return t}}var r_={},Lce=null;function Tj(){return Lce=Lce||new Is}r_.Ma="serverreachability";function mye(e){Ka.call(this,r_.Ma,e)}pa(mye,Ka);function SN(e){var t=Tj();ha(t,new mye(t))}r_.STAT_EVENT="statevent";function gye(e,t){Ka.call(this,r_.STAT_EVENT,e),this.stat=t}pa(gye,Ka);function Pu(e){var t=Tj();ha(t,new gye(t,e))}r_.Na="timingevent";function yye(e,t){Ka.call(this,r_.Na,e),this.size=t}pa(yye,Ka);function wP(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return An.setTimeout(function(){e()},t)}var Ij={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bye={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function PW(){}PW.prototype.h=null;function Mce(e){return e.h||(e.h=e.i())}function wye(){}var _P={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function RW(){Ka.call(this,"d")}pa(RW,Ka);function DW(){Ka.call(this,"c")}pa(DW,Ka);var hz;function Cj(){}pa(Cj,PW);Cj.prototype.g=function(){return new XMLHttpRequest};Cj.prototype.i=function(){return{}};hz=new Cj;function EP(e,t,r,i){this.l=e,this.j=t,this.m=r,this.X=i||1,this.V=new EN(this),this.P=ZFe,e=oz?125:void 0,this.W=new Ej(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _ye}function _ye(){this.i=null,this.g="",this.h=!1}var ZFe=45e3,fz={},K3={};jt=EP.prototype;jt.setTimeout=function(e){this.P=e};function dz(e,t,r){e.K=1,e.v=Aj(Kv(t)),e.s=r,e.U=!0,Eye(e,null)}function Eye(e,t){e.F=Date.now(),SP(e),e.A=Kv(e.v);var r=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),xye(r.h,"t",i),e.C=0,r=e.l.H,e.h=new _ye,e.g=Qye(e.l,r?t:null,!e.s),0<e.O&&(e.L=new GFe(la(e.Ia,e,e.g),e.O)),pye(e.V,e.g,"readystatechange",e.gb),t=e.H?tye(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),SN(),QFe(e.j,e.u,e.A,e.m,e.X,e.s)}jt.gb=function(e){e=e.target;var t=this.L;t&&Fv(e)==3?t.l():this.Ia(e)};jt.Ia=function(e){try{if(e==this.g)e:{var t=Fv(this.g),r=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||oz||this.g&&(this.h.h||this.g.ga()||$ce(this.g)))){this.I||t!=4||r==7||(r==8||0>=i?SN(3):SN(2)),kj(this);var s=this.g.ba();this.N=s;t:if(Sye(this)){var u=$ce(this.g);e="";var d=u.length,v=Fv(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tw(this),UO(this);var g="";break t}this.h.i=new An.TextDecoder}for(r=0;r<d;r++)this.h.h=!0,e+=this.h.i.decode(u[r],{stream:v&&r==d-1});u.splice(0,d),this.h.g+=e,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=s==200,YFe(this.j,this.u,this.A,this.m,this.X,t,s),this.i){if(this.$&&!this.J){t:{if(this.g){var w,S=this.g;if((w=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H3(w)){var C=w;break t}}C=null}if(s=C)iT(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pz(this,s);else{this.i=!1,this.o=3,Pu(12),Tw(this),UO(this);break e}}this.U?(Tye(this,t,g),oz&&this.i&&t==3&&(pye(this.V,this.W,"tick",this.fb),this.W.start())):(iT(this.j,this.m,g,null),pz(this,g)),t==4&&Tw(this),this.i&&!this.I&&(t==4?zye(this.l,this):(this.i=!1,SP(this)))}else s==400&&0<g.indexOf("Unknown SID")?(this.o=3,Pu(12)):(this.o=0,Pu(13)),Tw(this),UO(this)}}}catch{}finally{}};function Sye(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Tye(e,t,r){for(var i=!0,s;!e.I&&e.C<r.length;)if(s=e3e(e,r),s==K3){t==4&&(e.o=4,Pu(14),i=!1),iT(e.j,e.m,null,"[Incomplete Response]");break}else if(s==fz){e.o=4,Pu(15),iT(e.j,e.m,r,"[Invalid Chunk]"),i=!1;break}else iT(e.j,e.m,s,null),pz(e,s);Sye(e)&&s!=K3&&s!=fz&&(e.h.g="",e.C=0),t!=4||r.length!=0||e.h.h||(e.o=1,Pu(16),i=!1),e.i=e.i&&i,i?0<r.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),BW(t),t.L=!0,Pu(11))):(iT(e.j,e.m,r,"[Invalid Chunked Response]"),Tw(e),UO(e))}jt.fb=function(){if(this.g){var e=Fv(this.g),t=this.g.ga();this.C<t.length&&(kj(this),Tye(this,e,t),this.i&&e!=4&&SP(this))}};function e3e(e,t){var r=e.C,i=t.indexOf(`
`,r);return i==-1?K3:(r=Number(t.substring(r,i)),isNaN(r)?fz:(i+=1,i+r>t.length?K3:(t=t.substr(i,r),e.C=i+r,t)))}jt.cancel=function(){this.I=!0,Tw(this)};function SP(e){e.Y=Date.now()+e.P,Iye(e,e.P)}function Iye(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wP(la(e.eb,e),t)}function kj(e){e.B&&(An.clearTimeout(e.B),e.B=null)}jt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(XFe(this.j,this.A),this.K!=2&&(SN(),Pu(17)),Tw(this),this.o=2,UO(this)):Iye(this,this.Y-e)};function UO(e){e.l.G==0||e.I||zye(e.l,e)}function Tw(e){kj(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,OW(e.W),vye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function pz(e,t){try{var r=e.l;if(r.G!=0&&(r.g==e||vz(r.i,e))){if(r.I=e.N,!e.J&&vz(r.i,e)&&r.G==3){try{var i=r.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!r.u){if(r.g)if(r.g.F+3e3<e.F)Y3(r),Nj(r);else break e;qW(r),Pu(18)}}else r.ta=s[1],0<r.ta-r.U&&37500>s[2]&&r.N&&r.A==0&&!r.v&&(r.v=wP(la(r.ab,r),6e3));if(1>=Pye(r.i)&&r.ka){try{r.ka()}catch{}r.ka=void 0}}else Iw(r,11)}else if((e.J||r.g==e)&&Y3(r),!H3(t))for(s=r.Ca.g.parse(t),t=0;t<s.length;t++){var u=s[t];if(r.U=u[0],u=u[1],r.G==2)if(u[0]=="c"){r.J=u[1],r.la=u[2];var d=u[3];d!=null&&(r.ma=d,r.h.info("VER="+r.ma));var v=u[4];v!=null&&(r.za=v,r.h.info("SVER="+r.za));var g=u[5];g!=null&&typeof g=="number"&&0<g&&(i=1.5*g,r.K=i,r.h.info("backChannelRequestTimeoutMs_="+i)),i=r;var w=e.g;if(w){var S=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var C=i.i;!C.g&&(Au(S,"spdy")||Au(S,"quic")||Au(S,"h2"))&&(C.j=C.l,C.g=new Set,C.h&&(FW(C,C.h),C.h=null))}if(i.D){var A=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(i.sa=A,Ai(i.F,i.D,A))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-e.F,r.h.info("Handshake RTT: "+r.O+"ms")),i=r;var L=e;if(i.oa=Gye(i,i.H?i.la:null,i.W),L.J){Rye(i.i,L);var M=L,U=i.K;U&&M.setTimeout(U),M.B&&(kj(M),SP(M)),i.g=L}else Bye(i);0<r.l.length&&Pj(r)}else u[0]!="stop"&&u[0]!="close"||Iw(r,7);else r.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Iw(r,7):VW(r):u[0]!="noop"&&r.j&&r.j.wa(u),r.A=0)}}SN(4)}catch{}}function t3e(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(iz(e)){for(var t=[],r=e.length,i=0;i<r;i++)t.push(e[i]);return t}t=[],r=0;for(i in e)t[r++]=e[i];return t}function LW(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(iz(e)||typeof e=="string")eye(e,t,void 0);else{if(e.T&&typeof e.T=="function")var r=e.T();else if(e.R&&typeof e.R=="function")r=void 0;else if(iz(e)||typeof e=="string"){r=[];for(var i=e.length,s=0;s<i;s++)r.push(s)}else for(s in r=[],i=0,e)r[i++]=s;i=t3e(e),s=i.length;for(var u=0;u<s;u++)t.call(void 0,i[u],r&&r[u],e)}}function lI(e,t){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var i=0;i<r;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof lI)for(r=e.T(),i=0;i<r.length;i++)this.set(r[i],e.get(r[i]));else for(i in e)this.set(i,e[i])}jt=lI.prototype;jt.R=function(){MW(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};jt.T=function(){return MW(this),this.g.concat()};function MW(e){if(e.i!=e.g.length){for(var t=0,r=0;t<e.g.length;){var i=e.g[t];$w(e.h,i)&&(e.g[r++]=i),t++}e.g.length=r}if(e.i!=e.g.length){var s={};for(r=t=0;t<e.g.length;)i=e.g[t],$w(s,i)||(e.g[r++]=i,s[i]=1),t++;e.g.length=r}}jt.get=function(e,t){return $w(this.h,e)?this.h[e]:t};jt.set=function(e,t){$w(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};jt.forEach=function(e,t){for(var r=this.T(),i=0;i<r.length;i++){var s=r[i],u=this.get(s);e.call(t,u,s,this)}};function $w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Cye=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function n3e(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var i=e[r].indexOf("="),s=null;if(0<=i){var u=e[r].substring(0,i);s=e[r].substring(i+1)}else u=e[r];t(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Vw(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vw){this.g=t!==void 0?t:e.g,W3(this,e.j),this.s=e.s,G3(this,e.i),Q3(this,e.m),this.l=e.l,t=e.h;var r=new TN;r.i=t.i,t.g&&(r.g=new lI(t.g),r.h=t.h),Fce(this,r),this.o=e.o}else e&&(r=String(e).match(Cye))?(this.g=!!t,W3(this,r[1]||"",!0),this.s=$O(r[2]||""),G3(this,r[3]||"",!0),Q3(this,r[4]),this.l=$O(r[5]||"",!0),Fce(this,r[6]||"",!0),this.o=$O(r[7]||"")):(this.g=!!t,this.h=new TN(null,this.g))}Vw.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bO(t,jce,!0),":");var r=this.i;return(r||t=="file")&&(e.push("//"),(t=this.s)&&e.push(bO(t,jce,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&e.push(":",String(r))),(r=this.l)&&(this.i&&r.charAt(0)!="/"&&e.push("/"),e.push(bO(r,r.charAt(0)=="/"?a3e:s3e,!0))),(r=this.h.toString())&&e.push("?",r),(r=this.o)&&e.push("#",bO(r,c3e)),e.join("")};function Kv(e){return new Vw(e)}function W3(e,t,r){e.j=r?$O(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function G3(e,t,r){e.i=r?$O(t,!0):t}function Q3(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Fce(e,t,r){t instanceof TN?(e.h=t,l3e(e.h,e.g)):(r||(t=bO(t,u3e)),e.h=new TN(t,e.g))}function Ai(e,t,r){e.h.set(t,r)}function Aj(e){return Ai(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function r3e(e){return e instanceof Vw?Kv(e):new Vw(e,void 0)}function i3e(e,t,r,i){var s=new Vw(null,void 0);return e&&W3(s,e),t&&G3(s,t),r&&Q3(s,r),i&&(s.l=i),s}function $O(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bO(e,t,r){return typeof e=="string"?(e=encodeURI(e).replace(t,o3e),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function o3e(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var jce=/[#\/\?@]/g,s3e=/[#\?:]/g,a3e=/[#\?]/g,u3e=/[#\?@]/g,c3e=/#/g;function TN(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ay(e){e.g||(e.g=new lI,e.h=0,e.i&&n3e(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}jt=TN.prototype;jt.add=function(e,t){Ay(this),this.i=null,e=hI(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this};function kye(e,t){Ay(e),t=hI(e,t),$w(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,$w(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&MW(e)))}function Aye(e,t){return Ay(e),t=hI(e,t),$w(e.g.h,t)}jt.forEach=function(e,t){Ay(this),this.g.forEach(function(r,i){eye(r,function(s){e.call(t,s,i,this)},this)},this)};jt.T=function(){Ay(this);for(var e=this.g.R(),t=this.g.T(),r=[],i=0;i<t.length;i++)for(var s=e[i],u=0;u<s.length;u++)r.push(t[i]);return r};jt.R=function(e){Ay(this);var t=[];if(typeof e=="string")Aye(this,e)&&(t=Ace(t,this.g.get(hI(this,e))));else{e=this.g.R();for(var r=0;r<e.length;r++)t=Ace(t,e[r])}return t};jt.set=function(e,t){return Ay(this),this.i=null,e=hI(this,e),Aye(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};jt.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function xye(e,t,r){kye(e,t),0<r.length&&(e.i=null,e.g.set(hI(e,t),_W(r)),e.h+=r.length)}jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),r=0;r<t.length;r++){var i=t[r],s=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var d=s;i[u]!==""&&(d+="="+encodeURIComponent(String(i[u]))),e.push(d)}}return this.i=e.join("&")};function hI(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function l3e(e,t){t&&!e.j&&(Ay(e),e.i=null,e.g.forEach(function(r,i){var s=i.toLowerCase();i!=s&&(kye(this,i),xye(this,s,r))},e)),e.j=t}var h3e=function(){function e(t,r){this.h=t,this.g=r}return e}();function Oye(e){this.l=e||f3e,An.PerformanceNavigationTiming?(e=An.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(An.g&&An.g.Ea&&An.g.Ea()&&An.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var f3e=10;function Nye(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Pye(e){return e.h?1:e.g?e.g.size:0}function vz(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function FW(e,t){e.g?e.g.add(t):e.h=t}function Rye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Oye.prototype.cancel=function(){var e,t;if(this.i=Dye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var r=Jge(this.g.values()),i=r.next();!i.done;i=r.next()){var s=i.value;s.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.g.clear()}};function Dye(e){var t,r;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var s=Jge(e.g.values()),u=s.next();!u.done;u=s.next()){var d=u.value;i=i.concat(d.D)}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i}return _W(e.i)}function jW(){}jW.prototype.stringify=function(e){return An.JSON.stringify(e,void 0)};jW.prototype.parse=function(e){return An.JSON.parse(e,void 0)};function d3e(){this.g=new jW}function p3e(e,t,r){var i=r||"";try{LW(e,function(s,u){var d=s;yP(s)&&(d=AW(s)),t.push(i+u+"="+encodeURIComponent(d))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function v3e(e,t){var r=new Sj;if(An.Image){var i=new Image;i.onload=oF(aF,r,i,"TestLoadImage: loaded",!0,t),i.onerror=oF(aF,r,i,"TestLoadImage: error",!1,t),i.onabort=oF(aF,r,i,"TestLoadImage: abort",!1,t),i.ontimeout=oF(aF,r,i,"TestLoadImage: timeout",!1,t),An.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function aF(e,t,r,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function TP(e){this.l=e.$b||null,this.j=e.ib||!1}pa(TP,PW);TP.prototype.g=function(){return new xj(this.l,this.j)};TP.prototype.i=function(e){return function(){return e}}({});function xj(e,t){Is.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=UW,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pa(xj,Is);var UW=0;jt=xj.prototype;jt.open=function(e,t){if(this.readyState!=UW)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,IN(this)};jt.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||An).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,IP(this)),this.readyState=UW};jt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,IN(this)),this.g&&(this.readyState=3,IN(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof An.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lye(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Lye(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}jt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?IP(this):IN(this),this.readyState==3&&Lye(this)}};jt.Ua=function(e){this.g&&(this.response=this.responseText=e,IP(this))};jt.Ta=function(e){this.g&&(this.response=e,IP(this))};jt.ha=function(){this.g&&IP(this)};function IP(e){e.readyState=4,e.l=null,e.j=null,e.A=null,IN(e)}jt.setRequestHeader=function(e,t){this.v.append(e,t)};jt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};jt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),r=t.next();!r.done;)r=r.value,e.push(r[0]+": "+r[1]),r=t.next();return e.join(`\r
`)};function IN(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xj.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var m3e=An.JSON.parse;function Do(e){Is.call(this),this.headers=new lI,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mye,this.K=this.L=!1}pa(Do,Is);var Mye="",g3e=/^https?$/i,y3e=["POST","PUT"];jt=Do.prototype;jt.ea=function(e,t,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hz.g(),this.C=this.u?Mce(this.u):Mce(hz),this.g.onreadystatechange=la(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){Uce(this,u);return}e=r||"";var s=new lI(this.headers);i&&LW(i,function(u,d){s.set(d,u)}),i=xFe(s.T()),r=An.FormData&&e instanceof An.FormData,!(0<=Zge(y3e,t))||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Uye(this),0<this.B&&((this.K=b3e(this.g))?(this.g.timeout=this.B,this.g.ontimeout=la(this.pa,this)):this.A=NW(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Uce(this,u)}};function b3e(e){return RT&&DFe()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function w3e(e){return e.toLowerCase()=="content-type"}jt.pa=function(){typeof wW<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ha(this,"timeout"),this.abort(8))};function Uce(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fye(e),Oj(e)}function Fye(e){e.D||(e.D=!0,ha(e,"complete"),ha(e,"error"))}jt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ha(this,"complete"),ha(this,"abort"),Oj(this))};jt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oj(this,!0)),Do.Z.M.call(this)};jt.Fa=function(){this.s||(this.F||this.v||this.l?jye(this):this.cb())};jt.cb=function(){jye(this)};function jye(e){if(e.h&&typeof wW<"u"&&(!e.C[1]||Fv(e)!=4||e.ba()!=2)){if(e.v&&Fv(e)==4)NW(e.Fa,0,e);else if(ha(e,"readystatechange"),Fv(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}var i;if(!(i=r)){var s;if(s=t===0){var u=String(e.H).match(Cye)[1]||null;if(!u&&An.self&&An.self.location){var d=An.self.location.protocol;u=d.substr(0,d.length-1)}s=!g3e.test(u?u.toLowerCase():"")}i=s}if(i)ha(e,"complete"),ha(e,"success");else{e.m=6;try{var v=2<Fv(e)?e.g.statusText:""}catch{v=""}e.j=v+" ["+e.ba()+"]",Fye(e)}}finally{Oj(e)}}}}function Oj(e,t){if(e.g){Uye(e);var r=e.g,i=e.C[0]?B3:null;e.g=null,e.C=null,t||ha(e,"ready");try{r.onreadystatechange=i}catch{}}}function Uye(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(An.clearTimeout(e.A),e.A=null)}function Fv(e){return e.g?e.g.readyState:0}jt.ba=function(){try{return 2<Fv(this)?this.g.status:-1}catch{return-1}};jt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};jt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),m3e(t)}};function $ce(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Mye:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}jt.Da=function(){return this.m};jt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function _3e(e){var t="";return EW(e,function(r,i){t+=i,t+=":",t+=r,t+=`\r
`}),t}function $W(e,t,r){e:{for(i in r){var i=!1;break e}i=!0}i||(r=_3e(r),typeof e=="string"?r!=null&&encodeURIComponent(String(r)):Ai(e,t,r))}function Zx(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function $ye(e){this.za=0,this.l=[],this.h=new Sj,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zx("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zx("baseRetryDelayMs",5e3,e),this.$a=Zx("retryDelaySeedMs",1e4,e),this.Ya=Zx("forwardChannelMaxRetries",2,e),this.ra=Zx("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Oye(e&&e.concurrentRequestLimit),this.Ca=new d3e,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}jt=$ye.prototype;jt.ma=8;jt.G=1;function VW(e){if(Vye(e),e.G==3){var t=e.V++,r=Kv(e.F);Ai(r,"SID",e.J),Ai(r,"RID",t),Ai(r,"TYPE","terminate"),CP(e,r),t=new EP(e,e.h,t,void 0),t.K=2,t.v=Aj(Kv(r)),r=!1,An.navigator&&An.navigator.sendBeacon&&(r=An.navigator.sendBeacon(t.v.toString(),"")),!r&&An.Image&&(new Image().src=t.v,r=!0),r||(t.g=Qye(t.l,null),t.g.ea(t.v)),t.F=Date.now(),SP(t)}Wye(e)}jt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Nj(e){e.g&&(BW(e),e.g.cancel(),e.g=null)}function Vye(e){Nj(e),e.u&&(An.clearTimeout(e.u),e.u=null),Y3(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&An.clearTimeout(e.m),e.m=null)}function E9(e,t){e.l.push(new h3e(e.Za++,t)),e.G==3&&Pj(e)}function Pj(e){Nye(e.i)||e.m||(e.m=!0,xW(e.Ha,e),e.C=0)}function E3e(e,t){return Pye(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=wP(la(e.Ha,e,t),Kye(e,e.C)),e.C++,!0)}jt.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new EP(this,this.h,e,void 0),r=this.s;if(this.P&&(r?(r=tye(r),nye(r,this.P)):r=this.P),this.o===null&&(t.H=r),this.ja)e:{for(var i=0,s=0;s<this.l.length;s++){t:{var u=this.l[s];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=s;break e}if(i===4096||s===this.l.length-1){i=s+1;break e}}i=1e3}else i=1e3;i=qye(this,t,i),s=Kv(this.F),Ai(s,"RID",e),Ai(s,"CVER",22),this.D&&Ai(s,"X-HTTP-Session-Id",this.D),CP(this,s),this.o&&r&&$W(s,this.o,r),FW(this.i,t),this.Ra&&Ai(s,"TYPE","init"),this.ja?(Ai(s,"$req",i),Ai(s,"SID","null"),t.$=!0,dz(t,s,null)):dz(t,s,i),this.G=2}}else this.G==3&&(e?Vce(this,e):this.l.length==0||Nye(this.i)||Vce(this))};function Vce(e,t){var r;t?r=t.m:r=e.V++;var i=Kv(e.F);Ai(i,"SID",e.J),Ai(i,"RID",r),Ai(i,"AID",e.U),CP(e,i),e.o&&e.s&&$W(i,e.o,e.s),r=new EP(e,e.h,r,e.C+1),e.o===null&&(r.H=e.s),t&&(e.l=t.D.concat(e.l)),t=qye(e,r,1e3),r.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),FW(e.i,r),dz(r,i,t)}function CP(e,t){e.j&&LW({},function(r,i){Ai(t,i,r)})}function qye(e,t,r){r=Math.min(e.l.length,r);var i=e.j?la(e.j.Oa,e.j,e):null;e:for(var s=e.l,u=-1;;){var d=["count="+r];u==-1?0<r?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);for(var v=!0,g=0;g<r;g++){var w=s[g].h,S=s[g].g;if(w-=u,0>w)u=Math.max(0,s[g].h-100),v=!1;else try{p3e(S,d,"req"+w+"_")}catch{i&&i(S)}}if(v){i=d.join("&");break e}}return e=e.l.splice(0,r),t.D=e,i}function Bye(e){e.g||e.u||(e.Y=1,xW(e.Ga,e),e.A=0)}function qW(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=wP(la(e.Ga,e),Kye(e,e.A)),e.A++,!0)}jt.Ga=function(){if(this.u=null,Hye(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wP(la(this.bb,this),e)}};jt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pu(10),Nj(this),Hye(this))};function BW(e){e.B!=null&&(An.clearTimeout(e.B),e.B=null)}function Hye(e){e.g=new EP(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Kv(e.oa);Ai(t,"RID","rpc"),Ai(t,"SID",e.J),Ai(t,"CI",e.N?"0":"1"),Ai(t,"AID",e.U),CP(e,t),Ai(t,"TYPE","xmlhttp"),e.o&&e.s&&$W(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var r=e.g;e=e.la,r.K=1,r.v=Aj(Kv(t)),r.s=null,r.U=!0,Eye(r,e)}jt.ab=function(){this.v!=null&&(this.v=null,Nj(this),qW(this),Pu(19))};function Y3(e){e.v!=null&&(An.clearTimeout(e.v),e.v=null)}function zye(e,t){var r=null;if(e.g==t){Y3(e),BW(e),e.g=null;var i=2}else if(vz(e.i,t))r=t.D,Rye(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){r=t.s?t.s.length:0,t=Date.now()-t.F;var s=e.C;i=Tj(),ha(i,new yye(i,r)),Pj(e)}else Bye(e);else if(s=t.o,s==3||s==0&&0<e.I||!(i==1&&E3e(e,t)||i==2&&qW(e)))switch(r&&0<r.length&&(t=e.i,t.i=t.i.concat(r)),s){case 1:Iw(e,5);break;case 4:Iw(e,10);break;case 3:Iw(e,6);break;default:Iw(e,2)}}}function Kye(e,t){var r=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(r*=2),r*t}function Iw(e,t){if(e.h.info("Error code "+t),t==2){var r=null;e.j&&(r=null);var i=la(e.jb,e);r||(r=new Vw("//www.google.com/images/cleardot.gif"),An.location&&An.location.protocol=="http"||W3(r,"https"),Aj(r)),v3e(r.toString(),i)}else Pu(2);e.G=0,e.j&&e.j.va(t),Wye(e),Vye(e)}jt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Pu(2)):(this.h.info("Failed to ping google.com"),Pu(1))};function Wye(e){e.G=0,e.I=-1,e.j&&((Dye(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,_W(e.l),e.l.length=0),e.j.ua())}function Gye(e,t,r){var i=r3e(r);if(i.i!="")t&&G3(i,t+"."+i.i),Q3(i,i.m);else{var s=An.location;i=i3e(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,r)}return e.aa&&EW(e.aa,function(u,d){Ai(i,d,u)}),t=e.D,r=e.sa,t&&r&&Ai(i,t,r),Ai(i,"VER",e.ma),CP(e,i),i}function Qye(e,t,r){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=r&&e.Ba&&!e.qa?new Do(new TP({ib:!0})):new Do(e.qa),t.L=e.H,t}function Yye(){}jt=Yye.prototype;jt.xa=function(){};jt.wa=function(){};jt.va=function(){};jt.ua=function(){};jt.Oa=function(){};function X3(){if(RT&&!(10<=Number(LFe)))throw Error("Environmental error: no available transport.")}X3.prototype.g=function(e,t){return new yl(e,t)};function yl(e,t){Is.call(this),this.g=new $ye(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!H3(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!H3(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new fI(this)}pa(yl,Is);yl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,r=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xW(la(e.hb,e,t))),Pu(0),e.W=t,e.aa=r||{},e.N=e.X,e.F=Gye(e,null,e.W),Pj(e)};yl.prototype.close=function(){VW(this.g)};yl.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,E9(this.g,t)}else this.v?(t={},t.__data__=AW(e),E9(this.g,t)):E9(this.g,e)};yl.prototype.M=function(){this.g.j=null,delete this.j,VW(this.g),delete this.g,yl.Z.M.call(this)};function Xye(e){RW.call(this);var t=e.__sm__;if(t){e:{for(var r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}pa(Xye,RW);function Jye(){DW.call(this),this.status=1}pa(Jye,DW);function fI(e){this.g=e}pa(fI,Yye);fI.prototype.xa=function(){ha(this.g,"a")};fI.prototype.wa=function(e){ha(this.g,new Xye(e))};fI.prototype.va=function(e){ha(this.g,new Jye)};fI.prototype.ua=function(){ha(this.g,"b")};X3.prototype.createWebChannel=X3.prototype.g;yl.prototype.send=yl.prototype.u;yl.prototype.open=yl.prototype.m;yl.prototype.close=yl.prototype.close;Ij.NO_ERROR=0;Ij.TIMEOUT=8;Ij.HTTP_ERROR=6;bye.COMPLETE="complete";wye.EventType=_P;_P.OPEN="a";_P.CLOSE="b";_P.ERROR="c";_P.MESSAGE="d";Is.prototype.listen=Is.prototype.N;Do.prototype.listenOnce=Do.prototype.O;Do.prototype.getLastError=Do.prototype.La;Do.prototype.getLastErrorCode=Do.prototype.Da;Do.prototype.getStatus=Do.prototype.ba;Do.prototype.getResponseJson=Do.prototype.Qa;Do.prototype.getResponseText=Do.prototype.ga;Do.prototype.send=Do.prototype.ea;var S3e=function(){return new X3},T3e=function(){return Tj()},S9=Ij,I3e=bye,C3e=r_,qce={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},k3e=TP,uF=wye,A3e=Do;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dl=function(){function e(t,r){var i=this;this.previousValue=t,r&&(r.sequenceNumberHandler=function(s){return i.t(s)},this.i=function(s){return r.writeSequenceNumber(s)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();dl.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pt=function(e){function t(r,i){var s=this;return(s=e.call(this,i)||this).code=r,s.message=i,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return on(t,e),t}(Error),bf=new Gge("@firebase/firestore");function mz(){return bf.logLevel}function It(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(bf.logLevel<=br.DEBUG){var i=t.map(HW);bf.debug.apply(bf,ki(["Firestore (8.10.1): "+e],i))}}function Ro(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(bf.logLevel<=br.ERROR){var i=t.map(HW);bf.error.apply(bf,ki(["Firestore (8.10.1): "+e],i))}}function J3(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(bf.logLevel<=br.WARN){var i=t.map(HW);bf.warn.apply(bf,ki(["Firestore (8.10.1): "+e],i))}}function HW(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ro(t),new Error(t)}function wn(e,t){e||Yt()}function Rt(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3e(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(var i=0;i<e;i++)r[i]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zye=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var s=x3e(40),u=0;u<s.length;++u)i.length<20&&s[u]<r&&(i+=t.charAt(s[u]%t.length));return i},e}();function er(e,t){return e<t?-1:e>t?1:0}function DT(e,t,r){return e.length===t.length&&e.every(function(i,s){return r(i,t[s])})}function e0e(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _c=function(){function e(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var r=Math.floor(t/1e3);return new e(r,Math.floor(1e6*(t-1e3*r)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?er(this.nanoseconds,t.nanoseconds):er(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Hn=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new _c(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bce(e){var t=0;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function i_(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function t0e(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n0e=function(){function e(t,r,i){r===void 0?r=0:r>t.length&&Yt(),i===void 0?i=t.length-r:i>t.length-r&&Yt(),this.segments=t,this.offset=r,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var r=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){r.push(i)}):r.push(t),this.construct(r)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0},e.prototype.forEach=function(t){for(var r=this.offset,i=this.limit();r<i;r++)t(this.segments[r])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,r){for(var i=Math.min(t.length,r.length),s=0;s<i;s++){var u=t.get(s),d=r.get(s);if(u<d)return-1;if(u>d)return 1}return t.length<r.length?-1:t.length>r.length?1:0},e}(),Tr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype.construct=function(r,i,s){return new t(r,i,s)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var s=[],u=0,d=r;u<d.length;u++){var v=d[u];if(v.indexOf("//")>=0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid segment ("+v+"). Paths must not contain // in them.");s.push.apply(s,v.split("/").filter(function(g){return g.length>0}))}return new t(s)},t.emptyPath=function(){return new t([])},t}(n0e),O3e=/^[_a-zA-Z][_a-zA-Z0-9]*$/,If=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype.construct=function(r,i,s){return new t(r,i,s)},t.isValidIdentifier=function(r){return O3e.test(r)},t.prototype.canonicalString=function(){return this.toArray().map(function(r){return r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(r)||(r="`"+r+"`"),r}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(r){for(var i=[],s="",u=0,d=function(){if(s.length===0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid field path ("+r+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(s),s=""},v=!1;u<r.length;){var g=r[u];if(g==="\\"){if(u+1===r.length)throw new pt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+r);var w=r[u+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new pt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);s+=w,u+=2}else g==="`"?(v=!v,u++):g!=="."||v?(s+=g,u++):(d(),u++)}if(d(),v)throw new pt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new t(i)},t.emptyPath=function(){return new t([])},t}(n0e),LT=function(){function e(t){this.fields=t,t.sort(If.comparator)}return e.prototype.covers=function(t){for(var r=0,i=this.fields;r<i.length;r++)if(i[r].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return DT(this.fields,t.fields,function(r,i){return r.isEqual(i)})},e}(),Ec=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(r){for(var i="",s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return er(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Ec.EMPTY_BYTE_STRING=new Ec("");var N3e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wy(e){if(wn(!!e),typeof e=="string"){var t=0,r=N3e.exec(e);if(wn(!!r),r[1]){var i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}var s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:No(e.seconds),nanos:No(e.nanos)}}function No(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function MT(e){return typeof e=="string"?Ec.fromBase64String(e):Ec.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function r0e(e){var t=e.mapValue.fields.__previous_value__;return zW(t)?r0e(t):t}function CN(e){var t=wy(e.mapValue.fields.__local_write_time__.timestampValue);return new _c(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(e){return e==null}function Z3(e){return e===0&&1/e==-1/0}function i0e(e){return typeof e=="number"&&Number.isInteger(e)&&!Z3(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Tr.fromString(t))},e.fromName=function(t){return new e(Tr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Tr.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,r){return Tr.comparator(t.path,r.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Tr(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zW(e)?4:10:Yt()}function rp(e,t){var r=qw(e);if(r!==qw(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return CN(e).isEqual(CN(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;var u=wy(i.timestampValue),d=wy(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return MT(i.bytesValue).isEqual(MT(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return No(i.geoPointValue.latitude)===No(s.geoPointValue.latitude)&&No(i.geoPointValue.longitude)===No(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return No(i.integerValue)===No(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){var u=No(i.doubleValue),d=No(s.doubleValue);return u===d?Z3(u)===Z3(d):isNaN(u)&&isNaN(d)}return!1}(e,t);case 9:return DT(e.arrayValue.values||[],t.arrayValue.values||[],rp);case 10:return function(i,s){var u=i.mapValue.fields||{},d=s.mapValue.fields||{};if(Bce(u)!==Bce(d))return!1;for(var v in u)if(u.hasOwnProperty(v)&&(d[v]===void 0||!rp(u[v],d[v])))return!1;return!0}(e,t);default:return Yt()}}function kN(e,t){return(e.values||[]).find(function(r){return rp(r,t)})!==void 0}function FT(e,t){var r=qw(e),i=qw(t);if(r!==i)return er(r,i);switch(r){case 0:return 0;case 1:return er(e.booleanValue,t.booleanValue);case 2:return function(s,u){var d=No(s.integerValue||s.doubleValue),v=No(u.integerValue||u.doubleValue);return d<v?-1:d>v?1:d===v?0:isNaN(d)?isNaN(v)?0:-1:1}(e,t);case 3:return Hce(e.timestampValue,t.timestampValue);case 4:return Hce(CN(e),CN(t));case 5:return er(e.stringValue,t.stringValue);case 6:return function(s,u){var d=MT(s),v=MT(u);return d.compareTo(v)}(e.bytesValue,t.bytesValue);case 7:return function(s,u){for(var d=s.split("/"),v=u.split("/"),g=0;g<d.length&&g<v.length;g++){var w=er(d[g],v[g]);if(w!==0)return w}return er(d.length,v.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,u){var d=er(No(s.latitude),No(u.latitude));return d!==0?d:er(No(s.longitude),No(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,u){for(var d=s.values||[],v=u.values||[],g=0;g<d.length&&g<v.length;++g){var w=FT(d[g],v[g]);if(w)return w}return er(d.length,v.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,u){var d=s.fields||{},v=Object.keys(d),g=u.fields||{},w=Object.keys(g);v.sort(),w.sort();for(var S=0;S<v.length&&S<w.length;++S){var C=er(v[S],w[S]);if(C!==0)return C;var A=FT(d[v[S]],g[w[S]]);if(A!==0)return A}return er(v.length,w.length)}(e.mapValue,t.mapValue);default:throw Yt()}}function Hce(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return er(e,t);var r=wy(e),i=wy(t),s=er(r.seconds,i.seconds);return s!==0?s:er(r.nanos,i.nanos)}function KW(e){return gz(e)}function gz(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var s=wy(i);return"time("+s.seconds+","+s.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?MT(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,en.fromName(r).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var s="[",u=!0,d=0,v=i.values||[];d<v.length;d++)u?u=!1:s+=",",s+=gz(v[d]);return s+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var s="{",u=!0,d=0,v=Object.keys(i.fields||{}).sort();d<v.length;d++){var g=v[d];u?u=!1:s+=",",s+=g+":"+gz(i.fields[g])}return s+"}"}(e.mapValue):Yt();var t,r}function e4(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function yz(e){return!!e&&"integerValue"in e}function WW(e){return!!e&&"arrayValue"in e}function zce(e){return!!e&&"nullValue"in e}function Kce(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function WF(e){return!!e&&"mapValue"in e}function VO(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return i_(e.mapValue.fields,function(s,u){return t.mapValue.fields[s]=VO(u)}),t}if(e.arrayValue){for(var r={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=VO(e.arrayValue.values[i]);return r}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var r=this.value,i=0;i<t.length-1;++i)if(!WF(r=(r.mapValue.fields||{})[t.get(i)]))return null;return(r=(r.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=VO(r)},e.prototype.setAll=function(t){var r=this,i=If.emptyPath(),s={},u=[];t.forEach(function(v,g){if(!i.isImmediateParentOf(g)){var w=r.getFieldsMap(i);r.applyChanges(w,s,u),s={},u=[],i=g.popLast()}v?s[g.lastSegment()]=VO(v):u.push(g.lastSegment())});var d=this.getFieldsMap(i);this.applyChanges(d,s,u)},e.prototype.delete=function(t){var r=this.field(t.popLast());WF(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return rp(this.value,t.value)},e.prototype.getFieldsMap=function(t){var r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(var i=0;i<t.length;++i){var s=r.mapValue.fields[t.get(i)];WF(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[t.get(i)]=s),r=s}return r.mapValue.fields},e.prototype.applyChanges=function(t,r,i){i_(r,function(v,g){return t[v]=g});for(var s=0,u=i;s<u.length;s++){var d=u[s];delete t[d]}},e.prototype.clone=function(){return new e(VO(this.value))},e}();function o0e(e){var t=[];return i_(e.fields,function(r,i){var s=new If([r]);if(WF(i)){var u=o0e(i.mapValue).fields;if(u.length===0)t.push(s);else for(var d=0,v=u;d<v.length;d++){var g=v[d];t.push(s.child(g))}}else t.push(s)}),new LT(t)}var Ya=function(){function e(t,r,i,s,u){this.key=t,this.documentType=r,this.version=i,this.data=s,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,Hn.min(),hl.empty(),0)},e.newFoundDocument=function(t,r,i){return new e(t,1,r,i,0)},e.newNoDocument=function(t,r){return new e(t,2,r,hl.empty(),0)},e.newUnknownDocument=function(t,r){return new e(t,3,r,hl.empty(),2)},e.prototype.convertToFoundDocument=function(t,r){return this.version=t,this.documentType=1,this.data=r,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=hl.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=hl.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),P3e=function(e,t,r,i,s,u,d){t===void 0&&(t=null),r===void 0&&(r=[]),i===void 0&&(i=[]),s===void 0&&(s=null),u===void 0&&(u=null),d===void 0&&(d=null),this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=d,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wce(e,t,r,i,s,u,d){return t===void 0&&(t=null),r===void 0&&(r=[]),i===void 0&&(i=[]),s===void 0&&(s=null),u===void 0&&(u=null),d===void 0&&(d=null),new P3e(e,t,r,i,s,u,d)}function kP(e){var t=Rt(e);if(t.h===null){var r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(function(i){return function(s){return s.field.canonicalString()+s.op.toString()+KW(s.value)}(i)}).join(","),r+="|ob:",r+=t.orderBy.map(function(i){return function(s){return s.field.canonicalString()+s.dir}(i)}).join(","),o_(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=n4(t.startAt)),t.endAt&&(r+="|ub:",r+=n4(t.endAt)),t.h=r}return t.h}function Rj(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var r=0;r<e.orderBy.length;r++)if(!$3e(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(s=e.filters[i],u=t.filters[i],s.op!==u.op||!s.field.isEqual(u.field)||!rp(s.value,u.value))return!1;var s,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qce(e.startAt,t.startAt)&&Qce(e.endAt,t.endAt)}function t4(e){return en.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var pl=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).field=r,u.op=i,u.value=s,u}return on(t,e),t.create=function(r,i,s){return r.isKeyField()?i==="in"||i==="not-in"?this.l(r,i,s):new R3e(r,i,s):i==="array-contains"?new M3e(r,s):i==="in"?new F3e(r,s):i==="not-in"?new j3e(r,s):i==="array-contains-any"?new U3e(r,s):new t(r,i,s)},t.l=function(r,i,s){return i==="in"?new D3e(r,s):new L3e(r,s)},t.prototype.matches=function(r){var i=r.data.field(this.field);return this.op==="!="?i!==null&&this.m(FT(i,this.value)):i!==null&&qw(this.value)===qw(i)&&this.m(FT(i,this.value))},t.prototype.m=function(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return r===0;case"!=":return r!==0;case">":return r>0;case">=":return r>=0;default:return Yt()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),R3e=function(e){function t(r,i,s){var u=this;return(u=e.call(this,r,i,s)||this).key=en.fromName(s.referenceValue),u}return on(t,e),t.prototype.matches=function(r){var i=en.comparator(r.key,this.key);return this.m(i)},t}(pl),D3e=function(e){function t(r,i){var s=this;return(s=e.call(this,r,"in",i)||this).keys=s0e("in",i),s}return on(t,e),t.prototype.matches=function(r){return this.keys.some(function(i){return i.isEqual(r.key)})},t}(pl),L3e=function(e){function t(r,i){var s=this;return(s=e.call(this,r,"not-in",i)||this).keys=s0e("not-in",i),s}return on(t,e),t.prototype.matches=function(r){return!this.keys.some(function(i){return i.isEqual(r.key)})},t}(pl);function s0e(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(function(i){return en.fromName(i.referenceValue)})}var M3e=function(e){function t(r,i){return e.call(this,r,"array-contains",i)||this}return on(t,e),t.prototype.matches=function(r){var i=r.data.field(this.field);return WW(i)&&kN(i.arrayValue,this.value)},t}(pl),F3e=function(e){function t(r,i){return e.call(this,r,"in",i)||this}return on(t,e),t.prototype.matches=function(r){var i=r.data.field(this.field);return i!==null&&kN(this.value.arrayValue,i)},t}(pl),j3e=function(e){function t(r,i){return e.call(this,r,"not-in",i)||this}return on(t,e),t.prototype.matches=function(r){if(kN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=r.data.field(this.field);return i!==null&&!kN(this.value.arrayValue,i)},t}(pl),U3e=function(e){function t(r,i){return e.call(this,r,"array-contains-any",i)||this}return on(t,e),t.prototype.matches=function(r){var i=this,s=r.data.field(this.field);return!(!WW(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(u){return kN(i.value.arrayValue,u)})},t}(pl),AN=function(e,t){this.position=e,this.before=t};function n4(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return KW(t)}).join(",")}var wT=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function $3e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Gce(e,t,r){for(var i=0,s=0;s<e.position.length;s++){var u=t[s],d=e.position[s];if(i=u.field.isKeyField()?en.comparator(en.fromName(d.referenceValue),r.key):FT(d,r.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function Qce(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var r=0;r<e.position.length;r++)if(!rp(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(e,t,r,i,s,u,d,v){t===void 0&&(t=null),r===void 0&&(r=[]),i===void 0&&(i=[]),s===void 0&&(s=null),u===void 0&&(u="F"),d===void 0&&(d=null),v===void 0&&(v=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=d,this.endAt=v,this.p=null,this.T=null,this.startAt,this.endAt};function a0e(e,t,r,i,s,u,d,v){return new Qv(e,t,r,i,s,u,d,v)}function AP(e){return new Qv(e)}function GF(e){return!o_(e.limit)&&e.limitType==="F"}function r4(e){return!o_(e.limit)&&e.limitType==="L"}function GW(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function QW(e){for(var t=0,r=e.filters;t<r.length;t++){var i=r[t];if(i.g())return i.field}return null}function YW(e){return e.collectionGroup!==null}function jT(e){var t=Rt(e);if(t.p===null){t.p=[];var r=QW(t),i=GW(t);if(r!==null&&i===null)r.isKeyField()||t.p.push(new wT(r)),t.p.push(new wT(If.keyField(),"asc"));else{for(var s=!1,u=0,d=t.explicitOrderBy;u<d.length;u++){var v=d[u];t.p.push(v),v.field.isKeyField()&&(s=!0)}if(!s){var g=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new wT(If.keyField(),g))}}}return t.p}function ip(e){var t=Rt(e);if(!t.T)if(t.limitType==="F")t.T=Wce(t.path,t.collectionGroup,jT(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var r=[],i=0,s=jT(t);i<s.length;i++){var u=s[i],d=u.dir==="desc"?"asc":"desc";r.push(new wT(u.field,d))}var v=t.endAt?new AN(t.endAt.position,!t.endAt.before):null,g=t.startAt?new AN(t.startAt.position,!t.startAt.before):null;t.T=Wce(t.path,t.collectionGroup,r,t.filters,t.limit,v,g)}return t.T}function u0e(e,t,r){return new Qv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function xP(e,t){return Rj(ip(e),ip(t))&&e.limitType===t.limitType}function c0e(e){return kP(ip(e))+"|lt:"+e.limitType}function bz(e){return"Query(target="+function(t){var r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=", filters: ["+t.filters.map(function(i){return(s=i).field.canonicalString()+" "+s.op+" "+KW(s.value);var s}).join(", ")+"]"),o_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=", orderBy: ["+t.orderBy.map(function(i){return function(s){return s.field.canonicalString()+" ("+s.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(r+=", startAt: "+n4(t.startAt)),t.endAt&&(r+=", endAt: "+n4(t.endAt)),"Target("+r+")"}(ip(e))+"; limitType="+e.limitType+")"}function OP(e,t){return t.isFoundDocument()&&function(r,i){var s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):en.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(var s=0,u=r.explicitOrderBy;s<u.length;s++){var d=u[s];if(!d.field.isKeyField()&&i.data.field(d.field)===null)return!1}return!0}(e,t)&&function(r,i){for(var s=0,u=r.filters;s<u.length;s++)if(!u[s].matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!Gce(r.startAt,jT(r),i))&&(!r.endAt||!Gce(r.endAt,jT(r),i))}(e,t)}function l0e(e){return function(t,r){for(var i=!1,s=0,u=jT(e);s<u.length;s++){var d=u[s],v=V3e(d,t,r);if(v!==0)return v;i=i||d.field.isKeyField()}return 0}}function V3e(e,t,r){var i=e.field.isKeyField()?en.comparator(t.key,r.key):function(s,u,d){var v=u.data.field(s),g=d.data.field(s);return v!==null&&g!==null?FT(v,g):Yt()}(e.field,t,r);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0e(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Z3(t)?"-0":t}}function f0e(e){return{integerValue:""+e}}function d0e(e,t){return i0e(t)?f0e(t):h0e(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){this._=void 0};function q3e(e,t,r){return e instanceof UT?function(i,s){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(r,t):e instanceof Bw?v0e(e,t):e instanceof Hw?m0e(e,t):function(i,s){var u=p0e(i,s),d=Yce(u)+Yce(i.A);return yz(u)&&yz(i.A)?f0e(d):h0e(i.R,d)}(e,t)}function B3e(e,t,r){return e instanceof Bw?v0e(e,t):e instanceof Hw?m0e(e,t):r}function p0e(e,t){return e instanceof $T?yz(r=t)||function(i){return!!i&&"doubleValue"in i}(r)?t:{integerValue:0}:null;var r}var UT=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t}(Dj),Bw=function(e){function t(r){var i=this;return(i=e.call(this)||this).elements=r,i}return on(t,e),t}(Dj);function v0e(e,t){for(var r=g0e(t),i=function(d){r.some(function(v){return rp(v,d)})||r.push(d)},s=0,u=e.elements;s<u.length;s++)i(u[s]);return{arrayValue:{values:r}}}var Hw=function(e){function t(r){var i=this;return(i=e.call(this)||this).elements=r,i}return on(t,e),t}(Dj);function m0e(e,t){for(var r=g0e(t),i=function(d){r=r.filter(function(v){return!rp(v,d)})},s=0,u=e.elements;s<u.length;s++)i(u[s]);return{arrayValue:{values:r}}}var $T=function(e){function t(r,i){var s=this;return(s=e.call(this)||this).R=r,s.A=i,s}return on(t,e),t}(Dj);function Yce(e){return No(e.integerValue||e.doubleValue)}function g0e(e){return WW(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NP=function(e,t){this.field=e,this.transform=t},H3e=function(e,t){this.version=e,this.transformResults=t},Ha=function(){function e(t,r){this.updateTime=t,this.exists=r}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function QF(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Lj=function(){};function z3e(e,t,r){e instanceof PP?function(i,s,u){var d=i.value.clone(),v=Zce(i.fieldTransforms,s,u.transformResults);d.setAll(v),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(e,t,r):e instanceof xy?function(i,s,u){if(QF(i.precondition,s)){var d=Zce(i.fieldTransforms,s,u.transformResults),v=s.data;v.setAll(y0e(i)),v.setAll(d),s.convertToFoundDocument(u.version,v).setHasCommittedMutations()}else s.convertToUnknownDocument(u.version)}(e,t,r):function(i,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,r)}function wz(e,t,r){e instanceof PP?function(i,s,u){if(QF(i.precondition,s)){var d=i.value.clone(),v=ele(i.fieldTransforms,u,s);d.setAll(v),s.convertToFoundDocument(Jce(s),d).setHasLocalMutations()}}(e,t,r):e instanceof xy?function(i,s,u){if(QF(i.precondition,s)){var d=ele(i.fieldTransforms,u,s),v=s.data;v.setAll(y0e(i)),v.setAll(d),s.convertToFoundDocument(Jce(s),v).setHasLocalMutations()}}(e,t,r):function(i,s){QF(i.precondition,s)&&s.convertToNoDocument(Hn.min())}(e,t)}function K3e(e,t){for(var r=null,i=0,s=e.fieldTransforms;i<s.length;i++){var u=s[i],d=t.data.field(u.field),v=p0e(u.transform,d||null);v!=null&&(r==null&&(r=hl.empty()),r.set(u.field,v))}return r||null}function Xce(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&DT(r,i,function(s,u){return function(d,v){return d.field.isEqual(v.field)&&function(g,w){return g instanceof Bw&&w instanceof Bw||g instanceof Hw&&w instanceof Hw?DT(g.elements,w.elements,rp):g instanceof $T&&w instanceof $T?rp(g.A,w.A):g instanceof UT&&w instanceof UT}(d.transform,v.transform)}(s,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Jce(e){return e.isFoundDocument()?e.version:Hn.min()}var PP=function(e){function t(r,i,s,u){u===void 0&&(u=[]);var d=this;return(d=e.call(this)||this).key=r,d.value=i,d.precondition=s,d.fieldTransforms=u,d.type=0,d}return on(t,e),t}(Lj),xy=function(e){function t(r,i,s,u,d){d===void 0&&(d=[]);var v=this;return(v=e.call(this)||this).key=r,v.data=i,v.fieldMask=s,v.precondition=u,v.fieldTransforms=d,v.type=1,v}return on(t,e),t}(Lj);function y0e(e){var t=new Map;return e.fieldMask.fields.forEach(function(r){if(!r.isEmpty()){var i=e.data.field(r);t.set(r,i)}}),t}function Zce(e,t,r){var i=new Map;wn(e.length===r.length);for(var s=0;s<r.length;s++){var u=e[s],d=u.transform,v=t.data.field(u.field);i.set(u.field,B3e(d,v,r[s]))}return i}function ele(e,t,r){for(var i=new Map,s=0,u=e;s<u.length;s++){var d=u[s],v=d.transform,g=r.data.field(d.field);i.set(d.field,q3e(v,g,t))}return i}var Oo,ar,RP=function(e){function t(r,i){var s=this;return(s=e.call(this)||this).key=r,s.precondition=i,s.type=2,s.fieldTransforms=[],s}return on(t,e),t}(Lj),XW=function(e){function t(r,i){var s=this;return(s=e.call(this)||this).key=r,s.precondition=i,s.type=3,s.fieldTransforms=[],s}return on(t,e),t}(Lj),W3e=function(e){this.count=e};function b0e(e){switch(e){case Ve.OK:return Yt();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Yt()}}function w0e(e){if(e===void 0)return Ro("GRPC error has no .code"),Ve.UNKNOWN;switch(e){case Oo.OK:return Ve.OK;case Oo.CANCELLED:return Ve.CANCELLED;case Oo.UNKNOWN:return Ve.UNKNOWN;case Oo.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Oo.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Oo.INTERNAL:return Ve.INTERNAL;case Oo.UNAVAILABLE:return Ve.UNAVAILABLE;case Oo.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Oo.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Oo.NOT_FOUND:return Ve.NOT_FOUND;case Oo.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Oo.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Oo.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Oo.ABORTED:return Ve.ABORTED;case Oo.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Oo.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Oo.DATA_LOSS:return Ve.DATA_LOSS;default:return Yt()}}(ar=Oo||(Oo={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ja=function(){function e(t,r){this.comparator=t,this.root=r||Hg.EMPTY}return e.prototype.insert=function(t,r){return new e(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Hg.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hg.BLACK,null,null))},e.prototype.get=function(t){for(var r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null},e.prototype.indexOf=function(t){for(var r=0,i=this.root;!i.isEmpty();){var s=this.comparator(t,i.key);if(s===0)return r+i.left.size;s<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(r,i){return t(r,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(r,i){return t.push(r+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new cF(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new cF(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cF(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new cF(this.root,t,this.comparator,!0)},e}(),cF=function(){function e(t,r,i,s){this.isReverse=s,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=r?i(t.key,r):1,s&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Hg=function(){function e(t,r,i,s,u){this.key=t,this.value=r,this.color=i!=null?i:e.RED,this.left=s!=null?s:e.EMPTY,this.right=u!=null?u:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,r,i,s,u){return new e(t!=null?t:this.key,r!=null?r:this.value,i!=null?i:this.color,s!=null?s:this.left,u!=null?u:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,r,i){var s=this,u=i(t,s.key);return(s=u<0?s.copy(null,null,null,s.left.insert(t,r,i),null):u===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,r){var i,s=this;if(r(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(t,s.key)===0){if(s.right.isEmpty())return e.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,r))}return s.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();var t=this.left.check();if(t!==this.right.check())throw Yt();return t+(this.isRed()?0:1)},e}();Hg.EMPTY=null,Hg.RED=!0,Hg.BLACK=!1,Hg.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Yt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Yt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Yt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Yt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Yt()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,r,i,s,u){return this},e.prototype.insert=function(t,r,i){return new Hg(t,r)},e.prototype.remove=function(t,r){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts=function(){function e(t){this.comparator=t,this.data=new Ja(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(r,i){return t(r),!1})},e.prototype.forEachInRange=function(t,r){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;r(s.key)}},e.prototype.forEachWhile=function(t,r){var i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null},e.prototype.getIterator=function(){return new tle(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new tle(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var r=this;return r.size<t.size&&(r=t,t=this),t.forEach(function(i){r=r.add(i)}),r},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var r=this.data.getIterator(),i=t.data.getIterator();r.hasNext();){var s=r.getNext().key,u=i.getNext().key;if(this.comparator(s,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(r){t.push(r)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(r){return t.push(r)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var r=new e(this.comparator);return r.data=t,r},e}(),tle=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),G3e=new Ja(en.comparator);function wf(){return G3e}var Q3e=new Ja(en.comparator);function _z(){return Q3e}var Y3e=new Ja(en.comparator);function X3e(){return Y3e}var J3e=new ts(en.comparator);function oi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=J3e,i=0,s=e;i<s.length;i++){var u=s[i];r=r.add(u)}return r}var Z3e=new ts(er);function Mj(){return Z3e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JW=function(){function e(t,r,i,s,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,r){var i=new Map;return i.set(t,ZW.createSynthesizedTargetChangeForCurrentChange(t,r)),new e(Hn.min(),i,Mj(),wf(),oi())},e}(),ZW=function(){function e(t,r,i,s,u){this.resumeToken=t,this.current=r,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,r){return new e(Ec.EMPTY_BYTE_STRING,r,oi(),oi(),oi())},e}(),YF=function(e,t,r,i){this.v=e,this.removedTargetIds=t,this.key=r,this.P=i},_0e=function(e,t){this.targetId=e,this.V=t},E0e=function(e,t,r,i){r===void 0&&(r=Ec.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i},nle=function(){function e(){this.S=0,this.D=ile(),this.C=Ec.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=oi(),r=oi(),i=oi();return this.D.forEach(function(s,u){switch(u){case 0:t=t.add(s);break;case 2:r=r.add(s);break;case 1:i=i.add(s);break;default:Yt()}}),new ZW(this.C,this.N,t,r,i)},e.prototype.L=function(){this.k=!1,this.D=ile()},e.prototype.B=function(t,r){this.k=!0,this.D=this.D.insert(t,r)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),e4e=function(){function e(t){this.W=t,this.G=new Map,this.H=wf(),this.J=rle(),this.Y=new ts(er)}return e.prototype.X=function(t){for(var r=0,i=t.v;r<i.length;r++){var s=i[r];t.P&&t.P.isFoundDocument()?this.Z(s,t.P):this.tt(s,t.key,t.P)}for(var u=0,d=t.removedTargetIds;u<d.length;u++)s=d[u],this.tt(s,t.key,t.P)},e.prototype.et=function(t){var r=this;this.forEachTarget(t,function(i){var s=r.nt(i);switch(t.state){case 0:r.st(i)&&s.O(t.resumeToken);break;case 1:s.K(),s.F||s.L(),s.O(t.resumeToken);break;case 2:s.K(),s.F||r.removeTarget(i);break;case 3:r.st(i)&&(s.j(),s.O(t.resumeToken));break;case 4:r.st(i)&&(r.it(i),s.O(t.resumeToken));break;default:Yt()}})},e.prototype.forEachTarget=function(t,r){var i=this;t.targetIds.length>0?t.targetIds.forEach(r):this.G.forEach(function(s,u){i.st(u)&&r(u)})},e.prototype.rt=function(t){var r=t.targetId,i=t.V.count,s=this.ot(r);if(s){var u=s.target;if(t4(u))if(i===0){var d=new en(u.path);this.tt(r,d,Ya.newNoDocument(d,Hn.min()))}else wn(i===1);else this.ct(r)!==i&&(this.it(r),this.Y=this.Y.add(r))}},e.prototype.ut=function(t){var r=this,i=new Map;this.G.forEach(function(d,v){var g=r.ot(v);if(g){if(d.current&&t4(g.target)){var w=new en(g.target.path);r.H.get(w)!==null||r.at(v,w)||r.tt(v,w,Ya.newNoDocument(w,t))}d.$&&(i.set(v,d.M()),d.L())}});var s=oi();this.J.forEach(function(d,v){var g=!0;v.forEachWhile(function(w){var S=r.ot(w);return!S||S.purpose===2||(g=!1,!1)}),g&&(s=s.add(d))});var u=new JW(t,i,this.Y,this.H,s);return this.H=wf(),this.J=rle(),this.Y=new ts(er),u},e.prototype.Z=function(t,r){if(this.st(t)){var i=this.at(t,r.key)?2:0;this.nt(t).B(r.key,i),this.H=this.H.insert(r.key,r),this.J=this.J.insert(r.key,this.ht(r.key).add(t))}},e.prototype.tt=function(t,r,i){if(this.st(t)){var s=this.nt(t);this.at(t,r)?s.B(r,1):s.q(r),this.J=this.J.insert(r,this.ht(r).delete(t)),i&&(this.H=this.H.insert(r,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var r=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var r=this.G.get(t);return r||(r=new nle,this.G.set(t,r)),r},e.prototype.ht=function(t){var r=this.J.get(t);return r||(r=new ts(er),this.J=this.J.insert(t,r)),r},e.prototype.st=function(t){var r=this.ot(t)!==null;return r||It("WatchChangeAggregator","Detected inactive target",t),r},e.prototype.ot=function(t){var r=this.G.get(t);return r&&r.F?null:this.W.lt(t)},e.prototype.it=function(t){var r=this;this.G.set(t,new nle),this.W.getRemoteKeysForTarget(t).forEach(function(i){r.tt(t,i,null)})},e.prototype.at=function(t,r){return this.W.getRemoteKeysForTarget(t).has(r)},e}();function rle(){return new Ja(en.comparator)}function ile(){return new Ja(en.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t4e={asc:"ASCENDING",desc:"DESCENDING"},n4e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r4e=function(e,t){this.databaseId=e,this.I=t};function xN(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function S0e(e,t){return e.I?t.toBase64():t.toUint8Array()}function i4e(e,t){return xN(e,t.toTimestamp())}function Ru(e){return wn(!!e),Hn.fromTimestamp(function(t){var r=wy(t);return new _c(r.seconds,r.nanos)}(e))}function eG(e,t){return function(r){return new Tr(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function T0e(e){var t=Tr.fromString(e);return wn(N0e(t)),t}function ON(e,t){return eG(e.databaseId,t.path)}function $v(e,t){var r=T0e(t);if(r.get(1)!==e.databaseId.projectId)throw new pt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new pt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new en(C0e(r))}function Ez(e,t){return eG(e.databaseId,t)}function I0e(e){var t=T0e(e);return t.length===4?Tr.emptyPath():C0e(t)}function NN(e){return new Tr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function C0e(e){return wn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function ole(e,t,r){return{name:ON(e,t),fields:r.value.mapValue.fields}}function o4e(e,t,r){var i=$v(e,t.name),s=Ru(t.updateTime),u=new hl({mapValue:{fields:t.fields}}),d=Ya.newFoundDocument(i,s,u);return r&&d.setHasCommittedMutations(),r?d.setHasCommittedMutations():d}function i4(e,t){var r;if(t instanceof PP)r={update:ole(e,t.key,t.value)};else if(t instanceof RP)r={delete:ON(e,t.key)};else if(t instanceof xy)r={update:ole(e,t.key,t.data),updateMask:l4e(t.fieldMask)};else{if(!(t instanceof XW))return Yt();r={verify:ON(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(function(i){return function(s,u){var d=u.transform;if(d instanceof UT)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Bw)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hw)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $T)return{fieldPath:u.field.canonicalString(),increment:d.A};throw Yt()}(0,i)})),t.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i4e(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Yt()}(e,t.precondition)),r}function sle(e,t){var r=t.currentDocument?function(w){return w.updateTime!==void 0?Ha.updateTime(Ru(w.updateTime)):w.exists!==void 0?Ha.exists(w.exists):Ha.none()}(t.currentDocument):Ha.none(),i=t.updateTransforms?t.updateTransforms.map(function(w){return function(S,C){var A=null;if("setToServerValue"in C)wn(C.setToServerValue==="REQUEST_TIME"),A=new UT;else if("appendMissingElements"in C){var L=C.appendMissingElements.values||[];A=new Bw(L)}else if("removeAllFromArray"in C){var M=C.removeAllFromArray.values||[];A=new Hw(M)}else"increment"in C?A=new $T(S,C.increment):Yt();var U=If.fromServerFormat(C.fieldPath);return new NP(U,A)}(e,w)}):[];if(t.update){t.update.name;var s=$v(e,t.update.name),u=new hl({mapValue:{fields:t.update.fields}});if(t.updateMask){var d=function(w){var S=w.fieldPaths||[];return new LT(S.map(function(C){return If.fromServerFormat(C)}))}(t.updateMask);return new xy(s,u,d,r,i)}return new PP(s,u,r,i)}if(t.delete){var v=$v(e,t.delete);return new RP(v,r)}if(t.verify){var g=$v(e,t.verify);return new XW(g,r)}return Yt()}function k0e(e,t){return{documents:[Ez(e,t.path)]}}function A0e(e,t){var r={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(r.parent=Ez(e,i),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=Ez(e,i.popLast()),r.structuredQuery.from=[{collectionId:i.lastSegment()}]);var s=function(v){if(v.length!==0){var g=v.map(function(w){return function(S){if(S.op==="=="){if(Kce(S.value))return{unaryFilter:{field:jS(S.field),op:"IS_NAN"}};if(zce(S.value))return{unaryFilter:{field:jS(S.field),op:"IS_NULL"}}}else if(S.op==="!="){if(Kce(S.value))return{unaryFilter:{field:jS(S.field),op:"IS_NOT_NAN"}};if(zce(S.value))return{unaryFilter:{field:jS(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jS(S.field),op:a4e(S.op),value:S.value}}}(w)});return g.length===1?g[0]:{compositeFilter:{op:"AND",filters:g}}}}(t.filters);s&&(r.structuredQuery.where=s);var u=function(v){if(v.length!==0)return v.map(function(g){return function(w){return{field:jS(w.field),direction:s4e(w.dir)}}(g)})}(t.orderBy);u&&(r.structuredQuery.orderBy=u);var d=function(v,g){return v.I||o_(g)?g:{value:g}}(e,t.limit);return d!==null&&(r.structuredQuery.limit=d),t.startAt&&(r.structuredQuery.startAt=ale(t.startAt)),t.endAt&&(r.structuredQuery.endAt=ale(t.endAt)),r}function x0e(e){var t=I0e(e.parent),r=e.structuredQuery,i=r.from?r.from.length:0,s=null;if(i>0){wn(i===1);var u=r.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}var d=[];r.where&&(d=O0e(r.where));var v=[];r.orderBy&&(v=r.orderBy.map(function(C){return function(A){return new wT(oT(A.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(C)}));var g=null;r.limit&&(g=function(C){var A;return o_(A=typeof C=="object"?C.value:C)?null:A}(r.limit));var w=null;r.startAt&&(w=ule(r.startAt));var S=null;return r.endAt&&(S=ule(r.endAt)),a0e(t,s,v,d,g,"F",w,S)}function O0e(e){return e?e.unaryFilter!==void 0?[c4e(e)]:e.fieldFilter!==void 0?[u4e(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return O0e(t)}).reduce(function(t,r){return t.concat(r)}):Yt():[]}function ale(e){return{before:e.before,values:e.position}}function ule(e){var t=!!e.before,r=e.values||[];return new AN(r,t)}function s4e(e){return t4e[e]}function a4e(e){return n4e[e]}function jS(e){return{fieldPath:e.canonicalString()}}function oT(e){return If.fromServerFormat(e.fieldPath)}function u4e(e){return pl.create(oT(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Yt()}}(e.fieldFilter.op),e.fieldFilter.value)}function c4e(e){switch(e.unaryFilter.op){case"IS_NAN":var t=oT(e.unaryFilter.field);return pl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var r=oT(e.unaryFilter.field);return pl.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=oT(e.unaryFilter.field);return pl.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=oT(e.unaryFilter.field);return pl.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Yt()}}function l4e(e){var t=[];return e.fields.forEach(function(r){return t.push(r.canonicalString())}),{fieldPaths:t}}function N0e(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(e){for(var t="",r=0;r<e.length;r++)t.length>0&&(t=cle(t)),t=h4e(e.get(r),t);return cle(t)}function h4e(e,t){for(var r=t,i=e.length,s=0;s<i;s++){var u=e.charAt(s);switch(u){case"\0":r+="";break;case"":r+="";break;default:r+=u}}return r}function cle(e){return e+""}function jv(e){var t=e.length;if(wn(t>=2),t===2)return wn(e.charAt(0)===""&&e.charAt(1)===""),Tr.emptyPath();for(var r=t-2,i=[],s="",u=0;u<t;){var d=e.indexOf("",u);switch((d<0||d>r)&&Yt(),e.charAt(d+1)){case"":var v=e.substring(u,d),g=void 0;s.length===0?g=v:(g=s+=v,s=""),i.push(g);break;case"":s+=e.substring(u,d),s+="\0";break;case"":s+=e.substring(u,d+1);break;default:Yt()}u=d+2}return new Tr(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f4e=function(e,t){this.seconds=e,this.nanoseconds=t},ul=function(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r};ul.store="owner",ul.key="owner";var ly=function(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r};ly.store="mutationQueues",ly.keyPath="userId";var vi=function(e,t,r,i,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s};vi.store="mutations",vi.keyPath="batchId",vi.userMutationsIndex="userMutationsIndex",vi.userMutationsKeyPath=["userId","batchId"];var Va=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,r){return[t,_f(r)]},e.key=function(t,r,i){return[t,_f(r),i]},e}();Va.store="documentMutations",Va.PLACEHOLDER=new Va;var d4e=function(e,t){this.path=e,this.readTime=t},p4e=function(e,t){this.path=e,this.version=t},Qi=function(e,t,r,i,s,u){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=u};Qi.store="remoteDocuments",Qi.readTimeIndex="readTimeIndex",Qi.readTimeIndexPath="readTime",Qi.collectionReadTimeIndex="collectionReadTimeIndex",Qi.collectionReadTimeIndexPath=["parentPath","readTime"];var Gd=function(e){this.byteSize=e};Gd.store="remoteDocumentGlobal",Gd.key="remoteDocumentGlobalKey";var mc=function(e,t,r,i,s,u,d){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=u,this.query=d};mc.store="targets",mc.keyPath="targetId",mc.queryTargetsIndexName="queryTargetsIndex",mc.queryTargetsKeyPath=["canonicalId","targetId"];var ca=function(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r};ca.store="targetDocuments",ca.keyPath=["targetId","path"],ca.documentTargetsIndex="documentTargetsIndex",ca.documentTargetsKeyPath=["path","targetId"];var cl=function(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i};cl.key="targetGlobalKey",cl.store="targetGlobal";var Ow=function(e,t){this.collectionId=e,this.parent=t};Ow.store="collectionParents",Ow.keyPath=["collectionId","parent"];var Vv=function(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i};Vv.store="clientMetadata",Vv.keyPath="clientId";var VT=function(e,t,r){this.bundleId=e,this.createTime=t,this.version=r};VT.store="bundles",VT.keyPath="bundleId";var qT=function(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r};qT.store="namedQueries",qT.keyPath="name";var v4e=ki(ki([],ki(ki([],ki(ki([],ki(ki([],[ly.store,vi.store,Va.store,Qi.store,mc.store,ul.store,cl.store,ca.store]),[Vv.store])),[Gd.store])),[Ow.store])),[VT.store,qT.store]),P0e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",R0e=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Sc=function(){var e=this;this.promise=new Promise(function(t,r){e.resolve=t,e.reject=r})},yt=function(){function e(t){var r=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){r.isDone=!0,r.result=i,r.nextCallback&&r.nextCallback(i)},function(i){r.isDone=!0,r.error=i,r.catchCallback&&r.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,r){var i=this;return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new e(function(s,u){i.nextCallback=function(d){i.wrapSuccess(t,d).next(s,u)},i.catchCallback=function(d){i.wrapFailure(r,d).next(s,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(r,i){t.next(r,i)})},e.prototype.wrapUserFunction=function(t){try{var r=t();return r instanceof e?r:e.resolve(r)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,r){return t?this.wrapUserFunction(function(){return t(r)}):e.resolve(r)},e.prototype.wrapFailure=function(t,r){return t?this.wrapUserFunction(function(){return t(r)}):e.reject(r)},e.resolve=function(t){return new e(function(r,i){r(t)})},e.reject=function(t){return new e(function(r,i){i(t)})},e.waitFor=function(t){return new e(function(r,i){var s=0,u=0,d=!1;t.forEach(function(v){++s,v.next(function(){++u,d&&u===s&&r()},function(g){return i(g)})}),d=!0,u===s&&r()})},e.or=function(t){for(var r=e.resolve(!1),i=function(d){r=r.next(function(v){return v?e.resolve(v):d()})},s=0,u=t;s<u.length;s++)i(u[s]);return r},e.forEach=function(t,r){var i=this,s=[];return t.forEach(function(u,d){s.push(r.call(i,u,d))}),this.waitFor(s)},e}(),D0e=function(){function e(t,r){var i=this;this.action=t,this.transaction=r,this.aborted=!1,this.ft=new Sc,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){r.error?i.ft.reject(new qO(t,r.error)):i.ft.resolve()},this.transaction.onerror=function(s){var u=tG(s.target.error);i.ft.reject(new qO(t,u))}}return e.open=function(t,r,i,s){try{return new e(r,t.transaction(s,i))}catch(u){throw new qO(r,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(It("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var r=this.transaction.objectStore(t);return new g4e(r)},e}(),BT=function(){function e(t,r,i){this.name=t,this.version=r,this.wt=i,e._t(Uw())===12.2&&Ro("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return It("SimpleDb","Removing database:",t),mw(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Uw(),r=e._t(t),i=0<r&&r<10,s=e.Et(t),u=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,r){return t.store(r)},e._t=function(t){var r=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var r=t.match(/Android ([\d.]+)/i),i=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return tt(this,void 0,void 0,function(){var r,i=this;return et(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(It("SimpleDb","Opening database:",this.name),r=this,[4,new Promise(function(u,d){var v=indexedDB.open(i.name,i.version);v.onsuccess=function(g){var w=g.target.result;u(w)},v.onblocked=function(){d(new qO(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=function(g){var w=g.target.error;w.name==="VersionError"?d(new pt(Ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):d(new qO(t,w))},v.onupgradeneeded=function(g){It("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',g.oldVersion);var w=g.target.result;i.wt.Rt(w,v.transaction,g.oldVersion,i.version).next(function(){It("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:r.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(r){return t(r)})},e.prototype.runTransaction=function(t,r,i,s){return tt(this,void 0,void 0,function(){var u,d,v,g,w;return et(this,function(S){switch(S.label){case 0:u=r==="readonly",d=0,v=function(){var C,A,L,M,U;return et(this,function(R){switch(R.label){case 0:++d,R.label=1;case 1:return R.trys.push([1,4,,5]),[4,g.At(t)];case 2:return g.db=R.sent(),C=D0e.open(g.db,t,u?"readonly":"readwrite",i),A=s(C).catch(function($){return C.abort($),yt.reject($)}).toPromise(),L={},A.catch(function(){}),[4,C.dt];case 3:return[2,(L.value=(R.sent(),A),L)];case 4:return M=R.sent(),U=M.name!=="FirebaseError"&&d<3,It("SimpleDb","Transaction failed with error:",M.message,"Retrying:",U),g.close(),U?[3,5]:[2,{value:Promise.reject(M)}];case 5:return[2]}})},g=this,S.label=1;case 1:return[5,v()];case 2:if(typeof(w=S.sent())=="object")return[2,w.value];S.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),m4e=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return mw(this.Pt.delete())},e}(),qO=function(e){function t(r,i){var s=this;return(s=e.call(this,Ve.UNAVAILABLE,"IndexedDB transaction '"+r+"' failed: "+i)||this).name="IndexedDbTransactionError",s}return on(t,e),t}(pt);function s_(e){return e.name==="IndexedDbTransactionError"}var g4e=function(){function e(t){this.store=t}return e.prototype.put=function(t,r){var i;return r!==void 0?(It("SimpleDb","PUT",this.store.name,t,r),i=this.store.put(r,t)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),mw(i)},e.prototype.add=function(t){return It("SimpleDb","ADD",this.store.name,t,t),mw(this.store.add(t))},e.prototype.get=function(t){var r=this;return mw(this.store.get(t)).next(function(i){return i===void 0&&(i=null),It("SimpleDb","GET",r.store.name,t,i),i})},e.prototype.delete=function(t){return It("SimpleDb","DELETE",this.store.name,t),mw(this.store.delete(t))},e.prototype.count=function(){return It("SimpleDb","COUNT",this.store.name),mw(this.store.count())},e.prototype.Nt=function(t,r){var i=this.cursor(this.options(t,r)),s=[];return this.xt(i,function(u,d){s.push(d)}).next(function(){return s})},e.prototype.kt=function(t,r){It("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,r);i.Ft=!1;var s=this.cursor(i);return this.xt(s,function(u,d,v){return v.delete()})},e.prototype.$t=function(t,r){var i;r?i=t:(i={},r=t);var s=this.cursor(i);return this.xt(s,r)},e.prototype.Ot=function(t){var r=this.cursor({});return new yt(function(i,s){r.onerror=function(u){var d=tG(u.target.error);s(d)},r.onsuccess=function(u){var d=u.target.result;d?t(d.primaryKey,d.value).next(function(v){v?d.continue():i()}):i()}})},e.prototype.xt=function(t,r){var i=[];return new yt(function(s,u){t.onerror=function(d){u(d.target.error)},t.onsuccess=function(d){var v=d.target.result;if(v){var g=new m4e(v),w=r(v.primaryKey,v.value,g);if(w instanceof yt){var S=w.catch(function(C){return g.done(),yt.reject(C)});i.push(S)}g.isDone?s():g.Dt===null?v.continue():v.continue(g.Dt)}else s()}}).next(function(){return yt.waitFor(i)})},e.prototype.options=function(t,r){var i;return t!==void 0&&(typeof t=="string"?i=t:r=t),{index:i,range:r}},e.prototype.cursor=function(t){var r="next";if(t.reverse&&(r="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,r):i.openCursor(t.range,r)}return this.store.openCursor(t.range,r)},e}();function mw(e){return new yt(function(t,r){e.onsuccess=function(i){var s=i.target.result;t(s)},e.onerror=function(i){var s=tG(i.target.error);r(s)}})}var lle=!1;function tG(e){var t=BT._t(Uw());if(t>=12.2&&t<13){var r="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(r)>=0){var i=new pt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+r+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return lle||(lle=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hle=function(e){function t(r,i){var s=this;return(s=e.call(this)||this).Mt=r,s.currentSequenceNumber=i,s}return on(t,e),t}(R0e);function Cc(e,t){var r=Rt(e);return BT.It(r.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nG=function(){function e(t,r,i,s){this.batchId=t,this.localWriteTime=r,this.baseMutations=i,this.mutations=s}return e.prototype.applyToRemoteDocument=function(t,r){for(var i=r.mutationResults,s=0;s<this.mutations.length;s++){var u=this.mutations[s];u.key.isEqual(t.key)&&z3e(u,t,i[s])}},e.prototype.applyToLocalView=function(t){for(var r=0,i=this.baseMutations;r<i.length;r++)(d=i[r]).key.isEqual(t.key)&&wz(d,t,this.localWriteTime);for(var s=0,u=this.mutations;s<u.length;s++){var d;(d=u[s]).key.isEqual(t.key)&&wz(d,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var r=this;this.mutations.forEach(function(i){var s=t.get(i.key),u=s;r.applyToLocalView(u),s.isValidDocument()||u.convertToNoDocument(Hn.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,r){return t.add(r.key)},oi())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&DT(this.mutations,t.mutations,function(r,i){return Xce(r,i)})&&DT(this.baseMutations,t.baseMutations,function(r,i){return Xce(r,i)})},e}(),y4e=function(){function e(t,r,i,s){this.batch=t,this.commitVersion=r,this.mutationResults=i,this.docVersions=s}return e.from=function(t,r,i){wn(t.mutations.length===i.length);for(var s=X3e(),u=t.mutations,d=0;d<u.length;d++)s=s.insert(u[d].key,i[d].version);return new e(t,r,i,s)},e}(),Fj=function(){function e(t,r,i,s,u,d,v){u===void 0&&(u=Hn.min()),d===void 0&&(d=Hn.min()),v===void 0&&(v=Ec.EMPTY_BYTE_STRING),this.target=t,this.targetId=r,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=v}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,r){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),L0e=function(e){this.Lt=e};function Sz(e,t){if(t.document)return o4e(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var r=en.fromSegments(t.noDocument.path),i=zT(t.noDocument.readTime),s=Ya.newNoDocument(r,i);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){var u=en.fromSegments(t.unknownDocument.path);return i=zT(t.unknownDocument.version),Ya.newUnknownDocument(u,i)}return Yt()}function fle(e,t,r){var i=rG(r),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(C,A){return{name:ON(C,A.key),fields:A.data.value.mapValue.fields,updateTime:xN(C,A.version.toTimestamp())}}(e.Lt,t),d=t.hasCommittedMutations;return new Qi(null,null,u,d,i,s)}if(t.isNoDocument()){var v=t.key.path.toArray(),g=HT(t.version);return d=t.hasCommittedMutations,new Qi(null,new d4e(v,g),null,d,i,s)}if(t.isUnknownDocument()){var w=t.key.path.toArray(),S=HT(t.version);return new Qi(new p4e(w,S),null,null,!0,i,s)}return Yt()}function rG(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function M0e(e){var t=new _c(e[0],e[1]);return Hn.fromTimestamp(t)}function HT(e){var t=e.toTimestamp();return new f4e(t.seconds,t.nanoseconds)}function zT(e){var t=new _c(e.seconds,e.nanoseconds);return Hn.fromTimestamp(t)}function QS(e,t){for(var r=(t.baseMutations||[]).map(function(g){return sle(e.Lt,g)}),i=0;i<t.mutations.length-1;++i){var s=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];s.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var d=t.mutations.map(function(g){return sle(e.Lt,g)}),v=_c.fromMillis(t.localWriteTimeMs);return new nG(t.batchId,v,r,d)}function wO(e){var t,r,i=zT(e.readTime),s=e.lastLimboFreeSnapshotVersion!==void 0?zT(e.lastLimboFreeSnapshotVersion):Hn.min();return e.query.documents!==void 0?(wn((r=e.query).documents.length===1),t=ip(AP(I0e(r.documents[0])))):t=function(u){return ip(x0e(u))}(e.query),new Fj(t,e.targetId,0,e.lastListenSequenceNumber,i,s,Ec.fromBase64String(e.resumeToken))}function F0e(e,t){var r,i=HT(t.snapshotVersion),s=HT(t.lastLimboFreeSnapshotVersion);r=t4(t.target)?k0e(e.Lt,t.target):A0e(e.Lt,t.target);var u=t.resumeToken.toBase64();return new mc(t.targetId,kP(t.target),i,u,t.sequenceNumber,s,r)}function j0e(e){var t=x0e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?u0e(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b4e=function(){function e(){}return e.prototype.getBundleMetadata=function(t,r){return dle(t).get(r).next(function(i){if(i)return{id:(s=i).bundleId,createTime:zT(s.createTime),version:s.version};var s})},e.prototype.saveBundleMetadata=function(t,r){return dle(t).put({bundleId:(i=r).id,createTime:HT(Ru(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,r){return ple(t).get(r).next(function(i){if(i)return{name:(s=i).name,query:j0e(s.bundledQuery),readTime:zT(s.readTime)};var s})},e.prototype.saveNamedQuery=function(t,r){return ple(t).put(function(i){return{name:i.name,readTime:HT(Ru(i.readTime)),bundledQuery:i.bundledQuery}}(r))},e}();function dle(e){return Cc(e,VT.store)}function ple(e){return Cc(e,qT.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w4e=function(){function e(){this.Bt=new iG}return e.prototype.addToCollectionParentIndex=function(t,r){return this.Bt.add(r),yt.resolve()},e.prototype.getCollectionParents=function(t,r){return yt.resolve(this.Bt.getEntries(r))},e}(),iG=function(){function e(){this.index={}}return e.prototype.add=function(t){var r=t.lastSegment(),i=t.popLast(),s=this.index[r]||new ts(Tr.comparator),u=!s.has(i);return this.index[r]=s.add(i),u},e.prototype.has=function(t){var r=t.lastSegment(),i=t.popLast(),s=this.index[r];return s&&s.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new ts(Tr.comparator)).toArray()},e}(),_4e=function(){function e(){this.qt=new iG}return e.prototype.addToCollectionParentIndex=function(t,r){var i=this;if(!this.qt.has(r)){var s=r.lastSegment(),u=r.popLast();t.addOnCommittedListener(function(){i.qt.add(r)});var d={collectionId:s,parent:_f(u)};return vle(t).put(d)}return yt.resolve()},e.prototype.getCollectionParents=function(t,r){var i=[],s=IDBKeyRange.bound([r,""],[e0e(r),""],!1,!0);return vle(t).Nt(s).next(function(u){for(var d=0,v=u;d<v.length;d++){var g=v[d];if(g.collectionId!==r)break;i.push(jv(g.parent))}return i})},e}();function vle(e){return Cc(e,Ow.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mle={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vd=function(){function e(t,r,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0e(e,t,r){var i=e.store(vi.store),s=e.store(Va.store),u=[],d=IDBKeyRange.only(r.batchId),v=0,g=i.$t({range:d},function(M,U,R){return v++,R.delete()});u.push(g.next(function(){wn(v===1)}));for(var w=[],S=0,C=r.mutations;S<C.length;S++){var A=C[S],L=Va.key(t,A.key.path,r.batchId);u.push(s.delete(L)),w.push(A.key)}return yt.waitFor(u).next(function(){return w})}function o4(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Yt();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vd.DEFAULT_COLLECTION_PERCENTILE=10,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vd.DEFAULT=new Vd(41943040,Vd.DEFAULT_COLLECTION_PERCENTILE,Vd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vd.DISABLED=new Vd(-1,0,0);var E4e=function(){function e(t,r,i,s){this.userId=t,this.R=r,this.Ut=i,this.referenceDelegate=s,this.Kt={}}return e.Qt=function(t,r,i,s){return wn(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",r,i,s)},e.prototype.checkEmpty=function(t){var r=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dg(t).$t({index:vi.userMutationsIndex,range:i},function(s,u,d){r=!1,d.done()}).next(function(){return r})},e.prototype.addMutationBatch=function(t,r,i,s){var u=this,d=YS(t),v=Dg(t);return v.add({}).next(function(g){wn(typeof g=="number");for(var w=new nG(g,r,i,s),S=function($,B,G){var H=G.baseMutations.map(function(Y){return i4($.Lt,Y)}),Z=G.mutations.map(function(Y){return i4($.Lt,Y)});return new vi(B,G.batchId,G.localWriteTime.toMillis(),H,Z)}(u.R,u.userId,w),C=[],A=new ts(function($,B){return er($.canonicalString(),B.canonicalString())}),L=0,M=s;L<M.length;L++){var U=M[L],R=Va.key(u.userId,U.key.path,g);A=A.add(U.key.path.popLast()),C.push(v.put(S)),C.push(d.put(R,Va.PLACEHOLDER))}return A.forEach(function($){C.push(u.Ut.addToCollectionParentIndex(t,$))}),t.addOnCommittedListener(function(){u.Kt[g]=w.keys()}),yt.waitFor(C).next(function(){return w})})},e.prototype.lookupMutationBatch=function(t,r){var i=this;return Dg(t).get(r).next(function(s){return s?(wn(s.userId===i.userId),QS(i.R,s)):null})},e.prototype.jt=function(t,r){var i=this;return this.Kt[r]?yt.resolve(this.Kt[r]):this.lookupMutationBatch(t,r).next(function(s){if(s){var u=s.keys();return i.Kt[r]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,r){var i=this,s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]),d=null;return Dg(t).$t({index:vi.userMutationsIndex,range:u},function(v,g,w){g.userId===i.userId&&(wn(g.batchId>=s),d=QS(i.R,g)),w.done()}).next(function(){return d})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Dg(t).$t({index:vi.userMutationsIndex,range:r,reverse:!0},function(s,u,d){i=u.batchId,d.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var r=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dg(t).Nt(vi.userMutationsIndex,i).next(function(s){return s.map(function(u){return QS(r.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,r){var i=this,s=Va.prefixForPath(this.userId,r.path),u=IDBKeyRange.lowerBound(s),d=[];return YS(t).$t({range:u},function(v,g,w){var S=v[0],C=v[1],A=v[2],L=jv(C);if(S===i.userId&&r.path.isEqual(L))return Dg(t).get(A).next(function(M){if(!M)throw Yt();wn(M.userId===i.userId),d.push(QS(i.R,M))});w.done()}).next(function(){return d})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,r){var i=this,s=new ts(er),u=[];return r.forEach(function(d){var v=Va.prefixForPath(i.userId,d.path),g=IDBKeyRange.lowerBound(v),w=YS(t).$t({range:g},function(S,C,A){var L=S[0],M=S[1],U=S[2],R=jv(M);L===i.userId&&d.path.isEqual(R)?s=s.add(U):A.done()});u.push(w)}),yt.waitFor(u).next(function(){return i.Wt(t,s)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,r){var i=this,s=r.path,u=s.length+1,d=Va.prefixForPath(this.userId,s),v=IDBKeyRange.lowerBound(d),g=new ts(er);return YS(t).$t({range:v},function(w,S,C){var A=w[0],L=w[1],M=w[2],U=jv(L);A===i.userId&&s.isPrefixOf(U)?U.length===u&&(g=g.add(M)):C.done()}).next(function(){return i.Wt(t,g)})},e.prototype.Wt=function(t,r){var i=this,s=[],u=[];return r.forEach(function(d){u.push(Dg(t).get(d).next(function(v){if(v===null)throw Yt();wn(v.userId===i.userId),s.push(QS(i.R,v))}))}),yt.waitFor(u).next(function(){return s})},e.prototype.removeMutationBatch=function(t,r){var i=this;return U0e(t.Mt,this.userId,r).next(function(s){return t.addOnCommittedListener(function(){i.Gt(r.batchId)}),yt.forEach(s,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var r=this;return this.checkEmpty(t).next(function(i){if(!i)return yt.resolve();var s=IDBKeyRange.lowerBound(Va.prefixForUser(r.userId)),u=[];return YS(t).$t({range:s},function(d,v,g){if(d[0]===r.userId){var w=jv(d[1]);u.push(w)}else g.done()}).next(function(){wn(u.length===0)})})},e.prototype.containsKey=function(t,r){return $0e(t,this.userId,r)},e.prototype.zt=function(t){var r=this;return V0e(t).get(this.userId).next(function(i){return i||new ly(r.userId,-1,"")})},e}();function $0e(e,t,r){var i=Va.prefixForPath(t,r.path),s=i[1],u=IDBKeyRange.lowerBound(i),d=!1;return YS(e).$t({range:u,Ft:!0},function(v,g,w){var S=v[0],C=v[1];v[2],S===t&&C===s&&(d=!0),w.done()}).next(function(){return d})}function Dg(e){return Cc(e,vi.store)}function YS(e){return Cc(e,Va.store)}function V0e(e){return Cc(e,ly.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s4=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),S4e=function(){function e(t,r){this.referenceDelegate=t,this.R=r}return e.prototype.allocateTargetId=function(t){var r=this;return this.Xt(t).next(function(i){var s=new s4(i.highestTargetId);return i.highestTargetId=s.next(),r.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(r){return Hn.fromTimestamp(new _c(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(r){return r.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,r,i){var s=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=r,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),s.Zt(t,u)})},e.prototype.addTargetData=function(t,r){var i=this;return this.te(t,r).next(function(){return i.Xt(t).next(function(s){return s.targetCount+=1,i.ee(r,s),i.Zt(t,s)})})},e.prototype.updateTargetData=function(t,r){return this.te(t,r)},e.prototype.removeTargetData=function(t,r){var i=this;return this.removeMatchingKeysForTargetId(t,r.targetId).next(function(){return US(t).delete(r.targetId)}).next(function(){return i.Xt(t)}).next(function(s){return wn(s.targetCount>0),s.targetCount-=1,i.Zt(t,s)})},e.prototype.removeTargets=function(t,r,i){var s=this,u=0,d=[];return US(t).$t(function(v,g){var w=wO(g);w.sequenceNumber<=r&&i.get(w.targetId)===null&&(u++,d.push(s.removeTargetData(t,w)))}).next(function(){return yt.waitFor(d)}).next(function(){return u})},e.prototype.forEachTarget=function(t,r){return US(t).$t(function(i,s){var u=wO(s);r(u)})},e.prototype.Xt=function(t){return gle(t).get(cl.key).next(function(r){return wn(r!==null),r})},e.prototype.Zt=function(t,r){return gle(t).put(cl.key,r)},e.prototype.te=function(t,r){return US(t).put(F0e(this.R,r))},e.prototype.ee=function(t,r){var i=!1;return t.targetId>r.highestTargetId&&(r.highestTargetId=t.targetId,i=!0),t.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(r){return r.targetCount})},e.prototype.getTargetData=function(t,r){var i=kP(r),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return US(t).$t({range:s,index:mc.queryTargetsIndexName},function(d,v,g){var w=wO(v);Rj(r,w.target)&&(u=w,g.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,r,i){var s=this,u=[],d=zg(t);return r.forEach(function(v){var g=_f(v.path);u.push(d.put(new ca(i,g))),u.push(s.referenceDelegate.addReference(t,i,v))}),yt.waitFor(u)},e.prototype.removeMatchingKeys=function(t,r,i){var s=this,u=zg(t);return yt.forEach(r,function(d){var v=_f(d.path);return yt.waitFor([u.delete([i,v]),s.referenceDelegate.removeReference(t,i,d)])})},e.prototype.removeMatchingKeysForTargetId=function(t,r){var i=zg(t),s=IDBKeyRange.bound([r],[r+1],!1,!0);return i.delete(s)},e.prototype.getMatchingKeysForTargetId=function(t,r){var i=IDBKeyRange.bound([r],[r+1],!1,!0),s=zg(t),u=oi();return s.$t({range:i,Ft:!0},function(d,v,g){var w=jv(d[1]),S=new en(w);u=u.add(S)}).next(function(){return u})},e.prototype.containsKey=function(t,r){var i=_f(r.path),s=IDBKeyRange.bound([i],[e0e(i)],!1,!0),u=0;return zg(t).$t({index:ca.documentTargetsIndex,Ft:!0,range:s},function(d,v,g){var w=d[0];d[1],w!==0&&(u++,g.done())}).next(function(){return u>0})},e.prototype.lt=function(t,r){return US(t).get(r).next(function(i){return i?wO(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(e){return Cc(e,mc.store)}function gle(e){return Cc(e,cl.store)}function zg(e){return Cc(e,ca.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(e){return tt(this,void 0,void 0,function(){return et(this,function(t){if(e.code!==Ve.FAILED_PRECONDITION||e.message!==P0e)throw e;return It("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yle(e,t){var r=e[0],i=e[1],s=t[0],u=t[1],d=er(r,s);return d===0?er(i,u):d}var T4e=function(){function e(t){this.ne=t,this.buffer=new ts(yle),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var r=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(r);else{var i=this.buffer.last();yle(r,i)<0&&(this.buffer=this.buffer.delete(i).add(r))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),I4e=function(){function e(t,r){this.garbageCollector=t,this.asyncQueue=r,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var r=this,i=this.oe?3e5:6e4;It("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return tt(r,void 0,void 0,function(){var s;return et(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return s_(s=u.sent())?(It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,a_(s)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),C4e=function(){function e(t,r){this.ae=t,this.params=r}return e.prototype.calculateTargetCount=function(t,r){return this.ae.he(t).next(function(i){return Math.floor(r/100*i)})},e.prototype.nthSequenceNumber=function(t,r){var i=this;if(r===0)return yt.resolve(dl.o);var s=new T4e(r);return this.ae.forEachTarget(t,function(u){return s.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return s.re(u)})}).next(function(){return s.maxValue})},e.prototype.removeTargets=function(t,r,i){return this.ae.removeTargets(t,r,i)},e.prototype.removeOrphanedDocuments=function(t,r){return this.ae.removeOrphanedDocuments(t,r)},e.prototype.collect=function(t,r){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(mle)):this.getCacheSize(t).next(function(s){return s<i.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),mle):i.fe(t,r)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,r){var i,s,u,d,v,g,w,S=this,C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(A){return A>S.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+S.params.maximumSequenceNumbersToCollect+" from "+A),s=S.params.maximumSequenceNumbersToCollect):s=A,d=Date.now(),S.nthSequenceNumber(t,s)}).next(function(A){return i=A,v=Date.now(),S.removeTargets(t,i,r)}).next(function(A){return u=A,g=Date.now(),S.removeOrphanedDocuments(t,i)}).next(function(A){return w=Date.now(),mz()<=br.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(d-C)+`ms
	Determined least recently used `+s+" in "+(v-d)+`ms
	Removed `+u+" targets in "+(g-v)+`ms
	Removed `+A+" documents in "+(w-g)+`ms
Total Duration: `+(w-C)+"ms"),yt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:A})})},e}(),k4e=function(){function e(t,r){this.db=t,this.garbageCollector=function(i,s){return new C4e(i,s)}(this,r)}return e.prototype.he=function(t){var r=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return r.next(function(s){return i+s})})},e.prototype.de=function(t){var r=0;return this.le(t,function(i){r++}).next(function(){return r})},e.prototype.forEachTarget=function(t,r){return this.db.getTargetCache().forEachTarget(t,r)},e.prototype.le=function(t,r){return this.we(t,function(i,s){return r(s)})},e.prototype.addReference=function(t,r,i){return lF(t,i)},e.prototype.removeReference=function(t,r,i){return lF(t,i)},e.prototype.removeTargets=function(t,r,i){return this.db.getTargetCache().removeTargets(t,r,i)},e.prototype.markPotentiallyOrphaned=function(t,r){return lF(t,r)},e.prototype._e=function(t,r){return function(i,s){var u=!1;return V0e(i).Ot(function(d){return $0e(i,d,s).next(function(v){return v&&(u=!0),yt.resolve(!v)})}).next(function(){return u})}(t,r)},e.prototype.removeOrphanedDocuments=function(t,r){var i=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],d=0;return this.we(t,function(v,g){if(g<=r){var w=i._e(t,v).next(function(S){if(!S)return d++,s.getEntry(t,v).next(function(){return s.removeEntry(v),zg(t).delete([0,_f(v.path)])})});u.push(w)}}).next(function(){return yt.waitFor(u)}).next(function(){return s.apply(t)}).next(function(){return d})},e.prototype.removeTarget=function(t,r){var i=r.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,r){return lF(t,r)},e.prototype.we=function(t,r){var i,s=zg(t),u=dl.o;return s.$t({index:ca.documentTargetsIndex},function(d,v){var g=d[0];d[1];var w=v.path,S=v.sequenceNumber;g===0?(u!==dl.o&&r(new en(jv(i)),u),u=S,i=w):u=dl.o}).next(function(){u!==dl.o&&r(new en(jv(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function lF(e,t){return zg(e).put(function(r,i){return new ca(0,_f(r.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dI=function(){function e(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={}}return e.prototype.get=function(t){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0)for(var s=0,u=i;s<u.length;s++){var d=u[s],v=d[0],g=d[1];if(this.equalsFn(v,t))return g}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,r){var i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(var u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return void(s[u]=[t,r]);s.push([t,r])}else this.inner[i]=[[t,r]]},e.prototype.delete=function(t){var r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return!1;for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[r]:i.splice(s,1),!0;return!1},e.prototype.forEach=function(t){i_(this.inner,function(r,i){for(var s=0,u=i;s<u.length;s++){var d=u[s],v=d[0],g=d[1];t(v,g)}})},e.prototype.isEmpty=function(){return t0e(this.inner)},e}(),q0e=function(){function e(){this.changes=new dI(function(t){return t.toString()},function(t,r){return t.isEqual(r)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var r=this.changes.get(t);return r?r.readTime:Hn.min()},e.prototype.addEntry=function(t,r){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:r})},e.prototype.removeEntry=function(t,r){r===void 0&&(r=null),this.assertNotApplied(),this.changes.set(t,{document:Ya.newInvalidDocument(t),readTime:r})},e.prototype.getEntry=function(t,r){this.assertNotApplied();var i=this.changes.get(r);return i!==void 0?yt.resolve(i.document):this.getFromCache(t,r)},e.prototype.getEntries=function(t,r){return this.getAllFromCache(t,r)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),A4e=function(){function e(t,r){this.R=t,this.Ut=r}return e.prototype.addEntry=function(t,r,i){return $g(t).put(hF(r),i)},e.prototype.removeEntry=function(t,r){var i=$g(t),s=hF(r);return i.delete(s)},e.prototype.updateMetadata=function(t,r){var i=this;return this.getMetadata(t).next(function(s){return s.byteSize+=r,i.me(t,s)})},e.prototype.getEntry=function(t,r){var i=this;return $g(t).get(hF(r)).next(function(s){return i.ye(r,s)})},e.prototype.ge=function(t,r){var i=this;return $g(t).get(hF(r)).next(function(s){return{document:i.ye(r,s),size:o4(s)}})},e.prototype.getEntries=function(t,r){var i=this,s=wf();return this.pe(t,r,function(u,d){var v=i.ye(u,d);s=s.insert(u,v)}).next(function(){return s})},e.prototype.Ee=function(t,r){var i=this,s=wf(),u=new Ja(en.comparator);return this.pe(t,r,function(d,v){var g=i.ye(d,v);s=s.insert(d,g),u=u.insert(d,o4(v))}).next(function(){return{documents:s,Te:u}})},e.prototype.pe=function(t,r,i){if(r.isEmpty())return yt.resolve();var s=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),u=r.getIterator(),d=u.getNext();return $g(t).$t({range:s},function(v,g,w){for(var S=en.fromSegments(v);d&&en.comparator(d,S)<0;)i(d,null),d=u.getNext();d&&d.isEqual(S)&&(i(d,g),d=u.hasNext()?u.getNext():null),d?w.Ct(d.path.toArray()):w.done()}).next(function(){for(;d;)i(d,null),d=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,r,i){var s=this,u=wf(),d=r.path.length+1,v={};if(i.isEqual(Hn.min())){var g=r.path.toArray();v.range=IDBKeyRange.lowerBound(g)}else{var w=r.path.toArray(),S=rG(i);v.range=IDBKeyRange.lowerBound([w,S],!0),v.index=Qi.collectionReadTimeIndex}return $g(t).$t(v,function(C,A,L){if(C.length===d){var M=Sz(s.R,A);r.path.isPrefixOf(M.key.path)?OP(r,M)&&(u=u.insert(M.key,M)):L.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new x4e(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(r){return r.byteSize})},e.prototype.getMetadata=function(t){return ble(t).get(Gd.key).next(function(r){return wn(!!r),r})},e.prototype.me=function(t,r){return ble(t).put(Gd.key,r)},e.prototype.ye=function(t,r){if(r){var i=Sz(this.R,r);if(!i.isNoDocument()||!i.version.isEqual(Hn.min()))return i}return Ya.newInvalidDocument(t)},e}(),x4e=function(e){function t(r,i){var s=this;return(s=e.call(this)||this).Ie=r,s.trackRemovals=i,s.Ae=new dI(function(u){return u.toString()},function(u,d){return u.isEqual(d)}),s}return on(t,e),t.prototype.applyChanges=function(r){var i=this,s=[],u=0,d=new ts(function(v,g){return er(v.canonicalString(),g.canonicalString())});return this.changes.forEach(function(v,g){var w=i.Ae.get(v);if(g.document.isValidDocument()){var S=fle(i.Ie.R,g.document,i.getReadTime(v));d=d.add(v.path.popLast());var C=o4(S);u+=C-w,s.push(i.Ie.addEntry(r,v,S))}else if(u-=w,i.trackRemovals){var A=fle(i.Ie.R,Ya.newNoDocument(v,Hn.min()),i.getReadTime(v));s.push(i.Ie.addEntry(r,v,A))}else s.push(i.Ie.removeEntry(r,v))}),d.forEach(function(v){s.push(i.Ie.Ut.addToCollectionParentIndex(r,v))}),s.push(this.Ie.updateMetadata(r,u)),yt.waitFor(s)},t.prototype.getFromCache=function(r,i){var s=this;return this.Ie.ge(r,i).next(function(u){return s.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(r,i){var s=this;return this.Ie.Ee(r,i).next(function(u){var d=u.documents;return u.Te.forEach(function(v,g){s.Ae.set(v,g)}),d})},t}(q0e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(e){return Cc(e,Gd.store)}function $g(e){return Cc(e,Qi.store)}function hF(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O4e=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,r,i,s){var u=this;wn(i<s&&i>=0&&s<=11);var d=new D0e("createOrUpgrade",r);i<1&&s>=1&&(function(g){g.createObjectStore(ul.store)}(t),function(g){g.createObjectStore(ly.store,{keyPath:ly.keyPath}),g.createObjectStore(vi.store,{keyPath:vi.keyPath,autoIncrement:!0}).createIndex(vi.userMutationsIndex,vi.userMutationsKeyPath,{unique:!0}),g.createObjectStore(Va.store)}(t),wle(t),function(g){g.createObjectStore(Qi.store)}(t));var v=yt.resolve();return i<3&&s>=3&&(i!==0&&(function(g){g.deleteObjectStore(ca.store),g.deleteObjectStore(mc.store),g.deleteObjectStore(cl.store)}(t),wle(t)),v=v.next(function(){return function(g){var w=g.store(cl.store),S=new cl(0,0,Hn.min().toTimestamp(),0);return w.put(cl.key,S)}(d)})),i<4&&s>=4&&(i!==0&&(v=v.next(function(){return function(g,w){return w.store(vi.store).Nt().next(function(S){g.deleteObjectStore(vi.store),g.createObjectStore(vi.store,{keyPath:vi.keyPath,autoIncrement:!0}).createIndex(vi.userMutationsIndex,vi.userMutationsKeyPath,{unique:!0});var C=w.store(vi.store),A=S.map(function(L){return C.put(L)});return yt.waitFor(A)})}(t,d)})),v=v.next(function(){(function(g){g.createObjectStore(Vv.store,{keyPath:Vv.keyPath})})(t)})),i<5&&s>=5&&(v=v.next(function(){return u.Re(d)})),i<6&&s>=6&&(v=v.next(function(){return function(g){g.createObjectStore(Gd.store)}(t),u.be(d)})),i<7&&s>=7&&(v=v.next(function(){return u.ve(d)})),i<8&&s>=8&&(v=v.next(function(){return u.Pe(t,d)})),i<9&&s>=9&&(v=v.next(function(){(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t),function(g){var w=g.objectStore(Qi.store);w.createIndex(Qi.readTimeIndex,Qi.readTimeIndexPath,{unique:!1}),w.createIndex(Qi.collectionReadTimeIndex,Qi.collectionReadTimeIndexPath,{unique:!1})}(r)})),i<10&&s>=10&&(v=v.next(function(){return u.Ve(d)})),i<11&&s>=11&&(v=v.next(function(){(function(g){g.createObjectStore(VT.store,{keyPath:VT.keyPath})})(t),function(g){g.createObjectStore(qT.store,{keyPath:qT.keyPath})}(t)})),v},e.prototype.be=function(t){var r=0;return t.store(Qi.store).$t(function(i,s){r+=o4(s)}).next(function(){var i=new Gd(r);return t.store(Gd.store).put(Gd.key,i)})},e.prototype.Re=function(t){var r=this,i=t.store(ly.store),s=t.store(vi.store);return i.Nt().next(function(u){return yt.forEach(u,function(d){var v=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Nt(vi.userMutationsIndex,v).next(function(g){return yt.forEach(g,function(w){wn(w.userId===d.userId);var S=QS(r.R,w);return U0e(t,d.userId,S).next(function(){})})})})})},e.prototype.ve=function(t){var r=t.store(ca.store),i=t.store(Qi.store);return t.store(cl.store).get(cl.key).next(function(s){var u=[];return i.$t(function(d,v){var g=new Tr(d),w=function(S){return[0,_f(S)]}(g);u.push(r.get(w).next(function(S){return S?yt.resolve():function(C){return r.put(new ca(0,_f(C),s.highestListenSequenceNumber))}(g)}))}).next(function(){return yt.waitFor(u)})})},e.prototype.Pe=function(t,r){t.createObjectStore(Ow.store,{keyPath:Ow.keyPath});var i=r.store(Ow.store),s=new iG,u=function(d){if(s.add(d)){var v=d.lastSegment(),g=d.popLast();return i.put({collectionId:v,parent:_f(g)})}};return r.store(Qi.store).$t({Ft:!0},function(d,v){var g=new Tr(d);return u(g.popLast())}).next(function(){return r.store(Va.store).$t({Ft:!0},function(d,v){d[0];var g=d[1];d[2];var w=jv(g);return u(w.popLast())})})},e.prototype.Ve=function(t){var r=this,i=t.store(mc.store);return i.$t(function(s,u){var d=wO(u),v=F0e(r.R,d);return i.put(v)})},e}();function wle(e){e.createObjectStore(ca.store,{keyPath:ca.keyPath}).createIndex(ca.documentTargetsIndex,ca.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(mc.store,{keyPath:mc.keyPath}).createIndex(mc.queryTargetsIndexName,mc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(cl.store)}var T9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",N4e=function(){function e(t,r,i,s,u,d,v,g,w,S){if(this.allowTabSynchronization=t,this.persistenceKey=r,this.clientId=i,this.Se=u,this.window=d,this.document=v,this.De=w,this.Ce=S,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(C){return Promise.resolve()},!e.yt())throw new pt(Ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new k4e(this,s),this.Le=r+"main",this.R=new L0e(g),this.Be=new BT(this.Le,11,new O4e(this.R)),this.qe=new S4e(this.referenceDelegate,this.R),this.Ut=new _4e,this.Ue=function(C,A){return new A4e(C,A)}(this.R,this.Ut),this.Ke=new b4e,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,S===!1&&Ro("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new pt(Ve.FAILED_PRECONDITION,T9);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(r){return t.qe.getHighestSequenceNumber(r)})}).then(function(r){t.Ne=new dl(r,t.De)}).then(function(){t.xe=!0}).catch(function(r){return t.Be&&t.Be.close(),Promise.reject(r)})},e.prototype.He=function(t){var r=this;return this.Me=function(i){return tt(r,void 0,void 0,function(){return et(this,function(s){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var r=this;this.Be.vt(function(i){return tt(r,void 0,void 0,function(){return et(this,function(s){switch(s.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var r=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return tt(r,void 0,void 0,function(){return et(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(r){return fF(r).put(new Vv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(r).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(r)}).next(function(i){return t.isPrimary&&!i?t.Xe(r).next(function(){return!1}):!!i&&t.Ze(r).next(function(){return!0})})}).catch(function(r){if(s_(r))return It("IndexedDbPersistence","Failed to extend owner lease: ",r),t.isPrimary;if(!t.allowTabSynchronization)throw r;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(function(r){t.isPrimary!==r&&t.Se.enqueueRetryable(function(){return t.Me(r)}),t.isPrimary=r})},e.prototype.Je=function(t){var r=this;return eO(t).get(ul.key).next(function(i){return yt.resolve(r.tn(i))})},e.prototype.en=function(t){return fF(t).delete(this.clientId)},e.prototype.nn=function(){return tt(this,void 0,void 0,function(){var t,r,i,s,u=this;return et(this,function(d){switch(d.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(v){var g=Cc(v,Vv.store);return g.Nt().next(function(w){var S=u.rn(w,18e5),C=w.filter(function(A){return S.indexOf(A)===-1});return yt.forEach(C,function(A){return g.delete(A.clientId)}).next(function(){return C})})}).catch(function(){return[]})]);case 1:if(t=d.sent(),this.Qe)for(r=0,i=t;r<i.length;r++)s=i[r],this.Qe.removeItem(this.on(s.clientId));d.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var r=this;return this.Ce?yt.resolve(!0):eO(t).get(ul.key).next(function(i){if(i!==null&&r.sn(i.leaseTimestampMs,5e3)&&!r.cn(i.ownerId)){if(r.tn(i)&&r.networkEnabled)return!0;if(!r.tn(i)){if(!i.allowTabSynchronization)throw new pt(Ve.FAILED_PRECONDITION,T9);return!1}}return!(!r.networkEnabled||!r.inForeground)||fF(t).Nt().next(function(s){return r.rn(s,5e3).find(function(u){if(r.clientId!==u.clientId){var d=!r.networkEnabled&&u.networkEnabled,v=!r.inForeground&&u.inForeground,g=r.networkEnabled===u.networkEnabled;if(d||v&&g)return!0}return!1})===void 0})}).next(function(i){return r.isPrimary!==i&&It("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return tt(this,void 0,void 0,function(){var t=this;return et(this,function(r){switch(r.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ul.store,Vv.store],function(i){var s=new hle(i,dl.o);return t.Xe(s).next(function(){return t.en(s)})})];case 1:return r.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,r){var i=this;return t.filter(function(s){return i.sn(s.updateTimeMs,r)&&!i.cn(s.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(r){return fF(r).Nt().next(function(i){return t.rn(i,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return E4e.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,r,i){var s=this;It("IndexedDbPersistence","Starting transaction:",t);var u,d=r==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,d,v4e,function(v){return u=new hle(v,s.Ne?s.Ne.next():dl.o),r==="readwrite-primary"?s.Je(u).next(function(g){return!!g||s.Ye(u)}).next(function(g){if(!g)throw Ro("Failed to obtain primary lease for action '"+t+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new pt(Ve.FAILED_PRECONDITION,P0e);return i(u)}).next(function(g){return s.Ze(u).next(function(){return g})}):s.dn(u).next(function(){return i(u)})}).then(function(v){return u.raiseOnCommittedEvent(),v})},e.prototype.dn=function(t){var r=this;return eO(t).get(ul.key).next(function(i){if(i!==null&&r.sn(i.leaseTimestampMs,5e3)&&!r.cn(i.ownerId)&&!r.tn(i)&&!(r.Ce||r.allowTabSynchronization&&i.allowTabSynchronization))throw new pt(Ve.FAILED_PRECONDITION,T9)})},e.prototype.Ze=function(t){var r=new ul(this.clientId,this.allowTabSynchronization,Date.now());return eO(t).put(ul.key,r)},e.yt=function(){return BT.yt()},e.prototype.Xe=function(t){var r=this,i=eO(t);return i.get(ul.key).next(function(s){return r.tn(s)?(It("IndexedDbPersistence","Releasing primary lease."),i.delete(ul.key)):yt.resolve()})},e.prototype.sn=function(t,r){var i=Date.now();return!(t<i-r||t>i&&(Ro("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,r=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){r.un(),jMe()&&navigator.appVersion.match("Version/14")&&r.Se.enterRestrictedMode(!0),r.Se.enqueueAndForget(function(){return r.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var r;try{var i=((r=this.Qe)===null||r===void 0?void 0:r.getItem(this.on(t)))!==null;return It("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(s){return Ro("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ro("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function eO(e){return Cc(e,ul.store)}function fF(e){return Cc(e,Vv.store)}function oG(e,t){var r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}var B0e=function(){function e(t,r,i){this.Ue=t,this._n=r,this.Ut=i}return e.prototype.mn=function(t,r){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,r).next(function(s){return i.yn(t,r,s)})},e.prototype.yn=function(t,r,i){return this.Ue.getEntry(t,r).next(function(s){for(var u=0,d=i;u<d.length;u++)d[u].applyToLocalView(s);return s})},e.prototype.gn=function(t,r){t.forEach(function(i,s){for(var u=0,d=r;u<d.length;u++)d[u].applyToLocalView(s)})},e.prototype.pn=function(t,r){var i=this;return this.Ue.getEntries(t,r).next(function(s){return i.En(t,s).next(function(){return s})})},e.prototype.En=function(t,r){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,r).next(function(s){return i.gn(r,s)})},e.prototype.getDocumentsMatchingQuery=function(t,r,i){return function(s){return en.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.Tn(t,r.path):YW(r)?this.In(t,r,i):this.An(t,r,i)},e.prototype.Tn=function(t,r){return this.mn(t,new en(r)).next(function(i){var s=_z();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})},e.prototype.In=function(t,r,i){var s=this,u=r.collectionGroup,d=_z();return this.Ut.getCollectionParents(t,u).next(function(v){return yt.forEach(v,function(g){var w=function(S,C){return new Qv(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(r,g.child(u));return s.An(t,w,i).next(function(S){S.forEach(function(C,A){d=d.insert(C,A)})})}).next(function(){return d})})},e.prototype.An=function(t,r,i){var s,u,d=this;return this.Ue.getDocumentsMatchingQuery(t,r,i).next(function(v){return s=v,d._n.getAllMutationBatchesAffectingQuery(t,r)}).next(function(v){return u=v,d.Rn(t,u,s).next(function(g){s=g;for(var w=0,S=u;w<S.length;w++)for(var C=S[w],A=0,L=C.mutations;A<L.length;A++){var M=L[A],U=M.key,R=s.get(U);R==null&&(R=Ya.newInvalidDocument(U),s=s.insert(U,R)),wz(M,R,C.localWriteTime),R.isFoundDocument()||(s=s.remove(U))}})}).next(function(){return s.forEach(function(v,g){OP(r,g)||(s=s.remove(v))}),s})},e.prototype.Rn=function(t,r,i){for(var s=oi(),u=0,d=r;u<d.length;u++)for(var v=0,g=d[u].mutations;v<g.length;v++){var w=g[v];w instanceof xy&&i.get(w.key)===null&&(s=s.add(w.key))}var S=i;return this.Ue.getEntries(t,s).next(function(C){return C.forEach(function(A,L){L.isFoundDocument()&&(S=S.insert(A,L))}),S})},e}(),P4e=function(){function e(t,r,i,s){this.targetId=t,this.fromCache=r,this.bn=i,this.vn=s}return e.Pn=function(t,r){for(var i=oi(),s=oi(),u=0,d=r.docChanges;u<d.length;u++){var v=d[u];switch(v.type){case 0:i=i.add(v.doc.key);break;case 1:s=s.add(v.doc.key)}}return new e(t,r.fromCache,i,s)},e}(),H0e=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,r,i,s){var u=this;return function(d){return d.filters.length===0&&d.limit===null&&d.startAt==null&&d.endAt==null&&(d.explicitOrderBy.length===0||d.explicitOrderBy.length===1&&d.explicitOrderBy[0].field.isKeyField())}(r)||i.isEqual(Hn.min())?this.Dn(t,r):this.Sn.pn(t,s).next(function(d){var v=u.Cn(r,d);return(GF(r)||r4(r))&&u.Nn(r.limitType,v,s,i)?u.Dn(t,r):(mz()<=br.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bz(r)),u.Sn.getDocumentsMatchingQuery(t,r,i).next(function(g){return v.forEach(function(w){g=g.insert(w.key,w)}),g}))})},e.prototype.Cn=function(t,r){var i=new ts(l0e(t));return r.forEach(function(s,u){OP(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,r,i,s){if(i.size!==r.size)return!0;var u=t==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)},e.prototype.Dn=function(t,r){return mz()<=br.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",bz(r)),this.Sn.getDocumentsMatchingQuery(t,r,Hn.min())},e}(),R4e=function(){function e(t,r,i,s){this.persistence=t,this.xn=r,this.R=s,this.kn=new Ja(er),this.Fn=new dI(function(u){return kP(u)},Rj),this.$n=Hn.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new B0e(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var r=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,r.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0e(e,t,r,i){return new R4e(e,t,r,i)}function K0e(e,t){return tt(this,void 0,void 0,function(){var r,i,s,u;return et(this,function(d){switch(d.label){case 0:return r=Rt(e),i=r._n,s=r.Mn,[4,r.persistence.runTransaction("Handle user change","readonly",function(v){var g;return r._n.getAllMutationBatches(v).next(function(w){return g=w,i=r.persistence.getMutationQueue(t),s=new B0e(r.On,i,r.persistence.getIndexManager()),i.getAllMutationBatches(v)}).next(function(w){for(var S=[],C=[],A=oi(),L=0,M=g;L<M.length;L++){var U=M[L];S.push(U.batchId);for(var R=0,$=U.mutations;R<$.length;R++){var B=$[R];A=A.add(B.key)}}for(var G=0,H=w;G<H.length;G++){var Z=H[G];C.push(Z.batchId);for(var Y=0,ce=Z.mutations;Y<ce.length;Y++){var ye=ce[Y];A=A.add(ye.key)}}return s.pn(v,A).next(function(xe){return{Ln:xe,removedBatchIds:S,addedBatchIds:C}})})})];case 1:return u=d.sent(),[2,(r._n=i,r.Mn=s,r.xn.Vn(r.Mn),u)]}})})}function D4e(e,t){var r=Rt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var s=t.batch.keys(),u=r.On.newChangeBuffer({trackRemovals:!0});return function(d,v,g,w){var S=g.batch,C=S.keys(),A=yt.resolve();return C.forEach(function(L){A=A.next(function(){return w.getEntry(v,L)}).next(function(M){var U=g.docVersions.get(L);wn(U!==null),M.version.compareTo(U)<0&&(S.applyToRemoteDocument(M,g),M.isValidDocument()&&w.addEntry(M,g.commitVersion))})}),A.next(function(){return d._n.removeMutationBatch(v,S)})}(r,i,t,u).next(function(){return u.apply(i)}).next(function(){return r._n.performConsistencyCheck(i)}).next(function(){return r.Mn.pn(i,s)})})}function W0e(e){var t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(r){return t.qe.getLastRemoteSnapshotVersion(r)})}function L4e(e,t){var r=Rt(e),i=t.snapshotVersion,s=r.kn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var d=r.On.newChangeBuffer({trackRemovals:!0});s=r.kn;var v=[];t.targetChanges.forEach(function(S,C){var A=s.get(C);if(A){v.push(r.qe.removeMatchingKeys(u,S.removedDocuments,C).next(function(){return r.qe.addMatchingKeys(u,S.addedDocuments,C)}));var L=S.resumeToken;if(L.approximateByteSize()>0){var M=A.withResumeToken(L,i).withSequenceNumber(u.currentSequenceNumber);s=s.insert(C,M),function(U,R,$){return wn(R.resumeToken.approximateByteSize()>0),U.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,M,S)&&v.push(r.qe.updateTargetData(u,M))}}});var g=wf();if(t.documentUpdates.forEach(function(S,C){t.resolvedLimboDocuments.has(S)&&v.push(r.persistence.referenceDelegate.updateLimboDocument(u,S))}),v.push(M4e(u,d,t.documentUpdates,i,void 0).next(function(S){g=S})),!i.isEqual(Hn.min())){var w=r.qe.getLastRemoteSnapshotVersion(u).next(function(S){return r.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});v.push(w)}return yt.waitFor(v).next(function(){return d.apply(u)}).next(function(){return r.Mn.En(u,g)}).next(function(){return g})}).then(function(u){return r.kn=s,u})}function M4e(e,t,r,i,s){var u=oi();return r.forEach(function(d){return u=u.add(d)}),t.getEntries(e,u).next(function(d){var v=wf();return r.forEach(function(g,w){var S=d.get(g),C=(s==null?void 0:s.get(g))||i;w.isNoDocument()&&w.version.isEqual(Hn.min())?(t.removeEntry(g,C),v=v.insert(g,w)):!S.isValidDocument()||w.version.compareTo(S.version)>0||w.version.compareTo(S.version)===0&&S.hasPendingWrites?(t.addEntry(w,C),v=v.insert(g,w)):It("LocalStore","Ignoring outdated watch update for ",g,". Current version:",S.version," Watch version:",w.version)}),v})}function F4e(e,t){var r=Rt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),r._n.getNextMutationBatchAfterBatchId(i,t)})}function a4(e,t){var r=Rt(e);return r.persistence.runTransaction("Allocate target","readwrite",function(i){var s;return r.qe.getTargetData(i,t).next(function(u){return u?(s=u,yt.resolve(s)):r.qe.allocateTargetId(i).next(function(d){return s=new Fj(t,d,0,i.currentSequenceNumber),r.qe.addTargetData(i,s).next(function(){return s})})})}).then(function(i){var s=r.kn.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.kn=r.kn.insert(i.targetId,i),r.Fn.set(t,i.targetId)),i})}function KT(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d;return et(this,function(v){switch(v.label){case 0:i=Rt(e),s=i.kn.get(t),u=r?"readwrite":"readwrite-primary",v.label=1;case 1:return v.trys.push([1,4,,5]),r?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(g){return i.persistence.referenceDelegate.removeTarget(g,s)})];case 2:v.sent(),v.label=3;case 3:return[3,5];case 4:if(!s_(d=v.sent()))throw d;return It("LocalStore","Failed to update sequence numbers for target "+t+": "+d),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(s.target),[2]}})})}function u4(e,t,r){var i=Rt(e),s=Hn.min(),u=oi();return i.persistence.runTransaction("Execute query","readonly",function(d){return function(v,g,w){var S=Rt(v),C=S.Fn.get(w);return C!==void 0?yt.resolve(S.kn.get(C)):S.qe.getTargetData(g,w)}(i,d,ip(t)).next(function(v){if(v)return s=v.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(d,v.targetId).next(function(g){u=g})}).next(function(){return i.xn.getDocumentsMatchingQuery(d,t,r?s:Hn.min(),r?u:oi())}).next(function(v){return{documents:v,Bn:u}})})}function G0e(e,t){var r=Rt(e),i=Rt(r.qe),s=r.kn.get(t);return s?Promise.resolve(s.target):r.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(d){return d?d.target:null})})}function Q0e(e){var t=Rt(e);return t.persistence.runTransaction("Get new document changes","readonly",function(r){return function(i,s,u){var d=Rt(i),v=wf(),g=rG(u),w=$g(s),S=IDBKeyRange.lowerBound(g,!0);return w.$t({index:Qi.readTimeIndex,range:S},function(C,A){var L=Sz(d.R,A);v=v.insert(L.key,L),g=A.readTime}).next(function(){return{wn:v,readTime:M0e(g)}})}(t.On,r,t.$n)}).then(function(r){var i=r.wn,s=r.readTime;return t.$n=s,i})}function j4e(e){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){return[2,(t=Rt(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(s){var u=$g(s),d=Hn.min();return u.$t({index:Qi.readTimeIndex,reverse:!0},function(v,g,w){g.readTime&&(d=M0e(g.readTime)),w.done()}).next(function(){return d})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U4e=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,r){return yt.resolve(this.Qn.get(r))},e.prototype.saveBundleMetadata=function(t,r){var i;return this.Qn.set(r.id,{id:(i=r).id,version:i.version,createTime:Ru(i.createTime)}),yt.resolve()},e.prototype.getNamedQuery=function(t,r){return yt.resolve(this.jn.get(r))},e.prototype.saveNamedQuery=function(t,r){return this.jn.set(r.name,function(i){return{name:i.name,query:j0e(i.bundledQuery),readTime:Ru(i.readTime)}}(r)),yt.resolve()},e}(),sG=function(){function e(){this.Wn=new ts(Es.Gn),this.zn=new ts(Es.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,r){var i=new Es(t,r);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,r){var i=this;t.forEach(function(s){return i.addReference(s,r)})},e.prototype.removeReference=function(t,r){this.Yn(new Es(t,r))},e.prototype.Xn=function(t,r){var i=this;t.forEach(function(s){return i.removeReference(s,r)})},e.prototype.Zn=function(t){var r=this,i=new en(new Tr([])),s=new Es(i,t),u=new Es(i,t+1),d=[];return this.zn.forEachInRange([s,u],function(v){r.Yn(v),d.push(v.key)}),d},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(r){return t.Yn(r)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var r=new en(new Tr([])),i=new Es(r,t),s=new Es(r,t+1),u=oi();return this.zn.forEachInRange([i,s],function(d){u=u.add(d.key)}),u},e.prototype.containsKey=function(t){var r=new Es(t,0),i=this.Wn.firstAfterOrEqual(r);return i!==null&&t.isEqual(i.key)},e}(),Es=function(){function e(t,r){this.key=t,this.ns=r}return e.Gn=function(t,r){return en.comparator(t.key,r.key)||er(t.ns,r.ns)},e.Hn=function(t,r){return er(t.ns,r.ns)||en.comparator(t.key,r.key)},e}(),$4e=function(){function e(t,r){this.Ut=t,this.referenceDelegate=r,this._n=[],this.ss=1,this.rs=new ts(Es.Gn)}return e.prototype.checkEmpty=function(t){return yt.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,r,i,s){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var d=new nG(u,r,i,s);this._n.push(d);for(var v=0,g=s;v<g.length;v++){var w=g[v];this.rs=this.rs.add(new Es(w.key,u)),this.Ut.addToCollectionParentIndex(t,w.key.path.popLast())}return yt.resolve(d)},e.prototype.lookupMutationBatch=function(t,r){return yt.resolve(this.os(r))},e.prototype.getNextMutationBatchAfterBatchId=function(t,r){var i=r+1,s=this.cs(i),u=s<0?0:s;return yt.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return yt.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return yt.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,r){var i=this,s=new Es(r,0),u=new Es(r,Number.POSITIVE_INFINITY),d=[];return this.rs.forEachInRange([s,u],function(v){var g=i.os(v.ns);d.push(g)}),yt.resolve(d)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,r){var i=this,s=new ts(er);return r.forEach(function(u){var d=new Es(u,0),v=new Es(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([d,v],function(g){s=s.add(g.ns)})}),yt.resolve(this.us(s))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,r){var i=r.path,s=i.length+1,u=i;en.isDocumentKey(u)||(u=u.child(""));var d=new Es(new en(u),0),v=new ts(er);return this.rs.forEachWhile(function(g){var w=g.key.path;return!!i.isPrefixOf(w)&&(w.length===s&&(v=v.add(g.ns)),!0)},d),yt.resolve(this.us(v))},e.prototype.us=function(t){var r=this,i=[];return t.forEach(function(s){var u=r.os(s);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,r){var i=this;wn(this.hs(r.batchId,"removed")===0),this._n.shift();var s=this.rs;return yt.forEach(r.mutations,function(u){var d=new Es(u.key,r.batchId);return s=s.delete(d),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=s})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,r){var i=new Es(r,0),s=this.rs.firstAfterOrEqual(i);return yt.resolve(r.isEqual(s&&s.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,yt.resolve()},e.prototype.hs=function(t,r){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var r=this.cs(t);return r<0||r>=this._n.length?null:this._n[r]},e}(),V4e=function(){function e(t,r){this.Ut=t,this.ls=r,this.docs=new Ja(en.comparator),this.size=0}return e.prototype.addEntry=function(t,r,i){var s=r.key,u=this.docs.get(s),d=u?u.size:0,v=this.ls(r);return this.docs=this.docs.insert(s,{document:r.clone(),size:v,readTime:i}),this.size+=v-d,this.Ut.addToCollectionParentIndex(t,s.path.popLast())},e.prototype.removeEntry=function(t){var r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)},e.prototype.getEntry=function(t,r){var i=this.docs.get(r);return yt.resolve(i?i.document.clone():Ya.newInvalidDocument(r))},e.prototype.getEntries=function(t,r){var i=this,s=wf();return r.forEach(function(u){var d=i.docs.get(u);s=s.insert(u,d?d.document.clone():Ya.newInvalidDocument(u))}),yt.resolve(s)},e.prototype.getDocumentsMatchingQuery=function(t,r,i){for(var s=wf(),u=new en(r.path.child("")),d=this.docs.getIteratorFrom(u);d.hasNext();){var v=d.getNext(),g=v.key,w=v.value,S=w.document,C=w.readTime;if(!r.path.isPrefixOf(g.path))break;C.compareTo(i)<=0||OP(r,S)&&(s=s.insert(S.key,S.clone()))}return yt.resolve(s)},e.prototype.fs=function(t,r){return yt.forEach(this.docs,function(i){return r(i)})},e.prototype.newChangeBuffer=function(t){return new q4e(this)},e.prototype.getSize=function(t){return yt.resolve(this.size)},e}(),q4e=function(e){function t(r){var i=this;return(i=e.call(this)||this).Ie=r,i}return on(t,e),t.prototype.applyChanges=function(r){var i=this,s=[];return this.changes.forEach(function(u,d){d.document.isValidDocument()?s.push(i.Ie.addEntry(r,d.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),yt.waitFor(s)},t.prototype.getFromCache=function(r,i){return this.Ie.getEntry(r,i)},t.prototype.getAllFromCache=function(r,i){return this.Ie.getEntries(r,i)},t}(q0e),B4e=function(){function e(t){this.persistence=t,this.ds=new dI(function(r){return kP(r)},Rj),this.lastRemoteSnapshotVersion=Hn.min(),this.highestTargetId=0,this.ws=0,this._s=new sG,this.targetCount=0,this.ys=s4.Jt()}return e.prototype.forEachTarget=function(t,r){return this.ds.forEach(function(i,s){return r(s)}),yt.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return yt.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return yt.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),yt.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,r,i){return i&&(this.lastRemoteSnapshotVersion=i),r>this.ws&&(this.ws=r),yt.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var r=t.targetId;r>this.highestTargetId&&(this.ys=new s4(r),this.highestTargetId=r),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,r){return this.te(r),this.targetCount+=1,yt.resolve()},e.prototype.updateTargetData=function(t,r){return this.te(r),yt.resolve()},e.prototype.removeTargetData=function(t,r){return this.ds.delete(r.target),this._s.Zn(r.targetId),this.targetCount-=1,yt.resolve()},e.prototype.removeTargets=function(t,r,i){var s=this,u=0,d=[];return this.ds.forEach(function(v,g){g.sequenceNumber<=r&&i.get(g.targetId)===null&&(s.ds.delete(v),d.push(s.removeMatchingKeysForTargetId(t,g.targetId)),u++)}),yt.waitFor(d).next(function(){return u})},e.prototype.getTargetCount=function(t){return yt.resolve(this.targetCount)},e.prototype.getTargetData=function(t,r){var i=this.ds.get(r)||null;return yt.resolve(i)},e.prototype.addMatchingKeys=function(t,r,i){return this._s.Jn(r,i),yt.resolve()},e.prototype.removeMatchingKeys=function(t,r,i){this._s.Xn(r,i);var s=this.persistence.referenceDelegate,u=[];return s&&r.forEach(function(d){u.push(s.markPotentiallyOrphaned(t,d))}),yt.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,r){return this._s.Zn(r),yt.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,r){var i=this._s.es(r);return yt.resolve(i)},e.prototype.containsKey=function(t,r){return yt.resolve(this._s.containsKey(r))},e}(),H4e=function(){function e(t,r){var i=this;this.gs={},this.Ne=new dl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new B4e(this),this.Ut=new w4e,this.Ue=function(s,u){return new V4e(s,function(d){return i.referenceDelegate.ps(d)})}(this.Ut),this.R=new L0e(r),this.Ke=new U4e(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var r=this.gs[t.toKey()];return r||(r=new $4e(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=r),r},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,r,i){var s=this;It("MemoryPersistence","Starting transaction:",t);var u=new z4e(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(d){return s.referenceDelegate.Ts(u).next(function(){return d})}).toPromise().then(function(d){return u.raiseOnCommittedEvent(),d})},e.prototype.Is=function(t,r){return yt.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,r)}}))},e}(),z4e=function(e){function t(r){var i=this;return(i=e.call(this)||this).currentSequenceNumber=r,i}return on(t,e),t}(R0e),K4e=function(){function e(t){this.persistence=t,this.As=new sG,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Yt()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,r,i){return this.As.addReference(i,r),this.vs.delete(i.toString()),yt.resolve()},e.prototype.removeReference=function(t,r,i){return this.As.removeReference(i,r),this.vs.add(i.toString()),yt.resolve()},e.prototype.markPotentiallyOrphaned=function(t,r){return this.vs.add(r.toString()),yt.resolve()},e.prototype.removeTarget=function(t,r){var i=this;this.As.Zn(r.targetId).forEach(function(u){return i.vs.add(u.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(function(u){u.forEach(function(d){return i.vs.add(d.toString())})}).next(function(){return s.removeTargetData(t,r)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var r=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.vs,function(s){var u=en.fromPath(s);return r.Ps(t,u).next(function(d){d||i.removeEntry(u)})}).next(function(){return r.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,r){var i=this;return this.Ps(t,r).next(function(s){s?i.vs.delete(r.toString()):i.vs.add(r.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,r){var i=this;return yt.or([function(){return yt.resolve(i.As.containsKey(r))},function(){return i.persistence.getTargetCache().containsKey(t,r)},function(){return i.persistence.Is(t,r)}])},e}(),aa=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(e,t){return"firestore_clients_"+e+"_"+t}function Ele(e,t,r){var i="firestore_mutations_"+e+"_"+r;return t.isAuthenticated()&&(i+="_"+t.uid),i}function I9(e,t){return"firestore_targets_"+e+"_"+t}aa.UNAUTHENTICATED=new aa(null),aa.GOOGLE_CREDENTIALS=new aa("google-credentials-uid"),aa.FIRST_PARTY=new aa("first-party-uid"),aa.MOCK_USER=new aa("mock-user");var Sle=function(){function e(t,r,i,s){this.user=t,this.batchId=r,this.state=i,this.error=s}return e.Vs=function(t,r,i){var s,u=JSON.parse(i),d=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return d&&u.error&&(d=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(s=new pt(u.error.code,u.error.message)),d?new e(t,r,u.state,s):(Ro("SharedClientState","Failed to parse mutation state for ID '"+r+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),C9=function(){function e(t,r,i){this.targetId=t,this.state=r,this.error=i}return e.Vs=function(t,r){var i,s=JSON.parse(r),u=typeof s=="object"&&["not-current","current","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new pt(s.error.code,s.error.message)),u?new e(t,s.state,i):(Ro("SharedClientState","Failed to parse target state for ID '"+t+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Tle=function(){function e(t,r){this.clientId=t,this.activeTargetIds=r}return e.Vs=function(t,r){for(var i=JSON.parse(r),s=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Mj(),d=0;s&&d<i.activeTargetIds.length;++d)s=i0e(i.activeTargetIds[d]),u=u.add(i.activeTargetIds[d]);return s?new e(t,u):(Ro("SharedClientState","Failed to parse client data for instance '"+t+"': "+r),null)},e}(),W4e=function(){function e(t,r){this.clientId=t,this.onlineState=r}return e.Vs=function(t){var r=JSON.parse(t);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new e(r.clientId,r.onlineState):(Ro("SharedClientState","Failed to parse online state: "+t),null)},e}(),Tz=function(){function e(){this.activeTargetIds=Mj()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),k9=function(){function e(t,r,i,s,u){this.window=t,this.Se=r,this.persistenceKey=i,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ja(er),this.started=!1,this.$s=[];var d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=_le(this.persistenceKey,this.Ns),this.Ms=function(v){return"firestore_sequence_number_"+v}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Tz),this.Ls=new RegExp("^firestore_clients_"+d+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+d+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+d+"_(\\d+)$"),this.Us=function(v){return"firestore_online_state_"+v}(this.persistenceKey),this.Ks=function(v){return"firestore_bundle_loaded_"+v}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return tt(this,void 0,void 0,function(){var t,r,i,s,u,d,v,g,w,S,C,A=this;return et(this,function(L){switch(L.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=L.sent(),r=0,i=t;r<i.length;r++)(s=i[r])!==this.Ns&&(u=this.getItem(_le(this.persistenceKey,s)))&&(d=Tle.Vs(s,u))&&(this.Fs=this.Fs.insert(d.clientId,d));for(this.Qs(),(v=this.storage.getItem(this.Us))&&(g=this.js(v))&&this.Ws(g),w=0,S=this.$s;w<S.length;w++)C=S[w],this.ks(C);return this.$s=[],this.window.addEventListener("pagehide",function(){return A.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var r=!1;return this.Fs.forEach(function(i,s){s.activeTargetIds.has(t)&&(r=!0)}),r},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,r,i){this.zs(t,r,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var r="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(I9(this.persistenceKey,t));if(i){var s=C9.Vs(t,i);s&&(r=s.state)}}return this.Js.Ds(t),this.Qs(),r},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(I9(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,r,i){this.Ys(t,r,i)},e.prototype.handleUserChange=function(t,r,i){var s=this;r.forEach(function(u){s.Hs(u)}),this.currentUser=t,i.forEach(function(u){s.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var r=this.storage.getItem(t);return It("SharedClientState","READ",t,r),r},e.prototype.setItem=function(t,r){It("SharedClientState","SET",t,r),this.storage.setItem(t,r)},e.prototype.removeItem=function(t){It("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var r=this,i=t;if(i.storageArea===this.storage){if(It("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Ro("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return tt(r,void 0,void 0,function(){var s,u,d,v,g,w;return et(this,function(S){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return s=this.ti(i.key),[2,this.ei(s,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(d=this.si(i.key,i.newValue)))return[2,this.ii(d)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(v=this.ri(i.key,i.newValue)))return[2,this.oi(v)]}else if(i.key===this.Us){if(i.newValue!==null&&(g=this.js(i.newValue)))return[2,this.Ws(g)]}else if(i.key===this.Ms)(w=function(C){var A=dl.o;if(C!=null)try{var L=JSON.parse(C);wn(typeof L=="number"),A=L}catch(M){Ro("SharedClientState","Failed to read sequence number from WebStorage",M)}return A}(i.newValue))!==dl.o&&this.sequenceNumberHandler(w);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,r,i){var s=new Sle(this.currentUser,t,r,i),u=Ele(this.persistenceKey,this.currentUser,t);this.setItem(u,s.Ss())},e.prototype.Hs=function(t){var r=Ele(this.persistenceKey,this.currentUser,t);this.removeItem(r)},e.prototype.Xs=function(t){var r={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(r))},e.prototype.Ys=function(t,r,i){var s=I9(this.persistenceKey,t),u=new C9(t,r,i);this.setItem(s,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var r=this.Ls.exec(t);return r?r[1]:null},e.prototype.ni=function(t,r){var i=this.ti(t);return Tle.Vs(i,r)},e.prototype.si=function(t,r){var i=this.Bs.exec(t),s=Number(i[1]),u=i[2]!==void 0?i[2]:null;return Sle.Vs(new aa(u),s,r)},e.prototype.ri=function(t,r){var i=this.qs.exec(t),s=Number(i[1]);return C9.Vs(s,r)},e.prototype.js=function(t){return W4e.Vs(t)},e.prototype.ii=function(t){return tt(this,void 0,void 0,function(){return et(this,function(r){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(It("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,r){var i=this,s=r?this.Fs.insert(t,r):this.Fs.remove(t),u=this.Gs(this.Fs),d=this.Gs(s),v=[],g=[];return d.forEach(function(w){u.has(w)||v.push(w)}),u.forEach(function(w){d.has(w)||g.push(w)}),this.syncEngine.hi(v,g).then(function(){i.Fs=s})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var r=Mj();return t.forEach(function(i,s){r=r.unionWith(s.activeTargetIds)}),r},e}(),Y0e=function(){function e(){this.li=new Tz,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,r,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,r,i){this.fi[t]=r},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Tz,Promise.resolve()},e.prototype.handleUserChange=function(t,r,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),G4e=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Ile=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,r=this.gi;t<r.length;t++)(0,r[t])(0)},e.prototype.yi=function(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,r=this.gi;t<r.length;t++)(0,r[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Q4e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Y4e=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),X4e=function(e){function t(r){var i=this;return(i=e.call(this,r)||this).forceLongPolling=r.forceLongPolling,i.autoDetectLongPolling=r.autoDetectLongPolling,i.useFetchStreams=r.useFetchStreams,i}return on(t,e),t.prototype.Fi=function(r,i,s,u){return new Promise(function(d,v){var g=new A3e;g.listenOnce(I3e.COMPLETE,function(){try{switch(g.getLastErrorCode()){case S9.NO_ERROR:var S=g.getResponseJson();It("Connection","XHR received:",JSON.stringify(S)),d(S);break;case S9.TIMEOUT:It("Connection",'RPC "'+r+'" timed out'),v(new pt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case S9.HTTP_ERROR:var C=g.getStatus();if(It("Connection",'RPC "'+r+'" failed with status:',C,"response text:",g.getResponseText()),C>0){var A=g.getResponseJson().error;if(A&&A.status&&A.message){var L=function(M){var U=M.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(U)>=0?U:Ve.UNKNOWN}(A.status);v(new pt(L,A.message))}else v(new pt(Ve.UNKNOWN,"Server responded with status "+g.getStatus()))}else v(new pt(Ve.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{It("Connection",'RPC "'+r+'" completed.')}});var w=JSON.stringify(u);g.send(i,"POST",w,s,15)})},t.prototype.Oi=function(r,i){var s=[this.Di,"/","google.firestore.v1.Firestore","/",r,"/channel"],u=S3e(),d=T3e(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new k3e({})),this.ki(v.initMessageHeaders,i),NMe()||DMe()||LMe()||MMe()||FMe()||RMe()||(v.httpHeadersOverwriteParam="$httpHeaders");var g=s.join("");It("Connection","Creating WebChannel: "+g,v);var w=u.createWebChannel(g,v),S=!1,C=!1,A=new Y4e({Ei:function(M){C?It("Connection","Not sending because WebChannel is closed:",M):(S||(It("Connection","Opening WebChannel transport."),w.open(),S=!0),It("Connection","WebChannel sending:",M),w.send(M))},Ti:function(){return w.close()}}),L=function(M,U,R){M.listen(U,function($){try{R($)}catch(B){setTimeout(function(){throw B},0)}})};return L(w,uF.EventType.OPEN,function(){C||It("Connection","WebChannel transport opened.")}),L(w,uF.EventType.CLOSE,function(){C||(C=!0,It("Connection","WebChannel transport closed"),A.Vi())}),L(w,uF.EventType.ERROR,function(M){C||(C=!0,J3("Connection","WebChannel transport errored:",M),A.Vi(new pt(Ve.UNAVAILABLE,"The operation could not be completed")))}),L(w,uF.EventType.MESSAGE,function(M){var U;if(!C){var R=M.data[0];wn(!!R);var $=R,B=$.error||((U=$[0])===null||U===void 0?void 0:U.error);if(B){It("Connection","WebChannel received error:",B);var G=B.status,H=function(Y){var ce=Oo[Y];if(ce!==void 0)return w0e(ce)}(G),Z=B.message;H===void 0&&(H=Ve.INTERNAL,Z="Unknown error status: "+G+" with message "+B.message),C=!0,A.Vi(new pt(H,Z)),w.close()}else It("Connection","WebChannel received:",R),A.Si(R)}}),L(d,C3e.STAT_EVENT,function(M){M.stat===qce.PROXY?It("Connection","Detected buffering proxy"):M.stat===qce.NOPROXY&&It("Connection","Detected no buffering proxy")}),setTimeout(function(){A.Pi()},0),A},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var r=t.ssl?"https":"http";this.Di=r+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,r,i,s){var u=this.xi(t,r);It("RestConnection","Sending: ",u,i);var d={};return this.ki(d,s),this.Fi(t,u,d,i).then(function(v){return It("RestConnection","Received: ",v),v},function(v){throw J3("RestConnection",t+" failed with error: ",v,"url: ",u,"request:",i),v})},e.prototype.$i=function(t,r,i,s){return this.Ni(t,r,i,s)},e.prototype.ki=function(t,r){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(var i in r.authHeaders)r.authHeaders.hasOwnProperty(i)&&(t[i]=r.authHeaders[i])},e.prototype.xi=function(t,r){var i=Q4e[t];return this.Di+"/v1/"+r+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0e(){return typeof window<"u"?window:null}function XF(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(e){return new r4e(e,!0)}var aG=function(){function e(t,r,i,s,u){i===void 0&&(i=1e3),s===void 0&&(s=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=r,this.Mi=i,this.Li=s,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var r=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-s);u>0&&It("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return r.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),J0e=function(){function e(t,r,i,s,u,d){this.Se=t,this.zi=i,this.Hi=s,this.Ji=u,this.listener=d,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new aG(t,r)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return tt(this,void 0,void 0,function(){return et(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return tt(this,void 0,void 0,function(){return et(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,r){return tt(this,void 0,void 0,function(){return et(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():r&&r.code===Ve.RESOURCE_EXHAUSTED?(Ro(r.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):r&&r.code===Ve.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(r)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var r=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(s){t.Yi===i&&t.lr(s)},function(s){r(function(){var u=new pt(Ve.UNKNOWN,"Fetching auth token failed: "+s.message);return t.dr(u)})})},e.prototype.lr=function(t){var r=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return r.state=2,r.listener.Ii()})}),this.stream.Ri(function(s){i(function(){return r.dr(s)})}),this.stream.onMessage(function(s){i(function(){return r.onMessage(s)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return tt(t,void 0,void 0,function(){return et(this,function(r){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return It("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var r=this;return function(i){r.Se.enqueueAndForget(function(){return r.Yi===t?i():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),J4e=function(e){function t(r,i,s,u,d){var v=this;return(v=e.call(this,r,"listen_stream_connection_backoff","listen_stream_idle",i,s,d)||this).R=u,v}return on(t,e),t.prototype.wr=function(r){return this.Hi.Oi("Listen",r)},t.prototype.onMessage=function(r){this.Zi.reset();var i=function(u,d){var v;if("targetChange"in d){d.targetChange;var g=function(R){return R==="NO_CHANGE"?0:R==="ADD"?1:R==="REMOVE"?2:R==="CURRENT"?3:R==="RESET"?4:Yt()}(d.targetChange.targetChangeType||"NO_CHANGE"),w=d.targetChange.targetIds||[],S=function(R,$){return R.I?(wn($===void 0||typeof $=="string"),Ec.fromBase64String($||"")):(wn($===void 0||$ instanceof Uint8Array),Ec.fromUint8Array($||new Uint8Array))}(u,d.targetChange.resumeToken),C=(A=d.targetChange.cause)&&function(R){var $=R.code===void 0?Ve.UNKNOWN:w0e(R.code);return new pt($,R.message||"")}(A);v=new E0e(g,w,S,C||null)}else if("documentChange"in d){d.documentChange,(g=d.documentChange).document,g.document.name,g.document.updateTime,w=$v(u,g.document.name),S=Ru(g.document.updateTime);var A=new hl({mapValue:{fields:g.document.fields}}),L=(C=Ya.newFoundDocument(w,S,A),g.targetIds||[]),M=g.removedTargetIds||[];v=new YF(L,M,C.key,C)}else if("documentDelete"in d)d.documentDelete,(g=d.documentDelete).document,w=$v(u,g.document),S=g.readTime?Ru(g.readTime):Hn.min(),A=Ya.newNoDocument(w,S),C=g.removedTargetIds||[],v=new YF([],C,A.key,A);else if("documentRemove"in d)d.documentRemove,(g=d.documentRemove).document,w=$v(u,g.document),S=g.removedTargetIds||[],v=new YF([],S,w,null);else{if(!("filter"in d))return Yt();d.filter;var U=d.filter;U.targetId,g=U.count||0,w=new W3e(g),S=U.targetId,v=new _0e(S,w)}return v}(this.R,r),s=function(u){if(!("targetChange"in u))return Hn.min();var d=u.targetChange;return d.targetIds&&d.targetIds.length?Hn.min():d.readTime?Ru(d.readTime):Hn.min()}(r);return this.listener._r(i,s)},t.prototype.mr=function(r){var i={};i.database=NN(this.R),i.addTarget=function(u,d){var v,g=d.target;return(v=t4(g)?{documents:k0e(u,g)}:{query:A0e(u,g)}).targetId=d.targetId,d.resumeToken.approximateByteSize()>0?v.resumeToken=S0e(u,d.resumeToken):d.snapshotVersion.compareTo(Hn.min())>0&&(v.readTime=xN(u,d.snapshotVersion.toTimestamp())),v}(this.R,r);var s=function(u,d){var v=function(g,w){switch(w){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yt()}}(0,d.purpose);return v==null?null:{"goog-listen-tags":v}}(this.R,r);s&&(i.labels=s),this.cr(i)},t.prototype.yr=function(r){var i={};i.database=NN(this.R),i.removeTarget=r,this.cr(i)},t}(J0e),Z4e=function(e){function t(r,i,s,u,d){var v=this;return(v=e.call(this,r,"write_stream_connection_backoff","write_stream_idle",i,s,d)||this).R=u,v.gr=!1,v}return on(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(r){return this.Hi.Oi("Write",r)},t.prototype.onMessage=function(r){if(wn(!!r.streamToken),this.lastStreamToken=r.streamToken,this.gr){this.Zi.reset();var i=function(u,d){return u&&u.length>0?(wn(d!==void 0),u.map(function(v){return function(g,w){var S=g.updateTime?Ru(g.updateTime):Ru(w);return S.isEqual(Hn.min())&&(S=Ru(w)),new H3e(S,g.transformResults||[])}(v,d)})):[]}(r.writeResults,r.commitTime),s=Ru(r.commitTime);return this.listener.Tr(s,i)}return wn(!r.writeResults||r.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var r={};r.database=NN(this.R),this.cr(r)},t.prototype.Er=function(r){var i=this,s={streamToken:this.lastStreamToken,writes:r.map(function(u){return i4(i.R,u)})};this.cr(s)},t}(J0e),eje=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).credentials=r,u.Hi=i,u.R=s,u.Rr=!1,u}return on(t,e),t.prototype.br=function(){if(this.Rr)throw new pt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(r,i,s){var u=this;return this.br(),this.credentials.getToken().then(function(d){return u.Hi.Ni(r,i,s,d)}).catch(function(d){throw d.name==="FirebaseError"?(d.code===Ve.UNAUTHENTICATED&&u.credentials.invalidateToken(),d):new pt(Ve.UNKNOWN,d.toString())})},t.prototype.$i=function(r,i,s){var u=this;return this.br(),this.credentials.getToken().then(function(d){return u.Hi.$i(r,i,s,d)}).catch(function(d){throw d.name==="FirebaseError"?(d.code===Ve.UNAUTHENTICATED&&u.credentials.invalidateToken(),d):new pt(Ve.UNKNOWN,d.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),tje=function(){function e(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var r="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Ro(r),this.Vr=!1):It("OnlineStateTracker",r)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),nje=function(e,t,r,i,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(d){r.enqueueAndForget(function(){return tt(u,void 0,void 0,function(){return et(this,function(v){switch(v.label){case 0:return Oy(this)?(It("RemoteStore","Restarting streams for network reachability change."),[4,function(g){return tt(this,void 0,void 0,function(){var w;return et(this,function(S){switch(S.label){case 0:return(w=Rt(g)).Or.add(4),[4,pI(w)];case 1:return S.sent(),w.Br.set("Unknown"),w.Or.delete(4),[4,DP(w)];case 2:return S.sent(),[2]}})})}(this)]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2]}})})})}),this.Br=new tje(r,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(e){return tt(this,void 0,void 0,function(){var t,r;return et(this,function(i){switch(i.label){case 0:if(!Oy(e))return[3,4];t=0,r=e.Mr,i.label=1;case 1:return t<r.length?[4,(0,r[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function pI(e){return tt(this,void 0,void 0,function(){var t,r;return et(this,function(i){switch(i.label){case 0:t=0,r=e.Mr,i.label=1;case 1:return t<r.length?[4,(0,r[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Uj(e,t){var r=Rt(e);r.$r.has(t.targetId)||(r.$r.set(t.targetId,t),lG(r)?cG(r):mI(r).er()&&uG(r,t))}function PN(e,t){var r=Rt(e),i=mI(r);r.$r.delete(t),i.er()&&Z0e(r,t),r.$r.size===0&&(i.er()?i.ir():Oy(r)&&r.Br.set("Unknown"))}function uG(e,t){e.qr.U(t.targetId),mI(e).mr(t)}function Z0e(e,t){e.qr.U(t),mI(e).yr(t)}function cG(e){e.qr=new e4e({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),mI(e).start(),e.Br.Sr()}function lG(e){return Oy(e)&&!mI(e).tr()&&e.$r.size>0}function Oy(e){return Rt(e).Or.size===0}function ebe(e){e.qr=void 0}function rje(e){return tt(this,void 0,void 0,function(){return et(this,function(t){return e.$r.forEach(function(r,i){uG(e,r)}),[2]})})}function ije(e,t){return tt(this,void 0,void 0,function(){return et(this,function(r){return ebe(e),lG(e)?(e.Br.Nr(t),cG(e)):e.Br.set("Unknown"),[2]})})}function oje(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u;return et(this,function(d){switch(d.label){case 0:if(e.Br.set("Online"),!(t instanceof E0e&&t.state===2&&t.cause))return[3,6];d.label=1;case 1:return d.trys.push([1,3,,5]),[4,function(v,g){return tt(this,void 0,void 0,function(){var w,S,C,A;return et(this,function(L){switch(L.label){case 0:w=g.cause,S=0,C=g.targetIds,L.label=1;case 1:return S<C.length?(A=C[S],v.$r.has(A)?[4,v.remoteSyncer.rejectListen(A,w)]:[3,3]):[3,5];case 2:L.sent(),v.$r.delete(A),v.qr.removeTarget(A),L.label=3;case 3:L.label=4;case 4:return S++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return d.sent(),[3,5];case 3:return i=d.sent(),It("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,c4(e,i)];case 4:return d.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof YF?e.qr.X(t):t instanceof _0e?e.qr.rt(t):e.qr.et(t),r.isEqual(Hn.min()))return[3,13];d.label=7;case 7:return d.trys.push([7,11,,13]),[4,W0e(e.localStore)];case 8:return s=d.sent(),r.compareTo(s)>=0?[4,function(v,g){var w=v.qr.ut(g);return w.targetChanges.forEach(function(S,C){if(S.resumeToken.approximateByteSize()>0){var A=v.$r.get(C);A&&v.$r.set(C,A.withResumeToken(S.resumeToken,g))}}),w.targetMismatches.forEach(function(S){var C=v.$r.get(S);if(C){v.$r.set(S,C.withResumeToken(Ec.EMPTY_BYTE_STRING,C.snapshotVersion)),Z0e(v,S);var A=new Fj(C.target,S,1,C.sequenceNumber);uG(v,A)}}),v.remoteSyncer.applyRemoteEvent(w)}(e,r)]:[3,10];case 9:d.sent(),d.label=10;case 10:return[3,13];case 11:return It("RemoteStore","Failed to raise snapshot:",u=d.sent()),[4,c4(e,u)];case 12:return d.sent(),[3,13];case 13:return[2]}})})}function c4(e,t,r){return tt(this,void 0,void 0,function(){var i=this;return et(this,function(s){switch(s.label){case 0:if(!s_(t))throw t;return e.Or.add(1),[4,pI(e)];case 1:return s.sent(),e.Br.set("Offline"),r||(r=function(){return W0e(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return tt(i,void 0,void 0,function(){return et(this,function(u){switch(u.label){case 0:return It("RemoteStore","Retrying IndexedDB access"),[4,r()];case 1:return u.sent(),e.Or.delete(1),[4,DP(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function tbe(e,t){return t().catch(function(r){return c4(e,r,t)})}function vI(e){return tt(this,void 0,void 0,function(){var t,r,i,s,u;return et(this,function(d){switch(d.label){case 0:t=Rt(e),r=_y(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,d.label=1;case 1:if(!function(v){return Oy(v)&&v.Fr.length<10}(t))return[3,7];d.label=2;case 2:return d.trys.push([2,4,,6]),[4,F4e(t.localStore,i)];case 3:return(s=d.sent())===null?(t.Fr.length===0&&r.ir(),[3,7]):(i=s.batchId,function(v,g){v.Fr.push(g);var w=_y(v);w.er()&&w.pr&&w.Er(g.mutations)}(t,s),[3,6]);case 4:return u=d.sent(),[4,c4(t,u)];case 5:return d.sent(),[3,6];case 6:return[3,1];case 7:return nbe(t)&&rbe(t),[2]}})})}function nbe(e){return Oy(e)&&!_y(e).tr()&&e.Fr.length>0}function rbe(e){_y(e).start()}function sje(e){return tt(this,void 0,void 0,function(){return et(this,function(t){return _y(e).Ar(),[2]})})}function aje(e){return tt(this,void 0,void 0,function(){var t,r,i,s;return et(this,function(u){for(t=_y(e),r=0,i=e.Fr;r<i.length;r++)s=i[r],t.Er(s.mutations);return[2]})})}function uje(e,t,r){return tt(this,void 0,void 0,function(){var i,s;return et(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),s=y4e.from(i,t,r),[4,tbe(e,function(){return e.remoteSyncer.applySuccessfulWrite(s)})];case 1:return u.sent(),[4,vI(e)];case 2:return u.sent(),[2]}})})}function cje(e,t){return tt(this,void 0,void 0,function(){return et(this,function(r){switch(r.label){case 0:return t&&_y(e).pr?[4,function(i,s){return tt(this,void 0,void 0,function(){var u,d;return et(this,function(v){switch(v.label){case 0:return b0e(d=s.code)&&d!==Ve.ABORTED?(u=i.Fr.shift(),_y(i).sr(),[4,tbe(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,s)})]):[3,3];case 1:return v.sent(),[4,vI(i)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:r.sent(),r.label=2;case 2:return nbe(e)&&rbe(e),[2]}})})}function Iz(e,t){return tt(this,void 0,void 0,function(){var r;return et(this,function(i){switch(i.label){case 0:return r=Rt(e),t?(r.Or.delete(2),[4,DP(r)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(r.Or.add(2),[4,pI(r)]);case 3:i.sent(),r.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function mI(e){var t=this;return e.Ur||(e.Ur=function(r,i,s){var u=Rt(r);return u.br(),new J4e(i,u.Hi,u.credentials,u.R,s)}(e.datastore,e.asyncQueue,{Ii:rje.bind(null,e),Ri:ije.bind(null,e),_r:oje.bind(null,e)}),e.Mr.push(function(r){return tt(t,void 0,void 0,function(){return et(this,function(i){switch(i.label){case 0:return r?(e.Ur.sr(),lG(e)?cG(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),ebe(e),i.label=3;case 3:return[2]}})})})),e.Ur}function _y(e){var t=this;return e.Kr||(e.Kr=function(r,i,s){var u=Rt(r);return u.br(),new Z4e(i,u.Hi,u.credentials,u.R,s)}(e.datastore,e.asyncQueue,{Ii:sje.bind(null,e),Ri:cje.bind(null,e),Ir:aje.bind(null,e),Tr:uje.bind(null,e)}),e.Mr.push(function(r){return tt(t,void 0,void 0,function(){return et(this,function(i){switch(i.label){case 0:return r?(e.Kr.sr(),[4,vI(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(It("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var lje=function(){function e(t,r,i,s,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=i,this.op=s,this.removalCallback=u,this.deferred=new Sc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(d){})}return e.createAndSchedule=function(t,r,i,s,u){var d=new e(t,r,Date.now()+i,s,u);return d.start(i),d},e.prototype.start=function(t){var r=this;this.timerHandle=setTimeout(function(){return r.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(r){return t.deferred.resolve(r)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function gI(e,t){if(Ro("AsyncQueue",t+": "+e),s_(e))return new pt(Ve.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ibe=function(){function e(t){this.comparator=t?function(r,i){return t(r,i)||en.comparator(r.key,i.key)}:function(r,i){return en.comparator(r.key,i.key)},this.keyedMap=_z(),this.sortedSet=new Ja(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(r,i){return t(r),!1})},e.prototype.add=function(t){var r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))},e.prototype.delete=function(t){var r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var r=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();r.hasNext();){var s=r.getNext().key,u=i.getNext().key;if(!s.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(r){t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,r){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=r,i},e}(),Cle=function(){function e(){this.Qr=new Ja(en.comparator)}return e.prototype.track=function(t){var r=t.doc.key,i=this.Qr.get(r);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(r,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(r,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(r,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(r,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(r):t.type===1&&i.type===2?this.Qr=this.Qr.insert(r,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(r,{type:2,doc:t.doc}):Yt():this.Qr=this.Qr.insert(r,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(r,i){t.push(i)}),t},e}(),l4=function(){function e(t,r,i,s,u,d,v,g){this.query=t,this.docs=r,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=v,this.excludesMetadataChanges=g}return e.fromInitialDocuments=function(t,r,i,s){var u=[];return r.forEach(function(d){u.push({type:0,doc:d})}),new e(t,r,ibe.emptySet(r),u,i,s,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xP(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var r=this.docChanges,i=t.docChanges;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(r[s].type!==i[s].type||!r[s].doc.isEqual(i[s].doc))return!1;return!0},e}(),hje=function(){this.Wr=void 0,this.listeners=[]},fje=function(){this.queries=new dI(function(e){return c0e(e)},xP),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hG(e,t){return tt(this,void 0,void 0,function(){var r,i,s,u,d,v,g;return et(this,function(w){switch(w.label){case 0:if(r=Rt(e),i=t.query,s=!1,(u=r.queries.get(i))||(s=!0,u=new hje),!s)return[3,4];w.label=1;case 1:return w.trys.push([1,3,,4]),d=u,[4,r.onListen(i)];case 2:return d.Wr=w.sent(),[3,4];case 3:return v=w.sent(),g=gI(v,"Initialization of query '"+bz(t.query)+"' failed"),[2,void t.onError(g)];case 4:return r.queries.set(i,u),u.listeners.push(t),t.zr(r.onlineState),u.Wr&&t.Hr(u.Wr)&&dG(r),[2]}})})}function fG(e,t){return tt(this,void 0,void 0,function(){var r,i,s,u,d;return et(this,function(v){return r=Rt(e),i=t.query,s=!1,(u=r.queries.get(i))&&(d=u.listeners.indexOf(t))>=0&&(u.listeners.splice(d,1),s=u.listeners.length===0),s?[2,(r.queries.delete(i),r.onUnlisten(i))]:[2]})})}function dje(e,t){for(var r=Rt(e),i=!1,s=0,u=t;s<u.length;s++){var d=u[s],v=d.query,g=r.queries.get(v);if(g){for(var w=0,S=g.listeners;w<S.length;w++)S[w].Hr(d)&&(i=!0);g.Wr=d}}i&&dG(r)}function pje(e,t,r){var i=Rt(e),s=i.queries.get(t);if(s)for(var u=0,d=s.listeners;u<d.length;u++)d[u].onError(r);i.queries.delete(t)}function dG(e){e.Gr.forEach(function(t){t.next()})}var pG=function(){function e(t,r,i){this.query=t,this.Jr=r,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var r=[],i=0,s=t.docChanges;i<s.length;i++){var u=s[i];u.type!==3&&r.push(u)}t=new l4(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var d=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),d=!0):this.eo(t,this.onlineState)&&(this.no(t),d=!0),this.Xr=t,d},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var r=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),r=!0),r},e.prototype.eo=function(t,r){if(!t.fromCache)return!0;var i=r!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&r!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var r=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=l4.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var obe=function(e){this.key=e},sbe=function(e){this.key=e},abe=function(){function e(t,r){this.query=t,this.uo=r,this.ao=null,this.current=!1,this.ho=oi(),this.mutatedKeys=oi(),this.lo=l0e(t),this.fo=new ibe(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,r){var i=this,s=r?r.mo:new Cle,u=r?r.fo:this.fo,d=r?r.mutatedKeys:this.mutatedKeys,v=u,g=!1,w=GF(this.query)&&u.size===this.query.limit?u.last():null,S=r4(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(A,L){var M=u.get(A),U=OP(i.query,L)?L:null,R=!!M&&i.mutatedKeys.has(M.key),$=!!U&&(U.hasLocalMutations||i.mutatedKeys.has(U.key)&&U.hasCommittedMutations),B=!1;M&&U?M.data.isEqual(U.data)?R!==$&&(s.track({type:3,doc:U}),B=!0):i.yo(M,U)||(s.track({type:2,doc:U}),B=!0,(w&&i.lo(U,w)>0||S&&i.lo(U,S)<0)&&(g=!0)):!M&&U?(s.track({type:0,doc:U}),B=!0):M&&!U&&(s.track({type:1,doc:M}),B=!0,(w||S)&&(g=!0)),B&&(U?(v=v.add(U),d=$?d.add(A):d.delete(A)):(v=v.delete(A),d=d.delete(A)))}),GF(this.query)||r4(this.query))for(;v.size>this.query.limit;){var C=GF(this.query)?v.last():v.first();v=v.delete(C.key),d=d.delete(C.key),s.track({type:1,doc:C})}return{fo:v,mo:s,Nn:g,mutatedKeys:d}},e.prototype.yo=function(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations},e.prototype.applyChanges=function(t,r,i){var s=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var d=t.mo.jr();d.sort(function(S,C){return function(A,L){var M=function(U){switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return M(A)-M(L)}(S.type,C.type)||s.lo(S.doc,C.doc)}),this.po(i);var v=r?this.Eo():[],g=this.ho.size===0&&this.current?1:0,w=g!==this.ao;return this.ao=g,d.length!==0||w?{snapshot:new l4(this.query,t.fo,u,d,t.mutatedKeys,g===0,w,!1),To:v}:{To:v}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Cle,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var r=this;t&&(t.addedDocuments.forEach(function(i){return r.uo=r.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return r.uo=r.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var r=this.ho;this.ho=oi(),this.fo.forEach(function(s){t.Io(s.key)&&(t.ho=t.ho.add(s.key))});var i=[];return r.forEach(function(s){t.ho.has(s)||i.push(new sbe(s))}),this.ho.forEach(function(s){r.has(s)||i.push(new obe(s))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=oi();var r=this._o(t.documents);return this.applyChanges(r,!0)},e.prototype.Ro=function(){return l4.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),vje=function(e,t,r){this.query=e,this.targetId=t,this.view=r},mje=function(e){this.key=e,this.bo=!1},gje=function(){function e(t,r,i,s,u,d){this.localStore=t,this.remoteStore=r,this.eventManager=i,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.vo={},this.Po=new dI(function(v){return c0e(v)},xP),this.Vo=new Map,this.So=new Set,this.Do=new Ja(en.comparator),this.Co=new Map,this.No=new sG,this.xo={},this.ko=new Map,this.Fo=s4.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function yje(e,t){return tt(this,void 0,void 0,function(){var r,i,s,u,d,v;return et(this,function(g){switch(g.label){case 0:return r=bG(e),(u=r.Po.get(t))?(i=u.targetId,r.sharedClientState.addLocalQueryTarget(i),s=u.view.Ro(),[3,4]):[3,1];case 1:return[4,a4(r.localStore,ip(t))];case 2:return d=g.sent(),v=r.sharedClientState.addLocalQueryTarget(d.targetId),i=d.targetId,[4,vG(r,t,i,v==="current")];case 3:s=g.sent(),r.isPrimaryClient&&Uj(r.remoteStore,d),g.label=4;case 4:return[2,s]}})})}function vG(e,t,r,i){return tt(this,void 0,void 0,function(){var s,u,d,v,g,w;return et(this,function(S){switch(S.label){case 0:return e.Oo=function(C,A,L){return function(M,U,R,$){return tt(this,void 0,void 0,function(){var B,G,H;return et(this,function(Z){switch(Z.label){case 0:return B=U.view._o(R),B.Nn?[4,u4(M.localStore,U.query,!1).then(function(Y){var ce=Y.documents;return U.view._o(ce,B)})]:[3,2];case 1:B=Z.sent(),Z.label=2;case 2:return G=$&&$.targetChanges.get(U.targetId),H=U.view.applyChanges(B,M.isPrimaryClient,G),[2,(Cz(M,U.targetId,H.To),H.snapshot)]}})})}(e,C,A,L)},[4,u4(e.localStore,t,!0)];case 1:return s=S.sent(),u=new abe(t,s.Bn),d=u._o(s.documents),v=ZW.createSynthesizedTargetChangeForCurrentChange(r,i&&e.onlineState!=="Offline"),g=u.applyChanges(d,e.isPrimaryClient,v),Cz(e,r,g.To),w=new vje(t,r,u),[2,(e.Po.set(t,w),e.Vo.has(r)?e.Vo.get(r).push(t):e.Vo.set(r,[t]),g.snapshot)]}})})}function bje(e,t){return tt(this,void 0,void 0,function(){var r,i,s;return et(this,function(u){switch(u.label){case 0:return r=Rt(e),i=r.Po.get(t),(s=r.Vo.get(i.targetId)).length>1?[2,(r.Vo.set(i.targetId,s.filter(function(d){return!xP(d,t)})),void r.Po.delete(t))]:r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,KT(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),PN(r.remoteStore,i.targetId),WT(r,i.targetId)}).catch(a_)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return WT(r,i.targetId),[4,KT(r.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function wje(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d;return et(this,function(v){switch(v.label){case 0:i=wG(e),v.label=1;case 1:return v.trys.push([1,5,,6]),[4,function(g,w){var S,C=Rt(g),A=_c.now(),L=w.reduce(function(M,U){return M.add(U.key)},oi());return C.persistence.runTransaction("Locally write mutations","readwrite",function(M){return C.Mn.pn(M,L).next(function(U){S=U;for(var R=[],$=0,B=w;$<B.length;$++){var G=B[$],H=K3e(G,S.get(G.key));H!=null&&R.push(new xy(G.key,H,o0e(H.value.mapValue),Ha.exists(!0)))}return C._n.addMutationBatch(M,A,R,w)})}).then(function(M){return M.applyToLocalDocumentSet(S),{batchId:M.batchId,changes:S}})}(i.localStore,t)];case 2:return s=v.sent(),i.sharedClientState.addPendingMutation(s.batchId),function(g,w,S){var C=g.xo[g.currentUser.toKey()];C||(C=new Ja(er)),C=C.insert(w,S),g.xo[g.currentUser.toKey()]=C}(i,s.batchId,r),[4,Ny(i,s.changes)];case 3:return v.sent(),[4,vI(i.remoteStore)];case 4:return v.sent(),[3,6];case 5:return u=v.sent(),d=gI(u,"Failed to persist write"),r.reject(d),[3,6];case 6:return[2]}})})}function ube(e,t){return tt(this,void 0,void 0,function(){var r,i;return et(this,function(s){switch(s.label){case 0:r=Rt(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,L4e(r.localStore,t)];case 2:return i=s.sent(),t.targetChanges.forEach(function(u,d){var v=r.Co.get(d);v&&(wn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.bo=!0:u.modifiedDocuments.size>0?wn(v.bo):u.removedDocuments.size>0&&(wn(v.bo),v.bo=!1))}),[4,Ny(r,i,t)];case 3:return s.sent(),[3,6];case 4:return[4,a_(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function kle(e,t,r){var i=Rt(e);if(i.isPrimaryClient&&r===0||!i.isPrimaryClient&&r===1){var s=[];i.Po.forEach(function(u,d){var v=d.view.zr(t);v.snapshot&&s.push(v.snapshot)}),function(u,d){var v=Rt(u);v.onlineState=d;var g=!1;v.queries.forEach(function(w,S){for(var C=0,A=S.listeners;C<A.length;C++)A[C].zr(d)&&(g=!0)}),g&&dG(v)}(i.eventManager,t),s.length&&i.vo._r(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function _je(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d,v,g;return et(this,function(w){switch(w.label){case 0:return(i=Rt(e)).sharedClientState.updateQueryState(t,"rejected",r),s=i.Co.get(t),(u=s&&s.key)?(d=(d=new Ja(en.comparator)).insert(u,Ya.newNoDocument(u,Hn.min())),v=oi().add(u),g=new JW(Hn.min(),new Map,new ts(er),d,v),[4,ube(i,g)]):[3,2];case 1:return w.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),yG(i),[3,4];case 2:return[4,KT(i.localStore,t,!1).then(function(){return WT(i,t,r)}).catch(a_)];case 3:w.sent(),w.label=4;case 4:return[2]}})})}function Eje(e,t){return tt(this,void 0,void 0,function(){var r,i,s;return et(this,function(u){switch(u.label){case 0:r=Rt(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,D4e(r.localStore,t)];case 2:return s=u.sent(),gG(r,i,null),mG(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),[4,Ny(r,s)];case 3:return u.sent(),[3,6];case 4:return[4,a_(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Sje(e,t,r){return tt(this,void 0,void 0,function(){var i,s;return et(this,function(u){switch(u.label){case 0:i=Rt(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(d,v){var g=Rt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",function(w){var S;return g._n.lookupMutationBatch(w,v).next(function(C){return wn(C!==null),S=C.keys(),g._n.removeMutationBatch(w,C)}).next(function(){return g._n.performConsistencyCheck(w)}).next(function(){return g.Mn.pn(w,S)})})}(i.localStore,t)];case 2:return s=u.sent(),gG(i,t,r),mG(i,t),i.sharedClientState.updateMutationState(t,"rejected",r),[4,Ny(i,s)];case 3:return u.sent(),[3,6];case 4:return[4,a_(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Tje(e,t){return tt(this,void 0,void 0,function(){var r,i,s,u,d;return et(this,function(v){switch(v.label){case 0:Oy((r=Rt(e)).remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,function(g){var w=Rt(g);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(S){return w._n.getHighestUnacknowledgedBatchId(S)})}(r.localStore)];case 2:return(i=v.sent())===-1?[2,void t.resolve()]:((s=r.ko.get(i)||[]).push(t),r.ko.set(i,s),[3,4]);case 3:return u=v.sent(),d=gI(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(d),[3,4];case 4:return[2]}})})}function mG(e,t){(e.ko.get(t)||[]).forEach(function(r){r.resolve()}),e.ko.delete(t)}function gG(e,t,r){var i=Rt(e),s=i.xo[i.currentUser.toKey()];if(s){var u=s.get(t);u&&(r?u.reject(r):u.resolve(),s=s.remove(t)),i.xo[i.currentUser.toKey()]=s}}function WT(e,t,r){r===void 0&&(r=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,s=e.Vo.get(t);i<s.length;i++){var u=s[i];e.Po.delete(u),r&&e.vo.Mo(u,r)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(d){e.No.containsKey(d)||cbe(e,d)})}function cbe(e,t){e.So.delete(t.path.canonicalString());var r=e.Do.get(t);r!==null&&(PN(e.remoteStore,r),e.Do=e.Do.remove(t),e.Co.delete(r),yG(e))}function Cz(e,t,r){for(var i=0,s=r;i<s.length;i++){var u=s[i];u instanceof obe?(e.No.addReference(u.key,t),Ije(e,u)):u instanceof sbe?(It("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||cbe(e,u.key)):Yt()}}function Ije(e,t){var r=t.key,i=r.path.canonicalString();e.Do.get(r)||e.So.has(i)||(It("SyncEngine","New document in limbo: "+r),e.So.add(i),yG(e))}function yG(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var r=new en(Tr.fromString(t)),i=e.Fo.next();e.Co.set(i,new mje(r)),e.Do=e.Do.insert(r,i),Uj(e.remoteStore,new Fj(ip(AP(r.path)),i,2,dl.o))}}function Ny(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d;return et(this,function(v){switch(v.label){case 0:return i=Rt(e),s=[],u=[],d=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(g,w){d.push(i.Oo(w,t,r).then(function(S){if(S){i.isPrimaryClient&&i.sharedClientState.updateQueryState(w.targetId,S.fromCache?"not-current":"current"),s.push(S);var C=P4e.Pn(w.targetId,S);u.push(C)}}))}),[4,Promise.all(d)]);case 1:return v.sent(),i.vo._r(s),[4,function(g,w){return tt(this,void 0,void 0,function(){var S,C,A,L,M,U,R,$,B;return et(this,function(G){switch(G.label){case 0:S=Rt(g),G.label=1;case 1:return G.trys.push([1,3,,4]),[4,S.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(H){return yt.forEach(w,function(Z){return yt.forEach(Z.bn,function(Y){return S.persistence.referenceDelegate.addReference(H,Z.targetId,Y)}).next(function(){return yt.forEach(Z.vn,function(Y){return S.persistence.referenceDelegate.removeReference(H,Z.targetId,Y)})})})})];case 2:return G.sent(),[3,4];case 3:if(!s_(C=G.sent()))throw C;return It("LocalStore","Failed to update sequence numbers: "+C),[3,4];case 4:for(A=0,L=w;A<L.length;A++)M=L[A],U=M.targetId,M.fromCache||(R=S.kn.get(U),$=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion($),S.kn=S.kn.insert(U,B));return[2]}})})}(i.localStore,u)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function Cje(e,t){return tt(this,void 0,void 0,function(){var r,i;return et(this,function(s){switch(s.label){case 0:return(r=Rt(e)).currentUser.isEqual(t)?[3,3]:(It("SyncEngine","User change. New user:",t.toKey()),[4,K0e(r.localStore,t)]);case 1:return i=s.sent(),r.currentUser=t,function(u,d){u.ko.forEach(function(v){v.forEach(function(g){g.reject(new pt(Ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(r),r.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Ny(r,i.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function kje(e,t){var r=Rt(e),i=r.Co.get(t);if(i&&i.bo)return oi().add(i.key);var s=oi(),u=r.Vo.get(t);if(!u)return s;for(var d=0,v=u;d<v.length;d++){var g=v[d],w=r.Po.get(g);s=s.unionWith(w.view.wo)}return s}function Aje(e,t){return tt(this,void 0,void 0,function(){var r,i,s;return et(this,function(u){switch(u.label){case 0:return[4,u4((r=Rt(e)).localStore,t.query,!0)];case 1:return i=u.sent(),s=t.view.Ao(i),[2,(r.isPrimaryClient&&Cz(r,t.targetId,s.To),s)]}})})}function xje(e){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){return[2,Q0e((t=Rt(e)).localStore).then(function(i){return Ny(t,i)})]})})}function Oje(e,t,r,i){return tt(this,void 0,void 0,function(){var s,u;return et(this,function(d){switch(d.label){case 0:return[4,function(v,g){var w=Rt(v),S=Rt(w._n);return w.persistence.runTransaction("Lookup mutation documents","readonly",function(C){return S.jt(C,g).next(function(A){return A?w.Mn.pn(C,A):yt.resolve(null)})})}((s=Rt(e)).localStore,t)];case 1:return(u=d.sent())===null?[3,6]:r!=="pending"?[3,3]:[4,vI(s.remoteStore)];case 2:return d.sent(),[3,4];case 3:r==="acknowledged"||r==="rejected"?(gG(s,t,i||null),mG(s,t),function(v,g){Rt(Rt(v)._n).Gt(g)}(s.localStore,t)):Yt(),d.label=4;case 4:return[4,Ny(s,u)];case 5:return d.sent(),[3,7];case 6:It("SyncEngine","Cannot apply mutation batch with id: "+t),d.label=7;case 7:return[2]}})})}function Nje(e,t){return tt(this,void 0,void 0,function(){var r,i,s,u,d,v,g,w;return et(this,function(S){switch(S.label){case 0:return bG(r=Rt(e)),wG(r),t!==!0||r.$o===!0?[3,3]:(i=r.sharedClientState.getAllActiveQueryTargets(),[4,Ale(r,i.toArray())]);case 1:return s=S.sent(),r.$o=!0,[4,Iz(r.remoteStore,!0)];case 2:for(S.sent(),u=0,d=s;u<d.length;u++)v=d[u],Uj(r.remoteStore,v);return[3,7];case 3:return t!==!1||r.$o===!1?[3,7]:(g=[],w=Promise.resolve(),r.Vo.forEach(function(C,A){r.sharedClientState.isLocalQueryTarget(A)?g.push(A):w=w.then(function(){return WT(r,A),KT(r.localStore,A,!0)}),PN(r.remoteStore,A)}),[4,w]);case 4:return S.sent(),[4,Ale(r,g)];case 5:return S.sent(),function(C){var A=Rt(C);A.Co.forEach(function(L,M){PN(A.remoteStore,M)}),A.No.ts(),A.Co=new Map,A.Do=new Ja(en.comparator)}(r),r.$o=!1,[4,Iz(r.remoteStore,!1)];case 6:S.sent(),S.label=7;case 7:return[2]}})})}function Ale(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d,v,g,w,S,C,A,L,M,U,R;return et(this,function($){switch($.label){case 0:i=Rt(e),s=[],u=[],d=0,v=t,$.label=1;case 1:return d<v.length?(g=v[d],w=void 0,(S=i.Vo.get(g))&&S.length!==0?[4,a4(i.localStore,ip(S[0]))]:[3,7]):[3,13];case 2:w=$.sent(),C=0,A=S,$.label=3;case 3:return C<A.length?(L=A[C],M=i.Po.get(L),[4,Aje(i,M)]):[3,6];case 4:(U=$.sent()).snapshot&&u.push(U.snapshot),$.label=5;case 5:return C++,[3,3];case 6:return[3,11];case 7:return[4,G0e(i.localStore,g)];case 8:return R=$.sent(),[4,a4(i.localStore,R)];case 9:return w=$.sent(),[4,vG(i,lbe(R),g,!1)];case 10:$.sent(),$.label=11;case 11:s.push(w),$.label=12;case 12:return d++,[3,1];case 13:return[2,(i.vo._r(u),s)]}})})}function lbe(e){return a0e(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Pje(e){var t=Rt(e);return Rt(Rt(t.localStore).persistence).fn()}function Rje(e,t,r,i){return tt(this,void 0,void 0,function(){var s,u,d;return et(this,function(v){switch(v.label){case 0:return(s=Rt(e)).$o?(It("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(t))return[3,8];switch(r){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Q0e(s.localStore)];case 3:return u=v.sent(),d=JW.createSynthesizedRemoteEventForCurrentChange(t,r==="current"),[4,Ny(s,u,d)];case 4:return v.sent(),[3,8];case 5:return[4,KT(s.localStore,t,!0)];case 6:return v.sent(),WT(s,t,i),[3,8];case 7:Yt(),v.label=8;case 8:return[2]}})})}function Dje(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d,v,g,w,S,C,A;return et(this,function(L){switch(L.label){case 0:if(!(i=bG(e)).$o)return[3,10];s=0,u=t,L.label=1;case 1:return s<u.length?(d=u[s],i.Vo.has(d)?(It("SyncEngine","Adding an already active target "+d),[3,5]):[4,G0e(i.localStore,d)]):[3,6];case 2:return v=L.sent(),[4,a4(i.localStore,v)];case 3:return g=L.sent(),[4,vG(i,lbe(v),g.targetId,!1)];case 4:L.sent(),Uj(i.remoteStore,g),L.label=5;case 5:return s++,[3,1];case 6:w=function(M){return et(this,function(U){switch(U.label){case 0:return i.Vo.has(M)?[4,KT(i.localStore,M,!1).then(function(){PN(i.remoteStore,M),WT(i,M)}).catch(a_)]:[3,2];case 1:U.sent(),U.label=2;case 2:return[2]}})},S=0,C=r,L.label=7;case 7:return S<C.length?(A=C[S],[5,w(A)]):[3,10];case 8:L.sent(),L.label=9;case 9:return S++,[3,7];case 10:return[2]}})})}function bG(e){var t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ube.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kje.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_je.bind(null,t),t.vo._r=dje.bind(null,t.eventManager),t.vo.Mo=pje.bind(null,t.eventManager),t}function wG(e){var t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eje.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sje.bind(null,t),t}var hbe=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return tt(this,void 0,void 0,function(){return et(this,function(r){switch(r.label){case 0:return this.R=jj(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return r.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return z0e(this.persistence,new H0e,t.initialUser,this.R)},e.prototype.qo=function(t){return new H4e(K4e.bs,this.R)},e.prototype.Bo=function(t){return new Y0e},e.prototype.terminate=function(){return tt(this,void 0,void 0,function(){return et(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),fbe=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).Qo=r,u.cacheSizeBytes=i,u.forceOwnership=s,u.synchronizeTabs=!1,u}return on(t,e),t.prototype.initialize=function(r){return tt(this,void 0,void 0,function(){var i=this;return et(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,r)];case 1:return s.sent(),[4,j4e(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,r)];case 3:return s.sent(),[4,wG(this.Qo.syncEngine)];case 4:return s.sent(),[4,vI(this.Qo.remoteStore)];case 5:return s.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return s.sent(),[2]}})})},t.prototype.Ko=function(r){return z0e(this.persistence,new H0e,r.initialUser,this.R)},t.prototype.Uo=function(r){var i=this.persistence.referenceDelegate.garbageCollector;return new I4e(i,r.asyncQueue)},t.prototype.qo=function(r){var i=oG(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?Vd.withCacheSize(this.cacheSizeBytes):Vd.DEFAULT;return new N4e(this.synchronizeTabs,i,r.clientId,s,r.asyncQueue,X0e(),XF(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(r){return new Y0e},t}(hbe),Lje=function(e){function t(r,i){var s=this;return(s=e.call(this,r,i,!1)||this).Qo=r,s.cacheSizeBytes=i,s.synchronizeTabs=!0,s}return on(t,e),t.prototype.initialize=function(r){return tt(this,void 0,void 0,function(){var i,s=this;return et(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,r)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof k9?(this.sharedClientState.syncEngine={ui:Oje.bind(null,i),ai:Rje.bind(null,i),hi:Dje.bind(null,i),fn:Pje.bind(null,i),ci:xje.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(d){return tt(s,void 0,void 0,function(){return et(this,function(v){switch(v.label){case 0:return[4,Nje(this.Qo.syncEngine,d)];case 1:return v.sent(),this.gcScheduler&&(d&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):d||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(r){var i=X0e();if(!k9.yt(i))throw new pt(Ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=oG(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new k9(i,r.asyncQueue,s,r.clientId,r.initialUser)},t}(fbe),kz=function(){function e(){}return e.prototype.initialize=function(t,r){return tt(this,void 0,void 0,function(){var i=this;return et(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return kle(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cje.bind(null,this.syncEngine),[4,Iz(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new fje},e.prototype.createDatastore=function(t){var r,i=jj(t.databaseInfo.databaseId),s=(r=t.databaseInfo,new X4e(r));return function(u,d,v){return new eje(u,d,v)}(t.credentials,s,i)},e.prototype.createRemoteStore=function(t){var r,i,s,u,d,v=this;return r=this.localStore,i=this.datastore,s=t.asyncQueue,u=function(g){return kle(v.syncEngine,g,0)},d=Ile.yt()?new Ile:new G4e,new nje(r,i,s,u,d)},e.prototype.createSyncEngine=function(t,r){return function(i,s,u,d,v,g,w){var S=new gje(i,s,u,d,v,g);return w&&(S.$o=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)},e.prototype.terminate=function(){return function(t){return tt(this,void 0,void 0,function(){var r;return et(this,function(i){switch(i.label){case 0:return r=Rt(t),It("RemoteStore","RemoteStore shutting down."),r.Or.add(5),[4,pI(r)];case 1:return i.sent(),r.Lr.shutdown(),r.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $j=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,r){var i=this;this.muted||setTimeout(function(){i.muted||t(r)},0)},e}(),Mje=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return tt(this,void 0,void 0,function(){var r,i=this;return et(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pt(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,d){return tt(this,void 0,void 0,function(){var v,g,w,S,C,A;return et(this,function(L){switch(L.label){case 0:return v=Rt(u),g=NN(v.R)+"/documents",w={documents:d.map(function(M){return ON(v.R,M)})},[4,v.$i("BatchGetDocuments",g,w)];case 1:return S=L.sent(),C=new Map,S.forEach(function(M){var U=function(R,$){return"found"in $?function(B,G){wn(!!G.found),G.found.name,G.found.updateTime;var H=$v(B,G.found.name),Z=Ru(G.found.updateTime),Y=new hl({mapValue:{fields:G.found.fields}});return Ya.newFoundDocument(H,Z,Y)}(R,$):"missing"in $?function(B,G){wn(!!G.missing),wn(!!G.readTime);var H=$v(B,G.missing),Z=Ru(G.readTime);return Ya.newNoDocument(H,Z)}(R,$):Yt()}(v.R,M);C.set(U.key.toString(),U)}),A=[],[2,(d.forEach(function(M){var U=C.get(M.toString());wn(!!U),A.push(U)}),A)]}})})}(this.datastore,t)];case 1:return[2,((r=s.sent()).forEach(function(u){return i.recordVersion(u)}),r)]}})})},e.prototype.set=function(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new RP(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return tt(this,void 0,void 0,function(){var t,r=this;return et(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(s){t.delete(s.key.toString())}),t.forEach(function(s,u){var d=en.fromPath(u);r.mutations.push(new XW(d,r.precondition(d)))}),[4,function(s,u){return tt(this,void 0,void 0,function(){var d,v,g;return et(this,function(w){switch(w.label){case 0:return d=Rt(s),v=NN(d.R)+"/documents",g={writes:u.map(function(S){return i4(d.R,S)})},[4,d.Ni("Commit",v,g)];case 1:return w.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw Yt();r=Hn.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!r.isEqual(i))throw new pt(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)},e.prototype.precondition=function(t){var r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?Ha.updateTime(r):Ha.none()},e.prototype.preconditionForUpdate=function(t){var r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(Hn.min()))throw new pt(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ha.updateTime(r)}return Ha.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Fje=function(){function e(t,r,i,s){this.asyncQueue=t,this.datastore=r,this.updateFunction=i,this.deferred=s,this.ec=5,this.Zi=new aG(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return tt(t,void 0,void 0,function(){var r,i,s=this;return et(this,function(u){return r=new Mje(this.datastore),(i=this.sc(r))&&i.then(function(d){s.asyncQueue.enqueueAndForget(function(){return r.commit().then(function(){s.deferred.resolve(d)}).catch(function(v){s.ic(v)})})}).catch(function(d){s.ic(d)}),[2]})})})},e.prototype.sc=function(t){try{var r=this.updateFunction(t);return!o_(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var r=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return r.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var r=t.code;return r==="aborted"||r==="failed-precondition"||!b0e(r)}return!1},e}(),jje=function(){function e(t,r,i){var s=this;this.credentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=aa.UNAUTHENTICATED,this.clientId=Zye.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(r,function(u){return tt(s,void 0,void 0,function(){return et(this,function(d){switch(d.label){case 0:return It("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return d.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return tt(this,void 0,void 0,function(){return et(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var r=new Sc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return tt(t,void 0,void 0,function(){var i,s;return et(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),r.resolve(),[3,6];case 5:return i=u.sent(),s=gI(i,"Failed to shutdown persistence"),r.reject(s),[3,6];case 6:return[2]}})})}),r.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dbe(e,t){return tt(this,void 0,void 0,function(){var r,i,s=this;return et(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return r=u.sent(),[4,t.initialize(r)];case 2:return u.sent(),i=r.initialUser,e.setCredentialChangeListener(function(d){return tt(s,void 0,void 0,function(){return et(this,function(v){switch(v.label){case 0:return i.isEqual(d)?[3,2]:[4,K0e(t.localStore,d)];case 1:v.sent(),i=d,v.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function pbe(e,t){return tt(this,void 0,void 0,function(){var r,i;return et(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,_G(e)];case 1:return r=s.sent(),It("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=s.sent(),[4,t.initialize(r,i)];case 3:return s.sent(),e.setCredentialChangeListener(function(u){return function(d,v){return tt(this,void 0,void 0,function(){var g,w;return et(this,function(S){switch(S.label){case 0:return(g=Rt(d)).asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials"),w=Oy(g),g.Or.add(3),[4,pI(g)];case 1:return S.sent(),w&&g.Br.set("Unknown"),[4,g.remoteSyncer.handleCredentialChange(v)];case 2:return S.sent(),g.Or.delete(3),[4,DP(g)];case 3:return S.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function _G(e){return tt(this,void 0,void 0,function(){return et(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(It("FirestoreClient","Using default OfflineComponentProvider"),[4,dbe(e,new hbe)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Vj(e){return tt(this,void 0,void 0,function(){return et(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(It("FirestoreClient","Using default OnlineComponentProvider"),[4,pbe(e,new kz)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function xle(e){return _G(e).then(function(t){return t.persistence})}function vbe(e){return _G(e).then(function(t){return t.localStore})}function Ole(e){return Vj(e).then(function(t){return t.remoteStore})}function mbe(e){return Vj(e).then(function(t){return t.syncEngine})}function GT(e){return tt(this,void 0,void 0,function(){var t,r;return et(this,function(i){switch(i.label){case 0:return[4,Vj(e)];case 1:return t=i.sent(),[2,((r=t.eventManager).onListen=yje.bind(null,t.syncEngine),r.onUnlisten=bje.bind(null,t.syncEngine),r)]}})})}function Nle(e,t,r){var i=this;r===void 0&&(r={});var s=new Sc;return e.asyncQueue.enqueueAndForget(function(){return tt(i,void 0,void 0,function(){var u;return et(this,function(d){switch(d.label){case 0:return u=function(v,g,w,S,C){var A=new $j({next:function(M){g.enqueueAndForget(function(){return fG(v,L)});var U=M.docs.has(w);!U&&M.fromCache?C.reject(new pt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&S&&S.source==="server"?C.reject(new pt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(M)},error:function(M){return C.reject(M)}}),L=new pG(AP(w.path),A,{includeMetadataChanges:!0,so:!0});return hG(v,L)},[4,GT(e)];case 1:return[2,u.apply(void 0,[d.sent(),e.asyncQueue,t,r,s])]}})})}),s.promise}function Ple(e,t,r){var i=this;r===void 0&&(r={});var s=new Sc;return e.asyncQueue.enqueueAndForget(function(){return tt(i,void 0,void 0,function(){var u;return et(this,function(d){switch(d.label){case 0:return u=function(v,g,w,S,C){var A=new $j({next:function(M){g.enqueueAndForget(function(){return fG(v,L)}),M.fromCache&&S.source==="server"?C.reject(new pt(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(M)},error:function(M){return C.reject(M)}}),L=new pG(w,A,{includeMetadataChanges:!0,so:!0});return hG(v,L)},[4,GT(e)];case 1:return[2,u.apply(void 0,[d.sent(),e.asyncQueue,t,r,s])]}})})}),s.promise}var Uje=function(e,t,r,i,s,u,d,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.useFetchStreams=v},h4=function(){function e(t,r){this.projectId=t,this.database=r||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Rle=new Map,gbe=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Dle=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,r){this.changeListener=r,t.enqueueRetryable(function(){return r(aa.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),$je=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,r){var i=this;this.changeListener=r,t.enqueueRetryable(function(){return r(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Vje=function(){function e(t){var r=this;this.currentUser=aa.UNAUTHENTICATED,this.oc=new Sc,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){r.cc++,r.currentUser=r.ac(),r.oc.resolve(),r.changeListener&&r.asyncQueue.enqueueRetryable(function(){return r.changeListener(r.currentUser)})};var i=function(s){It("FirebaseCredentialsProvider","Auth detected"),r.auth=s,r.auth.addAuthTokenListener(r.uc)};t.onInit(function(s){return i(s)}),setTimeout(function(){if(!r.auth){var s=t.getImmediate({optional:!0});s?i(s):(It("FirebaseCredentialsProvider","Auth not yet detected"),r.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,r=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(s){return t.cc!==r?(It("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):s?(wn(typeof s.accessToken=="string"),new gbe(s.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,r){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return tt(i,void 0,void 0,function(){return et(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,r(this.currentUser)];case 2:return s.sent(),this.changeListener=r,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return wn(t===null||typeof t=="string"),new aa(t)},e}(),qje=function(){function e(t,r,i){this.hc=t,this.lc=r,this.fc=i,this.type="FirstParty",this.user=aa.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},r=this.hc.auth.getAuthHeaderValueForFirstParty([]);return r&&(t.Authorization=r),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),Bje=function(){function e(t,r,i){this.hc=t,this.lc=r,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new qje(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,r){t.enqueueRetryable(function(){return r(aa.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(e,t,r){if(!r)throw new pt(Ve.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function SG(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function ybe(e,t,r,i){if(t===!0&&i===!0)throw new pt(Ve.INVALID_ARGUMENT,e+" and "+r+" cannot be used together.")}function Lle(e){if(!en.isDocumentKey(e))throw new pt(Ve.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Mle(e){if(en.isDocumentKey(e))throw new pt(Ve.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function qj(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(r){if(r.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(r.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Yt()}function Ar(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var r=qj(e);throw new pt(Ve.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+r)}return e}function Fle(e,t){if(t<=0)throw new pt(Ve.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jle=function(){function e(t){var r;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new pt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ybe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),RN=function(){function e(t,r){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jle({}),this._settingsFrozen=!1,t instanceof h4?(this._databaseId=t,this._credentials=new Dle):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new pt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h4(i.options.projectId)}(t),this._credentials=new Vje(r))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new pt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new pt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jle(t),t.credentials!==void 0&&(this._credentials=function(r){if(!r)return new Dle;switch(r.type){case"gapi":var i=r.client;return wn(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Bje(i,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new pt(Ve.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(r=Rle.get(t))&&(It("ComponentProvider","Removing Datastore"),Rle.delete(t),r.terminate()),Promise.resolve();var t,r},e}(),ji=function(){function e(t,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ml=function(){function e(t,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),hy=function(e){function t(r,i,s){var u=this;return(u=e.call(this,r,i,AP(s))||this)._path=s,u.type="collection",u}return on(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var r=this._path.popLast();return r.isEmpty()?null:new ji(this.firestore,null,new en(r))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(r){return new t(this.firestore,r,this._path)},t}(ml);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bbe(e,t){for(var r,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(e=Vr(e),EG("collection","path",t),e instanceof RN)return Mle(r=Tr.fromString.apply(Tr,ki([t],i))),new hy(e,null,r);if(!(e instanceof ji||e instanceof hy))throw new pt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Mle(r=Tr.fromString.apply(Tr,ki([e.path],i)).child(Tr.fromString(t))),new hy(e.firestore,null,r)}function JF(e,t){for(var r,i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(e=Vr(e),arguments.length===1&&(t=Zye.u()),EG("doc","path",t),e instanceof RN)return Lle(r=Tr.fromString.apply(Tr,ki([t],i))),new ji(e,null,new en(r));if(!(e instanceof ji||e instanceof hy))throw new pt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lle(r=e._path.child(Tr.fromString.apply(Tr,ki([t],i)))),new ji(e.firestore,e instanceof hy?e.converter:null,new en(r))}function wbe(e,t){return e=Vr(e),t=Vr(t),(e instanceof ji||e instanceof hy)&&(t instanceof ji||t instanceof hy)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function _be(e,t){return e=Vr(e),t=Vr(t),e instanceof ml&&t instanceof ml&&e.firestore===t.firestore&&xP(e._query,t._query)&&e.converter===t.converter}var Hje=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new aG(this,"async_queue_retry"),this.Ic=function(){var i=XF();i&&It("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var r=XF();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var r=XF();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var r=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Sc;return this.Rc(function(){return r._c&&r.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var r=this;this.enqueueAndForget(function(){return r.wc.push(t),r.bc()})},e.prototype.bc=function(){return tt(this,void 0,void 0,function(){var t,r=this;return et(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!s_(t=i.sent()))throw t;return It("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return r.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var r=this,i=this.dc.then(function(){return r.gc=!0,t().catch(function(s){throw r.yc=s,r.gc=!1,Ro("INTERNAL UNHANDLED ERROR: ",function(u){var d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(s)),s}).then(function(s){return r.gc=!1,s})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,r,i){var s=this;this.Ac(),this.Tc.indexOf(t)>-1&&(r=0);var u=lje.createAndSchedule(this,t,r,i,function(d){return s.vc(d)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&Yt()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){switch(r.label){case 0:return[4,t=this.dc];case 1:r.sent(),r.label=2;case 2:if(t!==this.dc)return[3,0];r.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var r=0,i=this.mc;r<i.length;r++)if(i[r].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var r=this;return this.Pc().then(function(){r.mc.sort(function(d,v){return d.targetTimeMs-v.targetTimeMs});for(var i=0,s=r.mc;i<s.length;i++){var u=s[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return r.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var r=this.mc.indexOf(t);this.mc.splice(r,1)},e}();function QT(e){return function(t,r){if(typeof t!="object"||t===null)return!1;for(var i=t,s=0,u=["next","error","complete"];s<u.length;s++){var d=u[s];if(d in i&&typeof i[d]=="function")return!0}return!1}(e)}var zje=-1,es=function(e){function t(r,i){var s=this;return(s=e.call(this,r,i)||this).type="firestore",s._queue=new Hje,s._persistenceKey="name"in r?r.name:"[DEFAULT]",s}return on(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ebe(this),this._firestoreClient.terminate()},t}(RN);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){return e._firestoreClient||Ebe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ebe(e){var t,r=e._freezeSettings(),i=function(s,u,d,v){return new Uje(s,u,d,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new jje(e._credentials,e._queue,i)}function Ule(e,t,r){var i=this,s=new Sc;return e.asyncQueue.enqueue(function(){return tt(i,void 0,void 0,function(){var u;return et(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,dbe(e,r)];case 1:return d.sent(),[4,pbe(e,t)];case 2:return d.sent(),s.resolve(),[3,4];case 3:if(!function(v){return v.name==="FirebaseError"?v.code===Ve.FAILED_PRECONDITION||v.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||v.code===22||v.code===20||v.code===11}(u=d.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return s.promise})}function $le(e){if(e._initialized||e._terminated)throw new pt(Ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd=function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new If(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),zw=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Ec.fromBase64String(t))}catch(r){throw new pt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}},e.fromUint8Array=function(t){return new e(Ec.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),u_=function(e){this._methodName=e},Bj=function(){function e(t,r){if(!isFinite(t)||t<-90||t>90)throw new pt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new pt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return er(this._lat,t._lat)||er(this._long,t._long)},e}(),Kje=/^__.*__$/,Wje=function(){function e(t,r,i){this.data=t,this.fieldMask=r,this.fieldTransforms=i}return e.prototype.toMutation=function(t,r){return this.fieldMask!==null?new xy(t,this.data,this.fieldMask,r,this.fieldTransforms):new PP(t,this.data,r,this.fieldTransforms)},e}(),Sbe=function(){function e(t,r,i){this.data=t,this.fieldMask=r,this.fieldTransforms=i}return e.prototype.toMutation=function(t,r){return new xy(t,this.data,this.fieldMask,r,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tbe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}var Ibe=function(){function e(t,r,i,s,u,d){this.settings=t,this.databaseId=r,this.R=i,this.ignoreUndefinedProperties=s,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var r,i=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.xc({path:i,Fc:!1});return s.$c(t),s},e.prototype.Oc=function(t){var r,i=(r=this.path)===null||r===void 0?void 0:r.child(t),s=this.xc({path:i,Fc:!1});return s.Cc(),s},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return f4(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(r){return t.isPrefixOf(r)})!==void 0||this.fieldTransforms.find(function(r){return t.isPrefixOf(r.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Tbe(this.Nc)&&Kje.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Gje=function(){function e(t,r,i){this.databaseId=t,this.ignoreUndefinedProperties=r,this.R=i||jj(t)}return e.prototype.Uc=function(t,r,i,s){return s===void 0&&(s=!1),new Ibe({Nc:t,methodName:r,qc:i,path:If.emptyPath(),Fc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function c_(e){var t=e._freezeSettings(),r=jj(e._databaseId);return new Gje(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Hj(e,t,r,i,s,u){u===void 0&&(u={});var d=e.Uc(u.merge||u.mergeFields?2:0,t,r,s);kG("Data must be an object, but it was:",d,i);var v,g,w=Abe(i,d);if(u.merge)v=new LT(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){for(var S=[],C=0,A=u.mergeFields;C<A.length;C++){var L=Az(t,A[C],r);if(!d.contains(L))throw new pt(Ve.INVALID_ARGUMENT,"Field '"+L+"' is specified in your field mask but missing from your input data.");Obe(S,L)||S.push(L)}v=new LT(S),g=d.fieldTransforms.filter(function(M){return v.covers(M.field)})}else v=null,g=d.fieldTransforms;return new Wje(new hl(w),v,g)}var TG=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype._toFieldTransform=function(r){if(r.Nc!==2)throw r.Nc===1?r.Lc(this._methodName+"() can only appear at the top level of your update data"):r.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return r.fieldMask.push(r.path),null},t.prototype.isEqual=function(r){return r instanceof t},t}(u_);function Cbe(e,t,r){return new Ibe({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:r},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Qje=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype._toFieldTransform=function(r){return new NP(r.path,new UT)},t.prototype.isEqual=function(r){return r instanceof t},t}(u_),Yje=function(e){function t(r,i){var s=this;return(s=e.call(this,r)||this).Kc=i,s}return on(t,e),t.prototype._toFieldTransform=function(r){var i=Cbe(this,r,!0),s=this.Kc.map(function(d){return l_(d,i)}),u=new Bw(s);return new NP(r.path,u)},t.prototype.isEqual=function(r){return this===r},t}(u_),Xje=function(e){function t(r,i){var s=this;return(s=e.call(this,r)||this).Kc=i,s}return on(t,e),t.prototype._toFieldTransform=function(r){var i=Cbe(this,r,!0),s=this.Kc.map(function(d){return l_(d,i)}),u=new Hw(s);return new NP(r.path,u)},t.prototype.isEqual=function(r){return this===r},t}(u_),Jje=function(e){function t(r,i){var s=this;return(s=e.call(this,r)||this).Qc=i,s}return on(t,e),t.prototype._toFieldTransform=function(r){var i=new $T(r.R,d0e(r.R,this.Qc));return new NP(r.path,i)},t.prototype.isEqual=function(r){return this===r},t}(u_);function IG(e,t,r,i){var s=e.Uc(1,t,r);kG("Data must be an object, but it was:",s,i);var u=[],d=hl.empty();i_(i,function(g,w){var S=AG(t,g,r);w=Vr(w);var C=s.Oc(S);if(w instanceof TG)u.push(S);else{var A=l_(w,C);A!=null&&(u.push(S),d.set(S,A))}});var v=new LT(u);return new Sbe(d,v,s.fieldTransforms)}function CG(e,t,r,i,s,u){var d=e.Uc(1,t,r),v=[Az(t,i,r)],g=[s];if(u.length%2!=0)throw new pt(Ve.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var w=0;w<u.length;w+=2)v.push(Az(t,u[w])),g.push(u[w+1]);for(var S=[],C=hl.empty(),A=v.length-1;A>=0;--A)if(!Obe(S,v[A])){var L=v[A],M=g[A];M=Vr(M);var U=d.Oc(L);if(M instanceof TG)S.push(L);else{var R=l_(M,U);R!=null&&(S.push(L),C.set(L,R))}}var $=new LT(S);return new Sbe(C,$,d.fieldTransforms)}function kbe(e,t,r,i){return i===void 0&&(i=!1),l_(r,e.Uc(i?4:3,t))}function l_(e,t){if(xbe(e=Vr(e)))return kG("Unsupported field value:",t,e),Abe(e,t);if(e instanceof u_)return function(r,i){if(!Tbe(i.Nc))throw i.Lc(r._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(r._methodName+"() is not currently supported inside arrays");var s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(r,i){for(var s=[],u=0,d=0,v=r;d<v.length;d++){var g=l_(v[d],i.Mc(u));g==null&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d0e(i.R,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){var s=_c.fromDate(r);return{timestampValue:xN(i.R,s)}}if(r instanceof _c)return s=new _c(r.seconds,1e3*Math.floor(r.nanoseconds/1e3)),{timestampValue:xN(i.R,s)};if(r instanceof Bj)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zw)return{bytesValue:S0e(i.R,r._byteString)};if(r instanceof ji){s=i.databaseId;var u=r.firestore._databaseId;if(!u.isEqual(s))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:eG(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Lc("Unsupported field value: "+qj(r))}(e,t)}function Abe(e,t){var r={};return t0e(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):i_(e,function(i,s){var u=l_(s,t.kc(i));u!=null&&(r[i]=u)}),{mapValue:{fields:r}}}function xbe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof _c||e instanceof Bj||e instanceof zw||e instanceof ji||e instanceof u_)}function kG(e,t,r){if(!xbe(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){var i=qj(r);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Az(e,t,r){if((t=Vr(t))instanceof Jd)return t._internalPath;if(typeof t=="string")return AG(e,t);throw f4("Field path arguments must be of type string or FieldPath.",e,!1,void 0,r)}var Zje=new RegExp("[~\\*/\\[\\]]");function AG(e,t,r){if(t.search(Zje)>=0)throw f4("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,r);try{return new(Jd.bind.apply(Jd,ki([void 0],t.split("."))))()._internalPath}catch{throw f4("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,r)}}function f4(e,t,r,i,s){var u=i&&!i.isEmpty(),d=s!==void 0,v="Function "+t+"() called with invalid data";r&&(v+=" (via `toFirestore()`)");var g="";return(u||d)&&(g+=" (found",u&&(g+=" in field "+i),d&&(g+=" in document "+s),g+=")"),new pt(Ve.INVALID_ARGUMENT,(v+=". ")+e+g)}function Obe(e,t){return e.some(function(r){return r.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DN=function(){function e(t,r,i,s,u){this._firestore=t,this._userDataWriter=r,this._key=i,this._document=s,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ji(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new eUe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var r=this._document.data.field(d4("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}},e}(),eUe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(DN);function d4(e,t){return typeof t=="string"?AG(e,t):t instanceof Jd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cw=function(){function e(t,r){this.hasPendingWrites=t,this.fromCache=r}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),qv=function(e){function t(r,i,s,u,d,v){var g=this;return(g=e.call(this,r,i,s,u,v)||this)._firestore=r,g._firestoreImpl=r,g.metadata=d,g}return on(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(r){if(r===void 0&&(r={}),this._document){if(this._converter){var i=new BO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}},t.prototype.get=function(r,i){if(i===void 0&&(i={}),this._document){var s=this._document.data.field(d4("DocumentSnapshot.get",r));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}},t}(DN),BO=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype.data=function(r){return r===void 0&&(r={}),e.prototype.data.call(this,r)},t}(qv),Kg=function(){function e(t,r,i,s){this._firestore=t,this._userDataWriter=r,this._snapshot=s,this.metadata=new Cw(s.hasPendingWrites,s.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(r){return t.push(r)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,r){var i=this;this._snapshot.docs.forEach(function(s){t.call(r,new BO(i._firestore,i._userDataWriter,s.key,s,new Cw(i._snapshot.mutatedKeys.has(s.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pt(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(v){return{type:"added",doc:new BO(i._firestore,i._userDataWriter,v.doc.key,v.doc,new Cw(i._snapshot.mutatedKeys.has(v.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(v){return s||v.type!==3}).map(function(v){var g=new BO(i._firestore,i._userDataWriter,v.doc.key,v.doc,new Cw(i._snapshot.mutatedKeys.has(v.doc.key),i._snapshot.fromCache),i.query.converter),w=-1,S=-1;return v.type!==0&&(w=d.indexOf(v.doc.key),d=d.delete(v.doc.key)),v.type!==1&&(S=(d=d.add(v.doc)).indexOf(v.doc.key)),{type:tUe(v.type),doc:g,oldIndex:w,newIndex:S}})}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges},e}();function tUe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function Nbe(e,t){return e instanceof qv&&t instanceof qv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Kg&&t instanceof Kg&&e._firestore===t._firestore&&_be(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pbe(e){if(r4(e)&&e.explicitOrderBy.length===0)throw new pt(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var LP=function(){};function Lg(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var u=s[i];e=u._apply(e)}return e}var nUe=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).jc=r,u.Wc=i,u.Gc=s,u.type="where",u}return on(t,e),t.prototype._apply=function(r){var i=c_(r.firestore),s=function(u,d,v,g,w,S,C){var A;if(w.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new pt(Ve.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+S+"' queries on FieldPath.documentId().");if(S==="in"||S==="not-in"){zle(C,S);for(var L=[],M=0,U=C;M<U.length;M++){var R=U[M];L.push(Hle(g,u,R))}A={arrayValue:{values:L}}}else A=Hle(g,u,C)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||zle(C,S),A=kbe(v,"where",C,S==="in"||S==="not-in");var $=pl.create(w,S,A);return function(B,G){if(G.g()){var H=QW(B);if(H!==null&&!H.isEqual(G.field))throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+H.toString()+"' and '"+G.field.toString()+"'");var Z=GW(B);Z!==null&&Dbe(B,G.field,Z)}var Y=function(ce,ye){for(var xe=0,re=ce.filters;xe<re.length;xe++){var ut=re[xe];if(ye.indexOf(ut.op)>=0)return ut.op}return null}(B,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(Y!==null)throw Y===G.op?new pt(Ve.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+G.op.toString()+"' filter."):new pt(Ve.INVALID_ARGUMENT,"Invalid query. You cannot use '"+G.op.toString()+"' filters with '"+Y.toString()+"' filters.")}(u,$),$}(r._query,0,i,r.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ml(r.firestore,r.converter,function(u,d){var v=u.filters.concat([d]);return new Qv(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(r._query,s))},t}(LP),rUe=function(e){function t(r,i){var s=this;return(s=e.call(this)||this).jc=r,s.zc=i,s.type="orderBy",s}return on(t,e),t.prototype._apply=function(r){var i=function(s,u,d){if(s.startAt!==null)throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var v=new wT(u,d);return function(g,w){if(GW(g)===null){var S=QW(g);S!==null&&Dbe(g,S,w.field)}}(s,v),v}(r._query,this.jc,this.zc);return new ml(r.firestore,r.converter,function(s,u){var d=s.explicitOrderBy.concat([u]);return new Qv(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(r._query,i))},t}(LP),Vle=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).type=r,u.Hc=i,u.Jc=s,u}return on(t,e),t.prototype._apply=function(r){return new ml(r.firestore,r.converter,u0e(r._query,this.Hc,this.Jc))},t}(LP),qle=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).type=r,u.Yc=i,u.Xc=s,u}return on(t,e),t.prototype._apply=function(r){var i=Rbe(r,this.type,this.Yc,this.Xc);return new ml(r.firestore,r.converter,function(s,u){return new Qv(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)}(r._query,i))},t}(LP),Ble=function(e){function t(r,i,s){var u=this;return(u=e.call(this)||this).type=r,u.Yc=i,u.Xc=s,u}return on(t,e),t.prototype._apply=function(r){var i=Rbe(r,this.type,this.Yc,this.Xc);return new ml(r.firestore,r.converter,function(s,u){return new Qv(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)}(r._query,i))},t}(LP);function Rbe(e,t,r,i){if(r[0]=Vr(r[0]),r[0]instanceof DN)return function(u,d,v,g,w){if(!g)throw new pt(Ve.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+v+"().");for(var S=[],C=0,A=jT(u);C<A.length;C++){var L=A[C];if(L.field.isKeyField())S.push(e4(d,g.key));else{var M=g.data.field(L.field);if(zW(M))throw new pt(Ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+L.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(M===null){var U=L.field.canonicalString();throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+U+"' (used as the orderBy) does not exist.")}S.push(M)}}return new AN(S,w)}(e._query,e.firestore._databaseId,t,r[0]._document,i);var s=c_(e.firestore);return function(u,d,v,g,w,S){var C=u.explicitOrderBy;if(w.length>C.length)throw new pt(Ve.INVALID_ARGUMENT,"Too many arguments provided to "+g+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var A=[],L=0;L<w.length;L++){var M=w[L];if(C[L].field.isKeyField()){if(typeof M!="string")throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+g+"(), but got a "+typeof M);if(!YW(u)&&M.indexOf("/")!==-1)throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+g+"() must be a plain document ID, but '"+M+"' contains a slash.");var U=u.path.child(Tr.fromString(M));if(!en.isDocumentKey(U))throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+g+"() must result in a valid document path, but '"+U+"' is not because it contains an odd number of segments.");var R=new en(U);A.push(e4(d,R))}else{var $=kbe(v,g,M);A.push($)}}return new AN(A,S)}(e._query,e.firestore._databaseId,s,t,r,i)}function Hle(e,t,r){if(typeof(r=Vr(r))=="string"){if(r==="")throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!YW(t)&&r.indexOf("/")!==-1)throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+r+"' contains a '/' character.");var i=t.path.child(Tr.fromString(r));if(!en.isDocumentKey(i))throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return e4(e,new en(i))}if(r instanceof ji)return e4(e,r._key);throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qj(r)+".")}function zle(e,t){if(!Array.isArray(e)||e.length===0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new pt(Ve.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Dbe(e,t,r){if(!r.isEqual(t))throw new pt(Ve.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+r.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xG=function(){function e(){}return e.prototype.convertValue=function(t,r){switch(r===void 0&&(r="none"),qw(t)){case 0:return null;case 1:return t.booleanValue;case 2:return No(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(MT(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw Yt()}},e.prototype.convertObject=function(t,r){var i=this,s={};return i_(t.fields,function(u,d){s[u]=i.convertValue(d,r)}),s},e.prototype.convertGeoPoint=function(t){return new Bj(No(t.latitude),No(t.longitude))},e.prototype.convertArray=function(t,r){var i=this;return(t.values||[]).map(function(s){return i.convertValue(s,r)})},e.prototype.convertServerTimestamp=function(t,r){switch(r){case"previous":var i=r0e(t);return i==null?null:this.convertValue(i,r);case"estimate":return this.convertTimestamp(CN(t));default:return null}},e.prototype.convertTimestamp=function(t){var r=wy(t);return new _c(r.seconds,r.nanos)},e.prototype.convertDocumentKey=function(t,r){var i=Tr.fromString(t);wn(N0e(i));var s=new h4(i.get(1),i.get(3)),u=new en(i.popFirst(5));return s.isEqual(r)||Ro("Document "+u+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}var iUe=function(e){function t(r){var i=this;return(i=e.call(this)||this).firestore=r,i}return on(t,e),t.prototype.convertBytes=function(r){return new zw(r)},t.prototype.convertReference=function(r){var i=this.convertDocumentKey(r,this.firestore._databaseId);return new ji(this.firestore,null,i)},t}(xG),oUe=function(){function e(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=c_(t)}return e.prototype.set=function(t,r,i){this._verifyNotCommitted();var s=Wg(t,this._firestore),u=zj(s.converter,r,i),d=Hj(this._dataReader,"WriteBatch.set",s._key,u,s.converter!==null,i);return this._mutations.push(d.toMutation(s._key,Ha.none())),this},e.prototype.update=function(t,r,i){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this._verifyNotCommitted();var d,v=Wg(t,this._firestore);return d=typeof(r=Vr(r))=="string"||r instanceof Jd?CG(this._dataReader,"WriteBatch.update",v._key,r,i,s):IG(this._dataReader,"WriteBatch.update",v._key,r),this._mutations.push(d.toMutation(v._key,Ha.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var r=Wg(t,this._firestore);return this._mutations=this._mutations.concat(new RP(r._key,Ha.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new pt(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e,t){if((e=Vr(e)).firestore!==t)throw new pt(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nw=function(e){function t(r){var i=this;return(i=e.call(this)||this).firestore=r,i}return on(t,e),t.prototype.convertBytes=function(r){return new zw(r)},t.prototype.convertReference=function(r){var i=this.convertDocumentKey(r,this.firestore._databaseId);return new ji(this.firestore,null,i)},t}(xG);function Kle(e,t,r){e=Ar(e,ji);var i=Ar(e.firestore,es),s=zj(e.converter,t,r);return MP(i,[Hj(c_(i),"setDoc",e._key,s,e.converter!==null,r).toMutation(e._key,Ha.none())])}function Wle(e,t,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];e=Ar(e,ji);var u=Ar(e.firestore,es),d=c_(u);return MP(u,[(typeof(t=Vr(t))=="string"||t instanceof Jd?CG(d,"updateDoc",e._key,t,r,i):IG(d,"updateDoc",e._key,t)).toMutation(e._key,Ha.exists(!0))])}function Lbe(e){for(var t,r,i,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];e=Vr(e);var d={includeMetadataChanges:!1},v=0;typeof s[v]!="object"||QT(s[v])||(d=s[v],v++);var g,w,S,C={includeMetadataChanges:d.includeMetadataChanges};if(QT(s[v])){var A=s[v];s[v]=(t=A.next)===null||t===void 0?void 0:t.bind(A),s[v+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),s[v+2]=(i=A.complete)===null||i===void 0?void 0:i.bind(A)}if(e instanceof ji)w=Ar(e.firestore,es),S=AP(e._key.path),g={next:function(U){s[v]&&s[v](xz(w,e,U))},error:s[v+1],complete:s[v+2]};else{var L=Ar(e,ml);w=Ar(L.firestore,es),S=L._query;var M=new Nw(w);g={next:function(U){s[v]&&s[v](new Kg(w,M,L,U))},error:s[v+1],complete:s[v+2]},Pbe(e._query)}return function(U,R,$,B){var G=this,H=new $j(B),Z=new pG(R,H,$);return U.asyncQueue.enqueueAndForget(function(){return tt(G,void 0,void 0,function(){var Y;return et(this,function(ce){switch(ce.label){case 0:return Y=hG,[4,GT(U)];case 1:return[2,Y.apply(void 0,[ce.sent(),Z])]}})})}),function(){H.Wo(),U.asyncQueue.enqueueAndForget(function(){return tt(G,void 0,void 0,function(){var Y;return et(this,function(ce){switch(ce.label){case 0:return Y=fG,[4,GT(U)];case 1:return[2,Y.apply(void 0,[ce.sent(),Z])]}})})})}}(qa(w),S,C,g)}function MP(e,t){return function(r,i){var s=this,u=new Sc;return r.asyncQueue.enqueueAndForget(function(){return tt(s,void 0,void 0,function(){var d;return et(this,function(v){switch(v.label){case 0:return d=wje,[4,mbe(r)];case 1:return[2,d.apply(void 0,[v.sent(),i,u])]}})})}),u.promise}(qa(e),t)}function xz(e,t,r){var i=r.docs.get(t._key),s=new Nw(e);return new qv(e,s,t._key,i,new Cw(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sUe=function(e){function t(r,i){var s=this;return(s=e.call(this,r,i)||this)._firestore=r,s}return on(t,e),t.prototype.get=function(r){var i=this,s=Wg(r,this._firestore),u=new Nw(this._firestore);return e.prototype.get.call(this,r).then(function(d){return new qv(i._firestore,u,s._key,d._document,new Cw(!1,!1),s.converter)})},t}(function(){function e(t,r){this._firestore=t,this._transaction=r,this._dataReader=c_(t)}return e.prototype.get=function(t){var r=this,i=Wg(t,this._firestore),s=new iUe(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return Yt();var d=u[0];if(d.isFoundDocument())return new DN(r._firestore,s,d.key,d,i.converter);if(d.isNoDocument())return new DN(r._firestore,s,i._key,null,i.converter);throw Yt()})},e.prototype.set=function(t,r,i){var s=Wg(t,this._firestore),u=zj(s.converter,r,i),d=Hj(this._dataReader,"Transaction.set",s._key,u,s.converter!==null,i);return this._transaction.set(s._key,d),this},e.prototype.update=function(t,r,i){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var d,v=Wg(t,this._firestore);return d=typeof(r=Vr(r))=="string"||r instanceof Jd?CG(this._dataReader,"Transaction.update",v._key,r,i,s):IG(this._dataReader,"Transaction.update",v._key,r),this._transaction.update(v._key,d),this},e.prototype.delete=function(t){var r=Wg(t,this._firestore);return this._transaction.delete(r._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gle(){if(typeof Uint8Array>"u")throw new pt(Ve.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qle(){if(typeof atob>"u")throw new pt(Ve.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Mbe=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return Qle(),new e(zw.fromBase64String(t))},e.fromUint8Array=function(t){return Gle(),new e(zw.fromUint8Array(t))},e.prototype.toBase64=function(){return Qle(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Gle(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),aUe=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,r){return function(i,s){$le(i=Ar(i,es));var u=qa(i),d=i._freezeSettings(),v=new kz;return Ule(u,v,new fbe(v,d.cacheSizeBytes,s==null?void 0:s.forceOwnership))}(t._delegate,{forceOwnership:r})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(r){$le(r=Ar(r,es));var i=qa(r),s=r._freezeSettings(),u=new kz;return Ule(i,u,new Lje(u,s.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(r){var i=this;if(r._initialized&&!r._terminated)throw new pt(Ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new Sc;return r._queue.enqueueAndForgetEvenWhileRestricted(function(){return tt(i,void 0,void 0,function(){var u;return et(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,function(v){return tt(this,void 0,void 0,function(){var g;return et(this,function(w){switch(w.label){case 0:return BT.yt()?(g=v+"main",[4,BT.delete(g)]):[2,Promise.resolve()];case 1:return w.sent(),[2]}})})}(oG(r._databaseId,r._persistenceKey))];case 1:return d.sent(),s.resolve(),[3,3];case 2:return u=d.sent(),s.reject(u),[3,3];case 3:return[2]}})})}),s.promise}(t._delegate)},e}(),Fbe=function(){function e(t,r,i){var s=this;this._delegate=r,this.Zc=i,this.INTERNAL={delete:function(){return s.terminate()}},t instanceof h4||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var r=this._delegate._getSettings();t.merge||r.host===t.host||J3("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},r),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,r,i){i===void 0&&(i={}),function(s,u,d,v){var g;v===void 0&&(v={});var w=(s=Ar(s,RN))._getSettings();if(w.host!=="firestore.googleapis.com"&&w.host!==u&&J3("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},w),{host:u+":"+d,ssl:!1})),v.mockUserToken){var S,C;if(typeof v.mockUserToken=="string")S=v.mockUserToken,C=aa.MOCK_USER;else{S=Hge(v.mockUserToken,(g=s._app)===null||g===void 0?void 0:g.options.projectId);var A=v.mockUserToken.sub||v.mockUserToken.user_id;if(!A)throw new pt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new aa(A)}s._credentials=new $je(new gbe(S,C))}}(this._delegate,t,r,i)},e.prototype.enableNetwork=function(){return function(t){var r=this;return t.asyncQueue.enqueue(function(){return tt(r,void 0,void 0,function(){var i,s;return et(this,function(u){switch(u.label){case 0:return[4,xle(t)];case 1:return i=u.sent(),[4,Ole(t)];case 2:return s=u.sent(),[2,(i.setNetworkEnabled(!0),function(d){var v=Rt(d);return v.Or.delete(0),DP(v)}(s))]}})})})}(qa(Ar(this._delegate,es)))},e.prototype.disableNetwork=function(){return function(t){var r=this;return t.asyncQueue.enqueue(function(){return tt(r,void 0,void 0,function(){var i,s;return et(this,function(u){switch(u.label){case 0:return[4,xle(t)];case 1:return i=u.sent(),[4,Ole(t)];case 2:return s=u.sent(),[2,(i.setNetworkEnabled(!1),function(d){return tt(this,void 0,void 0,function(){var v;return et(this,function(g){switch(g.label){case 0:return(v=Rt(d)).Or.add(0),[4,pI(v)];case 1:return g.sent(),v.Br.set("Offline"),[2]}})})}(s))]}})})})}(qa(Ar(this._delegate,es)))},e.prototype.enablePersistence=function(t){var r=!1,i=!1;return t&&ybe("synchronizeTabs",r=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),r?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var r=this,i=new Sc;return t.asyncQueue.enqueueAndForget(function(){return tt(r,void 0,void 0,function(){var s;return et(this,function(u){switch(u.label){case 0:return s=Tje,[4,mbe(t)];case 1:return[2,s.apply(void 0,[u.sent(),i])]}})})}),i.promise}(qa(Ar(this._delegate,es)))},e.prototype.onSnapshotsInSync=function(t){return function(r,i){return function(s,u){var d=this,v=new $j(u);return s.asyncQueue.enqueueAndForget(function(){return tt(d,void 0,void 0,function(){var g;return et(this,function(w){switch(w.label){case 0:return g=function(S,C){Rt(S).Gr.add(C),C.next()},[4,GT(s)];case 1:return[2,g.apply(void 0,[w.sent(),v])]}})})}),function(){v.Wo(),s.asyncQueue.enqueueAndForget(function(){return tt(d,void 0,void 0,function(){var g;return et(this,function(w){switch(w.label){case 0:return g=function(S,C){Rt(S).Gr.delete(C)},[4,GT(s)];case 1:return[2,g.apply(void 0,[w.sent(),v])]}})})})}}(qa(r=Ar(r,es)),QT(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new pt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new p4(this,bbe(this._delegate,t))}catch(r){throw Cu(r,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Pw(this,JF(this._delegate,t))}catch(r){throw Cu(r,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Gj(this,function(r,i){if(r=Ar(r,RN),EG("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ml(r,null,function(s){return new Qv(Tr.emptyPath(),s)}(i))}(this._delegate,t))}catch(r){throw Cu(r,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var r=this;return function(i,s){return function(u,d){var v=this,g=new Sc;return u.asyncQueue.enqueueAndForget(function(){return tt(v,void 0,void 0,function(){var w;return et(this,function(S){switch(S.label){case 0:return[4,function(C){return Vj(C).then(function(A){return A.datastore})}(u)];case 1:return w=S.sent(),new Fje(u.asyncQueue,w,d,g).run(),[2]}})})}),g.promise}(qa(i),function(u){return s(new sUe(i,u))})}(this._delegate,function(i){return t(new jbe(r,i))})},e.prototype.batch=function(){var t=this;return qa(this._delegate),new Ube(new oUe(this._delegate,function(r){return MP(t._delegate,r)}))},e.prototype.loadBundle=function(t){throw new pt(Ve.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new pt(Ve.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Kj=function(e){function t(r){var i=this;return(i=e.call(this)||this).firestore=r,i}return on(t,e),t.prototype.convertBytes=function(r){return new Mbe(new zw(r))},t.prototype.convertReference=function(r){var i=this.convertDocumentKey(r,this.firestore._databaseId);return Pw.eu(i,this.firestore,null)},t}(xG);function uUe(e){var t;t=e,bf.setLogLevel(t)}var jbe=function(){function e(t,r){this._firestore=t,this._delegate=r,this._userDataWriter=new Kj(t)}return e.prototype.get=function(t){var r=this,i=kw(t);return this._delegate.get(i).then(function(s){return new LN(r._firestore,new qv(r._firestore._delegate,r._userDataWriter,s._key,s._document,s.metadata,i.converter))})},e.prototype.set=function(t,r,i){var s=kw(t);return i?(SG("Transaction.set",i),this._delegate.set(s,r,i)):this._delegate.set(s,r),this},e.prototype.update=function(t,r,i){for(var s,u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];var v=kw(t);return arguments.length===2?this._delegate.update(v,r):(s=this._delegate).update.apply(s,ki([v,r,i],u)),this},e.prototype.delete=function(t){var r=kw(t);return this._delegate.delete(r),this},e}(),Ube=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,r,i){var s=kw(t);return i?(SG("WriteBatch.set",i),this._delegate.set(s,r,i)):this._delegate.set(s,r),this},e.prototype.update=function(t,r,i){for(var s,u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];var v=kw(t);return arguments.length===2?this._delegate.update(v,r):(s=this._delegate).update.apply(s,ki([v,r,i],u)),this},e.prototype.delete=function(t){var r=kw(t);return this._delegate.delete(r),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Wj=function(){function e(t,r,i){this._firestore=t,this._userDataWriter=r,this._delegate=i}return e.prototype.fromFirestore=function(t,r){var i=new BO(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new MN(this._firestore,i),r!=null?r:{})},e.prototype.toFirestore=function(t,r){return r?this._delegate.toFirestore(t,r):this._delegate.toFirestore(t)},e.nu=function(t,r){var i=e.su,s=i.get(t);s||(s=new WeakMap,i.set(t,s));var u=s.get(r);return u||(u=new e(t,new Kj(t),r),s.set(r,u)),u},e}();Wj.su=new WeakMap;var Pw=function(){function e(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new Kj(t)}return e.iu=function(t,r,i){if(t.length%2!=0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(r,new ji(r._delegate,i,new en(t)))},e.eu=function(t,r,i){return new e(r,new ji(r._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new p4(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new p4(this.firestore,bbe(this._delegate,t))}catch(r){throw Cu(r,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Vr(t))instanceof ji&&wbe(this._delegate,t)},e.prototype.set=function(t,r){r=SG("DocumentReference.set",r);try{return r?Kle(this._delegate,t,r):Kle(this._delegate,t)}catch(i){throw Cu(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?Wle(this._delegate,t):Wle.apply(void 0,ki([this._delegate,t,r],i))}catch(u){throw Cu(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return MP(Ar((t=this._delegate).firestore,es),[new RP(t._key,Ha.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=$be(r),u=Vbe(r,function(d){return new LN(t.firestore,new qv(t.firestore._delegate,t._userDataWriter,d._key,d._document,d.metadata,t._delegate.converter))});return Lbe(this._delegate,s,u)},e.prototype.get=function(t){var r=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ar(i,ji);var s=Ar(i.firestore,es),u=qa(s),d=new Nw(s);return function(v,g){var w=this,S=new Sc;return v.asyncQueue.enqueueAndForget(function(){return tt(w,void 0,void 0,function(){var C;return et(this,function(A){switch(A.label){case 0:return C=function(L,M,U){return tt(this,void 0,void 0,function(){var R,$;return et(this,function(B){switch(B.label){case 0:return B.trys.push([0,2,,3]),[4,function(G,H){var Z=Rt(G);return Z.persistence.runTransaction("read document","readonly",function(Y){return Z.Mn.mn(Y,H)})}(L,M)];case 1:return($=B.sent()).isFoundDocument()?U.resolve($):$.isNoDocument()?U.resolve(null):U.reject(new pt(Ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return R=B.sent(),$=gI(R,"Failed to get document '"+M+" from cache"),U.reject($),[3,3];case 3:return[2]}})})},[4,vbe(v)];case 1:return[2,C.apply(void 0,[A.sent(),g,S])]}})})}),S.promise}(u,i._key).then(function(v){return new qv(s,d,i._key,v,new Cw(v!==null&&v.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ar(i,ji);var s=Ar(i.firestore,es);return Nle(qa(s),i._key,{source:"server"}).then(function(u){return xz(s,i,u)})}(this._delegate):function(i){i=Ar(i,ji);var s=Ar(i.firestore,es);return Nle(qa(s),i._key).then(function(u){return xz(s,i,u)})}(this._delegate)).then(function(i){return new LN(r.firestore,new qv(r.firestore._delegate,r._userDataWriter,i._key,i._document,i.metadata,r._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wj.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Cu(e,t,r){return e.message=e.message.replace(t,r),e}function $be(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(typeof i=="object"&&!QT(i))return i}return{}}function Vbe(e,t){var r,i,s;return{next:function(u){s.next&&s.next(t(u))},error:(r=(s=QT(e[0])?e[0]:QT(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||r===void 0?void 0:r.bind(s),complete:(i=s.complete)===null||i===void 0?void 0:i.bind(s)}}var LN=function(){function e(t,r){this._firestore=t,this._delegate=r}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Pw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,r){return this._delegate.get(t,r)},e.prototype.isEqual=function(t){return Nbe(this._delegate,t._delegate)},e}(),MN=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return on(t,e),t.prototype.data=function(r){return this._delegate.data(r)},t}(LN),Gj=function(){function e(t,r){this.firestore=t,this._delegate=r,this._userDataWriter=new Kj(t)}return e.prototype.where=function(t,r,i){try{return new e(this.firestore,Lg(this._delegate,function(s,u,d){var v=u,g=d4("where",s);return new nUe(g,v,d)}(t,r,i)))}catch(s){throw Cu(s,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,r){try{return new e(this.firestore,Lg(this._delegate,function(i,s){s===void 0&&(s="asc");var u=s,d=d4("orderBy",i);return new rUe(d,u)}(t,r)))}catch(i){throw Cu(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lg(this._delegate,function(r){return Fle("limit",r),new Vle("limit",r,"F")}(t)))}catch(r){throw Cu(r,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lg(this._delegate,function(r){return Fle("limitToLast",r),new Vle("limitToLast",r,"L")}(t)))}catch(r){throw Cu(r,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return new e(this.firestore,Lg(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new qle("startAt",i,!0)}.apply(void 0,t)))}catch(i){throw Cu(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return new e(this.firestore,Lg(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new qle("startAfter",i,!1)}.apply(void 0,t)))}catch(i){throw Cu(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return new e(this.firestore,Lg(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Ble("endBefore",i,!0)}.apply(void 0,t)))}catch(i){throw Cu(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return new e(this.firestore,Lg(this._delegate,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new Ble("endAt",i,!1)}.apply(void 0,t)))}catch(i){throw Cu(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return _be(this._delegate,t._delegate)},e.prototype.get=function(t){var r=this;return((t==null?void 0:t.source)==="cache"?function(i){i=Ar(i,ml);var s=Ar(i.firestore,es),u=qa(s),d=new Nw(s);return function(v,g){var w=this,S=new Sc;return v.asyncQueue.enqueueAndForget(function(){return tt(w,void 0,void 0,function(){var C;return et(this,function(A){switch(A.label){case 0:return C=function(L,M,U){return tt(this,void 0,void 0,function(){var R,$,B,G,H;return et(this,function(Z){switch(Z.label){case 0:return Z.trys.push([0,2,,3]),[4,u4(L,M,!0)];case 1:return H=Z.sent(),R=new abe(M,H.Bn),$=R._o(H.documents),B=R.applyChanges($,!1),U.resolve(B.snapshot),[3,3];case 2:return G=Z.sent(),H=gI(G,"Failed to execute query '"+M+" against cache"),U.reject(H),[3,3];case 3:return[2]}})})},[4,vbe(v)];case 1:return[2,C.apply(void 0,[A.sent(),g,S])]}})})}),S.promise}(u,i._query).then(function(v){return new Kg(s,d,i,v)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=Ar(i,ml);var s=Ar(i.firestore,es),u=qa(s),d=new Nw(s);return Ple(u,i._query,{source:"server"}).then(function(v){return new Kg(s,d,i,v)})}(this._delegate):function(i){i=Ar(i,ml);var s=Ar(i.firestore,es),u=qa(s),d=new Nw(s);return Pbe(i._query),Ple(u,i._query).then(function(v){return new Kg(s,d,i,v)})}(this._delegate)).then(function(i){return new Oz(r.firestore,new Kg(r.firestore._delegate,r._userDataWriter,r._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=$be(r),u=Vbe(r,function(d){return new Oz(t.firestore,new Kg(t.firestore._delegate,t._userDataWriter,t._delegate,d._snapshot))});return Lbe(this._delegate,s,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Wj.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),cUe=function(){function e(t,r){this._firestore=t,this._delegate=r}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new MN(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Oz=function(){function e(t,r){this._firestore=t,this._delegate=r}return Object.defineProperty(e.prototype,"query",{get:function(){return new Gj(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(r){return new MN(t._firestore,r)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var r=this;return this._delegate.docChanges(t).map(function(i){return new cUe(r._firestore,i)})},e.prototype.forEach=function(t,r){var i=this;this._delegate.forEach(function(s){t.call(r,new MN(i._firestore,s))})},e.prototype.isEqual=function(t){return Nbe(this._delegate,t._delegate)},e}(),p4=function(e){function t(r,i){var s=this;return(s=e.call(this,r,i)||this).firestore=r,s._delegate=i,s}return on(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var r=this._delegate.parent;return r?new Pw(this.firestore,r):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(r){try{return new Pw(this.firestore,r===void 0?JF(this._delegate):JF(this._delegate,r))}catch(i){throw Cu(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(r){var i=this;return function(s,u){var d=Ar(s.firestore,es),v=JF(s),g=zj(s.converter,u);return MP(d,[Hj(c_(s.firestore),"addDoc",v._key,g,s.converter!==null,{}).toMutation(v._key,Ha.exists(!1))]).then(function(){return v})}(this._delegate,r).then(function(s){return new Pw(i.firestore,s)})},t.prototype.isEqual=function(r){return wbe(this._delegate,r._delegate)},t.prototype.withConverter=function(r){return new t(this.firestore,r?this._delegate.withConverter(Wj.nu(this.firestore,r)):this._delegate.withConverter(null))},t}(Gj);function kw(e){return Ar(e,ji)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lUe=function(){function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._delegate=new(Jd.bind.apply(Jd,ki([void 0],t)))}return e.documentId=function(){return new e(If.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Vr(t))instanceof Jd&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),hUe=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Qje("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new TG("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new Yje("arrayUnion",s)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new Xje("arrayRemove",s)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var r=function(i){return new Jje("increment",i)}(t);return r._methodName="FieldValue.increment",new e(r)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),fUe={Firestore:Fbe,GeoPoint:Bj,Timestamp:_c,Blob:Mbe,Transaction:jbe,WriteBatch:Ube,DocumentReference:Pw,DocumentSnapshot:LN,Query:Gj,QueryDocumentSnapshot:MN,QuerySnapshot:Oz,CollectionReference:p4,FieldPath:lUe,FieldValue:hUe,setLogLevel:uUe,CACHE_SIZE_UNLIMITED:zje};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dUe(e){(function(t,r){t.INTERNAL.registerComponent(new gP("firestore",function(i){var s=i.getProvider("app").getImmediate();return r(s,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fUe)))})(e,function(t,r){return new Fbe(t,new es(t,r),new aUe)}),e.registerVersion("@firebase/firestore","2.4.1")}dUe(Jt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qbe="firebasestorage.googleapis.com",Bbe="storageBucket",pUe=2*60*1e3,vUe=10*60*1e3,Mo=function(e){on(t,e);function t(r,i){var s=e.call(this,A9(r),"Firebase Storage: "+i+" ("+A9(r)+")")||this;return s.customData={serverResponse:null},s._baseMessage=s.message,Object.setPrototypeOf(s,t.prototype),s}return t.prototype._codeEquals=function(r){return A9(r)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(r){this.customData.serverResponse=r,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Kge);function A9(e){return"storage/"+e}function OG(){var e="An unknown error occurred, please check the error payload for server response.";return new Mo("unknown",e)}function mUe(e){return new Mo("object-not-found","Object '"+e+"' does not exist.")}function gUe(e){return new Mo("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yUe(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mo("unauthenticated",e)}function bUe(){return new Mo("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function wUe(e){return new Mo("unauthorized","User does not have permission to access '"+e+"'.")}function _Ue(){return new Mo("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Hbe(){return new Mo("canceled","User canceled the upload/download.")}function EUe(e){return new Mo("invalid-url","Invalid URL '"+e+"'.")}function SUe(e){return new Mo("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function TUe(){return new Mo("no-default-bucket","No default bucket found. Did you set the '"+Bbe+"' property when initializing the app?")}function zbe(){return new Mo("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function IUe(){return new Mo("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function CUe(){return new Mo("no-download-url","The given file does not have any download URLs.")}function _T(e){return new Mo("invalid-argument",e)}function Kbe(){return new Mo("app-deleted","The Firebase app was deleted.")}function Wbe(e){return new Mo("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function HO(e,t){return new Mo("invalid-format","String does not match format '"+e+"': "+t)}function dF(e){throw new Mo("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kUe(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},x9=function(){function e(t,r){this.data=t,this.contentType=r||null}return e}();function Gbe(e,t){switch(e){case vh.RAW:return new x9(Qbe(t));case vh.BASE64:case vh.BASE64URL:return new x9(Ybe(e,t));case vh.DATA_URL:return new x9(xUe(t),OUe(t))}throw OG()}function Qbe(e){for(var t=[],r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var s=r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320;if(!s)t.push(239,191,189);else{var u=i,d=e.charCodeAt(++r);i=65536|(u&1023)<<10|d&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function AUe(e){var t;try{t=decodeURIComponent(e)}catch{throw HO(vh.DATA_URL,"Malformed data URL.")}return Qbe(t)}function Ybe(e,t){switch(e){case vh.BASE64:{var r=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(r||i){var s=r?"-":"_";throw HO(e,"Invalid character '"+s+"' found: is it base64url encoded?")}break}case vh.BASE64URL:{var u=t.indexOf("+")!==-1,d=t.indexOf("/")!==-1;if(u||d){var s=u?"+":"/";throw HO(e,"Invalid character '"+s+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var v;try{v=kUe(t)}catch{throw HO(e,"Invalid character found")}for(var g=new Uint8Array(v.length),w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}var Xbe=function(){function e(t){this.base64=!1,this.contentType=null;var r=t.match(/^data:([^,]+)?,/);if(r===null)throw HO(vh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=r[1]||null;i!=null&&(this.base64=NUe(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function xUe(e){var t=new Xbe(e);return t.base64?Ybe(vh.BASE64,t.rest):AUe(t.rest)}function OUe(e){var t=new Xbe(e);return t.contentType}function NUe(e,t){var r=e.length>=t.length;return r?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PUe={STATE_CHANGED:"state_changed"},ku={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O9(e){switch(e){case"running":case"pausing":case"canceling":return ku.RUNNING;case"paused":return ku.PAUSED;case"success":return ku.SUCCESS;case"canceled":return ku.CANCELED;case"error":return ku.ERROR;default:return ku.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rw;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Rw||(Rw={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RUe=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Rw.NO_ERROR,this.sendPromise_=new Promise(function(r){t.xhr_.addEventListener("abort",function(){t.errorCode_=Rw.ABORT,r()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Rw.NETWORK_ERROR,r()}),t.xhr_.addEventListener("load",function(){r()})})}return e.prototype.send=function(t,r,i,s){if(this.sent_)throw dF("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,t,!0),s!==void 0)for(var u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw dF("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw dF("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw dF("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function DUe(){return new RUe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LUe=function(){function e(){}return e.prototype.createConnection=function(){return DUe()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=function(){function e(t,r){this.bucket=t,this.path_=r}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,r){var i;try{i=e.makeFromUrl(t,r)}catch{return new e(t,"")}if(i.path==="")return i;throw SUe(t)},e.makeFromUrl=function(t,r){var i=null,s="([A-Za-z0-9.\\-_]+)";function u(xe){xe.path.charAt(xe.path.length-1)==="/"&&(xe.path_=xe.path_.slice(0,-1))}var d="(/(.*))?$",v=new RegExp("^gs://"+s+d,"i"),g={bucket:1,path:3};function w(xe){xe.path_=decodeURIComponent(xe.path)}for(var S="v[A-Za-z0-9_]+",C=r.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",L=new RegExp("^https?://"+C+"/"+S+"/b/"+s+"/o"+A,"i"),M={bucket:1,path:3},U=r===qbe?"(?:storage.googleapis.com|storage.cloud.google.com)":r,R="([^?#]*)",$=new RegExp("^https?://"+U+"/"+s+"/"+R,"i"),B={bucket:1,path:2},G=[{regex:v,indices:g,postModify:u},{regex:L,indices:M,postModify:w},{regex:$,indices:B,postModify:w}],H=0;H<G.length;H++){var Z=G[H],Y=Z.regex.exec(t);if(Y){var ce=Y[Z.indices.bucket],ye=Y[Z.indices.path];ye||(ye=""),i=new e(ce,ye),Z.postModify(i);break}}if(i==null)throw EUe(t);return i},e}(),MUe=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FUe(e,t,r){var i=1,s=null,u=!1,d=0;function v(){return d===2}var g=!1;function w(){for(var M=[],U=0;U<arguments.length;U++)M[U]=arguments[U];g||(g=!0,t.apply(null,M))}function S(M){s=setTimeout(function(){s=null,e(C,v())},M)}function C(M){for(var U=[],R=1;R<arguments.length;R++)U[R-1]=arguments[R];if(!g){if(M){w.call.apply(w,ki([null,M],U));return}var $=v()||u;if($){w.call.apply(w,ki([null,M],U));return}i<64&&(i*=2);var B;d===1?(d=2,B=0):B=(i+Math.random())*1e3,S(B)}}var A=!1;function L(M){A||(A=!0,!g&&(s!==null?(M||(d=2),clearTimeout(s),S(0)):M||(d=1)))}return S(0),setTimeout(function(){u=!0,L(!0)},r),L}function jUe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UUe(e){return e!==void 0}function $Ue(e){return typeof e=="function"}function VUe(e){return typeof e=="object"&&!Array.isArray(e)}function Qj(e){return typeof e=="string"||e instanceof String}function Yle(e){return NG()&&e instanceof Blob}function NG(){return typeof Blob<"u"}function Nz(e,t,r,i){if(i<t)throw _T("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>r)throw _T("Invalid value for '"+e+"'. Expected "+r+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e,t){var r=t.match(/^(\w+):\/\/.+/),i=r==null?void 0:r[1],s=t;return i==null&&(s="https://"+t),s+"/v0"+e}function Jbe(e){var t=encodeURIComponent,r="?";for(var i in e)if(e.hasOwnProperty(i)){var s=t(i)+"="+t(e[i]);r=r+s+"&"}return r=r.slice(0,-1),r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qUe=function(){function e(t,r,i,s,u,d,v,g,w,S,C){var A=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=r,this.headers_=i,this.body_=s,this.successCodes_=u.slice(),this.additionalRetryCodes_=d.slice(),this.callback_=v,this.errorCallback_=g,this.progressCallback_=S,this.timeout_=w,this.pool_=C,this.promise_=new Promise(function(L,M){A.resolve_=L,A.reject_=M,A.start_()})}return e.prototype.start_=function(){var t=this;function r(s,u){if(u){s(!1,new pF(!1,null,!0));return}var d=t.pool_.createConnection();t.pendingConnection_=d;function v(g){var w=g.loaded,S=g.lengthComputable?g.total:-1;t.progressCallback_!==null&&t.progressCallback_(w,S)}t.progressCallback_!==null&&d.addUploadProgressListener(v),d.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&d.removeUploadProgressListener(v),t.pendingConnection_=null;var g=d.getErrorCode()===Rw.NO_ERROR,w=d.getStatus();if(!g||t.isRetryStatusCode_(w)){var S=d.getErrorCode()===Rw.ABORT;s(!1,new pF(!1,null,S));return}var C=t.successCodes_.indexOf(w)!==-1;s(!0,new pF(C,d))})}function i(s,u){var d=t.resolve_,v=t.reject_,g=u.connection;if(u.wasSuccessCode)try{var w=t.callback_(g,g.getResponseText());UUe(w)?d(w):d()}catch(C){v(C)}else if(g!==null){var S=OG();S.serverResponse=g.getResponseText(),t.errorCallback_?v(t.errorCallback_(g,S)):v(S)}else if(u.canceled){var S=t.appDelete_?Kbe():Hbe();v(S)}else{var S=_Ue();v(S)}}this.canceled_?i(!1,new pF(!1,null,!0)):this.backoffId_=FUe(r,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jUe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var r=t>=500&&t<600,i=[408,429],s=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return r||s||u},e}(),pF=function(){function e(t,r,i){this.wasSuccessCode=t,this.connection=r,this.canceled=!!i}return e}();function BUe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function HUe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t!=null?t:"AppManager")}function zUe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function KUe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function WUe(e,t,r,i,s,u){var d=Jbe(e.urlParams),v=e.url+d,g=Object.assign({},e.headers);return zUe(g,t),BUe(g,r),HUe(g,u),KUe(g,i),new qUe(v,e.method,g,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GUe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QUe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=GUe();if(r!==void 0){for(var i=new r,s=0;s<e.length;s++)i.append(e[s]);return i.getBlob()}else{if(NG())return new Blob(e);throw new Mo("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function YUe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PG=function(){function e(t,r){var i=0,s="";Yle(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,r){if(Yle(this.data_)){var i=this.data_,s=YUe(i,t,r);return s===null?null:new e(s)}else{var u=new Uint8Array(this.data_.buffer,t,r-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(NG()){var i=t.map(function(g){return g instanceof e?g.data_:g});return new e(QUe.apply(null,i))}else{var s=t.map(function(g){return Qj(g)?Gbe(vh.RAW,g).data:g.data_}),u=0;s.forEach(function(g){u+=g.byteLength});var d=new Uint8Array(u),v=0;return s.forEach(function(g){for(var w=0;w<g.length;w++)d[v++]=g[w]}),new e(d,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RG(e){var t;try{t=JSON.parse(e)}catch{return null}return VUe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XUe(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var r=e.slice(0,t);return r}function JUe(e,t){var r=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?r:e+"/"+r}function Zbe(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZUe(e,t){return t}var Iu=function(){function e(t,r,i,s){this.server=t,this.local=r||t,this.writable=!!i,this.xform=s||ZUe}return e}(),vF=null;function e$e(e){return!Qj(e)||e.length<2?e:Zbe(e)}function Yj(){if(vF)return vF;var e=[];e.push(new Iu("bucket")),e.push(new Iu("generation")),e.push(new Iu("metageneration")),e.push(new Iu("name","fullPath",!0));function t(u,d){return e$e(d)}var r=new Iu("name");r.xform=t,e.push(r);function i(u,d){return d!==void 0?Number(d):d}var s=new Iu("size");return s.xform=i,e.push(s),e.push(new Iu("timeCreated")),e.push(new Iu("updated")),e.push(new Iu("md5Hash",null,!0)),e.push(new Iu("cacheControl",null,!0)),e.push(new Iu("contentDisposition",null,!0)),e.push(new Iu("contentEncoding",null,!0)),e.push(new Iu("contentLanguage",null,!0)),e.push(new Iu("contentType",null,!0)),e.push(new Iu("metadata","customMetadata",!0)),vF=e,vF}function t$e(e,t){function r(){var i=e.bucket,s=e.fullPath,u=new mh(i,s);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:r})}function n$e(e,t,r){var i={};i.type="file";for(var s=r.length,u=0;u<s;u++){var d=r[u];i[d.local]=d.xform(i,t[d.server])}return t$e(i,e),i}function ewe(e,t,r){var i=RG(t);if(i===null)return null;var s=i;return n$e(e,s,r)}function r$e(e,t,r){var i=RG(t);if(i===null||!Qj(i.downloadTokens))return null;var s=i.downloadTokens;if(s.length===0)return null;var u=encodeURIComponent,d=s.split(","),v=d.map(function(g){var w=e.bucket,S=e.fullPath,C="/b/"+u(w)+"/o/"+u(S),A=Py(C,r),L=Jbe({alt:"media",token:g});return A+L});return v[0]}function DG(e,t){for(var r={},i=t.length,s=0;s<i;s++){var u=t[s];u.writable&&(r[u.server]=e[u.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xle="prefixes",Jle="items";function i$e(e,t,r){var i={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[Xle])for(var s=0,u=r[Xle];s<u.length;s++){var d=u[s],v=d.replace(/\/$/,""),g=e._makeStorageReference(new mh(t,v));i.prefixes.push(g)}if(r[Jle])for(var w=0,S=r[Jle];w<S.length;w++){var C=S[w],g=e._makeStorageReference(new mh(t,C.name));i.items.push(g)}return i}function o$e(e,t,r){var i=RG(r);if(i===null)return null;var s=i;return i$e(e,t,s)}var Yv=function(){function e(t,r,i,s){this.url=t,this.method=r,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(e){if(!e)throw OG()}function Xj(e,t){function r(i,s){var u=ewe(e,s,t);return Zd(u!==null),u}return r}function s$e(e,t){function r(i,s){var u=o$e(e,t,s);return Zd(u!==null),u}return r}function a$e(e,t){function r(i,s){var u=ewe(e,s,t);return Zd(u!==null),r$e(u,s,e.host)}return r}function yI(e){function t(r,i){var s;return r.getStatus()===401?r.getResponseText().includes("Firebase App Check token is invalid")?s=bUe():s=yUe():r.getStatus()===402?s=gUe(e.bucket):r.getStatus()===403?s=wUe(e.path):s=i,s.serverResponse=i.serverResponse,s}return t}function Jj(e){var t=yI(e);function r(i,s){var u=t(i,s);return i.getStatus()===404&&(u=mUe(e.path)),u.serverResponse=s.serverResponse,u}return r}function twe(e,t,r){var i=t.fullServerUrl(),s=Py(i,e.host),u="GET",d=e.maxOperationRetryTime,v=new Yv(s,u,Xj(e,r),d);return v.errorHandler=Jj(t),v}function u$e(e,t,r,i,s){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",r&&r.length>0&&(u.delimiter=r),i&&(u.pageToken=i),s&&(u.maxResults=s);var d=t.bucketOnlyServerUrl(),v=Py(d,e.host),g="GET",w=e.maxOperationRetryTime,S=new Yv(v,g,s$e(e,t.bucket),w);return S.urlParams=u,S.errorHandler=yI(t),S}function c$e(e,t,r){var i=t.fullServerUrl(),s=Py(i,e.host),u="GET",d=e.maxOperationRetryTime,v=new Yv(s,u,a$e(e,r),d);return v.errorHandler=Jj(t),v}function l$e(e,t,r,i){var s=t.fullServerUrl(),u=Py(s,e.host),d="PATCH",v=DG(r,i),g={"Content-Type":"application/json; charset=utf-8"},w=e.maxOperationRetryTime,S=new Yv(u,d,Xj(e,i),w);return S.headers=g,S.body=v,S.errorHandler=Jj(t),S}function h$e(e,t){var r=t.fullServerUrl(),i=Py(r,e.host),s="DELETE",u=e.maxOperationRetryTime;function d(g,w){}var v=new Yv(i,s,d,u);return v.successCodes=[200,204],v.errorHandler=Jj(t),v}function f$e(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function nwe(e,t,r){var i=Object.assign({},r);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=f$e(null,t)),i}function d$e(e,t,r,i,s){var u=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function v(){for(var G="",H=0;H<2;H++)G=G+Math.random().toString().slice(2);return G}var g=v();d["Content-Type"]="multipart/related; boundary="+g;var w=nwe(t,i,s),S=DG(w,r),C="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+S+`\r
--`+g+`\r
Content-Type: `+w.contentType+`\r
\r
`,A=`\r
--`+g+"--",L=PG.getBlob(C,i,A);if(L===null)throw zbe();var M={name:w.fullPath},U=Py(u,e.host),R="POST",$=e.maxUploadRetryTime,B=new Yv(U,R,Xj(e,r),$);return B.urlParams=M,B.headers=d,B.body=L.uploadData(),B.errorHandler=yI(t),B}var v4=function(){function e(t,r,i,s){this.current=t,this.total=r,this.finalized=!!i,this.metadata=s||null}return e}();function LG(e,t){var r=null;try{r=e.getResponseHeader("X-Goog-Upload-Status")}catch{Zd(!1)}var i=t||["active"];return Zd(!!r&&i.indexOf(r)!==-1),r}function p$e(e,t,r,i,s){var u=t.bucketOnlyServerUrl(),d=nwe(t,i,s),v={name:d.fullPath},g=Py(u,e.host),w="POST",S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},C=DG(d,r),A=e.maxUploadRetryTime;function L(U){LG(U);var R;try{R=U.getResponseHeader("X-Goog-Upload-URL")}catch{Zd(!1)}return Zd(Qj(R)),R}var M=new Yv(g,w,L,A);return M.urlParams=v,M.headers=S,M.body=C,M.errorHandler=yI(t),M}function v$e(e,t,r,i){var s={"X-Goog-Upload-Command":"query"};function u(w){var S=LG(w,["active","final"]),C=null;try{C=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zd(!1)}C||Zd(!1);var A=Number(C);return Zd(!isNaN(A)),new v4(A,i.size(),S==="final")}var d="POST",v=e.maxUploadRetryTime,g=new Yv(r,d,u,v);return g.headers=s,g.errorHandler=yI(t),g}var Zle=256*1024;function m$e(e,t,r,i,s,u,d,v){var g=new v4(0,0);if(d?(g.current=d.current,g.total=d.total):(g.current=0,g.total=i.size()),i.size()!==g.total)throw IUe();var w=g.total-g.current,S=w;s>0&&(S=Math.min(S,s));var C=g.current,A=C+S,L=S===w?"upload, finalize":"upload",M={"X-Goog-Upload-Command":L,"X-Goog-Upload-Offset":""+g.current},U=i.slice(C,A);if(U===null)throw zbe();function R(H,Z){var Y=LG(H,["active","final"]),ce=g.current+S,ye=i.size(),xe;return Y==="final"?xe=Xj(t,u)(H,Z):xe=null,new v4(ce,ye,Y==="final",xe)}var $="POST",B=t.maxUploadRetryTime,G=new Yv(r,$,R,B);return G.headers=M,G.body=U.uploadData(),G.progressCallback=v||null,G.errorHandler=yI(e),G}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g$e=function(){function e(t,r,i){var s=$Ue(t)||r!=null||i!=null;if(s)this.next=t,this.error=r,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rwe=function(){function e(t,r,i){var s=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=r,this._metadata=i,this._mappings=Yj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){s._request=void 0,s._chunkMultiplier=1,u._codeEquals("canceled")?(s._needToFetchStatus=!0,s.completeTransitions_()):(s._error=u,s._transition("error"))},this._metadataErrorHandler=function(u){s._request=void 0,u._codeEquals("canceled")?s.completeTransitions_():(s._error=u,s._transition("error"))},this._promise=new Promise(function(u,d){s._resolve=u,s._reject=d,s._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,r=this._transferred;return function(i){return t._updateProgress(r+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var r=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var s=i[0],u=i[1];switch(r._state){case"running":t(s,u);break;case"canceling":r._transition("canceled");break;case"pausing":r._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(r,i){var s=p$e(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(s,r,i);t._request=u,u.getPromise().then(function(d){t._request=void 0,t._uploadUrl=d,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,r=this._uploadUrl;this._resolveToken(function(i,s){var u=v$e(t._ref.storage,t._ref._location,r,t._blob),d=t._ref.storage._makeRequest(u,i,s);t._request=d,d.getPromise().then(function(v){v=v,t._request=void 0,t._updateProgress(v.current),t._needToFetchStatus=!1,v.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,r=Zle*this._chunkMultiplier,i=new v4(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken(function(u,d){var v;try{v=m$e(t._ref._location,t._ref.storage,s,t._blob,r,t._mappings,i,t._makeProgressCallback())}catch(w){t._error=w,t._transition("error");return}var g=t._ref.storage._makeRequest(v,u,d);t._request=g,g.getPromise().then(function(w){t._increaseMultiplier(),t._request=void 0,t._updateProgress(w.current),w.finalized?(t._metadata=w.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=Zle*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(r,i){var s=twe(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(s,r,i);t._request=u,u.getPromise().then(function(d){t._request=void 0,t._metadata=d,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(r,i){var s=d$e(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(s,r,i);t._request=u,u.getPromise().then(function(d){t._request=void 0,t._metadata=d,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var r=this._transferred;this._transferred=t,this._transferred!==r&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var r=this._state==="paused";this._state=t,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Hbe(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=O9(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,r,i,s){var u=this,d=new g$e(r,i,s);return this._addObserver(d),function(){u._removeObserver(d)}},e.prototype.then=function(t,r){return this._promise.then(t,r)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var r=this._observers.indexOf(t);r!==-1&&this._observers.splice(r,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var r=this._observers.slice();r.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(O9(this._state)){case ku.SUCCESS:$S(this._resolve.bind(null,this.snapshot))();break;case ku.CANCELED:case ku.ERROR:var r=this._reject;$S(r.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var r=O9(this._state);switch(r){case ku.RUNNING:case ku.PAUSED:t.next&&$S(t.next.bind(t,this.snapshot))();break;case ku.SUCCESS:t.complete&&$S(t.complete.bind(t))();break;case ku.CANCELED:case ku.ERROR:t.error&&$S(t.error.bind(t,this._error))();break;default:t.error&&$S(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zj=function(){function e(t,r){this._service=t,r instanceof mh?this._location=r:this._location=mh.makeFromUrl(r,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,r){return new e(t,r)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new mh(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Zbe(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=XUe(this._location.path);if(t===null)return null;var r=new mh(this._location.bucket,t);return new e(this._service,r)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Wbe(t)},e}();function y$e(e,t,r){return e._throwIfRoot("uploadBytesResumable"),new rwe(e,new PG(t),r)}function b$e(e){var t={prefixes:[],items:[]};return iwe(e,t).then(function(){return t})}function iwe(e,t,r){return tt(this,void 0,void 0,function(){var i,s,u,d;return et(this,function(v){switch(v.label){case 0:return i={pageToken:r},[4,owe(e,i)];case 1:return s=v.sent(),(u=t.prefixes).push.apply(u,s.prefixes),(d=t.items).push.apply(d,s.items),s.nextPageToken==null?[3,3]:[4,iwe(e,t,s.nextPageToken)];case 2:v.sent(),v.label=3;case 3:return[2]}})})}function owe(e,t){return tt(this,void 0,void 0,function(){var r,i;return et(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Nz("options.maxResults",1,1e3,t.maxResults),r=t||{},i=u$e(e.storage,e._location,"/",r.pageToken,r.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,s.sent().getPromise()]}})})}function w$e(e){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),t=twe(e.storage,e._location,Yj()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise()]}})})}function _$e(e,t){return tt(this,void 0,void 0,function(){var r;return et(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),r=l$e(e.storage,e._location,t,Yj()),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function E$e(e){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),t=c$e(e.storage,e._location,Yj()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise().then(function(i){if(i===null)throw CUe();return i})]}})})}function S$e(e){return tt(this,void 0,void 0,function(){var t;return et(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),t=h$e(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,r.sent().getPromise()]}})})}function swe(e,t){var r=JUe(e._location.path,t),i=new mh(e._location.bucket,r);return new Zj(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(e){return/^[A-Za-z]+:\/\//.test(e)}function T$e(e,t){return new Zj(e,t)}function awe(e,t){if(e instanceof eU){var r=e;if(r._bucket==null)throw TUe();var i=new Zj(r,r._bucket);return t!=null?awe(i,t):i}else return t!==void 0?swe(e,t):e}function I$e(e,t){if(t&&Pz(t)){if(e instanceof eU)return T$e(e,t);throw _T("To use ref(service, url), the first argument must be a Storage instance.")}else return awe(e,t)}function ehe(e,t){var r=t==null?void 0:t[Bbe];return r==null?null:mh.makeFromBucketSpec(r,e)}function C$e(e,t,r,i){i===void 0&&(i={}),e.host="http://"+t+":"+r;var s=i.mockUserToken;s&&(e._overrideAuthToken=typeof s=="string"?s:Hge(s,e.app.options.projectId))}var eU=function(){function e(t,r,i,s,u,d){this.app=t,this._authProvider=r,this._appCheckProvider=i,this._pool=s,this._url=u,this._firebaseVersion=d,this._bucket=null,this._host=qbe,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pUe,this._maxUploadRetryTime=vUe,this._requests=new Set,u!=null?this._bucket=mh.makeFromBucketSpec(u,this._host):this._bucket=ehe(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=mh.makeFromBucketSpec(this._url,t):this._bucket=ehe(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Nz("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Nz("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return tt(this,void 0,void 0,function(){var t,r;return et(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(r=i.sent(),r!==null)return[2,r.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return tt(this,void 0,void 0,function(){var t,r;return et(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return r=i.sent(),[2,r.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Zj(this,t)},e.prototype._makeRequest=function(t,r,i){var s=this;if(this._deleted)return new MUe(Kbe());var u=WUe(t,this._appId,r,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return s._requests.delete(u)},function(){return s._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return tt(this,void 0,void 0,function(){var r,i,s;return et(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return r=u.sent(),i=r[0],s=r[1],[2,this._makeRequest(t,i,s)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$e(e,t,r){return e=Vr(e),y$e(e,t,r)}function A$e(e){return e=Vr(e),w$e(e)}function x$e(e,t){return e=Vr(e),_$e(e,t)}function O$e(e,t){return e=Vr(e),owe(e,t)}function N$e(e){return e=Vr(e),b$e(e)}function P$e(e){return e=Vr(e),E$e(e)}function R$e(e){return e=Vr(e),S$e(e)}function the(e,t){return e=Vr(e),I$e(e,t)}function D$e(e,t){return swe(e,t)}function L$e(e,t,r,i){i===void 0&&(i={}),C$e(e,t,r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mF=function(){function e(t,r,i){this._delegate=t,this.task=r,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nhe=function(){function e(t,r){this._delegate=t,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new mF(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,r){var i=this;return this._delegate.then(function(s){if(t)return t(new mF(s,i,i._ref))},r)},e.prototype.on=function(t,r,i,s){var u=this,d=void 0;return r&&(typeof r=="function"?d=function(v){return r(new mF(v,u,u._ref))}:d={next:r.next?function(v){return r.next(new mF(v,u,u._ref))}:void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(t,d,i||void 0,s||void 0)},e}(),rhe=function(){function e(t,r){this._delegate=t,this._service=r}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(r){return new FN(r,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(r){return new FN(r,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FN=function(){function e(t,r){this._delegate=t,this.storage=r}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var r=D$e(this._delegate,t);return new e(r,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,r){return this._throwIfRoot("put"),new nhe(k$e(this._delegate,t,r),this)},e.prototype.putString=function(t,r,i){r===void 0&&(r=vh.RAW),this._throwIfRoot("putString");var s=Gbe(r,t),u=NT({},i);return u.contentType==null&&s.contentType!=null&&(u.contentType=s.contentType),new nhe(new rwe(this._delegate,new PG(s.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return N$e(this._delegate).then(function(r){return new rhe(r,t.storage)})},e.prototype.list=function(t){var r=this;return O$e(this._delegate,t||void 0).then(function(i){return new rhe(i,r.storage)})},e.prototype.getMetadata=function(){return A$e(this._delegate)},e.prototype.updateMetadata=function(t){return x$e(this._delegate,t)},e.prototype.getDownloadURL=function(){return P$e(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),R$e(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Wbe(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M$e=function(){function e(t,r){this.app=t,this._delegate=r}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Pz(t))throw _T("ref() expected a child path but got a URL, use refFromURL instead.");return new FN(the(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Pz(t))throw _T("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mh.makeFromUrl(t,this._delegate.host)}catch{throw _T("refFromUrl() expected a valid full URL but got an invalid one.")}return new FN(the(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,r,i){i===void 0&&(i={}),L$e(this._delegate,t,r,i)},e}(),F$e="@firebase/storage",j$e="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U$e="storage";function $$e(e,t){var r=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),d=new M$e(i,new eU(i,s,u,new LUe,r,Jt.SDK_VERSION));return d}function V$e(e){var t={TaskState:ku,TaskEvent:PUe,StringFormat:vh,Storage:eU,Reference:FN};e.INTERNAL.registerComponent(new gP(U$e,$$e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(F$e,j$e)}V$e(Jt);const q$e={apiKey:"AIzaSyAqn5jTIfReo5Vis2GiGdXjOHGc3wksN-M",authDomain:"e-commerce-93a09.firebaseapp.com",databaseURL:"https://e-commerce-93a09-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"e-commerce-93a09",storageBucket:{VITE_FIREBASE_API_KEY:"AIzaSyAqn5jTIfReo5Vis2GiGdXjOHGc3wksN-M",VITE_FIREBASE_AUTH_DOMAIN:"e-commerce-93a09.firebaseapp.com",VITE_FIREBASE_DB_URL:"https://e-commerce-93a09-default-rtdb.asia-southeast1.firebasedatabase.app",VITE_FIREBASE_PROJECT_ID:"e-commerce-93a09",VITE_FIREBASE_MSG_SENDER_ID:"158863628611",VITE_FIREBASE_APP_ID:"1:158863628611:web:1ad569c211aa2ed2f837f6",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:"158863628611",appId:"1:158863628611:web:1ad569c211aa2ed2f837f6"};class B$e{constructor(){Lr(this,"createAccount",(t,r)=>this.auth.createUserWithEmailAndPassword(t,r));Lr(this,"signIn",(t,r)=>this.auth.signInWithEmailAndPassword(t,r));Lr(this,"signInWithGoogle",()=>this.auth.signInWithPopup(new Jt.auth.GoogleAuthProvider));Lr(this,"signInWithFacebook",()=>this.auth.signInWithPopup(new Jt.auth.FacebookAuthProvider));Lr(this,"signInWithGithub",()=>this.auth.signInWithPopup(new Jt.auth.GithubAuthProvider));Lr(this,"signOut",()=>this.auth.signOut());Lr(this,"passwordReset",t=>this.auth.sendPasswordResetEmail(t));Lr(this,"addUser",(t,r)=>this.db.collection("users").doc(t).set(r));Lr(this,"getUser",t=>this.db.collection("users").doc(t).get());Lr(this,"passwordUpdate",t=>this.auth.currentUser.updatePassword(t));Lr(this,"changePassword",(t,r)=>new Promise((i,s)=>{this.reauthenticate(t).then(()=>{this.auth.currentUser.updatePassword(r).then(()=>{i("Password updated successfully!")}).catch(d=>s(d))}).catch(u=>s(u))}));Lr(this,"reauthenticate",t=>{const r=this.auth.currentUser,i=Jt.auth.EmailAuthProvider.credential(r.email,t);return r.reauthenticateWithCredential(i)});Lr(this,"updateEmail",(t,r)=>new Promise((i,s)=>{this.reauthenticate(t).then(()=>{this.auth.currentUser.updateEmail(r).then(()=>{i("Email Successfully updated")}).catch(d=>s(d))}).catch(u=>s(u))}));Lr(this,"updateProfile",(t,r)=>this.db.collection("users").doc(t).update(r));Lr(this,"onAuthStateChanged",()=>new Promise((t,r)=>{this.auth.onAuthStateChanged(i=>{i?t(i):r(new Error("Auth State Changed failed"))})}));Lr(this,"saveBasketItems",(t,r)=>this.db.collection("users").doc(r).update({basket:t}));Lr(this,"setAuthPersistence",()=>this.auth.setPersistence(Jt.auth.Auth.Persistence.LOCAL));Lr(this,"getSingleProduct",t=>this.db.collection("products").doc(t).get());Lr(this,"getProducts",t=>{let r=!1;return new Promise((i,s)=>{(async()=>{if(t)try{const d=await this.db.collection("products").orderBy(Jt.firestore.FieldPath.documentId()).startAfter(t).limit(12).get(),v=[];d.forEach(w=>v.push({id:w.id,...w.data()}));const g=d.docs[d.docs.length-1];i({products:v,lastKey:g})}catch(u){s((u==null?void 0:u.message)||":( Failed to fetch products.")}else{const u=setTimeout(()=>{r=!0,s(new Error("Request timeout, please try again"))},15e3);try{const v=(await this.db.collection("products").get()).docs.length,w=await this.db.collection("products").orderBy(Jt.firestore.FieldPath.documentId()).limit(12).get();if(clearTimeout(u),!r){const S=[];w.forEach(A=>S.push({id:A.id,...A.data()}));const C=w.docs[w.docs.length-1];i({products:S,lastKey:C,total:v})}}catch(d){if(r)return;s((d==null?void 0:d.message)||":( Failed to fetch products.")}}})()})});Lr(this,"searchProducts",t=>{let r=!1;return new Promise((i,s)=>{(async()=>{const u=this.db.collection("products"),d=setTimeout(()=>{r=!0,s(new Error("Request timeout, please try again"))},15e3);try{const v=u.orderBy("name_lower").where("name_lower",">=",t).where("name_lower","<=",`${t}\uF8FF`).limit(12),g=u.orderBy("dateAdded","desc").where("keywords","array-contains-any",t.split(" ")).limit(12),w=await v.get(),S=await g.get();if(clearTimeout(d),!r){const C=[],A=[];let L=null;w.empty||(w.forEach(R=>{C.push({id:R.id,...R.data()})}),L=w.docs[w.docs.length-1]),S.empty||S.forEach(R=>{A.push({id:R.id,...R.data()})});const M=[...C,...A],U={};M.forEach(R=>{U[R.id]=R}),i({products:Object.values(U),lastKey:L})}}catch(v){if(r)return;s(v)}})()})});Lr(this,"getFeaturedProducts",(t=12)=>this.db.collection("products").where("isFeatured","==",!0).limit(t).get());Lr(this,"getRecommendedProducts",(t=12)=>this.db.collection("products").where("isRecommended","==",!0).limit(t).get());Lr(this,"addProduct",(t,r)=>this.db.collection("products").doc(t).set(r));Lr(this,"generateKey",()=>this.db.collection("products").doc().id);Lr(this,"storeImage",async(t,r,i)=>await(await this.storage.ref(r).child(t).put(i)).ref.getDownloadURL());Lr(this,"deleteImage",t=>this.storage.ref("products").child(t).delete());Lr(this,"editProduct",(t,r)=>this.db.collection("products").doc(t).update(r));Lr(this,"removeProduct",t=>this.db.collection("products").doc(t).delete());Jt.initializeApp(q$e),this.storage=Jt.storage(),this.db=Jt.firestore(),this.auth=Jt.auth()}}const ii=new B$e,uwe=e=>{const[t,r]=se.exports.useState([]),[i,s]=se.exports.useState(!1),[u,d]=se.exports.useState(""),v=n_(!0),g=async()=>{try{s(!0),d("");const w=await ii.getFeaturedProducts(e);if(w.empty)v&&(d("No featured products found."),s(!1));else{const S=[];w.forEach(C=>{const A=C.data();S.push({id:C.ref.id,...A})}),v&&(r(S),s(!1))}}catch{v&&(d("Failed to fetch featured products"),s(!1))}};return se.exports.useEffect(()=>{t.length===0&&v&&g()},[]),{featuredProducts:t,fetchFeaturedProducts:g,isLoading:i,error:u}};var gF,H$e=new Uint8Array(16);function z$e(){if(!gF&&(gF=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!gF))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gF(H$e)}const K$e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function W$e(e){return typeof e=="string"&&K$e.test(e)}var ia=[];for(var N9=0;N9<256;++N9)ia.push((N9+256).toString(16).substr(1));function G$e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ia[e[t+0]]+ia[e[t+1]]+ia[e[t+2]]+ia[e[t+3]]+"-"+ia[e[t+4]]+ia[e[t+5]]+"-"+ia[e[t+6]]+ia[e[t+7]]+"-"+ia[e[t+8]]+ia[e[t+9]]+"-"+ia[e[t+10]]+ia[e[t+11]]+ia[e[t+12]]+ia[e[t+13]]+ia[e[t+14]]+ia[e[t+15]]).toLowerCase();if(!W$e(r))throw TypeError("Stringified UUID is invalid");return r}function Q$e(e,t,r){e=e||{};var i=e.random||(e.rng||z$e)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=i[s];return t}return G$e(i)}const cwe=e=>{const[t,r]=se.exports.useState(e),[i,s]=se.exports.useState(!1);return{imageFile:t,setImageFile:r,isFileLoading:i,onFileChange:(v,{name:g,type:w})=>{const S=v.target.value,C=v.target.files[0],A=C.size/1024/1024,L=/(\.jpg|\.jpeg|\.png)$/i;if(s(!0),!L.exec(S))alert("File type must be JPEG or PNG","error"),s(!1);else if(A>.5)alert("File size exceeded 500kb, consider optimizing your image","error"),s(!1);else if(w==="multiple")Array.from(v.target.files).forEach(M=>{const U=new FileReader;U.addEventListener("load",R=>{r($=>({...$,[g]:[...$[g],{file:M,url:R.target.result,id:Q$e()}]}))}),U.readAsDataURL(M)}),s(!1);else{const M=new FileReader;M.addEventListener("load",U=>{r({...t,[g]:{file:C,url:U.target.result}}),s(!1)}),M.readAsDataURL(C)}},removeImage:({id:v,name:g})=>{const w=t[g].filter(S=>S.id!==v);r({...t,[g]:w})}}},MG=()=>{const[e,t]=se.exports.useState(!1);return{isOpenModal:e,onOpenModal:()=>{t(!0)},onCloseModal:()=>{t(!1)}}},lwe=e=>{const t=ks(w=>w.products.items.find(S=>S.id===e)),[r,i]=se.exports.useState(t),[s,u]=se.exports.useState(!1),[d,v]=se.exports.useState(null),g=n_(!0);return se.exports.useEffect(()=>{(async()=>{try{if(!r||r.id!==e){u(!0);const w=await ii.getSingleProduct(e);if(w.exists){const S={...w.data(),id:w.ref.id};g&&(i(S),u(!1))}else v("Product not found.")}}catch(w){g&&(u(!1),v((w==null?void 0:w.message)||"Something went wrong."))}})()},[e]),{product:r,isLoading:s,error:d}},FG=e=>{const[t,r]=se.exports.useState([]),[i,s]=se.exports.useState(!1),[u,d]=se.exports.useState(""),v=n_(!0),g=async()=>{try{s(!0),d("");const w=await ii.getRecommendedProducts(e);if(w.empty)v&&(d("No recommended products found."),s(!1));else{const S=[];w.forEach(C=>{const A=C.data();S.push({id:C.ref.id,...A})}),v&&(r(S),s(!1))}}catch{v&&(d("Failed to fetch recommended products"),s(!1))}};return se.exports.useEffect(()=>{t.length===0&&v&&g()},[]),{recommendedProducts:t,fetchRecommendedProducts:g,isLoading:i,error:u}},va=()=>{se.exports.useEffect(()=>{window.scrollTo(0,0)},[])},hwe=()=>({type:Oge}),Y$e=()=>({type:Pge}),X$e=e=>({type:Rge,payload:e}),_O=e=>({type:Nge,payload:e}),fwe=(e,t)=>{if(!e||e.length===0)return[];const r=t.keyword.toLowerCase();return e.filter(i=>{const s=t.maxPrice?i.price>=t.minPrice&&i.price<=t.maxPrice:!0,u=i.keywords?i.keywords.includes(r):!0,d=i.description?i.description.toLowerCase().includes(r):!0,v=i.brand?i.brand.toLowerCase().includes(t.brand):!0;return(u||d)&&v&&s}).sort((i,s)=>t.sortBy==="name-desc"?i.name<s.name?1:-1:t.sortBy==="name-asc"?i.name>s.name?1:-1:t.sortBy==="price-desc"?i.price<s.price?1:-1:i.price>s.price?1:-1)},J$e=e=>{if(!e||e.length===0)return 0;let t=e[0];for(let r=0;r<e.length;r++)e[r].price>t.price&&(t=e[r]);return Math.floor(t.price)},Z$e=e=>{if(!e||e.length===0)return 0;let t=e[0];for(let r=0;r<e.length;r++)e[r].price<t.price&&(t=e[r]);return Math.floor(t.price)};var e6e=function(){},t6e=e6e,ihe=Math.sqrt(50),ohe=Math.sqrt(10),she=Math.sqrt(2);function n6e(e,t,r){var i,s=-1,u,d,v;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((i=t<e)&&(u=e,e=t,t=u),(v=r6e(e,t,r))===0||!isFinite(v))return[];if(v>0){let g=Math.round(e/v),w=Math.round(t/v);for(g*v<e&&++g,w*v>t&&--w,d=new Array(u=w-g+1);++s<u;)d[s]=(g+s)*v}else{v=-v;let g=Math.round(e*v),w=Math.round(t*v);for(g/v<e&&++g,w/v>t&&--w,d=new Array(u=w-g+1);++s<u;)d[s]=(g+s)/v}return i&&d.reverse(),d}function r6e(e,t,r){var i=(t-e)/Math.max(0,r),s=Math.floor(Math.log(i)/Math.LN10),u=i/Math.pow(10,s);return s>=0?(u>=ihe?10:u>=ohe?5:u>=she?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=ihe?10:u>=ohe?5:u>=she?2:1)}function ahe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ahe(Object(r),!0).forEach(function(i){i6e(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ahe(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function h_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uhe(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f_(e,t,r){return t&&uhe(e.prototype,t),r&&uhe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i6e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rz(e,t)}function m4(e){return m4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m4(e)}function Rz(e,t){return Rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Rz(e,t)}function o6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6e(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lw(e)}function jP(e){var t=o6e();return function(){var i=m4(e),s;if(t){var u=m4(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return s6e(this,s)}}function Dz(e,t){return u6e(e)||l6e(e,t)||dwe(e,t)||f6e()}function Lz(e){return a6e(e)||c6e(e)||dwe(e)||h6e()}function a6e(e){if(Array.isArray(e))return Mz(e)}function u6e(e){if(Array.isArray(e))return e}function c6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i=[],s=!0,u=!1,d,v;try{for(r=r.call(e);!(s=(d=r.next()).done)&&(i.push(d.value),!(t&&i.length===t));s=!0);}catch(g){u=!0,v=g}finally{try{!s&&r.return!=null&&r.return()}finally{if(u)throw v}}return i}}function dwe(e,t){if(!!e){if(typeof e=="string")return Mz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mz(e,t)}}function Mz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function h6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(r,i){return r.val>i.val?e?-1:1:i.val>r.val?e?1:-1:0}}function zO(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=e.findIndex(function(g){return g.key===t});if(s!==-1){var u=e[s],d=u.key,v=u.val;return v===r?e:[].concat(Lz(e.slice(0,s)),[{key:d,val:r}],Lz(e.slice(s+1))).sort(pwe(i))}return e}function tO(e,t){if(!e)return[0,0];var r=e.getBoundingClientRect(),i=t?r.top:r.left,s=t?r.bottom:r.right;return[i,s]}function che(e){var t=e.type,r=t===void 0?"":t,i=e.touches;return!i||i.length>1||r.toLowerCase()==="touchend"&&i.length>0}function P9(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function lhe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=0,s=e.map(function(u){var d=r.getValue(u);return u!==d&&(i+=1),d}).map(function(u,d){return{key:"$$-".concat(d),val:u}}).sort(pwe(t));return{handles:s,changes:i}}function d6e(e,t){return t}function p6e(e,t){for(var r=0;r<e.length;r++)if(e[r].key!==t[r].key||t[r+1]&&t[r].val===t[r+1].val)return e;return t}function Fz(e,t,r,i,s){for(var u=-1,d=!0,v=0;v<e.length;v++){var g=e[v],w=t[v];if(!w||w.key!==g.key)return e;w.val!==g.val&&(u=v,d=w.val-g.val>0)}if(u===-1)return e;for(var S=d?r:-r,C=0;C<t.length;C++){var A=t[C],L=t[C+1];if(L&&A.val===L.val)if(C===u){var M=L.val+S;if(s(M)===M){var U=zO(t,L.key,L.val+S,i),R=Fz(t,U,r,i,s);return R===t?e:R}else return e}else{var $=A.val+S;if(s($)===$){var B=zO(t,A.key,A.val+S,i),G=Fz(t,B,r,i,s);return G===t?e:G}else return e}}return t}function Dw(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.forEach(function(s){return s&&s(i)})}}var v6e=function(){return{value:0,percent:0}},vwe=function(e){FP(r,e);var t=jP(r);function r(){var i;h_(this,r);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=t.call.apply(t,[this].concat(u)),i.getRailProps=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=i.props,w=g.emitMouse,S=g.emitTouch;return Qd(Qd({},v),{},{onMouseDown:Dw(v&&v.onMouseDown,w),onTouchStart:Dw(v&&v.onTouchStart,S)})},i}return f_(r,[{key:"render",value:function(){var s=this.getRailProps,u=this.props,d=u.getEventData,v=u.activeHandleID,g=v===void 0?"":v,w=u.children,S=w({getEventData:d||v6e,activeHandleID:g,getRailProps:s});return S&&On.Children.only(S)}}]),r}(se.exports.Component),mwe=function(e){FP(r,e);var t=jP(r);function r(){var i;h_(this,r);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=t.call.apply(t,[this].concat(u)),i.autofocus=function(v){v.target instanceof HTMLElement&&v.target.focus()},i.getHandleProps=function(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=i.props,S=w.emitKeyboard,C=w.emitMouse,A=w.emitTouch;return Qd(Qd({},g),{},{onKeyDown:Dw(g&&g.onKeyDown,function(L){return S&&S(L,v)}),onMouseDown:Dw(g&&g.onMouseDown,i.autofocus,function(L){return C&&C(L,v)}),onTouchStart:Dw(g&&g.onTouchStart,function(L){return A&&A(L,v)})})},i}return f_(r,[{key:"render",value:function(){var s=this.getHandleProps,u=this.props,d=u.activeHandleID,v=d===void 0?"":d,g=u.children,w=u.handles,S=w===void 0?[]:w,C=g({handles:S,activeHandleID:v,getHandleProps:s});return C&&On.Children.only(C)}}]),r}(se.exports.Component),jG=function(){function e(){h_(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return f_(e,[{key:"createInterpolator",value:function(r,i){var s=this,u=r[0],d=r[1],v=i[0],g=i[1];return d<u?function(w){return s.interpolateValue(g,v)(s.deinterpolateValue(d,u)(w))}:function(w){return s.interpolateValue(v,g)(s.deinterpolateValue(u,d)(w))}}},{key:"interpolateValue",value:function(r,i){return r=+r,i-=r,function(u){return r+i*u}}},{key:"deinterpolateValue",value:function(r,i){return(i-=r=+r)?function(s){return(s-r)/i}:function(){return i}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(r){var i=this.domain,s=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(i,s)))(+r)}},{key:"setDomain",value:function(r){return this.domain=[r[0],r[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(r){return this.range=[r[0],r[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(r){var i=this.domain;return n6e(i[0],i[i.length-1],r||10)}}]),e}(),m6e=function(){return{value:0,percent:0}},gwe=function(e){FP(r,e);var t=jP(r);function r(){return h_(this,r),t.apply(this,arguments)}return f_(r,[{key:"render",value:function(){var s=this.props,u=s.children,d=s.values,v=s.scale,g=v===void 0?new jG:v,w=s.count,S=w===void 0?10:w,C=s.getEventData,A=C===void 0?m6e:C,L=s.activeHandleID,M=L===void 0?"":L,U=(d||g.getTicks(S)).map(function($){return{id:"$$-".concat($),value:$,percent:g.getValue($)}}),R=u({getEventData:A,activeHandleID:M,ticks:U});return R&&On.Children.only(R)}}]),r}(se.exports.Component),g6e=function(){return{value:0,percent:0}},ywe=function(e){FP(r,e);var t=jP(r);function r(){var i;h_(this,r);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=t.call.apply(t,[this].concat(u)),i.getTrackProps=function(v){var g=i.props,w=g.emitMouse,S=g.emitTouch;return Qd(Qd({},v||{}),{},{onMouseDown:Dw(v&&v.onMouseDown,w),onTouchStart:Dw(v&&v.onTouchStart,S)})},i}return f_(r,[{key:"render",value:function(){for(var s=this.getTrackProps,u=this.props,d=u.children,v=u.left,g=v===void 0?!0:v,w=u.right,S=w===void 0?!0:w,C=u.scale,A=C===void 0?new jG:C,L=u.handles,M=L===void 0?[]:L,U=u.getEventData,R=U===void 0?g6e:U,$=u.activeHandleID,B=$===void 0?"":$,G=A.getDomain(),H=[],Z=0;Z<M.length+1;Z++){var Y=M[Z-1],ce=M[Z];Z===0&&g===!0?Y={id:"$",value:G[0],percent:0}:Z===M.length&&S===!0&&(ce={id:"$",value:G[1],percent:100}),Y&&ce&&H.push({id:"".concat(Y.id,"-").concat(ce.id),source:Y,target:ce})}var ye=d({getEventData:R,activeHandleID:B,tracks:H,getTrackProps:s});return ye&&On.Children.only(ye)}}]),r}(se.exports.Component);function hhe(e,t,r){return Math.min(Math.max(e,t),r)}var fhe=f_(function e(){var t=this;h_(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(r){return t.domain=[r[0],r[1]],t},this.setRange=function(r){return t.range=[r[0],r[1]],t},this.setStep=function(r){return t.step=r,t},this.getValue=function(r){var i=Dz(t.domain,2),s=i[0],u=i[1],d=Dz(t.range,2),v=d[0],g=d[1],w=t.step,S=(hhe(r,s,u)-s)/(u-s),C=w*Math.round(S*(g-v)/w)+v;return hhe(C,v<g?v:g,g>v?g:v)}}),nO=typeof window<"u"&&typeof document<"u",uh=function(){},y6e=function(t){return function(r,i,s){return r&&t[s]===i}},b6e=function(t,r){return t===r||t.length===r.length&&t.reduce(y6e(r),!0)},w6e=function(t){if(!se.exports.isValidElement(t))return!1;var r=t.type,i=r?r.name:"";return i===mwe.name||i===vwe.name||i===gwe.name||i===ywe.name},_6e=function(t,r,i,s){var u=s?t-r:t+r;return s?Math.max(i[0],u):Math.min(i[1],u)},E6e=function(t,r,i,s){var u=s?t+r:t-r;return s?Math.min(i[1],u):Math.max(i[0],u)},yF=[0,100],S6e=function(e){FP(r,e);var t=jP(r);function r(){var i;h_(this,r);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=t.call.apply(t,[this].concat(u)),i.state={step:.1,values:[],domain:yF,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},i.slider=On.createRef(),i.onKeyDown=function(v,g){var w=["ArrowRight","ArrowUp"],S=["ArrowDown","ArrowLeft"],C=lw(i),A=C.state.handles,L=C.props,M=L.step,U=M===void 0?.1:M,R=L.reversed,$=R===void 0?!1:R,B=L.vertical,G=B===void 0?!1:B,H=L.domain,Z=H===void 0?[0,100]:H,Y=v.key||"".concat(v.keyCode);if(!!w.concat(S).includes(Y)){if(G){var ce=[S,w];w=ce[0],S=ce[1]}v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault();var ye=A.find(function(it){return it.key===g});if(!!ye){var xe=ye.val,re=xe;w.includes(Y)?re=_6e(xe,U,Z,$):S.includes(Y)&&(re=E6e(xe,U,Z,$));var ut=A.map(function(it){return it.key===g?{key:it.key,val:re}:it});i.submitUpdate(ut,!0)}}},i.onMouseDown=function(v,g){i.onStart(v,g,!1)},i.onTouchStart=function(v,g){che(v)||i.onStart(v,g,!0)},i.getEventData=function(v,g){var w=lw(i),S=w.state,C=S.pixelToStep,A=S.valueToPerc,L=w.props.vertical;C.setDomain(tO(i.slider.current,L));var M;return g&&v instanceof TouchEvent?M=C.getValue(P9(L,v)):v instanceof MouseEvent&&(M=C.getValue(L?v.clientY:v.pageX)),{value:M,percent:A.getValue(M)}},i.onMouseMove=function(v){var g=lw(i),w=g.state,S=w.handles,C=w.pixelToStep,A=w.activeHandleID,L=A===void 0?"":A,M=g.props,U=M.vertical,R=M.reversed,$=R===void 0?!1:R;C.setDomain(tO(i.slider.current,U));var B=C.getValue(U?v.clientY:v.pageX),G=zO(S,L,B,$);i.submitUpdate(G)},i.onTouchMove=function(v){var g=lw(i),w=g.state,S=w.handles,C=w.pixelToStep,A=w.activeHandleID,L=g.props,M=L.vertical,U=L.reversed;if(!(C===null||che(v))){C.setDomain(tO(i.slider.current,M));var R=C.getValue(P9(M,v)),$=zO(S,A,R,U);i.submitUpdate($)}},i.onMouseUp=function(){var v=lw(i),g=v.state,w=g.handles,S=w===void 0?[]:w,C=g.activeHandleID,A=v.props,L=A.onChange,M=L===void 0?uh:L,U=A.onSlideEnd,R=U===void 0?uh:U;M(S.map(function($){return $.val})),R(S.map(function($){return $.val}),{activeHandleID:C}),i.setState({activeHandleID:""}),nO&&(document.removeEventListener("mousemove",i.onMouseMove),document.removeEventListener("mouseup",i.onMouseUp))},i.onTouchEnd=function(){var v=lw(i),g=v.state,w=g.handles,S=g.activeHandleID,C=v.props,A=C.onChange,L=A===void 0?uh:A,M=C.onSlideEnd,U=M===void 0?uh:M;L(w.map(function(R){return R.val})),U(w.map(function(R){return R.val}),{activeHandleID:S}),i.setState({activeHandleID:""}),nO&&(document.removeEventListener("touchmove",i.onTouchMove),document.removeEventListener("touchend",i.onTouchEnd))},i}return f_(r,[{key:"componentDidMount",value:function(){var s=this.state.pixelToStep,u=this.props.vertical;s.setDomain(tO(this.slider.current,u))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){nO&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(s,u,d){var v=this.state.handles,g=this.props.onSlideStart,w=g===void 0?uh:g;d||s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation();var S=v.find(function(C){return C.key===u});S?(this.setState({activeHandleID:u}),w(v.map(function(C){return C.val}),{activeHandleID:u}),d?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(s,d))}},{key:"handleRailAndTrackClicks",value:function(s,u){var d=this,v=this.state,g=v.handles,w=v.pixelToStep,S=this.props,C=S.vertical,A=S.reversed,L=A===void 0?!1:A,M=this.slider;w.setDomain(tO(M.current,C));var U;u?U=w.getValue(P9(C,s)):U=w.getValue(C?s.clientY:s.pageX);for(var R="",$=1/0,B=0;B<g.length;B++){var G=g[B],H=G.key,Z=G.val,Y=Math.abs(Z-U);Y<$&&(R=H,$=Y)}var ce=zO(g,R,U,L);this.setState({activeHandleID:R},function(){d.submitUpdate(ce,!0),u?d.addTouchEvents():d.addMouseEvents()})}},{key:"addMouseEvents",value:function(){nO&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){nO&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=this.props,v=d.mode,g=v===void 0?1:v,w=d.step,S=w===void 0?.1:w,C=d.onUpdate,A=C===void 0?uh:C,L=d.onChange,M=L===void 0?uh:L,U=d.reversed,R=U===void 0?!1:U,$=this.state.valueToStep.getValue;this.setState(function(B){var G=B.handles,H=[];if(typeof g=="function")H=g(G,s,S,R,$);else switch(g){case 1:H=d6e(G,s);break;case 2:H=p6e(G,s);break;case 3:H=Fz(G,s,S,R,$);break;default:H=s}return A(H.map(function(Z){return Z.val})),u&&M(H.map(function(Z){return Z.val})),{handles:H}})}},{key:"render",value:function(){var s=this,u=this.state,d=u.handles,v=u.valueToPerc,g=u.activeHandleID,w=this.props,S=w.className,C=w.rootStyle,A=C===void 0?{}:C,L=w.rootProps,M=L===void 0?{}:L,U=w.component,R=U===void 0?"div":U,$=w.disabled,B=$===void 0?!1:$,G=w.flatten,H=G===void 0?!1:G,Z=d.map(function(ce){var ye=ce.key,xe=ce.val;return{id:ye,value:xe,percent:v.getValue(xe)}}),Y=On.Children.map(this.props.children,function(ce){return w6e(ce)===!0?On.cloneElement(ce,{scale:v,handles:Z,activeHandleID:g,getEventData:s.getEventData,emitKeyboard:B?uh:s.onKeyDown,emitMouse:B?uh:s.onMouseDown,emitTouch:B?uh:s.onTouchStart}):ce});return H?ge(Mu,{children:[D(R,{...Qd(Qd({},M),{},{style:A,className:S,ref:this.slider})}),Y]}):D(Mu,{children:D(R,{...Qd(Qd({},M),{},{style:A,className:S,ref:this.slider}),children:Y})})}}],[{key:"getDerivedStateFromProps",value:function(s,u){var d=s.step,v=d===void 0?.1:d,g=s.values,w=s.domain,S=w===void 0?yF:w,C=s.reversed,A=C===void 0?!1:C,L=s.onUpdate,M=L===void 0?uh:L,U=s.onChange,R=U===void 0?uh:U,$=s.warnOnChanges,B=$===void 0?!1:$,G=u.valueToPerc,H=u.valueToStep,Z=u.pixelToStep,Y={};if((!G||!H||!Z)&&(G=new jG,H=new fhe,Z=new fhe,Y.valueToPerc=G,Y.valueToStep=H,Y.pixelToStep=Z),u.domain===yF||u.step===null||u.domain===null||u.reversed===null||v!==u.step||S[0]!==u.domain[0]||S[1]!==u.domain[1]||A!==u.reversed){var ce=Dz(S,2),ye=ce[0],xe=ce[1];H.setStep(v).setRange([ye,xe]).setDomain([ye,xe]),A===!0?(G.setDomain([ye,xe]).setRange([100,0]),Z.setStep(v).setRange([xe,ye])):(G.setDomain([ye,xe]).setRange([0,100]),Z.setStep(v).setRange([ye,xe]));var re=lhe(g||u.values,A,H,B),ut=re.handles,it=re.changes;(it||g===void 0||g===u.values)&&(M(ut.map(function(Be){return Be.val})),R(ut.map(function(Be){return Be.val}))),Y.step=v,Y.values=g,Y.domain=S===yF?Lz(S):S,Y.handles=ut,Y.reversed=A}else if(!b6e(g,u.values)){var ht=lhe(g,A,H,B),Ie=ht.handles,Ne=ht.changes;Ne&&(M(Ie.map(function(Be){return Be.val})),R(Ie.map(function(Be){return Be.val}))),Y.values=g,Y.handles=Ie}return Object.keys(Y).length?Y:null}}]),r}(se.exports.PureComponent);class UG extends se.exports.Component{constructor(t){super(t),this.state={mouseOver:!1}}onMouseEnter(){this.setState({mouseOver:!0})}onMouseLeave(){this.setState({mouseOver:!1})}render(){const{domain:[t,r],handle:{id:i,value:s,percent:u},isActive:d,disabled:v,getHandleProps:g}=this.props,{mouseOver:w}=this.state;return ge(Mu,{children:[(w||d)&&!v?D("div",{style:{left:`${u}%`,position:"absolute",marginLeft:"-11px",marginTop:"-35px"},children:D("div",{className:"tooltip",children:ge("span",{className:"tooltiptext",children:["Value:",s]})})}):null,D("div",{style:{left:`${u}%`,position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:400,width:26,height:42,cursor:"pointer",backgroundColor:"none"},...g(i,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}),D("div",{role:"slider","aria-valuemin":t,"aria-valuemax":r,"aria-valuenow":s,label:"Slider",style:{left:`${u}%`,position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:300,width:24,height:24,border:0,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:v?"#666":"#1a1a1a"}})]})}}UG.propTypes={domain:ie.exports.array.isRequired,handle:ie.exports.shape({id:ie.exports.string.isRequired,value:ie.exports.number.isRequired,percent:ie.exports.number.isRequired}).isRequired,getHandleProps:ie.exports.func.isRequired,isActive:ie.exports.bool.isRequired,disabled:ie.exports.bool};UG.defaultProps={disabled:!1};const T6e={position:"absolute",transform:"translate(0%, -50%)",width:"100%",height:42,borderRadius:7,cursor:"pointer"},I6e={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"#d0d0d0"},bwe=({getRailProps:e})=>ge("div",{children:[D("div",{style:T6e,...e()}),D("div",{style:I6e})]});bwe.propTypes={getRailProps:ie.exports.func.isRequired};const $G=({tick:e,count:t,format:r})=>ge("div",{children:[D("div",{style:{position:"absolute",marginTop:17,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:`${e.percent}%`}}),D("div",{style:{position:"absolute",marginTop:25,fontSize:10,textAlign:"center",marginLeft:`${-(100/t)/2}%`,width:`${100/t}%`,left:`${e.percent}%`},children:r(e.value)})]});$G.propTypes={tick:ie.exports.shape({id:ie.exports.string.isRequired,value:ie.exports.number.isRequired,percent:ie.exports.number.isRequired}).isRequired,count:ie.exports.number.isRequired,format:ie.exports.func};$G.defaultProps={format:e=>e};const VG=({source:e,target:t,getTrackProps:r,disabled:i})=>D("div",{style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:i?"#ffd993":"#ffa500",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:`${t.percent-e.percent}%`},...r()});VG.propTypes={source:ie.exports.shape({id:ie.exports.string.isRequired,value:ie.exports.number.isRequired,percent:ie.exports.number.isRequired}).isRequired,target:ie.exports.shape({id:ie.exports.string.isRequired,value:ie.exports.number.isRequired,percent:ie.exports.number.isRequired}).isRequired,getTrackProps:ie.exports.func.isRequired,disabled:ie.exports.bool};VG.defaultProps={disabled:!1};const C6e={position:"relative",width:"100%"},qG=({min:e,max:t,initMin:r,initMax:i,productsCount:s,onPriceChange:u})=>{const[d,v]=se.exports.useState({domain:[e,t],values:[r||e,i||t],update:[e,t].slice(),inputMin:r||e,inputMax:i||t,inputError:!1,reversed:!1}),g=C=>{v(()=>({...d,update:C,inputMin:C[0],inputMax:C[1]}))},w=C=>{v(()=>({...d,values:C,inputMin:C[0],inputMax:C[1]})),C[0]<C[1]&&u(...C)},S=()=>d.inputError?"price-range-input price-input-error":"price-range-input";return ge("div",{style:{height:120,width:"100%"},children:[ge("div",{className:"price-range-control",children:[D("input",{className:S(),disabled:s===0,max:t,min:e,type:"number",readOnly:!0,value:d.inputMin}),"\u2014",D("input",{className:S(),disabled:s===0,max:t,min:e,type:"number",readOnly:!0,value:d.inputMax})]}),ge(S6e,{mode:1,step:1,domain:d.domain,rootStyle:C6e,onUpdate:g,onChange:w,values:d.values,children:[D(vwe,{children:({getRailProps:C})=>D(bwe,{getRailProps:C})}),D(mwe,{children:({handles:C,activeHandleID:A,getHandleProps:L})=>D("div",{className:"slider-handles",children:C.map(M=>D(UG,{handle:M,domain:d.domain,isActive:M.id===A,getHandleProps:L},M.id))})}),D(ywe,{left:!1,right:!1,children:({tracks:C,getTrackProps:A})=>D("div",{className:"slider-tracks",children:C.map(({id:L,source:M,target:U})=>D(VG,{source:M,target:U,getTrackProps:A},L))})}),D(gwe,{count:5,children:({ticks:C})=>D("div",{className:"slider-ticks",children:C.map(A=>D($G,{tick:A,count:C.length},A.id))})})]})]})};qG.defaultProps={initMin:void 0,initMax:void 0};qG.propTypes={initMin:ie.exports.number,initMax:ie.exports.number,min:ie.exports.number.isRequired,max:ie.exports.number.isRequired,productsCount:ie.exports.number.isRequired,onPriceChange:ie.exports.func.isRequired};const wwe=({closeModal:e})=>{const{filter:t,isLoading:r,products:i}=ks(R=>({filter:R.filter,isLoading:R.app.loading,products:R.products.items})),[s,u]=se.exports.useState({brand:t.brand,minPrice:t.minPrice,maxPrice:t.maxPrice,sortBy:t.sortBy}),d=Lo(),v=sp(),g=n_(),w=J$e(i),S=Z$e(i);se.exports.useEffect(()=>{g&&window.screen.width<=480&&v.push("/"),g&&e&&e(),u(t),window.scrollTo(0,0)},[t]);const C=(R,$)=>{u({...s,minPrice:R,maxPrice:$})},A=R=>{const $=R.target.value;u({...s,brand:$})},L=R=>{u({...s,sortBy:R.target.value})},M=()=>{const R=Object.keys(s).some($=>s[$]!==t[$]);s.minPrice>s.maxPrice||(R?d(_O(s)):e())},U=()=>{["brand","minPrice","maxPrice","sortBy"].some($=>!!t[$])?d(hwe()):e()};return ge("div",{className:"filters",children:[ge("div",{className:"filters-field",children:[D("span",{children:"Brand"}),D("br",{}),D("br",{}),i.length===0&&r?D("h5",{className:"text-subtle",children:"Loading Filter"}):ge("select",{className:"filters-brand",value:s.brand,disabled:r||i.length===0,onChange:A,children:[D("option",{value:"",children:"All Brands"}),D("option",{value:"salt",children:"Salt Maalat"}),D("option",{value:"betsin",children:"Betsin Maalat"}),D("option",{value:"black",children:"Black Kibal"}),D("option",{value:"sexbomb",children:"Sexbomb"})]})]}),ge("div",{className:"filters-field",children:[D("span",{children:"Sort By"}),D("br",{}),D("br",{}),ge("select",{className:"filters-sort-by d-block",value:s.sortBy,disabled:r||i.length===0,onChange:L,children:[D("option",{value:"",children:"None"}),D("option",{value:"name-asc",children:"Name Ascending A - Z"}),D("option",{value:"name-desc",children:"Name Descending Z - A"}),D("option",{value:"price-desc",children:"Price High - Low"}),D("option",{value:"price-asc",children:"Price Low - High"})]})]}),ge("div",{className:"filters-field",children:[D("span",{children:"Price Range"}),D("br",{}),D("br",{}),i.length===0&&r||w===0?D("h5",{className:"text-subtle",children:"Loading Filter"}):i.length===1?D("h5",{className:"text-subtle",children:"No Price Range"}):D(qG,{min:S,max:w,initMin:s.minPrice,initMax:s.maxPrice,isLoading:r,onPriceChange:C,productsCount:i.length})]}),ge("div",{className:"filters-action",children:[D("button",{className:"filters-button button button-small",disabled:r||i.length===0,onClick:M,type:"button",children:"Apply filters"}),D("button",{className:"filters-button button button-border button-small",disabled:r||i.length===0,onClick:U,type:"button",children:"Reset filters"})]})]})};wwe.propTypes={closeModal:ie.exports.func.isRequired};const k6e=e_(wwe);var jz={exports:{}},Kw={},Uz={exports:{}},xf={},g4={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r=/input|select|textarea|button|object|iframe/;function i(g){var w=g.offsetWidth<=0&&g.offsetHeight<=0;if(w&&!g.innerHTML)return!0;try{var S=window.getComputedStyle(g);return w?S.getPropertyValue("overflow")!=="visible"||g.scrollWidth<=0&&g.scrollHeight<=0:S.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function s(g){for(var w=g,S=g.getRootNode&&g.getRootNode();w&&w!==document.body;){if(S&&w===S&&(w=S.host.parentNode),i(w))return!1;w=w.parentNode}return!0}function u(g,w){var S=g.nodeName.toLowerCase(),C=r.test(S)&&!g.disabled||S==="a"&&g.href||w;return C&&s(g)}function d(g){var w=g.getAttribute("tabindex");w===null&&(w=void 0);var S=isNaN(w);return(S||w>=0)&&u(g,!S)}function v(g){var w=[].slice.call(g.querySelectorAll("*"),0).reduce(function(S,C){return S.concat(C.shadowRoot?v(C.shadowRoot):[C])},[]);return w.filter(d)}e.exports=t.default})(g4,g4.exports);Object.defineProperty(xf,"__esModule",{value:!0});xf.resetState=N6e;xf.log=P6e;xf.handleBlur=jN;xf.handleFocus=UN;xf.markForFocusLater=R6e;xf.returnFocus=D6e;xf.popWithoutFocus=L6e;xf.setupScopedFocus=M6e;xf.teardownScopedFocus=F6e;var A6e=g4.exports,x6e=O6e(A6e);function O6e(e){return e&&e.__esModule?e:{default:e}}var YT=[],sT=null,$z=!1;function N6e(){YT=[]}function P6e(){}function jN(){$z=!0}function UN(){if($z){if($z=!1,!sT)return;setTimeout(function(){if(!sT.contains(document.activeElement)){var e=(0,x6e.default)(sT)[0]||sT;e.focus()}},0)}}function R6e(){YT.push(document.activeElement)}function D6e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{YT.length!==0&&(t=YT.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function L6e(){YT.length>0&&YT.pop()}function M6e(e){sT=e,window.addEventListener?(window.addEventListener("blur",jN,!1),document.addEventListener("focus",UN,!0)):(window.attachEvent("onBlur",jN),document.attachEvent("onFocus",UN))}function F6e(){sT=null,window.addEventListener?(window.removeEventListener("blur",jN),document.removeEventListener("focus",UN)):(window.detachEvent("onBlur",jN),document.detachEvent("onFocus",UN))}var Vz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=g4.exports,i=s(r);function s(v){return v&&v.__esModule?v:{default:v}}function u(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return v.activeElement.shadowRoot?u(v.activeElement.shadowRoot):v.activeElement}function d(v,g){var w=(0,i.default)(v);if(!w.length){g.preventDefault();return}var S=void 0,C=g.shiftKey,A=w[0],L=w[w.length-1],M=u();if(v===M){if(!C)return;S=L}if(L===M&&!C&&(S=A),A===M&&C&&(S=L),S){g.preventDefault(),S.focus();return}var U=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),R=U!=null&&U[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!R){var $=w.indexOf(M);if($>-1&&($+=C?-1:1),S=w[$],typeof S>"u"){g.preventDefault(),S=C?L:A,S.focus();return}g.preventDefault(),S.focus()}}e.exports=t.default})(Vz,Vz.exports);var Of={},Ef={},_we={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()})(_we);Object.defineProperty(Ef,"__esModule",{value:!0});Ef.canUseDOM=Ef.SafeNodeList=Ef.SafeHTMLCollection=void 0;var j6e=_we.exports,U6e=$6e(j6e);function $6e(e){return e&&e.__esModule?e:{default:e}}var tU=U6e.default,V6e=tU.canUseDOM?window.HTMLElement:{};Ef.SafeHTMLCollection=tU.canUseDOM?window.HTMLCollection:{};Ef.SafeNodeList=tU.canUseDOM?window.NodeList:{};Ef.canUseDOM=tU.canUseDOM;Ef.default=V6e;Object.defineProperty(Of,"__esModule",{value:!0});Of.resetState=K6e;Of.log=W6e;Of.assertNodeList=Ewe;Of.setElement=G6e;Of.validateElement=BG;Of.hide=Q6e;Of.show=Y6e;Of.documentNotReadyOrSSRTesting=X6e;var q6e=t6e,B6e=z6e(q6e),H6e=Ef;function z6e(e){return e&&e.__esModule?e:{default:e}}var fh=null;function K6e(){fh&&(fh.removeAttribute?fh.removeAttribute("aria-hidden"):fh.length!=null?fh.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(fh).forEach(function(e){return e.removeAttribute("aria-hidden")})),fh=null}function W6e(){}function Ewe(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function G6e(e){var t=e;if(typeof t=="string"&&H6e.canUseDOM){var r=document.querySelectorAll(t);Ewe(r,t),t=r}return fh=t||fh,fh}function BG(e){var t=e||fh;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,B6e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Q6e(e){var t=!0,r=!1,i=void 0;try{for(var s=BG(e)[Symbol.iterator](),u;!(t=(u=s.next()).done);t=!0){var d=u.value;d.setAttribute("aria-hidden","true")}}catch(v){r=!0,i=v}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}}function Y6e(e){var t=!0,r=!1,i=void 0;try{for(var s=BG(e)[Symbol.iterator](),u;!(t=(u=s.next()).done);t=!0){var d=u.value;d.removeAttribute("aria-hidden")}}catch(v){r=!0,i=v}finally{try{!t&&s.return&&s.return()}finally{if(r)throw i}}}function X6e(){fh=null}var bI={};Object.defineProperty(bI,"__esModule",{value:!0});bI.resetState=J6e;bI.log=Z6e;var KO={},WO={};function dhe(e,t){e.classList.remove(t)}function J6e(){var e=document.getElementsByTagName("html")[0];for(var t in KO)dhe(e,KO[t]);var r=document.body;for(var i in WO)dhe(r,WO[i]);KO={},WO={}}function Z6e(){}var eVe=function(t,r){return t[r]||(t[r]=0),t[r]+=1,r},tVe=function(t,r){return t[r]&&(t[r]-=1),r},nVe=function(t,r,i){i.forEach(function(s){eVe(r,s),t.add(s)})},rVe=function(t,r,i){i.forEach(function(s){tVe(r,s),r[s]===0&&t.remove(s)})};bI.add=function(t,r){return nVe(t.classList,t.nodeName.toLowerCase()=="html"?KO:WO,r.split(" "))};bI.remove=function(t,r){return rVe(t.classList,t.nodeName.toLowerCase()=="html"?KO:WO,r.split(" "))};var wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.log=oVe;wI.resetState=sVe;function iVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Swe=function e(){var t=this;iVe(this,e),this.register=function(r){t.openInstances.indexOf(r)===-1&&(t.openInstances.push(r),t.emit("register"))},this.deregister=function(r){var i=t.openInstances.indexOf(r);i!==-1&&(t.openInstances.splice(i,1),t.emit("deregister"))},this.subscribe=function(r){t.subscribers.push(r)},this.emit=function(r){t.subscribers.forEach(function(i){return i(r,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},y4=new Swe;function oVe(){console.log("portalOpenInstances ----------"),console.log(y4.openInstances.length),y4.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function sVe(){y4=new Swe}wI.default=y4;var HG={};Object.defineProperty(HG,"__esModule",{value:!0});HG.resetState=lVe;HG.log=hVe;var aVe=wI,uVe=cVe(aVe);function cVe(e){return e&&e.__esModule?e:{default:e}}var ja=void 0,pf=void 0,Lw=[];function lVe(){for(var e=[ja,pf],t=0;t<e.length;t++){var r=e[t];!r||r.parentNode&&r.parentNode.removeChild(r)}ja=pf=null,Lw=[]}function hVe(){console.log("bodyTrap ----------"),console.log(Lw.length);for(var e=[ja,pf],t=0;t<e.length;t++){var r=e[t],i=r||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function phe(){Lw.length!==0&&Lw[Lw.length-1].focusContent()}function fVe(e,t){!ja&&!pf&&(ja=document.createElement("div"),ja.setAttribute("data-react-modal-body-trap",""),ja.style.position="absolute",ja.style.opacity="0",ja.setAttribute("tabindex","0"),ja.addEventListener("focus",phe),pf=ja.cloneNode(),pf.addEventListener("focus",phe)),Lw=t,Lw.length>0?(document.body.firstChild!==ja&&document.body.insertBefore(ja,document.body.firstChild),document.body.lastChild!==pf&&document.body.appendChild(pf)):(ja.parentElement&&ja.parentElement.removeChild(ja),pf.parentElement&&pf.parentElement.removeChild(pf))}uVe.default.subscribe(fVe);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(Ie){for(var Ne=1;Ne<arguments.length;Ne++){var Be=arguments[Ne];for(var _e in Be)Object.prototype.hasOwnProperty.call(Be,_e)&&(Ie[_e]=Be[_e])}return Ie},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ie){return typeof Ie}:function(Ie){return Ie&&typeof Symbol=="function"&&Ie.constructor===Symbol&&Ie!==Symbol.prototype?"symbol":typeof Ie},s=function(){function Ie(Ne,Be){for(var _e=0;_e<Be.length;_e++){var He=Be[_e];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(Ne,He.key,He)}}return function(Ne,Be,_e){return Be&&Ie(Ne.prototype,Be),_e&&Ie(Ne,_e),Ne}}(),u=se.exports,d=ie.exports,v=Z(d),g=xf,w=H(g),S=Vz.exports,C=Z(S),A=Of,L=H(A),M=bI,U=H(M),R=Ef,$=Z(R),B=wI,G=Z(B);function H(Ie){if(Ie&&Ie.__esModule)return Ie;var Ne={};if(Ie!=null)for(var Be in Ie)Object.prototype.hasOwnProperty.call(Ie,Be)&&(Ne[Be]=Ie[Be]);return Ne.default=Ie,Ne}function Z(Ie){return Ie&&Ie.__esModule?Ie:{default:Ie}}function Y(Ie,Ne){if(!(Ie instanceof Ne))throw new TypeError("Cannot call a class as a function")}function ce(Ie,Ne){if(!Ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne&&(typeof Ne=="object"||typeof Ne=="function")?Ne:Ie}function ye(Ie,Ne){if(typeof Ne!="function"&&Ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ne);Ie.prototype=Object.create(Ne&&Ne.prototype,{constructor:{value:Ie,enumerable:!1,writable:!0,configurable:!0}}),Ne&&(Object.setPrototypeOf?Object.setPrototypeOf(Ie,Ne):Ie.__proto__=Ne)}var xe={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},re=9,ut=27,it=0,ht=function(Ie){ye(Ne,Ie);function Ne(Be){Y(this,Ne);var _e=ce(this,(Ne.__proto__||Object.getPrototypeOf(Ne)).call(this,Be));return _e.setOverlayRef=function(He){_e.overlay=He,_e.props.overlayRef&&_e.props.overlayRef(He)},_e.setContentRef=function(He){_e.content=He,_e.props.contentRef&&_e.props.contentRef(He)},_e.afterClose=function(){var He=_e.props,ct=He.appElement,Pe=He.ariaHideApp,he=He.htmlOpenClassName,fe=He.bodyOpenClassName;fe&&U.remove(document.body,fe),he&&U.remove(document.getElementsByTagName("html")[0],he),Pe&&it>0&&(it-=1,it===0&&L.show(ct)),_e.props.shouldFocusAfterRender&&(_e.props.shouldReturnFocusAfterClose?(w.returnFocus(_e.props.preventScroll),w.teardownScopedFocus()):w.popWithoutFocus()),_e.props.onAfterClose&&_e.props.onAfterClose(),G.default.deregister(_e)},_e.open=function(){_e.beforeOpen(),_e.state.afterOpen&&_e.state.beforeClose?(clearTimeout(_e.closeTimer),_e.setState({beforeClose:!1})):(_e.props.shouldFocusAfterRender&&(w.setupScopedFocus(_e.node),w.markForFocusLater()),_e.setState({isOpen:!0},function(){_e.openAnimationFrame=requestAnimationFrame(function(){_e.setState({afterOpen:!0}),_e.props.isOpen&&_e.props.onAfterOpen&&_e.props.onAfterOpen({overlayEl:_e.overlay,contentEl:_e.content})})}))},_e.close=function(){_e.props.closeTimeoutMS>0?_e.closeWithTimeout():_e.closeWithoutTimeout()},_e.focusContent=function(){return _e.content&&!_e.contentHasFocus()&&_e.content.focus({preventScroll:!0})},_e.closeWithTimeout=function(){var He=Date.now()+_e.props.closeTimeoutMS;_e.setState({beforeClose:!0,closesAt:He},function(){_e.closeTimer=setTimeout(_e.closeWithoutTimeout,_e.state.closesAt-Date.now())})},_e.closeWithoutTimeout=function(){_e.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},_e.afterClose)},_e.handleKeyDown=function(He){He.keyCode===re&&(0,C.default)(_e.content,He),_e.props.shouldCloseOnEsc&&He.keyCode===ut&&(He.stopPropagation(),_e.requestClose(He))},_e.handleOverlayOnClick=function(He){_e.shouldClose===null&&(_e.shouldClose=!0),_e.shouldClose&&_e.props.shouldCloseOnOverlayClick&&(_e.ownerHandlesClose()?_e.requestClose(He):_e.focusContent()),_e.shouldClose=null},_e.handleContentOnMouseUp=function(){_e.shouldClose=!1},_e.handleOverlayOnMouseDown=function(He){!_e.props.shouldCloseOnOverlayClick&&He.target==_e.overlay&&He.preventDefault()},_e.handleContentOnClick=function(){_e.shouldClose=!1},_e.handleContentOnMouseDown=function(){_e.shouldClose=!1},_e.requestClose=function(He){return _e.ownerHandlesClose()&&_e.props.onRequestClose(He)},_e.ownerHandlesClose=function(){return _e.props.onRequestClose},_e.shouldBeClosed=function(){return!_e.state.isOpen&&!_e.state.beforeClose},_e.contentHasFocus=function(){return document.activeElement===_e.content||_e.content.contains(document.activeElement)},_e.buildClassName=function(He,ct){var Pe=(typeof ct>"u"?"undefined":i(ct))==="object"?ct:{base:xe[He],afterOpen:xe[He]+"--after-open",beforeClose:xe[He]+"--before-close"},he=Pe.base;return _e.state.afterOpen&&(he=he+" "+Pe.afterOpen),_e.state.beforeClose&&(he=he+" "+Pe.beforeClose),typeof ct=="string"&&ct?he+" "+ct:he},_e.attributesFromObject=function(He,ct){return Object.keys(ct).reduce(function(Pe,he){return Pe[He+"-"+he]=ct[he],Pe},{})},_e.state={afterOpen:!1,beforeClose:!1},_e.shouldClose=null,_e.moveFromContentToOverlay=null,_e}return s(Ne,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(_e,He){this.props.isOpen&&!_e.isOpen?this.open():!this.props.isOpen&&_e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!He.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var _e=this.props,He=_e.appElement,ct=_e.ariaHideApp,Pe=_e.htmlOpenClassName,he=_e.bodyOpenClassName;he&&U.add(document.body,he),Pe&&U.add(document.getElementsByTagName("html")[0],Pe),ct&&(it+=1,L.hide(He)),G.default.register(this)}},{key:"render",value:function(){var _e=this.props,He=_e.id,ct=_e.className,Pe=_e.overlayClassName,he=_e.defaultStyles,fe=_e.children,Se=ct?{}:he.content,Ae=Pe?{}:he.overlay;if(this.shouldBeClosed())return null;var ee={ref:this.setOverlayRef,className:this.buildClassName("overlay",Pe),style:r({},Ae,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},be=r({id:He,ref:this.setContentRef,style:r({},Se,this.props.style.content),className:this.buildClassName("content",ct),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),st=this.props.contentElement(be,fe);return this.props.overlayElement(ee,st)}}]),Ne}(u.Component);ht.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},ht.propTypes={isOpen:v.default.bool.isRequired,defaultStyles:v.default.shape({content:v.default.object,overlay:v.default.object}),style:v.default.shape({content:v.default.object,overlay:v.default.object}),className:v.default.oneOfType([v.default.string,v.default.object]),overlayClassName:v.default.oneOfType([v.default.string,v.default.object]),bodyOpenClassName:v.default.string,htmlOpenClassName:v.default.string,ariaHideApp:v.default.bool,appElement:v.default.oneOfType([v.default.instanceOf($.default),v.default.instanceOf(R.SafeHTMLCollection),v.default.instanceOf(R.SafeNodeList),v.default.arrayOf(v.default.instanceOf($.default))]),onAfterOpen:v.default.func,onAfterClose:v.default.func,onRequestClose:v.default.func,closeTimeoutMS:v.default.number,shouldFocusAfterRender:v.default.bool,shouldCloseOnOverlayClick:v.default.bool,shouldReturnFocusAfterClose:v.default.bool,preventScroll:v.default.bool,role:v.default.string,contentLabel:v.default.string,aria:v.default.object,data:v.default.object,children:v.default.node,shouldCloseOnEsc:v.default.bool,overlayRef:v.default.func,contentRef:v.default.func,id:v.default.string,overlayElement:v.default.func,contentElement:v.default.func,testId:v.default.string},t.default=ht,e.exports=t.default})(Uz,Uz.exports);function Twe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Iwe(e){function t(r){var i=this.constructor.getDerivedStateFromProps(e,r);return i!=null?i:null}this.setState(t.bind(this))}function Cwe(e,t){try{var r=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,i)}finally{this.props=r,this.state=i}}Twe.__suppressDeprecationWarning=!0;Iwe.__suppressDeprecationWarning=!0;Cwe.__suppressDeprecationWarning=!0;function dVe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,i=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||i!==null||s!==null){var u=e.displayName||e.name,d=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+u+" uses "+d+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Twe,t.componentWillReceiveProps=Iwe),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Cwe;var v=t.componentDidUpdate;t.componentDidUpdate=function(w,S,C){var A=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:C;v.call(this,w,S,A)}}return e}const pVe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:dVe},Symbol.toStringTag,{value:"Module"})),vVe=M7(pVe);Object.defineProperty(Kw,"__esModule",{value:!0});Kw.bodyOpenClassName=Kw.portalClassName=void 0;var vhe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},mVe=function(){function e(t,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),kwe=se.exports,b4=UP(kwe),gVe=iI.exports,w4=UP(gVe),yVe=ie.exports,xn=UP(yVe),bVe=Uz.exports,mhe=UP(bVe),wVe=Of,_Ve=SVe(wVe),ey=Ef,ghe=UP(ey),EVe=vVe;function SVe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function UP(e){return e&&e.__esModule?e:{default:e}}function TVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yhe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function IVe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var CVe=Kw.portalClassName="ReactModalPortal",kVe=Kw.bodyOpenClassName="ReactModal__Body--open",hw=ey.canUseDOM&&w4.default.createPortal!==void 0,bhe=function(t){return document.createElement(t)},whe=function(){return hw?w4.default.createPortal:w4.default.unstable_renderSubtreeIntoContainer};function bF(e){return e()}var $P=function(e){IVe(t,e);function t(){var r,i,s,u;TVe(this,t);for(var d=arguments.length,v=Array(d),g=0;g<d;g++)v[g]=arguments[g];return u=(i=(s=yhe(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(v))),s),s.removePortal=function(){!hw&&w4.default.unmountComponentAtNode(s.node);var w=bF(s.props.parentSelector);w&&w.contains(s.node)?w.removeChild(s.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},s.portalRef=function(w){s.portal=w},s.renderPortal=function(w){var S=whe(),C=S(s,b4.default.createElement(mhe.default,vhe({defaultStyles:t.defaultStyles},w)),s.node);s.portalRef(C)},i),yhe(s,u)}return mVe(t,[{key:"componentDidMount",value:function(){if(!!ey.canUseDOM){hw||(this.node=bhe("div")),this.node.className=this.props.portalClassName;var i=bF(this.props.parentSelector);i.appendChild(this.node),!hw&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var s=bF(i.parentSelector),u=bF(this.props.parentSelector);return{prevParent:s,nextParent:u}}},{key:"componentDidUpdate",value:function(i,s,u){if(!!ey.canUseDOM){var d=this.props,v=d.isOpen,g=d.portalClassName;i.portalClassName!==g&&(this.node.className=g);var w=u.prevParent,S=u.nextParent;S!==w&&(w.removeChild(this.node),S.appendChild(this.node)),!(!i.isOpen&&!v)&&!hw&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ey.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,s=Date.now(),u=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||s+this.props.closeTimeoutMS);u?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,u-s)):this.removePortal()}}},{key:"render",value:function(){if(!ey.canUseDOM||!hw)return null;!this.node&&hw&&(this.node=bhe("div"));var i=whe();return i(b4.default.createElement(mhe.default,vhe({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){_Ve.setElement(i)}}]),t}(kwe.Component);$P.propTypes={isOpen:xn.default.bool.isRequired,style:xn.default.shape({content:xn.default.object,overlay:xn.default.object}),portalClassName:xn.default.string,bodyOpenClassName:xn.default.string,htmlOpenClassName:xn.default.string,className:xn.default.oneOfType([xn.default.string,xn.default.shape({base:xn.default.string.isRequired,afterOpen:xn.default.string.isRequired,beforeClose:xn.default.string.isRequired})]),overlayClassName:xn.default.oneOfType([xn.default.string,xn.default.shape({base:xn.default.string.isRequired,afterOpen:xn.default.string.isRequired,beforeClose:xn.default.string.isRequired})]),appElement:xn.default.oneOfType([xn.default.instanceOf(ghe.default),xn.default.instanceOf(ey.SafeHTMLCollection),xn.default.instanceOf(ey.SafeNodeList),xn.default.arrayOf(xn.default.instanceOf(ghe.default))]),onAfterOpen:xn.default.func,onRequestClose:xn.default.func,closeTimeoutMS:xn.default.number,ariaHideApp:xn.default.bool,shouldFocusAfterRender:xn.default.bool,shouldCloseOnOverlayClick:xn.default.bool,shouldReturnFocusAfterClose:xn.default.bool,preventScroll:xn.default.bool,parentSelector:xn.default.func,aria:xn.default.object,data:xn.default.object,role:xn.default.string,contentLabel:xn.default.string,shouldCloseOnEsc:xn.default.bool,overlayRef:xn.default.func,contentRef:xn.default.func,id:xn.default.string,overlayElement:xn.default.func,contentElement:xn.default.func};$P.defaultProps={isOpen:!1,portalClassName:CVe,bodyOpenClassName:kVe,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,r){return b4.default.createElement("div",t,r)},contentElement:function(t,r){return b4.default.createElement("div",t,r)}};$P.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,EVe.polyfill)($P);Kw.default=$P;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Kw,i=s(r);function s(u){return u&&u.__esModule?u:{default:u}}t.default=i.default,e.exports=t.default})(jz,jz.exports);const _he=B4(jz.exports),VP=({isOpen:e,onRequestClose:t,afterOpenModal:r,overrideStyle:i,children:s})=>{const u={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",position:"fixed",padding:"50px 20px",transition:"all .5s ease",zIndex:9999,marginRight:"-50%",transform:"translate(-50%, -50%)",boxShadow:"0 5px 10px rgba(0, 0, 0, .1)",animation:"scale .3s ease",...i}};return _he.setAppElement("#app"),D(_he,{closeTimeoutMS:300,contentLabel:"Product Modal",isOpen:e,onAfterOpen:r,onRequestClose:t,shouldCloseOnOverlayClick:!0,style:u,children:s})};VP.defaultProps={overrideStyle:{},afterOpenModal:()=>{}};VP.propTypes={isOpen:ie.exports.bool.isRequired,onRequestClose:ie.exports.func.isRequired,afterOpenModal:ie.exports.func,overrideStyle:ie.exports.object,children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.node]).isRequired};const nU=({children:e})=>{const{isOpenModal:t,onOpenModal:r,onCloseModal:i}=MG();return ge(Mu,{children:[D("div",{className:"filters-toggle",onClick:r,role:"presentation",children:e}),ge(VP,{isOpen:t,onRequestClose:i,children:[D("div",{className:"filters-toggle-sub",children:D(k6e,{closeModal:i})}),D("button",{className:"modal-close-button",onClick:i,type:"button",children:D("i",{className:"fa fa-times-circle"})})]})]})};nU.propTypes={children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.node]).isRequired};const AVe=()=>{const{pathname:e}=gj();return[U4,IT].includes(e)?ge("footer",{className:"footer",children:[D("div",{className:"footer-col-1",children:D("strong",{children:ge("span",{children:["Developed by"," ",D("a",{href:"#",children:"Rio Mulya Syawal"})]})})}),D("div",{className:"footer-col-2",children:ge("h5",{children:["\xA9\xA0",new Date().getFullYear()]})}),D("div",{className:"footer-col-3",children:D("strong",{children:D("span",{children:"Contact"})})})]}):null},Eh=({src:e,alt:t,className:r})=>{const i={},[s,u]=se.exports.useState(i[e]),d=()=>{i[e]=!0,u(!0)};return ge(Mu,{children:[!s&&D(Qa,{style:{position:"absolute",top:0,bottom:0,right:0,left:0,margin:"auto"}}),D("img",{alt:t||"",className:`${r||""} ${s?"is-img-loaded":"is-img-loading"}`,onLoad:d,src:e})]})};Eh.defaultProps={className:"image-loader"};Eh.propTypes={src:ie.exports.string.isRequired,alt:ie.exports.string,className:ie.exports.string};const Cf=({message:e,description:t,buttonLabel:r,action:i})=>ge("div",{className:"loader",children:[D("h2",{className:"text-center",style:{wordBreak:"break-all"},children:e||"Message"}),t&&D("span",{children:t}),D("br",{}),i&&D("button",{className:"button button-small",onClick:i,type:"button",children:r||"Okay"})]});Cf.defaultProps={description:void 0,buttonLabel:"Okay",action:void 0};Cf.propTypes={message:ie.exports.string.isRequired,description:ie.exports.string,buttonLabel:ie.exports.string,action:ie.exports.func};var Awe={exports:{}};(function(e,t){(function(r,i){e.exports=i()})($r,function(){(function(n){var o,a,c,f,p,b,_,T,k,N;function j(De){if(typeof De!="string"&&(De=String(De)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(De))throw new TypeError("Invalid character in header field name");return De.toLowerCase()}function V(De){return De=typeof De!="string"?String(De):De}function W(De){var lt={next:function(){var Ft=De.shift();return{done:Ft===void 0,value:Ft}}};return a&&(lt[Symbol.iterator]=function(){return lt}),lt}function X(De){this.map={},De instanceof X?De.forEach(function(lt,Ft){this.append(Ft,lt)},this):Array.isArray(De)?De.forEach(function(lt){this.append(lt[0],lt[1])},this):De&&Object.getOwnPropertyNames(De).forEach(function(lt){this.append(lt,De[lt])},this)}function ne(De){if(De.bodyUsed)return Promise.reject(new TypeError("Already read"));De.bodyUsed=!0}function ae(De){return new Promise(function(lt,Ft){De.onload=function(){lt(De.result)},De.onerror=function(){Ft(De.error)}})}function Ce(De){var lt=new FileReader,Ft=ae(lt);return lt.readAsArrayBuffer(De),Ft}function de(De){if(De.slice)return De.slice(0);var lt=new Uint8Array(De.byteLength);return lt.set(new Uint8Array(De)),lt.buffer}function Je(){return this.bodyUsed=!1,this._initBody=function(De){if(this._bodyInit=De)if(typeof De=="string")this._bodyText=De;else if(c&&Blob.prototype.isPrototypeOf(De))this._bodyBlob=De;else if(f&&FormData.prototype.isPrototypeOf(De))this._bodyFormData=De;else if(o&&URLSearchParams.prototype.isPrototypeOf(De))this._bodyText=De.toString();else if(p&&c&&_(De))this._bodyArrayBuffer=de(De.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!p||!ArrayBuffer.prototype.isPrototypeOf(De)&&!T(De))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=de(De)}else this._bodyText="";this.headers.get("content-type")||(typeof De=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(De)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var De=ne(this);if(De)return De;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ne(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Ce)}),this.text=function(){var De,lt,Ft=ne(this);if(Ft)return Ft;if(this._bodyBlob)return De=this._bodyBlob,lt=new FileReader,Ft=ae(lt),lt.readAsText(De),Ft;if(this._bodyArrayBuffer)return Promise.resolve(function(Fn){for(var Cr=new Uint8Array(Fn),Tn=new Array(Cr.length),so=0;so<Cr.length;so++)Tn[so]=String.fromCharCode(Cr[so]);return Tn.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f&&(this.formData=function(){return this.text().then(wt)}),this.json=function(){return this.text().then(JSON.parse)},this}function Ke(De,lt){var Ft,Fn=(lt=lt||{}).body;if(De instanceof Ke){if(De.bodyUsed)throw new TypeError("Already read");this.url=De.url,this.credentials=De.credentials,lt.headers||(this.headers=new X(De.headers)),this.method=De.method,this.mode=De.mode,Fn||De._bodyInit==null||(Fn=De._bodyInit,De.bodyUsed=!0)}else this.url=String(De);if(this.credentials=lt.credentials||this.credentials||"omit",!lt.headers&&this.headers||(this.headers=new X(lt.headers)),this.method=(Ft=lt.method||this.method||"GET",De=Ft.toUpperCase(),-1<k.indexOf(De)?De:Ft),this.mode=lt.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Fn)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Fn)}function wt(De){var lt=new FormData;return De.trim().split("&").forEach(function(Ft){var Fn;Ft&&(Ft=(Fn=Ft.split("=")).shift().replace(/\+/g," "),Fn=Fn.join("=").replace(/\+/g," "),lt.append(decodeURIComponent(Ft),decodeURIComponent(Fn)))}),lt}function le(De,lt){lt=lt||{},this.type="default",this.status=lt.status===void 0?200:lt.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in lt?lt.statusText:"OK",this.headers=new X(lt.headers),this.url=lt.url||"",this._initBody(De)}n.fetch||(o="URLSearchParams"in n,a="Symbol"in n&&"iterator"in Symbol,c="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),f="FormData"in n,(p="ArrayBuffer"in n)&&(b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(De){return De&&DataView.prototype.isPrototypeOf(De)},T=ArrayBuffer.isView||function(De){return De&&-1<b.indexOf(Object.prototype.toString.call(De))}),X.prototype.append=function(De,lt){De=j(De),lt=V(lt);var Ft=this.map[De];this.map[De]=Ft?Ft+","+lt:lt},X.prototype.delete=function(De){delete this.map[j(De)]},X.prototype.get=function(De){return De=j(De),this.has(De)?this.map[De]:null},X.prototype.has=function(De){return this.map.hasOwnProperty(j(De))},X.prototype.set=function(De,lt){this.map[j(De)]=V(lt)},X.prototype.forEach=function(De,lt){for(var Ft in this.map)this.map.hasOwnProperty(Ft)&&De.call(lt,this.map[Ft],Ft,this)},X.prototype.keys=function(){var De=[];return this.forEach(function(lt,Ft){De.push(Ft)}),W(De)},X.prototype.values=function(){var De=[];return this.forEach(function(lt){De.push(lt)}),W(De)},X.prototype.entries=function(){var De=[];return this.forEach(function(lt,Ft){De.push([Ft,lt])}),W(De)},a&&(X.prototype[Symbol.iterator]=X.prototype.entries),k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],Ke.prototype.clone=function(){return new Ke(this,{body:this._bodyInit})},Je.call(Ke.prototype),Je.call(le.prototype),le.prototype.clone=function(){return new le(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new X(this.headers),url:this.url})},le.error=function(){var De=new le(null,{status:0,statusText:""});return De.type="error",De},N=[301,302,303,307,308],le.redirect=function(De,lt){if(N.indexOf(lt)===-1)throw new RangeError("Invalid status code");return new le(null,{status:lt,headers:{location:De}})},n.Headers=X,n.Request=Ke,n.Response=le,n.fetch=function(De,lt){return new Promise(function(Ft,Fn){var Cr=new Ke(De,lt),Tn=new XMLHttpRequest;Tn.onload=function(){var so,Si={status:Tn.status,statusText:Tn.statusText,headers:(Nd=Tn.getAllResponseHeaders()||"",so=new X,Nd.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Pb){var Sg=Pb.split(":"),Pb=Sg.shift().trim();Pb&&(Sg=Sg.join(":").trim(),so.append(Pb,Sg))}),so)};Si.url="responseURL"in Tn?Tn.responseURL:Si.headers.get("X-Request-URL");var Nd="response"in Tn?Tn.response:Tn.responseText;Ft(new le(Nd,Si))},Tn.onerror=function(){Fn(new TypeError("Network request failed"))},Tn.ontimeout=function(){Fn(new TypeError("Network request failed"))},Tn.open(Cr.method,Cr.url,!0),Cr.credentials==="include"?Tn.withCredentials=!0:Cr.credentials==="omit"&&(Tn.withCredentials=!1),"responseType"in Tn&&c&&(Tn.responseType="blob"),Cr.headers.forEach(function(so,Si){Tn.setRequestHeader(Si,so)}),Tn.send(Cr._bodyInit===void 0?null:Cr._bodyInit)})},n.fetch.polyfill=!0)})(typeof self<"u"?self:void 0);var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof $r<"u"?$r:typeof self<"u"?self:{};function r(n){var o={exports:{}};return n(o,o.exports),o.exports}function i(n){try{return!!n()}catch{return!0}}function s(n,o){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:o}}function u(n){return B.call(n).slice(8,-1)}function d(n){if(n==null)throw TypeError("Can't call method on "+n);return n}function v(n){return H(d(n))}function g(n){return typeof n=="object"?n!==null:typeof n=="function"}function w(n,o){if(!g(n))return n;var a,c;if(o&&typeof(a=n.toString)=="function"&&!g(c=a.call(n))||typeof(a=n.valueOf)=="function"&&!g(c=a.call(n))||!o&&typeof(a=n.toString)=="function"&&!g(c=a.call(n)))return c;throw TypeError("Can't convert object to primitive value")}function S(n){return Object(d(n))}function C(n){return ye?ce.createElement(n):{}}function A(n){if(!g(n))throw TypeError(String(n)+" is not an object");return n}function L(n,o){try{Ie(M,n,o)}catch{M[n]=o}return o}var xt=function(n){return n&&n.Math==Math&&n},M=xt(typeof globalThis=="object"&&globalThis)||xt(typeof window=="object"&&window)||xt(typeof self=="object"&&self)||xt(typeof Yr=="object"&&Yr)||function(){return this}()||Function("return this")(),U=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Rn={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,$={f:R&&!Rn.call({1:2},1)?function(n){return n=R(this,n),!!n&&n.enumerable}:Rn},B={}.toString,G="".split,H=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(n){return u(n)=="String"?G.call(n,""):Object(n)}:Object,Z={}.hasOwnProperty,Y=Object.hasOwn||function(n,o){return Z.call(S(n),o)},ce=M.document,ye=g(ce)&&g(ce.createElement),xe=!U&&!i(function(){return Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a!=7}),re=Object.getOwnPropertyDescriptor,ut={f:U?re:function(n,o){if(n=v(n),o=w(o,!0),xe)try{return re(n,o)}catch{}if(Y(n,o))return s(!$.f.call(n,o),n[o])}},it=Object.defineProperty,ht={f:U?it:function(n,o,a){if(A(n),o=w(o,!0),A(a),xe)try{return it(n,o,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(n[o]=a.value),n}},Ie=U?function(n,o,a){return ht.f(n,o,s(1,a))}:function(n,o,a){return n[o]=a,n},$i="__core-js_shared__",Ne=M[$i]||L($i,{}),Be=Function.toString;typeof Ne.inspectSource!="function"&&(Ne.inspectSource=function(n){return Be.call(n)});function _e(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++st+Re).toString(36)}var He,ct,Pe,he,fe,Se,Ae,ee,be=Ne.inspectSource,is=M.WeakMap,nu=typeof is=="function"&&/native code/.test(be(is)),Xe=!1,ke=r(function(n){(n.exports=function(o,a){return Ne[o]||(Ne[o]=a!==void 0?a:{})})("versions",[]).push({version:"3.15.1",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),st=0,Re=Math.random(),Pt=ke("keys"),xt=function(n){return Pt[n]||(Pt[n]=_e(n))},Nt={},Vt="Object already initialized",Yr=M.WeakMap;Ae=nu||Ne.state?(He=Ne.state||(Ne.state=new Yr),ct=He.get,Pe=He.has,he=He.set,fe=function(n,o){if(Pe.call(He,n))throw new TypeError(Vt);return o.facade=n,he.call(He,n,o),o},Se=function(n){return ct.call(He,n)||{}},function(n){return Pe.call(He,n)}):(ee=xt("state"),Nt[ee]=!0,fe=function(n,o){if(Y(n,ee))throw new TypeError(Vt);return o.facade=n,Ie(n,ee,o),o},Se=function(n){return Y(n,ee)?n[ee]:{}},function(n){return Y(n,ee)});function At(n){return typeof n=="function"?n:void 0}function Mt(n,o){return arguments.length<2?At(Le[n])||At(M[n]):Le[n]&&Le[n][o]||M[n]&&M[n][o]}function zt(n){return isNaN(n=+n)?0:(0<n?bt:vt)(n)}function Te(n){return 0<n?ft(zt(n),9007199254740991):0}function qe(n,o){var a,c=v(n),f=0,p=[];for(a in c)!Y(Nt,a)&&Y(c,a)&&p.push(a);for(;o.length>f;)Y(c,a=o[f++])&&(~ur(p,a)||p.push(a));return p}function rt(n,o){for(var a=ze(o),c=ht.f,f=ut.f,p=0;p<a.length;p++){var b=a[p];Y(n,b)||c(n,b,f(o,b))}}function Fe(n,o){var a,c,f,p=n.target,b=n.global,_=n.stat,T=b?M:_?M[p]||L(p,{}):(M[p]||{}).prototype;if(T)for(a in o){if(c=o[a],f=n.noTargetGet?(f=dr(T,a))&&f.value:T[a],!fr(b?a:p+(_?".":"#")+a,n.forced)&&f!==void 0){if(typeof c==typeof f)continue;rt(c,f)}(n.sham||f&&f.sham)&&Ie(c,"sham",!0),je(T,a,c,n)}}function Ot(){}function we(n){return"<script>"+n+"</"+OI+">"}var Ze,ot={set:fe,get:Se,has:Ae,enforce:function(n){return Ae(n)?Se(n):fe(n,{})},getterFor:function(n){return function(o){var a;if(!g(o)||(a=Se(o)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return a}}},je=r(function(n){var o=ot.get,a=ot.enforce,c=String(String).split("String");(n.exports=function(f,p,b,_){var T=!!_&&!!_.unsafe,k=!!_&&!!_.enumerable,N=!!_&&!!_.noTargetGet;typeof b=="function"&&(typeof p!="string"||Y(b,"name")||Ie(b,"name",p),(_=a(b)).source||(_.source=c.join(typeof p=="string"?p:""))),f!==M?(T?!N&&f[p]&&(k=!0):delete f[p],k?f[p]=b:Ie(f,p,b)):k?f[p]=b:L(p,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&o(this).source||be(this)})}),Le=M,vt=Math.ceil,bt=Math.floor,ft=Math.min,_n=Math.max,xr=Math.min,Rn=function(n){return function(o,a,c){var f,p=v(o),b=Te(p.length),_=function(T,k){return T=zt(T),T<0?_n(T+k,0):xr(T,k)}(c,b);if(n&&a!=a){for(;_<b;)if((f=p[_++])!=f)return!0}else for(;_<b;_++)if((n||_ in p)&&p[_]===a)return n||_||0;return!n&&-1}},ur={includes:Rn(!0),indexOf:Rn(!1)}.indexOf,yi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],te=yi.concat("length","prototype"),Ee={f:Object.getOwnPropertyNames||function(n){return qe(n,te)}},Ue={f:Object.getOwnPropertySymbols},ze=Mt("Reflect","ownKeys")||function(n){var o=Ee.f(A(n)),a=Ue.f;return a?o.concat(a(n)):o},_t=/#|\.prototype\./,$i=function(n,o){return n=Bt[kt(n)],n==zn||n!=cn&&(typeof o=="function"?i(o):!!o)},kt=$i.normalize=function(n){return String(n).replace(_t,".").toLowerCase()},Bt=$i.data={},cn=$i.NATIVE="N",zn=$i.POLYFILL="P",fr=$i,dr=ut.f,is=!i(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}),Kr=xt("IE_PROTO"),Ji=Object.prototype,Or=is?Object.getPrototypeOf:function(n){return n=S(n),Y(n,Kr)?n[Kr]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?Ji:null},Wr=Object.setPrototypeOf||("__proto__"in{}?function(){var n,o=!1,a={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(a,[]),o=a instanceof Array}catch{}return function(c,f){return A(c),function(p){if(!g(p)&&p!==null)throw TypeError("Can't set "+String(p)+" as a prototype")}(f),o?n.call(c,f):c.__proto__=f,c}}():void 0),ju=Object.keys||function(n){return qe(n,yi)},Zv=U?Object.defineProperties:function(n,o){A(n);for(var a,c=ju(o),f=c.length,p=0;p<f;)ht.f(n,a=c[p++],o[a]);return n},em=Mt("document","documentElement"),up="prototype",OI="script",Ui=xt("IE_PROTO"),As=function(){try{Ze=document.domain&&new ActiveXObject("htmlfile")}catch{}var n;As=Ze?function(a){a.write(we("")),a.close();var c=a.parentWindow.Object;return a=null,c}(Ze):((n=C("iframe")).style.display="none",em.appendChild(n),n.src=String("javascript:"),(n=n.contentWindow.document).open(),n.write(we("document.F=Object")),n.close(),n.F);for(var o=yi.length;o--;)delete As[up][yi[o]];return As()};Nt[Ui]=!0;var Za=Object.create||function(n,o){var a;return n!==null?(Ot[up]=A(n),a=new Ot,Ot[up]=null,a[Ui]=n):a=As(),o===void 0?a:Zv(a,o)},nu=Mt("navigator","userAgent")||"",Yr=M.process,Rn=Yr&&Yr.versions,$i=Rn&&Rn.v8;$i?tn=(yn=$i.split("."))[0]<4?1:yn[0]+yn[1]:nu&&(!(yn=nu.match(/Edge\/(\d+)/))||74<=yn[1])&&(yn=nu.match(/Chrome\/(\d+)/))&&(tn=yn[1]);function Nr(n){return Y(Os,n)&&(xs||typeof Os[n]=="string")||(xs&&Y(_l,n)?Os[n]=_l[n]:Os[n]=nm("Symbol."+n)),Os[n]}function tm(n){return n!==void 0&&(Pf.Array===n||E_[cp]===n)}function ln(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}function Gr(n,o,a){if(ln(n),o===void 0)return n;switch(a){case 0:return function(){return n.call(o)};case 1:return function(c){return n.call(o,c)};case 2:return function(c,f){return n.call(o,c,f)};case 3:return function(c,f,p){return n.call(o,c,f,p)}}return function(){return n.apply(o,arguments)}}var eu=tn&&+tn,xs=!!Object.getOwnPropertySymbols&&!i(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&eu&&eu<41}),is=xs&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Os=ke("wks"),_l=M.Symbol,nm=is?_l:_l&&_l.withoutSetter||_e,Pf={},cp=Nr("iterator"),E_=Array.prototype,Yr={};Yr[Nr("toStringTag")]="z";function oe(n){if(n!=null)return n[pr]||n["@@iterator"]||Pf[hn(n)]}function Me(n){var o=n.return;return o!==void 0&&A(o.call(n)).value}function nt(n,o){this.stopped=n,this.result=o}function Ge(n,o,a){function c(ae){return p&&Me(p),new nt(!0,ae)}function f(ae){return V?(A(ae),X?ne(ae[0],ae[1],c):ne(ae[0],ae[1])):X?ne(ae,c):ne(ae)}var p,b,_,T,k,N,j=a&&a.that,V=!(!a||!a.AS_ENTRIES),W=!(!a||!a.IS_ITERATOR),X=!(!a||!a.INTERRUPTED),ne=Gr(o,j,1+V+X);if(W)p=n;else{if(typeof(W=oe(n))!="function")throw TypeError("Target is not iterable");if(tm(W)){for(b=0,_=Te(n.length);b<_;b++)if((T=f(n[b]))&&T instanceof nt)return T;return new nt(!1)}p=W.call(n)}for(k=p.next;!(N=k.call(p)).done;){try{T=f(N.value)}catch(ae){throw Me(p),ae}if(typeof T=="object"&&T&&T instanceof nt)return T}return new nt(!1)}var Rn=String(Yr)==="[object z]",Dt=Nr("toStringTag"),Wt=u(function(){return arguments}())=="Arguments",hn=Rn?u:function(n){var o;return n===void 0?"Undefined":n===null?"Null":typeof(n=function(a,c){try{return a[c]}catch{}}(o=Object(n),Dt))=="string"?n:Wt?u(o):(n=u(o))=="Object"&&typeof o.callee=="function"?"Arguments":n},pr=Nr("iterator"),cr=function(n,o){var a=this;return a instanceof cr?(Wr&&(a=Wr(new Error(void 0),Or(a))),o!==void 0&&Ie(a,"message",String(o)),o=[],Ge(n,o.push,{that:o}),Ie(a,"errors",o),a):new cr(n,o)};cr.prototype=Za(Error.prototype,{constructor:s(5,cr),message:s(5,""),name:s(5,"AggregateError")}),Fe({global:!0},{AggregateError:cr}),Rn||je(Object.prototype,"toString",Rn?{}.toString:function(){return"[object "+hn(this)+"]"},{unsafe:!0});function Un(n,o,a){for(var c in o)je(n,c,o[c],a);return n}function Sn(n,o,a){n&&!Y(n=a?n:n.prototype,jo)&&Oi(n,jo,{configurable:!0,value:o})}function Fo(a){var o=Mt(a),a=ht.f;U&&o&&!o[Uu]&&a(o,Uu,{configurable:!0,get:function(){return this}})}function fo(n,o,a){if(!(n instanceof o))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return n}var $n=M.Promise,Oi=ht.f,jo=Nr("toStringTag"),Uu=Nr("species"),$u=Nr("iterator"),Ns=!1;try{var S_=0,vr={next:function(){return{done:!!S_++}},return:function(){Ns=!0}};vr[$u]=function(){return this},Array.from(vr,function(){throw 2})}catch{}function Th(n,o){if(!o&&!Ns)return!1;var a=!1;try{var c={};c[$u]=function(){return{next:function(){return{done:a=!0}}}},n(c)}catch{}return a}function ma(n,o){var a;return(n=A(n).constructor)===void 0||(a=A(n)[Vu])==null?o:ln(a)}function or(n){var o;Ps.hasOwnProperty(n)&&(o=Ps[n],delete Ps[n],o())}function tr(n){return function(){or(n)}}var El,Vu=Nr("species"),$i=/(?:iphone|ipod|ipad).*applewebkit/i.test(nu),Qr=u(M.process)=="process",ga=M.location,yn=M.setImmediate,tn=M.clearImmediate,tu=M.process,Yr=M.MessageChannel,Rf=M.Dispatch,qu=0,Ps={},rm="onreadystatechange",Rn=function(n){or(n.data)},vr=function(n){M.postMessage(n+"",ga.protocol+"//"+ga.host)};yn&&tn||(yn=function(n){for(var o=[],a=1;a<arguments.length;)o.push(arguments[a++]);return Ps[++qu]=function(){(typeof n=="function"?n:Function(n)).apply(void 0,o)},El(qu),qu},tn=function(n){delete Ps[n]},Qr?El=function(n){tu.nextTick(tr(n))}:Rf&&Rf.now?El=function(n){Rf.now(tr(n))}:Yr&&!$i?(Br=(Yr=new Yr).port2,Yr.port1.onmessage=Rn,El=Gr(Br.postMessage,Br,1)):M.addEventListener&&typeof postMessage=="function"&&!M.importScripts&&ga&&ga.protocol!=="file:"&&!i(vr)?(El=vr,M.addEventListener("message",Rn,!1)):El=rm in C("script")?function(n){em.appendChild(C("script"))[rm]=function(){em.removeChild(this),or(n)}}:function(n){setTimeout(tr(n),0)});var gn,Uo,ya,rs,lp,Ih,Sl,Xt,Br={set:yn,clear:tn},vr=/web0s(?!.*chrome)/i.test(nu),Rn=ut.f,oR=Br.set,yn=M.MutationObserver||M.WebKitMutationObserver,tn=M.document,sR=M.process,nu=M.Promise,Rn=Rn(M,"queueMicrotask"),Rn=Rn&&Rn.value;Rn||(gn=function(){var n,o;for(Qr&&(n=sR.domain)&&n.exit();Uo;){o=Uo.fn,Uo=Uo.next;try{o()}catch(a){throw Uo?rs():ya=void 0,a}}ya=void 0,n&&n.enter()},rs=$i||Qr||vr||!yn||!tn?nu&&nu.resolve?((Sl=nu.resolve(void 0)).constructor=nu,Xt=Sl.then,function(){Xt.call(Sl,gn)}):Qr?function(){sR.nextTick(gn)}:function(){oR.call(M,gn)}:(lp=!0,Ih=tn.createTextNode(""),new yn(gn).observe(Ih,{characterData:!0}),function(){Ih.data=lp=!lp}));function aR(n){var o,a;this.promise=new n(function(c,f){if(o!==void 0||a!==void 0)throw TypeError("Bad Promise constructor");o=c,a=f}),this.resolve=ln(o),this.reject=ln(a)}function My(n,o){return A(n),g(o)&&o.constructor===n?o:((0,(n=Ch.f(n)).resolve)(o),n.promise)}function hp(n){try{return{error:!1,value:n()}}catch(o){return{error:!0,value:o}}}function Df(n){var o;return!(!g(n)||typeof(o=n.then)!="function")&&o}function T_(n,o){var a;n.notified||(n.notified=!0,a=n.reactions,pp(function(){for(var c=n.value,f=n.state==1,p=0;a.length>p;){var b,_,T,k=a[p++],N=f?k.ok:k.fail,j=k.resolve,V=k.reject,W=k.domain;try{N?(f||(n.rejection===2&&fR(n),n.rejection=1),N===!0?b=c:(W&&W.enter(),b=N(c),W&&(W.exit(),T=!0)),b===k.promise?V(hR("Promise-chain cycle")):(_=Df(b))?_.call(b,j,V):j(b)):V(c)}catch(X){W&&!T&&W.exit(),V(X)}}n.reactions=[],n.notified=!1,o&&!n.rejection&&LI(n)}))}function uR(n,o,a){var c,f;k_?((c=vp.createEvent("Event")).promise=o,c.reason=a,c.initEvent(n,!1,!0),M.dispatchEvent(c)):c={promise:o,reason:a},!A_&&(f=M["on"+n])?f(c):n===x_&&function(p,b){var _=M.console;_&&_.error&&(arguments.length===1?_.error(p):_.error(p,b))}("Unhandled promise rejection",a)}function fp(n,o,a){return function(c){n(o,c,a)}}function dp(n,o,a){n.done||(n.done=!0,(n=a||n).value=o,n.state=2,T_(n,!0))}var I_,NI,cR,PI,pp=Rn||function(n){n={fn:n,next:void 0},ya&&(ya.next=n),Uo||(Uo=n,rs()),ya=n},Ch={f:function(n){return new aR(n)}},LU=typeof window=="object",RI=Br.set,MU=Nr("species"),kc="Promise",lR=ot.get,FU=ot.set,ba=ot.getterFor(kc),tn=$n&&$n.prototype,po=$n,yn=tn,hR=M.TypeError,vp=M.document,DI=M.process,im=Ch.f,C_=im,k_=!!(vp&&vp.createEvent&&M.dispatchEvent),A_=typeof PromiseRejectionEvent=="function",x_="unhandledrejection",O_=!1,Rn=fr(kc,function(){var n=be(po)!==String(po);if(!n&&eu===66)return!0;if(51<=eu&&/native code/.test(po))return!1;function o(c){c(function(){},function(){})}var a=new po(function(c){c(1)});return(a.constructor={})[MU]=o,!(O_=a.then(function(){})instanceof o)||!n&&LU&&!A_}),Br=Rn||!Th(function(n){po.all(n).catch(function(){})}),LI=function(n){RI.call(M,function(){var o,a=n.facade,c=n.value,f=ru(n);if(f&&(o=hp(function(){Qr?DI.emit("unhandledRejection",c,a):uR(x_,a,c)}),n.rejection=Qr||ru(n)?2:1,o.error))throw o.value})},ru=function(n){return n.rejection!==1&&!n.parent},fR=function(n){RI.call(M,function(){var o=n.facade;Qr?DI.emit("rejectionHandled",o):uR("rejectionhandled",o,n.value)})},MI=function(n,o,a){if(!n.done){n.done=!0,a&&(n=a);try{if(n.facade===o)throw hR("Promise can't be resolved itself");var c=Df(o);c?pp(function(){var f={done:!1};try{c.call(o,fp(MI,f,n),fp(dp,f,n))}catch(p){dp(f,p,n)}}):(n.value=o,n.state=1,T_(n,!1))}catch(f){dp({done:!1},f,n)}}};if(Rn&&(yn=(po=function(n){fo(this,po,kc),ln(n),I_.call(this);var o=lR(this);try{n(fp(MI,o),fp(dp,o))}catch(a){dp(o,a)}}).prototype,(I_=function(n){FU(this,{type:kc,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Un(yn,{then:function(n,o){var a=ba(this),c=im(ma(this,po));return c.ok=typeof n!="function"||n,c.fail=typeof o=="function"&&o,c.domain=Qr?DI.domain:void 0,a.parent=!0,a.reactions.push(c),a.state!=0&&T_(a,!1),c.promise},catch:function(n){return this.then(void 0,n)}}),NI=function(){var n=new I_,o=lR(n);this.promise=n,this.resolve=fp(MI,o),this.reject=fp(dp,o)},Ch.f=im=function(n){return n===po||n===cR?new NI:C_(n)},typeof $n=="function"&&tn!==Object.prototype)){PI=tn.then,O_||(je(tn,"then",function(n,o){var a=this;return new po(function(c,f){PI.call(a,c,f)}).then(n,o)},{unsafe:!0}),je(tn,"catch",yn.catch,{unsafe:!0}));try{delete tn.constructor}catch{}Wr&&Wr(tn,yn)}Fe({global:!0,wrap:!0,forced:Rn},{Promise:po}),Sn(po,kc,!1),Fo(kc),cR=Mt(kc),Fe({target:kc,stat:!0,forced:Rn},{reject:function(n){var o=im(this);return o.reject.call(void 0,n),o.promise}}),Fe({target:kc,stat:!0,forced:Rn},{resolve:function(n){return My(this,n)}}),Fe({target:kc,stat:!0,forced:Br},{all:function(n){var o=this,a=im(o),c=a.resolve,f=a.reject,p=hp(function(){var b=ln(o.resolve),_=[],T=0,k=1;Ge(n,function(N){var j=T++,V=!1;_.push(void 0),k++,b.call(o,N).then(function(W){V||(V=!0,_[j]=W,--k||c(_))},f)}),--k||c(_)});return p.error&&f(p.value),a.promise},race:function(n){var o=this,a=im(o),c=a.reject,f=hp(function(){var p=ln(o.resolve);Ge(n,function(b){p.call(o,b).then(a.resolve,c)})});return f.error&&c(f.value),a.promise}}),Fe({target:"Promise",stat:!0},{allSettled:function(n){var o=this,a=Ch.f(o),c=a.resolve,f=a.reject,p=hp(function(){var b=ln(o.resolve),_=[],T=0,k=1;Ge(n,function(N){var j=T++,V=!1;_.push(void 0),k++,b.call(o,N).then(function(W){V||(V=!0,_[j]={status:"fulfilled",value:W},--k||c(_))},function(W){V||(V=!0,_[j]={status:"rejected",reason:W},--k||c(_))})}),--k||c(_)});return p.error&&f(p.value),a.promise}});var N_="No one promise resolved";Fe({target:"Promise",stat:!0},{any:function(n){var o=this,a=Ch.f(o),c=a.resolve,f=a.reject,p=hp(function(){var b=ln(o.resolve),_=[],T=0,k=1,N=!1;Ge(n,function(j){var V=T++,W=!1;_.push(void 0),k++,b.call(o,j).then(function(X){W||N||(N=!0,c(X))},function(X){W||N||(W=!0,_[V]=X,--k||f(new(Mt("AggregateError"))(_,N_)))})}),--k||f(new(Mt("AggregateError"))(_,N_))});return p.error&&f(p.value),a.promise}}),tn=!!$n&&i(function(){$n.prototype.finally.call({then:function(){}},function(){})}),Fe({target:"Promise",proto:!0,real:!0,forced:tn},{finally:function(n){var o=ma(this,Mt("Promise")),a=typeof n=="function";return this.then(a?function(c){return My(o,n()).then(function(){return c})}:n,a?function(c){return My(o,n()).then(function(){throw c})}:n)}}),typeof $n=="function"&&(Ni=Mt("Promise").prototype.finally,$n.prototype.finally!==Ni&&je($n.prototype,"finally",Ni,{unsafe:!0}));var Zi,yn=function(n){return function(b,a){var c,f=String(d(b)),p=zt(a),b=f.length;return p<0||b<=p?n?"":void 0:(a=f.charCodeAt(p))<55296||56319<a||p+1===b||(c=f.charCodeAt(p+1))<56320||57343<c?n?f.charAt(p):a:n?f.slice(p,p+2):c-56320+(a-55296<<10)+65536}},Rn={codeAt:yn(!1),charAt:yn(!0)},P_=Nr("iterator"),Br=!1;[].keys&&("next"in(si=[].keys())?(Qe=Or(Or(si)))!==Object.prototype&&(Zi=Qe):Br=!0),tn=Zi==null||i(function(){var n={};return Zi[P_].call(n)!==n}),Y(Zi=tn?{}:Zi,P_)||Ie(Zi,P_,function(){return this});function dR(){return this}function pR(){return this}function R_(n,o,a,c,f,p,b){function _(ne){if(ne===f&&X)return X;if(!sm&&ne in V)return V[ne];switch(ne){case"keys":case vo:case FI:return function(){return new a(this,ne)}}return function(){return new a(this)}}(function(ne,ae,Ce){ae+=" Iterator",ne.prototype=Za(jU,{next:s(1,Ce)}),Sn(ne,ae,!1),Pf[ae]=dR})(a,o,c);var T,k,N=o+" Iterator",j=!1,V=n.prototype,W=V[mp]||V["@@iterator"]||f&&V[f],X=!sm&&W||_(f);if((c=o=="Array"&&V.entries||W)&&(n=Or(c.call(new n)),om!==Object.prototype&&n.next&&(Or(n)!==om&&(Wr?Wr(n,om):typeof n[mp]!="function"&&Ie(n,mp,pR)),Sn(n,N,!0))),f==vo&&W&&W.name!==vo&&(j=!0,X=function(){return W.call(this)}),V[mp]!==X&&Ie(V,mp,X),Pf[o]=X,f)if(T={values:_(vo),keys:p?X:_("keys"),entries:_(FI)},b)for(k in T)!sm&&!j&&k in V||je(V,k,T[k]);else Fe({target:o,proto:!0,forced:sm||j},T);return T}var Ni={IteratorPrototype:Zi,BUGGY_SAFARI_ITERATORS:Br},jU=Ni.IteratorPrototype,om=Ni.IteratorPrototype,sm=Ni.BUGGY_SAFARI_ITERATORS,mp=Nr("iterator"),vo="values",FI="entries",jI=Rn.charAt,Fy="String Iterator",UI=ot.set,am=ot.getterFor(Fy);R_(String,"String",function(n){UI(this,{type:Fy,string:String(n),index:0})},function(){var n=am(this),o=n.string,a=n.index;return a>=o.length?{value:void 0,done:!0}:(a=jI(o,a),n.index+=a.length,{value:a,done:!1})});var $I={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},D_=Nr("unscopables"),VI=Array.prototype;VI[D_]==null&&ht.f(VI,D_,{configurable:!0,value:Za(null)});var yn=function(n){VI[D_][n]=!0},gp="Array Iterator",qI=ot.set,yp=ot.getterFor(gp),kh=R_(Array,"Array",function(n,o){qI(this,{type:gp,target:v(n),index:0,kind:o})},function(){var n=yp(this),o=n.target,a=n.kind,c=n.index++;return!o||c>=o.length?{value:n.target=void 0,done:!0}:a=="keys"?{value:c,done:!1}:a=="values"?{value:o[c],done:!1}:{value:[c,o[c]],done:!1}},"values");Pf.Arguments=Pf.Array,yn("keys"),yn("values"),yn("entries");var L_,Tl=Nr("iterator"),um=Nr("toStringTag"),bp=kh.values;for(L_ in $I){var M_=M[L_],wr=M_&&M_.prototype;if(wr){if(wr[Tl]!==bp)try{Ie(wr,Tl,bp)}catch{wr[Tl]=bp}if(wr[um]||Ie(wr,um,L_),$I[L_]){for(var $o in kh)if(wr[$o]!==kh[$o])try{Ie(wr,$o,kh[$o])}catch{wr[$o]=kh[$o]}}}}Le.Promise,Fe({target:"Promise",stat:!0},{try:function(a){var o=Ch.f(this),a=hp(a);return(a.error?o.reject:o.resolve)(a.value),o.promise}});function Rs(n,o){var a;return new((a=wp(n)&&(typeof(a=n.constructor)=="function"&&(a===Array||wp(a.prototype))||g(a)&&(a=a[jy])===null)?void 0:a)===void 0?Array:a)(o===0?0:o)}var wp=Array.isArray||function(n){return u(n)=="Array"},jy=Nr("species"),cm=[].push,si=function(n){var o=n==1,a=n==2,c=n==3,f=n==4,p=n==6,b=n==7,_=n==5||p;return function(T,k,N,j){for(var V,W,X=S(T),ne=H(X),ae=Gr(k,N,3),Ce=Te(ne.length),de=0,j=j||Rs,Je=o?j(T,Ce):a||b?j(T,0):void 0;de<Ce;de++)if((_||de in ne)&&(W=ae(V=ne[de],de,X),n))if(o)Je[de]=W;else if(W)switch(n){case 3:return!0;case 5:return V;case 6:return de;case 2:cm.call(Je,V)}else switch(n){case 4:return!1;case 7:cm.call(Je,V)}return p?-1:c||f?f:Je}},Qe={forEach:si(0),map:si(1),filter:si(2),some:si(3),every:si(4),find:si(5),findIndex:si(6),filterOut:si(7)},UU=Qe.find,tn="find",BI=!0;tn in[]&&Array(1)[tn](function(){BI=!1}),Fe({target:"Array",proto:!0,forced:BI},{find:function(n){return UU(this,n,1<arguments.length?arguments[1]:void 0)}}),yn(tn);var $U=Function.call,Br=function(n,o,a){return Gr($U,M[n].prototype[o],a)};Br("Array","find");var VU=Qe.findIndex,Ni="findIndex",vR=!0;Ni in[]&&Array(1)[Ni](function(){vR=!1}),Fe({target:"Array",proto:!0,forced:vR},{findIndex:function(n){return VU(this,n,1<arguments.length?arguments[1]:void 0)}}),yn(Ni),Br("Array","findIndex");function F_(n,o,a){(o=w(o))in n?ht.f(n,o,s(0,a)):n[o]=a}Rn=!Th(function(n){Array.from(n)}),Fe({target:"Array",stat:!0,forced:Rn},{from:function(V){var o,a,c,f,p,b,_=S(V),T=typeof this=="function"?this:Array,k=arguments.length,N=1<k?arguments[1]:void 0,j=N!==void 0,V=oe(_),W=0;if(j&&(N=Gr(N,2<k?arguments[2]:void 0,2)),V==null||T==Array&&tm(V))for(a=new T(o=Te(_.length));W<o;W++)b=j?N(_[W],W):_[W],F_(a,W,b);else for(p=(f=V.call(_)).next,a=new T;!(c=p.call(f)).done;W++)b=j?function(X,ne,ae,Ce){try{return Ce?ne(A(ae)[0],ae[1]):ne(ae)}catch(de){throw Me(X),de}}(f,N,[c.value,W],!0):c.value,F_(a,W,b);return a.length=W,a}}),Le.Array.from;var _p,Ah,mR=Qe.some,si=!!(Ah=[].some)&&i(function(){Ah.call(null,_p||function(){throw 1},1)});Fe({target:"Array",proto:!0,forced:!si},{some:function(n){return mR(this,n,1<arguments.length?arguments[1]:void 0)}}),Br("Array","some");function Il(n){return!!g(n)&&(n=hn(n),Y(Lf,n)||Y(gR,n))}var wa,tn=typeof ArrayBuffer<"u"&&typeof DataView<"u",yn=ht.f,Ni=M.Int8Array,j_=Ni&&Ni.prototype,Rn=M.Uint8ClampedArray,si=Rn&&Rn.prototype,lm=Ni&&Or(Ni),Ds=j_&&Or(j_),Rn=Object.prototype,Ni=(Rn.isPrototypeOf,Nr("toStringTag")),HI=_e("TYPED_ARRAY_TAG"),Ep=tn&&!!Wr&&hn(M.opera)!=="Opera",tn=!1,Lf={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},gR={BigInt64Array:8,BigUint64Array:8};for(wa in Lf)M[wa]||(Ep=!1);if((!Ep||typeof lm!="function"||lm===Function.prototype)&&(lm=function(){throw TypeError("Incorrect invocation")},Ep))for(wa in Lf)M[wa]&&Wr(M[wa],lm);if((!Ep||!Ds||Ds===Rn)&&(Ds=lm.prototype,Ep))for(wa in Lf)M[wa]&&Wr(M[wa].prototype,Ds);if(Ep&&Or(si)!==Ds&&Wr(si,Ds),U&&!Y(Ds,Ni))for(wa in tn=!0,yn(Ds,Ni,{get:function(){return g(this)?this[HI]:void 0}}),Lf)M[wa]&&Ie(M[wa],HI,wa);var si=function(n){if(Il(n))return n;throw TypeError("Target is not a typed array")},yn=function(n,o,a){if(U){if(a){for(var c in Lf)if(c=M[c],c&&Y(c.prototype,n))try{delete c.prototype[n]}catch{}}Ds[n]&&!a||je(Ds,n,!a&&Ep&&j_[n]||o)}},Ni=Nr("iterator"),tn=M.Uint8Array,yR=kh.values,zI=kh.keys,Uy=kh.entries,U_=si,si=yn,yn=tn&&tn.prototype[Ni],tn=!!yn&&(yn.name=="values"||yn.name==null),yn=function(){return yR.call(U_(this))};si("entries",function(){return Uy.call(U_(this))}),si("keys",function(){return zI.call(U_(this))}),si("values",yn,!tn),si(Ni,yn,!tn);var hm=Object.assign,KI=Object.defineProperty,yn=!hm||i(function(){if(U&&hm({b:1},hm(KI({},"a",{enumerable:!0,get:function(){KI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return 1;var n={},o={},a=Symbol(),c="abcdefghijklmnopqrst";return n[a]=7,c.split("").forEach(function(f){o[f]=f}),hm({},n)[a]!=7||ju(hm({},o)).join("")!=c})?function(n,o){for(var a=S(n),c=arguments.length,f=1,p=Ue.f,b=$.f;f<c;)for(var _,T=H(arguments[f++]),k=p?ju(T).concat(p(T)):ju(T),N=k.length,j=0;j<N;)_=k[j++],U&&!b.call(T,_)||(a[_]=T[_]);return a}:hm;Fe({target:"Object",stat:!0,forced:Object.assign!==yn},{assign:yn}),Le.Object.assign;var Sp=$.f,tn=function(n){return function(o){for(var a,c=v(o),f=ju(c),p=f.length,b=0,_=[];b<p;)a=f[b++],U&&!Sp.call(c,a)||_.push(n?[a,c[a]]:c[a]);return _}},yn={entries:tn(!0),values:tn(!1)},bR=yn.entries;Fe({target:"Object",stat:!0},{entries:function(n){return bR(n)}}),Le.Object.entries;var qU=yn.values;Fe({target:"Object",stat:!0},{values:function(n){return qU(n)}}),Le.Object.values;function wR(n){if(g(o=n)&&((a=o[BU])!==void 0?!!a:u(o)=="RegExp"))throw TypeError("The method doesn't accept regular expressions");var o,a;return n}var BU=Nr("match"),$_=Nr("match"),tn=function(n){var o=/./;try{"/./"[n](o)}catch{try{return o[$_]=!1,"/./"[n](o)}catch{}}return!1};Fe({target:"String",proto:!0,forced:!tn("includes")},{includes:function(n){return!!~String(d(this)).indexOf(wR(n),1<arguments.length?arguments[1]:void 0)}}),Br("String","includes");var _a,yn=ut.f,V_="".startsWith,WI=Math.min,tn=tn("startsWith"),_a=!(tn||!(_a=yn(String.prototype,"startsWith"))||_a.writable);Fe({target:"String",proto:!0,forced:!_a&&!tn},{startsWith:function(c){var o=String(d(this));wR(c);var a=Te(WI(1<arguments.length?arguments[1]:void 0,o.length)),c=String(c);return V_?V_.call(o,c,a):o.slice(a,a+c.length)===c}}),Br("String","startsWith"),Fe({target:"String",proto:!0},{repeat:function(n){var o=String(d(this)),a="",c=zt(n);if(c<0||c==1/0)throw RangeError("Wrong number of repetitions");for(;0<c;(c>>>=1)&&(o+=o))1&c&&(a+=o);return a}}),Br("String","repeat");var Ac,_R=Nr("species"),ER=Nr("isConcatSpreadable"),q_=9007199254740991,GI="Maximum allowed index exceeded",tn=51<=eu||!i(function(){var n=[];return n[ER]=!1,n.concat()[0]!==n}),Br=(Ac="concat",51<=eu||!i(function(){var n=[];return(n.constructor={})[_R]=function(){return{foo:1}},n[Ac](Boolean).foo!==1}));Fe({target:"Array",proto:!0,forced:!tn||!Br},{concat:function(n){for(var o,a,c,f=S(this),p=Rs(f,0),b=0,_=-1,T=arguments.length;_<T;_++)if(function(k){if(!g(k))return!1;var N=k[ER];return N!==void 0?!!N:wp(k)}(c=_===-1?f:arguments[_])){if(a=Te(c.length),q_<b+a)throw TypeError(GI);for(o=0;o<a;o++,b++)o in c&&F_(p,b,c[o])}else{if(q_<=b)throw TypeError(GI);F_(p,b++,c)}return p.length=b,p}});function bi(n){var o=Le.Symbol||(Le.Symbol={});Y(o,n)||$y(o,n,{value:jf.f(n)})}function Mf(n,o){var a=Cl[n]=Za(Fs[Ms]);return SR(a,{type:xh,tag:n,description:o}),U||(a.description=o),a}function mo(n,c){A(n);var a=v(c),c=ju(a).concat(zy(a));return Uf(c,function(f){U&&!Hy.call(a,f)||B_(n,f,a[f])}),n}var qr=Ee.f,QI={}.toString,Ff=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Br={f:function(n){return Ff&&QI.call(n)=="[object Window]"?function(o){try{return qr(o)}catch{return Ff.slice()}}(n):qr(v(n))}},jf={f:Nr},$y=ht.f,Uf=Qe.forEach,Ls=xt("hidden"),xh="Symbol",Ms="prototype",Qe=Nr("toPrimitive"),SR=ot.set,YI=ot.getterFor(xh),eo=Object[Ms],Fs=M.Symbol,Vy=Mt("JSON","stringify"),fm=ut.f,Oh=ht.f,TR=Br.f,HU=$.f,Cl=ke("symbols"),Tp=ke("op-symbols"),qy=ke("string-to-symbol-registry"),By=ke("symbol-to-string-registry"),xt=ke("wks"),ke=M.QObject,Vo=!ke||!ke[Ms]||!ke[Ms].findChild,Bu=U&&i(function(){return Za(Oh({},"a",{get:function(){return Oh(this,"a",{value:7}).a}})).a!=7})?function(n,o,a){var c=fm(eo,o);c&&delete eo[o],Oh(n,o,a),c&&n!==eo&&Oh(eo,o,c)}:Oh,XI=is?function(n){return typeof n=="symbol"}:function(n){return Object(n)instanceof Fs},B_=function(n,o,a){return n===eo&&B_(Tp,o,a),A(n),o=w(o,!0),A(a),Y(Cl,o)?(a.enumerable?(Y(n,Ls)&&n[Ls][o]&&(n[Ls][o]=!1),a=Za(a,{enumerable:s(0,!1)})):(Y(n,Ls)||Oh(n,Ls,s(1,{})),n[Ls][o]=!0),Bu(n,o,a)):Oh(n,o,a)},Hy=function(a){var o=w(a,!0),a=HU.call(this,o);return!(this===eo&&Y(Cl,o)&&!Y(Tp,o))&&(!(a||!Y(this,o)||!Y(Cl,o)||Y(this,Ls)&&this[Ls][o])||a)},ke=function(c,o){var a=v(c),c=w(o,!0);if(a!==eo||!Y(Cl,c)||Y(Tp,c))return o=fm(a,c),!o||!Y(Cl,c)||Y(a,Ls)&&a[Ls][c]||(o.enumerable=!0),o},is=function(o){var o=TR(v(o)),a=[];return Uf(o,function(c){Y(Cl,c)||Y(Nt,c)||a.push(c)}),a},zy=function(a){var o=a===eo,a=TR(o?Tp:v(a)),c=[];return Uf(a,function(f){!Y(Cl,f)||o&&!Y(eo,f)||c.push(Cl[f])}),c};xs||(je((Fs=function(){if(this instanceof Fs)throw TypeError("Symbol is not a constructor");var n=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,o=_e(n),a=function(c){this===eo&&a.call(Tp,c),Y(this,Ls)&&Y(this[Ls],o)&&(this[Ls][o]=!1),Bu(this,o,s(1,c))};return U&&Vo&&Bu(eo,o,{configurable:!0,set:a}),Mf(o,n)})[Ms],"toString",function(){return YI(this).tag}),je(Fs,"withoutSetter",function(n){return Mf(_e(n),n)}),$.f=Hy,ht.f=B_,ut.f=ke,Ee.f=Br.f=is,Ue.f=zy,jf.f=function(n){return Mf(Nr(n),n)},U&&(Oh(Fs[Ms],"description",{configurable:!0,get:function(){return YI(this).description}}),je(eo,"propertyIsEnumerable",Hy,{unsafe:!0}))),Fe({global:!0,wrap:!0,forced:!xs,sham:!xs},{Symbol:Fs}),Uf(ju(xt),function(n){bi(n)}),Fe({target:xh,stat:!0,forced:!xs},{for:function(n){var o=String(n);return Y(qy,o)?qy[o]:(n=Fs(o),qy[o]=n,By[n]=o,n)},keyFor:function(n){if(!XI(n))throw TypeError(n+" is not a symbol");if(Y(By,n))return By[n]},useSetter:function(){Vo=!0},useSimple:function(){Vo=!1}}),Fe({target:"Object",stat:!0,forced:!xs,sham:!U},{create:function(n,o){return o===void 0?Za(n):mo(Za(n),o)},defineProperty:B_,defineProperties:mo,getOwnPropertyDescriptor:ke}),Fe({target:"Object",stat:!0,forced:!xs},{getOwnPropertyNames:is,getOwnPropertySymbols:zy}),Fe({target:"Object",stat:!0,forced:i(function(){Ue.f(1)})},{getOwnPropertySymbols:function(n){return Ue.f(S(n))}}),Vy&&(G_=!xs||i(function(){var n=Fs();return Vy([n])!="[null]"||Vy({a:n})!="{}"||Vy(Object(n))!="{}"}),Fe({target:"JSON",stat:!0,forced:G_},{stringify:function(n,o,a){for(var c,f=[n],p=1;p<arguments.length;)f.push(arguments[p++]);if((g(c=o)||n!==void 0)&&!XI(n))return wp(o)||(o=function(b,_){if(typeof c=="function"&&(_=c.call(this,b,_)),!XI(_))return _}),f[1]=o,Vy.apply(null,f)}})),Fs[Ms][Qe]||Ie(Fs[Ms],Qe,Fs[Ms].valueOf),Sn(Fs,xh),Nt[Ls]=!0,bi("asyncIterator");var Ky,dm,H_,z_,K_,ke=ht.f,iu=M.Symbol;!U||typeof iu!="function"||"description"in iu.prototype&&iu().description===void 0||(Ky={},rt(dm=function(){var n=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),o=this instanceof dm?new iu(n):n===void 0?iu():iu(n);return n===""&&(Ky[o]=!0),o},iu),(Gy=dm.prototype=iu.prototype).constructor=dm,H_=Gy.toString,z_=String(iu("test"))=="Symbol(test)",K_=/^Symbol\((.*)\)[^)]+$/,ke(Gy,"description",{configurable:!0,get:function(){var n=g(this)?this.valueOf():this,o=H_.call(n);return Y(Ky,n)?"":(o=z_?o.slice(7,-1):o.replace(K_,"$1"),o===""?void 0:o)}}),Fe({global:!0,forced:!0},{Symbol:dm})),bi("hasInstance"),bi("isConcatSpreadable"),bi("iterator"),bi("match"),bi("matchAll"),bi("replace"),bi("search"),bi("species"),bi("split"),bi("toPrimitive"),bi("toStringTag"),bi("unscopables"),Sn(M.JSON,"JSON",!0),Sn(Math,"Math",!0),Fe({global:!0},{Reflect:{}}),Sn(M.Reflect,"Reflect",!0),Le.Symbol,bi("asyncDispose"),bi("dispose"),bi("matcher"),bi("metadata"),bi("observable"),bi("patternMatch"),bi("replaceAll"),jf.f("iterator");var zU=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),W_=r(function(n){function o(_){a(_,c,{value:{objectID:"O"+ ++f,weakData:{}}})}var a=ht.f,c=_e("meta"),f=0,p=Object.isExtensible||function(){return!0},b=n.exports={REQUIRED:!1,fastKey:function(_,T){if(!g(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!Y(_,c)){if(!p(_))return"F";if(!T)return"E";o(_)}return _[c].objectID},getWeakData:function(_,T){if(!Y(_,c)){if(!p(_))return!0;if(!T)return!1;o(_)}return _[c].weakData},onFreeze:function(_){return zU&&b.REQUIRED&&p(_)&&!Y(_,c)&&o(_),_}};Nt[c]=!0}),is=function(n,o,a){function c(ae){var Ce=W[ae];je(W,ae,ae=="add"?function(de){return Ce.call(this,de===0?0:de),this}:ae=="delete"?function(de){return!(N&&!g(de))&&Ce.call(this,de===0?0:de)}:ae=="get"?function(de){return N&&!g(de)?void 0:Ce.call(this,de===0?0:de)}:ae=="has"?function(de){return!(N&&!g(de))&&Ce.call(this,de===0?0:de)}:function(de,Je){return Ce.call(this,de===0?0:de,Je),this})}var f,p,b,_,T,k=n.indexOf("Map")!==-1,N=n.indexOf("Weak")!==-1,j=k?"set":"add",V=M[n],W=V&&V.prototype,X=V,ne={};return fr(n,typeof V!="function"||!(N||W.forEach&&!i(function(){new V().entries().next()})))?(X=a.getConstructor(o,n,k,j),W_.REQUIRED=!0):fr(n,!0)&&(p=(f=new X)[j](N?{}:-0,1)!=f,b=i(function(){f.has(1)}),_=Th(function(ae){new V(ae)}),T=!N&&i(function(){for(var ae=new V,Ce=5;Ce--;)ae[j](Ce,Ce);return!ae.has(-0)}),_||(((X=o(function(ae,Ce){fo(ae,X,n);var wt,de,Je,Ke,wt=(wt=new V,de=ae,ae=X,Wr&&typeof(Je=de.constructor)=="function"&&Je!==ae&&g(Ke=Je.prototype)&&Ke!==ae.prototype&&Wr(wt,Ke),wt);return Ce!=null&&Ge(Ce,wt[j],{that:wt,AS_ENTRIES:k}),wt})).prototype=W).constructor=X),(b||T)&&(c("delete"),c("has"),k&&c("get")),(T||p)&&c(j),N&&W.clear&&delete W.clear),ne[n]=X,Fe({global:!0,forced:X!=V},ne),Sn(X,n),N||a.setStrong(X,n,k),X},Wy=ht.f,IR=W_.fastKey,CR=ot.set,JI=ot.getterFor,G_={getConstructor:function(n,o,a,c){function f(T,k,N){var j,V=b(T),W=_(T,k);return W?W.value=N:(V.last=W={index:j=IR(k,!0),key:k,value:N,previous:N=V.last,next:void 0,removed:!1},V.first||(V.first=W),N&&(N.next=W),U?V.size++:T.size++,j!=="F"&&(V.index[j]=W)),T}var p=n(function(T,k){fo(T,p,o),CR(T,{type:o,index:Za(null),first:void 0,last:void 0,size:0}),U||(T.size=0),k!=null&&Ge(k,T[c],{that:T,AS_ENTRIES:a})}),b=JI(o),_=function(V,k){var N,j=b(V),V=IR(k);if(V!=="F")return j.index[V];for(N=j.first;N;N=N.next)if(N.key==k)return N};return Un(p.prototype,{clear:function(){for(var T=b(this),k=T.index,N=T.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=void 0),delete k[N.index],N=N.next;T.first=T.last=void 0,U?T.size=0:this.size=0},delete:function(T){var k,N=b(this),j=_(this,T);return j&&(k=j.next,T=j.previous,delete N.index[j.index],j.removed=!0,T&&(T.next=k),k&&(k.previous=T),N.first==j&&(N.first=k),N.last==j&&(N.last=T),U?N.size--:this.size--),!!j},forEach:function(T){for(var k,N=b(this),j=Gr(T,1<arguments.length?arguments[1]:void 0,3);k=k?k.next:N.first;)for(j(k.value,k.key,this);k&&k.removed;)k=k.previous},has:function(T){return!!_(this,T)}}),Un(p.prototype,a?{get:function(T){return T=_(this,T),T&&T.value},set:function(T,k){return f(this,T===0?0:T,k)}}:{add:function(T){return f(this,T=T===0?0:T,T)}}),U&&Wy(p.prototype,"size",{get:function(){return b(this).size}}),p},setStrong:function(n,o,a){var c=o+" Iterator",f=JI(o),p=JI(c);R_(n,o,function(b,_){CR(this,{type:c,target:b,state:f(b),kind:_,last:void 0})},function(){for(var b=p(this),_=b.kind,T=b.last;T&&T.removed;)T=T.previous;return b.target&&(b.last=T=T?T.next:b.state.first)?_=="keys"?{value:T.key,done:!1}:_=="values"?{value:T.value,done:!1}:{value:[T.key,T.value],done:!1}:{value:b.target=void 0,done:!0}},a?"entries":"values",!a,!0),Fo(o)}};is("Map",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},G_),Le.Map,Qe=function(n){var o,a,c,f,p=arguments.length,b=1<p?arguments[1]:void 0;return ln(this),(o=b!==void 0)&&ln(b),n==null?new this:(a=[],o?(c=0,f=Gr(b,2<p?arguments[2]:void 0,2),Ge(n,function(_){a.push(f(_,c++))})):Ge(n,a.push,{that:a}),new this(a))},Fe({target:"Map",stat:!0},{from:Qe}),ke=function(){for(var n=arguments.length,o=new Array(n);n--;)o[n]=arguments[n];return new this(o)},Fe({target:"Map",stat:!0},{of:ke});function ZI(){for(var n,o=A(this),a=ln(o.delete),c=!0,f=0,p=arguments.length;f<p;f++)n=a.call(o,arguments[f]),c=c&&n;return!!c}Fe({target:"Map",proto:!0,real:!0,forced:Xe},{deleteAll:function(){return ZI.apply(this,arguments)}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{emplace:function(n,c){var a=A(this),c=a.has(n)&&"update"in c?c.update(a.get(n),n,a):c.insert(n,a);return a.set(n,c),c}});function xc(n){return Map.prototype.entries.call(n)}Fe({target:"Map",proto:!0,real:!0,forced:Xe},{every:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return!Ge(a,function(f,p,b){if(!c(p,f,o))return b()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{filter:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3),f=new(ma(o,Mt("Map"))),p=ln(f.set);return Ge(a,function(b,_){c(_,b,o)&&p.call(f,b,_)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{find:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return Ge(a,function(f,p,b){if(c(p,f,o))return b(p)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{findKey:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return Ge(a,function(f,p,b){if(c(p,f,o))return b(f)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Fe({target:"Map",stat:!0},{groupBy:function(n,o){var a=new this;ln(o);var c=ln(a.has),f=ln(a.get),p=ln(a.set);return Ge(n,function(b){var _=o(b);c.call(a,_)?f.call(a,_).push(b):p.call(a,_,[b])}),a}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{includes:function(n){return Ge(xc(A(this)),function(o,a,c){if((f=a)===(a=n)||f!=f&&a!=a)return c();var f},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Fe({target:"Map",stat:!0},{keyBy:function(n,o){var a=new this;ln(o);var c=ln(a.set);return Ge(n,function(f){c.call(a,o(f),f)}),a}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{keyOf:function(n){return Ge(xc(A(this)),function(o,a,c){if(a===n)return c(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{mapKeys:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3),f=new(ma(o,Mt("Map"))),p=ln(f.set);return Ge(a,function(b,_){p.call(f,c(_,b,o),_)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{mapValues:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3),f=new(ma(o,Mt("Map"))),p=ln(f.set);return Ge(a,function(b,_){p.call(f,b,c(_,b,o))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),f}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{merge:function(n){for(var o=A(this),a=ln(o.set),c=0;c<arguments.length;)Ge(arguments[c++],a,{that:o,AS_ENTRIES:!0});return o}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{reduce:function(n){var o=A(this),a=xc(o),c=arguments.length<2,f=c?void 0:arguments[1];if(ln(n),Ge(a,function(p,b){f=c?(c=!1,b):n(f,b,p,o)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),c)throw TypeError("Reduce of empty map with no initial value");return f}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{some:function(n){var o=A(this),a=xc(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return Ge(a,function(f,p,b){if(c(p,f,o))return b()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{update:function(n,o){var a=A(this),c=arguments.length;ln(o);var f=a.has(n);if(!f&&c<3)throw TypeError("Updating absent value");return c=f?a.get(n):ln(2<c?arguments[2]:void 0)(n,a),a.set(n,o(c,n,a)),a}});var Gy=function(n,o){var a,c=A(this),f=2<arguments.length?arguments[2]:void 0;if(typeof o!="function"&&typeof f!="function")throw TypeError("At least one callback required");return c.has(n)?(a=c.get(n),typeof o=="function"&&(a=o(a),c.set(n,a))):typeof f=="function"&&(a=f(),c.set(n,a)),a};Fe({target:"Map",proto:!0,real:!0,forced:Xe},{upsert:Gy}),Fe({target:"Map",proto:!0,real:!0,forced:Xe},{updateOrInsert:Gy}),is("Set",function(n){return function(){return n(this,arguments.length?arguments[0]:void 0)}},G_),Le.Set,Fe({target:"Set",stat:!0},{from:Qe}),Fe({target:"Set",stat:!0},{of:ke}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{addAll:function(){return function(){for(var n=A(this),o=ln(n.add),a=0,c=arguments.length;a<c;a++)o.call(n,arguments[a]);return n}.apply(this,arguments)}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{deleteAll:function(){return ZI.apply(this,arguments)}});function $f(n){return Set.prototype.values.call(n)}Fe({target:"Set",proto:!0,real:!0,forced:Xe},{every:function(n){var o=A(this),a=$f(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return!Ge(a,function(f,p){if(!c(f,f,o))return p()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{difference:function(n){var o=A(this),a=new(ma(o,Mt("Set")))(o),c=ln(a.delete);return Ge(n,function(f){c.call(a,f)}),a}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{filter:function(n){var o=A(this),a=$f(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3),f=new(ma(o,Mt("Set"))),p=ln(f.add);return Ge(a,function(b){c(b,b,o)&&p.call(f,b)},{IS_ITERATOR:!0}),f}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{find:function(n){var o=A(this),a=$f(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return Ge(a,function(f,p){if(c(f,f,o))return p(f)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{intersection:function(n){var o=A(this),a=new(ma(o,Mt("Set"))),c=ln(o.has),f=ln(a.add);return Ge(n,function(p){c.call(o,p)&&f.call(a,p)}),a}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{isDisjointFrom:function(n){var o=A(this),a=ln(o.has);return!Ge(n,function(c,f){if(a.call(o,c)===!0)return f()},{INTERRUPTED:!0}).stopped}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{isSubsetOf:function(n){var o=function(f){var p=oe(f);if(typeof p!="function")throw TypeError(String(f)+" is not iterable");return A(p.call(f))}(this),a=A(n),c=a.has;return typeof c!="function"&&(a=new(Mt("Set"))(n),c=ln(a.has)),!Ge(o,function(f,p){if(c.call(a,f)===!1)return p()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{isSupersetOf:function(n){var o=A(this),a=ln(o.has);return!Ge(n,function(c,f){if(a.call(o,c)===!1)return f()},{INTERRUPTED:!0}).stopped}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{join:function(c){var a=A(this),o=$f(a),a=c===void 0?",":String(c),c=[];return Ge(o,c.push,{that:c,IS_ITERATOR:!0}),c.join(a)}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{map:function(n){var o=A(this),a=$f(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3),f=new(ma(o,Mt("Set"))),p=ln(f.add);return Ge(a,function(b){p.call(f,c(b,b,o))},{IS_ITERATOR:!0}),f}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{reduce:function(n){var o=A(this),a=$f(o),c=arguments.length<2,f=c?void 0:arguments[1];if(ln(n),Ge(a,function(p){f=c?(c=!1,p):n(f,p,p,o)},{IS_ITERATOR:!0}),c)throw TypeError("Reduce of empty set with no initial value");return f}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{some:function(n){var o=A(this),a=$f(o),c=Gr(n,1<arguments.length?arguments[1]:void 0,3);return Ge(a,function(f,p){if(c(f,f,o))return p()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{symmetricDifference:function(n){var o=A(this),a=new(ma(o,Mt("Set")))(o),c=ln(a.delete),f=ln(a.add);return Ge(n,function(p){c.call(a,p)||f.call(a,p)}),a}}),Fe({target:"Set",proto:!0,real:!0,forced:Xe},{union:function(n){var o=A(this),o=new(ma(o,Mt("Set")))(o);return Ge(n,ln(o.add),{that:o}),o}});var KU=Math.floor;Fe({target:"Number",stat:!0},{isInteger:function(n){return!g(n)&&isFinite(n)&&KU(n)===n}}),Le.Number.isInteger,Fe({target:"Number",stat:!0},{isNaN:function(n){return n!=n}}),Le.Number.isNaN;var kR=function(n,o){return(kR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])})(n,o)};function Ct(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=n}kR(n,o),n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var sn=function(){return(sn=Object.assign||function(n){for(var o,a=1,c=arguments.length;a<c;a++)for(var f in o=arguments[a])Object.prototype.hasOwnProperty.call(o,f)&&(n[f]=o[f]);return n}).apply(this,arguments)};function me(n,o,a,c){return new(a=a||Promise)(function(f,p){function b(k){try{T(c.next(k))}catch(N){p(N)}}function _(k){try{T(c.throw(k))}catch(N){p(N)}}function T(k){var N;k.done?f(k.value):((N=k.value)instanceof a?N:new a(function(j){j(N)})).then(b,_)}T((c=c.apply(n,o||[])).next())})}function ve(n,o){var a,c,f,p={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]},b={next:_(0),throw:_(1),return:_(2)};return typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(T){return function(k){return function(N){if(a)throw new TypeError("Generator is already executing.");for(;p;)try{if(a=1,c&&(f=2&N[0]?c.return:N[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,N[1])).done)return f;switch(c=0,(N=f?[2&N[0],f.value]:N)[0]){case 0:case 1:f=N;break;case 4:return p.label++,{value:N[1],done:!1};case 5:p.label++,c=N[1],N=[0];continue;case 7:N=p.ops.pop(),p.trys.pop();continue;default:if(!(f=0<(f=p.trys).length&&f[f.length-1])&&(N[0]===6||N[0]===2)){p=0;continue}if(N[0]===3&&(!f||N[1]>f[0]&&N[1]<f[3])){p.label=N[1];break}if(N[0]===6&&p.label<f[1]){p.label=f[1],f=N;break}if(f&&p.label<f[2]){p.label=f[2],p.ops.push(N);break}f[2]&&p.ops.pop(),p.trys.pop();continue}N=o.call(n,p)}catch(j){N=[6,j],c=0}finally{a=f=0}if(5&N[0])throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}([T,k])}}}function go(n){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&n[o],c=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return{value:(n=n&&c>=n.length?void 0:n)&&n[c++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(n,o){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var c,f,p=a.call(n),b=[];try{for(;(o===void 0||0<o--)&&!(c=p.next()).done;)b.push(c.value)}catch(_){f={error:_}}finally{try{c&&!c.done&&(a=p.return)&&a.call(p)}finally{if(f)throw f.error}}return b}function an(n,o){for(var a=0,c=o.length,f=n.length;a<c;a++,f++)n[f]=o[a];return n}function AR(n){for(var o=[],a=0,c=0;c<n.length;c++){var f=n.charCodeAt(c);f<128?o[a++]=f:(f<2048?o[a++]=f>>6|192:((64512&f)==55296&&c+1<n.length&&(64512&n.charCodeAt(c+1))==56320?(f=65536+((1023&f)<<10)+(1023&n.charCodeAt(++c)),o[a++]=f>>18|240,o[a++]=f>>12&63|128):o[a++]=f>>12|224,o[a++]=f>>6&63|128),o[a++]=63&f|128)}return o}function eC(n){return n=AR(n),Yy.encodeByteArray(n,!0)}function Qy(n){try{return Yy.decodeString(n,!0)}catch(o){console.error("base64Decode failed: ",o)}return null}var tC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},mt=function(n,o){if(!n)throw Vf(o)},Vf=function(n){return new Error("Firebase Database ("+tC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)},Yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(n,o){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var a=o?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[],f=0;f<n.length;f+=3){var p=n[f],b=f+1<n.length,_=b?n[f+1]:0,T=f+2<n.length,N=T?n[f+2]:0,k=(15&_)<<2|N>>6,N=63&N;T||(N=64,b||(k=64)),c.push(a[p>>2],a[(3&p)<<4|_>>4],a[k],a[N])}return c.join("")},encodeString:function(n,o){return this.HAS_NATIVE_SUPPORT&&!o?btoa(n):this.encodeByteArray(AR(n),o)},decodeString:function(n,o){return this.HAS_NATIVE_SUPPORT&&!o?atob(n):function(a){for(var c=[],f=0,p=0;f<a.length;){var b,_,T,k=a[f++];k<128?c[p++]=String.fromCharCode(k):191<k&&k<224?(_=a[f++],c[p++]=String.fromCharCode((31&k)<<6|63&_)):239<k&&k<365?(b=((7&k)<<18|(63&(_=a[f++]))<<12|(63&(T=a[f++]))<<6|63&a[f++])-65536,c[p++]=String.fromCharCode(55296+(b>>10)),c[p++]=String.fromCharCode(56320+(1023&b))):(_=a[f++],T=a[f++],c[p++]=String.fromCharCode((15&k)<<12|(63&_)<<6|63&T))}return c.join("")}(this.decodeStringToByteArray(n,o))},decodeStringToByteArray:function(n,o){this.init_();for(var a=o?this.charToByteMapWebSafe_:this.charToByteMap_,c=[],f=0;f<n.length;){var p=a[n.charAt(f++)],b=f<n.length?a[n.charAt(f)]:0,_=++f<n.length?a[n.charAt(f)]:64,T=++f<n.length?a[n.charAt(f)]:64;if(++f,p==null||b==null||_==null||T==null)throw Error();c.push(p<<2|b>>4),_!==64&&(c.push(b<<4&240|_>>2),T!==64&&c.push(_<<6&192|T))}return c},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},xR=function(n){return eC(n).replace(/\./g,"")};function nC(n){return pm(void 0,n)}function pm(n,o){if(!(o instanceof Object))return o;switch(o.constructor){case Date:return new Date(o.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return o}for(var a in o)o.hasOwnProperty(a)&&a!=="__proto__"&&(n[a]=pm(n[a],o[a]));return n}var to=(rC.prototype.wrapCallback=function(n){var o=this;return function(a,c){a?o.reject(a):o.resolve(c),typeof n=="function"&&(o.promise.catch(function(){}),n.length===1?n(a):n(a,c))}},rC);function rC(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(o,a){n.resolve=o,n.reject=a})}function vm(n,f){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var a=f||"demo-project",c=n.iat||0,f=n.sub||n.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return n=sn({iss:"https://securetoken.google.com/"+a,aud:a,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},n),[xR(JSON.stringify({alg:"none",type:"JWT"})),xR(JSON.stringify(n)),""].join(".")}function Ip(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cp(){return typeof window<"u"&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ip())}function OR(){try{return Object.prototype.toString.call($r.process)==="[object process]"}catch{return}}function iC(){var n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xy(){return tC.NODE_ADMIN===!0}function qf(){return"indexedDB"in self&&indexedDB!=null}function Q_(){return new Promise(function(n,o){try{var a=!0,c="validate-browser-context-for-indexeddb-analytics-module",f=self.indexedDB.open(c);f.onsuccess=function(){f.result.close(),a||self.indexedDB.deleteDatabase(c),n(!0)},f.onupgradeneeded=function(){a=!1},f.onerror=function(){var p;o(((p=f.error)===null||p===void 0?void 0:p.message)||"")}}catch(p){o(p)}})}function oC(){return!(!navigator||!navigator.cookieEnabled)}var Jy,sC="FirebaseError",Bf=(Ct(Y_,Jy=Error),Y_);function Y_(n,o,a){return o=Jy.call(this,o)||this,o.code=n,o.customData=a,o.name=sC,Object.setPrototypeOf(o,Y_.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Oc.prototype.create),o}var Oc=(aC.prototype.create=function(b){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var c,f=o[0]||{},p=this.service+"/"+b,b=this.errors[b],b=b?(c=f,b.replace(uC,function(_,T){var k=c[T];return k!=null?String(k):"<"+T+"?>"})):"Error",b=this.serviceName+": "+b+" ("+p+").";return new Bf(p,b,f)},aC);function aC(n,o,a){this.service=n,this.serviceName=o,this.errors=a}var uC=/\{\$([^}]+)}/g;function Ea(n){return JSON.parse(n)}function Vi(n){return JSON.stringify(n)}function X_(n){var o={},a={},c={},f="";try{var p=n.split("."),o=Ea(Qy(p[0])||""),a=Ea(Qy(p[1])||""),f=p[2],c=a.d||{};delete a.d}catch{}return{header:o,claims:a,data:c,signature:f}}function Sa(n,o){return Object.prototype.hasOwnProperty.call(n,o)}function Hf(n,o){if(Object.prototype.hasOwnProperty.call(n,o))return n[o]}function J_(n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))return!1;return!0}function kp(n,o,a){var c,f={};for(c in n)Object.prototype.hasOwnProperty.call(n,c)&&(f[c]=o.call(a,n[c],c,n));return f}function Zy(n){for(var o=[],a=0,c=Object.entries(n);a<c.length;a++){var f=c[a];(function(p,b){Array.isArray(b)?b.forEach(function(_){o.push(encodeURIComponent(p)+"="+encodeURIComponent(_))}):o.push(encodeURIComponent(p)+"="+encodeURIComponent(b))})(f[0],f[1])}return o.length?"&"+o.join("&"):""}var Z_=(kl.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},kl.prototype.compress_=function(n,o){o=o||0;var a=this.W_;if(typeof n=="string")for(var c=0;c<16;c++)a[c]=n.charCodeAt(o)<<24|n.charCodeAt(o+1)<<16|n.charCodeAt(o+2)<<8|n.charCodeAt(o+3),o+=4;else for(c=0;c<16;c++)a[c]=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3],o+=4;for(c=16;c<80;c++){var f=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=4294967295&(f<<1|f>>>31)}for(var p,j=this.chain_[0],N=this.chain_[1],k=this.chain_[2],T=this.chain_[3],_=this.chain_[4],c=0;c<80;c++)var b=c<40?c<20?(p=T^N&(k^T),1518500249):(p=N^k^T,1859775393):c<60?(p=N&k|T&(N|k),2400959708):(p=N^k^T,3395469782),f=(j<<5|j>>>27)+p+_+b+a[c]&4294967295,_=T,T=k,k=4294967295&(N<<30|N>>>2),N=j,j=f;this.chain_[0]=this.chain_[0]+j&4294967295,this.chain_[1]=this.chain_[1]+N&4294967295,this.chain_[2]=this.chain_[2]+k&4294967295,this.chain_[3]=this.chain_[3]+T&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295},kl.prototype.update=function(n,o){if(n!=null){for(var a=(o=o===void 0?n.length:o)-this.blockSize,c=0,f=this.buf_,p=this.inbuf_;c<o;){if(p===0)for(;c<=a;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<o;)if(f[p]=n.charCodeAt(c),++c,++p===this.blockSize){this.compress_(f),p=0;break}}else for(;c<o;)if(f[p]=n[c],++c,++p===this.blockSize){this.compress_(f),p=0;break}}this.inbuf_=p,this.total_+=o}},kl.prototype.digest=function(){var n=[],o=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var a=this.blockSize-1;56<=a;a--)this.buf_[a]=255&o,o/=256;this.compress_(this.buf_);for(var c=0,a=0;a<5;a++)for(var f=24;0<=f;f-=8)n[c]=this.chain_[a]>>f&255,++c;return n},kl);function kl(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}function mm(n,o){return o=new Ap(n,o),o.subscribe.bind(o)}var Ap=(Nc.prototype.next=function(n){this.forEachObserver(function(o){o.next(n)})},Nc.prototype.error=function(n){this.forEachObserver(function(o){o.error(n)}),this.close(n)},Nc.prototype.complete=function(){this.forEachObserver(function(n){n.complete()}),this.close()},Nc.prototype.subscribe=function(n,o,a){var c,f=this;if(n===void 0&&o===void 0&&a===void 0)throw new Error("Missing Observer.");return(c=function(p,b){if(typeof p!="object"||p===null)return!1;for(var _=0,T=b;_<T.length;_++){var k=T[_];if(k in p&&typeof p[k]=="function")return!0}return!1}(n,["next","error","complete"])?n:{next:n,error:o,complete:a}).next===void 0&&(c.next=cC),c.error===void 0&&(c.error=cC),c.complete===void 0&&(c.complete=cC),a=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then(function(){try{f.finalError?c.error(f.finalError):c.complete()}catch{}}),this.observers.push(c),a},Nc.prototype.unsubscribeOne=function(n){this.observers!==void 0&&this.observers[n]!==void 0&&(delete this.observers[n],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},Nc.prototype.forEachObserver=function(n){if(!this.finalized)for(var o=0;o<this.observers.length;o++)this.sendOne(o,n)},Nc.prototype.sendOne=function(n,o){var a=this;this.task.then(function(){if(a.observers!==void 0&&a.observers[n]!==void 0)try{o(a.observers[n])}catch(c){typeof console<"u"&&console.error&&console.error(c)}})},Nc.prototype.close=function(n){var o=this;this.finalized||(this.finalized=!0,n!==void 0&&(this.finalError=n),this.task.then(function(){o.observers=void 0,o.onNoObservers=void 0}))},Nc);function Nc(n,o){var a=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(function(){n(a)}).catch(function(c){a.error(c)})}function cC(){}function Gt(n,o,a,c){var f;if(c<o?f="at least "+o:a<c&&(f=a===0?"none":"no more than "+a),f)throw new Error(n+" failed: Was called with "+c+(c===1?" argument.":" arguments.")+" Expects "+f+".")}function os(n,o){return n+" failed: "+o+" argument "}function bo(n,o,a,c){if((!c||a)&&typeof a!="function")throw new Error(os(n,o)+"must be a valid function.")}function zf(n,o,a,c){if((!c||a)&&(typeof a!="object"||a===null))throw new Error(os(n,o)+"must be a valid context object.")}function e0(n){for(var o=0,a=0;a<n.length;a++){var c=n.charCodeAt(a);c<128?o++:c<2048?o+=2:55296<=c&&c<=56319?(o+=4,a++):o+=3}return o}var ou=1e3,xp=2,PR=144e5,Op=.5;function e1(n,o,a){return a===void 0&&(a=xp),a=(o=o===void 0?ou:o)*Math.pow(a,n),n=Math.round(Op*a*(Math.random()-.5)*2),Math.min(PR,a+n)}function fn(n){return n&&n._delegate?n._delegate:n}var qo=(Al.prototype.setInstantiationMode=function(n){return this.instantiationMode=n,this},Al.prototype.setMultipleInstances=function(n){return this.multipleInstances=n,this},Al.prototype.setServiceProps=function(n){return this.serviceProps=n,this},Al.prototype.setInstanceCreatedCallback=function(n){return this.onInstanceCreated=n,this},Al);function Al(n,o,a){this.name=n,this.instanceFactory=o,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var Kf="[DEFAULT]",Nh=(ss.prototype.get=function(n){var o=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(o)&&(n=new to,this.instancesDeferred.set(o,n),this.isInitialized(o)||this.shouldAutoInitialize()))try{var a=this.getOrInitializeService({instanceIdentifier:o});a&&n.resolve(a)}catch{}return this.instancesDeferred.get(o).promise},ss.prototype.getImmediate=function(a){var o=this.normalizeInstanceIdentifier(a==null?void 0:a.identifier),a=(a=a==null?void 0:a.optional)!==null&&a!==void 0&&a;if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(a)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}},ss.prototype.getComponent=function(){return this.component},ss.prototype.setComponent=function(n){var o,a;if(n.name!==this.name)throw Error("Mismatching Component "+n.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=n,this.shouldAutoInitialize()){if(n.instantiationMode==="EAGER")try{this.getOrInitializeService({instanceIdentifier:Kf})}catch{}try{for(var c=go(this.instancesDeferred.entries()),f=c.next();!f.done;f=c.next()){var p=yo(f.value,2),b=p[0],_=p[1],T=this.normalizeInstanceIdentifier(b);try{var k=this.getOrInitializeService({instanceIdentifier:T});_.resolve(k)}catch{}}}catch(N){o={error:N}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}}},ss.prototype.clearInstance=function(n){this.instancesDeferred.delete(n=n===void 0?Kf:n),this.instancesOptions.delete(n),this.instances.delete(n)},ss.prototype.delete=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return n=Array.from(this.instances.values()),[4,Promise.all(an(an([],yo(n.filter(function(a){return"INTERNAL"in a}).map(function(a){return a.INTERNAL.delete()}))),yo(n.filter(function(a){return"_delete"in a}).map(function(a){return a._delete()}))))];case 1:return o.sent(),[2]}})})},ss.prototype.isComponentSet=function(){return this.component!=null},ss.prototype.isInitialized=function(n){return this.instances.has(n=n===void 0?Kf:n)},ss.prototype.getOptions=function(n){return this.instancesOptions.get(n=n===void 0?Kf:n)||{}},ss.prototype.initialize=function(n){var o,a,c=(n=n===void 0?{}:n).options,c=c===void 0?{}:c,f=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(f))throw Error(this.name+"("+f+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var p=this.getOrInitializeService({instanceIdentifier:f,options:c});try{for(var b=go(this.instancesDeferred.entries()),_=b.next();!_.done;_=b.next()){var T=yo(_.value,2),k=T[0],N=T[1];f===this.normalizeInstanceIdentifier(k)&&N.resolve(p)}}catch(j){o={error:j}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}return p},ss.prototype.onInit=function(n,o){var a=this.normalizeInstanceIdentifier(o),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;return c.add(n),this.onInitCallbacks.set(a,c),o=this.instances.get(a),o&&n(o,a),function(){c.delete(n)}},ss.prototype.invokeOnInitCallbacks=function(n,o){var a,c,f=this.onInitCallbacks.get(o);if(f)try{for(var p=go(f),b=p.next();!b.done;b=p.next()){var _=b.value;try{_(n,o)}catch{}}}catch(T){a={error:T}}finally{try{b&&!b.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}},ss.prototype.getOrInitializeService=function(f){var o=f.instanceIdentifier,a=f.options,c=a===void 0?{}:a,f=this.instances.get(o);if(!f&&this.component&&(f=this.component.instanceFactory(this.container,{instanceIdentifier:(a=o)===Kf?void 0:a,options:c}),this.instances.set(o,f),this.instancesOptions.set(o,c),this.invokeOnInitCallbacks(f,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,f)}catch{}return f||null},ss.prototype.normalizeInstanceIdentifier=function(n){return n===void 0&&(n=Kf),!this.component||this.component.multipleInstances?n:Kf},ss.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},ss);function ss(n,o){this.name=n,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var su=(gm.prototype.addComponent=function(n){var o=this.getProvider(n.name);if(o.isComponentSet())throw new Error("Component "+n.name+" has already been registered with "+this.name);o.setComponent(n)},gm.prototype.addOrOverwriteComponent=function(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)},gm.prototype.getProvider=function(n){if(this.providers.has(n))return this.providers.get(n);var o=new Nh(n,this);return this.providers.set(n,o),o},gm.prototype.getProviders=function(){return Array.from(this.providers.values())},gm);function gm(n){this.name=n,this.providers=new Map}var Pn,xl=[];(Qe=Pn=Pn||{})[Qe.DEBUG=0]="DEBUG",Qe[Qe.VERBOSE=1]="VERBOSE",Qe[Qe.INFO=2]="INFO",Qe[Qe.WARN=3]="WARN",Qe[Qe.ERROR=4]="ERROR",Qe[Qe.SILENT=5]="SILENT";function WU(n,o){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(!(o<n.logLevel)){var f=new Date().toISOString(),p=RR[o];if(!p)throw new Error("Attempted to log a message with an invalid logType (value: "+o+")");console[p].apply(console,an(["["+f+"]  "+n.name+":"],a))}}var ym={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},Ph=Pn.INFO,RR=((ke={})[Pn.DEBUG]="log",ke[Pn.VERBOSE]="log",ke[Pn.INFO]="info",ke[Pn.WARN]="warn",ke[Pn.ERROR]="error",ke),Rh=(Object.defineProperty(Hu.prototype,"logLevel",{get:function(){return this._logLevel},set:function(n){if(!(n in Pn))throw new TypeError('Invalid value "'+n+'" assigned to `logLevel`');this._logLevel=n},enumerable:!1,configurable:!0}),Hu.prototype.setLogLevel=function(n){this._logLevel=typeof n=="string"?ym[n]:n},Object.defineProperty(Hu.prototype,"logHandler",{get:function(){return this._logHandler},set:function(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n},enumerable:!1,configurable:!0}),Object.defineProperty(Hu.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(n){this._userLogHandler=n},enumerable:!1,configurable:!0}),Hu.prototype.debug=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,an([this,Pn.DEBUG],n)),this._logHandler.apply(this,an([this,Pn.DEBUG],n))},Hu.prototype.log=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,an([this,Pn.VERBOSE],n)),this._logHandler.apply(this,an([this,Pn.VERBOSE],n))},Hu.prototype.info=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,an([this,Pn.INFO],n)),this._logHandler.apply(this,an([this,Pn.INFO],n))},Hu.prototype.warn=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,an([this,Pn.WARN],n)),this._logHandler.apply(this,an([this,Pn.WARN],n))},Hu.prototype.error=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._userLogHandler&&this._userLogHandler.apply(this,an([this,Pn.ERROR],n)),this._logHandler.apply(this,an([this,Pn.ERROR],n))},Hu);function Hu(n){this.name=n,this._logLevel=Ph,this._logHandler=WU,this._userLogHandler=null,xl.push(this)}function Pc(n){xl.forEach(function(o){o.setLogLevel(n)})}function DR(n,o){for(var a=0,c=xl;a<c.length;a++)(function(f){var p=null;o&&o.level&&(p=ym[o.level]),f.userLogHandler=n===null?null:function(b,_){for(var T=[],k=2;k<arguments.length;k++)T[k-2]=arguments[k];var N=T.map(function(j){if(j==null)return null;if(typeof j=="string")return j;if(typeof j=="number"||typeof j=="boolean")return j.toString();if(j instanceof Error)return j.message;try{return JSON.stringify(j)}catch{return null}}).filter(function(j){return j}).join(" ");_>=(p!=null?p:b.logLevel)&&n({level:Pn[_].toLowerCase(),message:N,args:T,type:b.name})}})(c[a])}var Qe=((Xe={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Xe["bad-app-name"]="Illegal App name: '{$appName}",Xe["duplicate-app"]="Firebase App named '{$appName}' already exists",Xe["app-deleted"]="Firebase App named '{$appName}' already deleted",Xe["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Xe["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Xe),bm=new Oc("app","Firebase",Qe),t1="@firebase/app",n1="[DEFAULT]",lC=((ke={})[t1]="fire-core",ke["@firebase/analytics"]="fire-analytics",ke["@firebase/app-check"]="fire-app-check",ke["@firebase/auth"]="fire-auth",ke["@firebase/database"]="fire-rtdb",ke["@firebase/functions"]="fire-fn",ke["@firebase/installations"]="fire-iid",ke["@firebase/messaging"]="fire-fcm",ke["@firebase/performance"]="fire-perf",ke["@firebase/remote-config"]="fire-rc",ke["@firebase/storage"]="fire-gcs",ke["@firebase/firestore"]="fire-fst",ke["fire-js"]="fire-js",ke["firebase-wrapper"]="fire-js-all",ke),Ol=new Rh("@firebase/app"),Np=(Object.defineProperty(js.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(n){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=n},enumerable:!1,configurable:!0}),Object.defineProperty(js.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(js.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),js.prototype.delete=function(){var n=this;return new Promise(function(o){n.checkDestroyed_(),o()}).then(function(){return n.firebase_.INTERNAL.removeApp(n.name_),Promise.all(n.container.getProviders().map(function(o){return o.delete()}))}).then(function(){n.isDeleted_=!0})},js.prototype._getService=function(n,o){o===void 0&&(o=n1),this.checkDestroyed_();var a=this.container.getProvider(n);return a.isInitialized()||((n=a.getComponent())===null||n===void 0?void 0:n.instantiationMode)!=="EXPLICIT"||a.initialize(),a.getImmediate({identifier:o})},js.prototype._removeServiceInstance=function(n,o){o===void 0&&(o=n1),this.container.getProvider(n).clearInstance(o)},js.prototype._addComponent=function(n){try{this.container.addComponent(n)}catch(o){Ol.debug("Component "+n.name+" failed to register with FirebaseApp "+this.name,o)}},js.prototype._addOrOverwriteComponent=function(n){this.container.addOrOverwriteComponent(n)},js.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},js.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw bm.create("app-deleted",{appName:this.name_})},js);function js(n,o,a){var c=this;this.firebase_=a,this.isDeleted_=!1,this.name_=o.name,this.automaticDataCollectionEnabled_=o.automaticDataCollectionEnabled||!1,this.options_=nC(n),this.container=new su(o.name),this._addComponent(new qo("app",function(){return c},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(f){return c._addComponent(f)})}Np.prototype.name&&Np.prototype.options||Np.prototype.delete||console.log("dc");var LR="8.10.1";function hC(n){var o={},a=new Map,c={__esModule:!0,initializeApp:function(b,_){_===void 0&&(_={}),typeof _=="object"&&_!==null||(_={name:_});var T=_;if(T.name===void 0&&(T.name=n1),_=T.name,typeof _!="string"||!_)throw bm.create("bad-app-name",{appName:String(_)});if(Sa(o,_))throw bm.create("duplicate-app",{appName:_});return T=new n(b,T,c),o[_]=T},app:f,registerVersion:function(j,_,T){var k=(N=lC[j])!==null&&N!==void 0?N:j;T&&(k+="-"+T);var N=k.match(/\s|\//),j=_.match(/\s|\//);N||j?(T=['Unable to register library "'+k+'" with version "'+_+'":'],N&&T.push('library name "'+k+'" contains illegal characters (whitespace or "/")'),N&&j&&T.push("and"),j&&T.push('version name "'+_+'" contains illegal characters (whitespace or "/")'),Ol.warn(T.join(" "))):p(new qo(k+"-version",function(){return{library:k,version:_}},"VERSION"))},setLogLevel:Pc,onLog:function(b,_){if(b!==null&&typeof b!="function")throw bm.create("invalid-log-argument");DR(b,_)},apps:null,SDK_VERSION:LR,INTERNAL:{registerComponent:p,removeApp:function(b){delete o[b]},components:a,useAsService:function(b,_){return _!=="serverAuth"?_:null}}};function f(b){if(!Sa(o,b=b||n1))throw bm.create("no-app",{appName:b});return o[b]}function p(b){var _,T=b.name;if(a.has(T))return Ol.debug("There were multiple attempts to register component "+T+"."),b.type==="PUBLIC"?c[T]:null;a.set(T,b),b.type==="PUBLIC"&&(_=function(V){if(typeof(V=V===void 0?f():V)[T]!="function")throw bm.create("invalid-app-argument",{appName:T});return V[T]()},b.serviceProps!==void 0&&pm(_,b.serviceProps),c[T]=_,n.prototype[T]=function(){for(var V=[],W=0;W<arguments.length;W++)V[W]=arguments[W];return this._getService.bind(this,T).apply(this,b.multipleInstances?V:[])});for(var k=0,N=Object.keys(o);k<N.length;k++){var j=N[k];o[j]._addComponent(b)}return b.type==="PUBLIC"?c[T]:null}return c.default=c,Object.defineProperty(c,"apps",{get:function(){return Object.keys(o).map(function(b){return o[b]})}}),f.App=n,c}var Xe=function n(){var o=hC(Np);return o.INTERNAL=sn(sn({},o.INTERNAL),{createFirebaseNamespace:n,extendNamespace:function(a){pm(o,a)},createSubscribe:mm,ErrorFactory:Oc,deepExtend:pm}),o}(),r1=(fC.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(n){return function(o){return o=o.getComponent(),(o==null?void 0:o.type)==="VERSION"}(n)?(n=n.getImmediate(),n.library+"/"+n.version):null}).filter(function(n){return n}).join(" ")},fC);function fC(n){this.container=n}typeof self=="object"&&self.self===self&&self.firebase!==void 0&&(Ol.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `),(wi=self.firebase.SDK_VERSION)&&0<=wi.indexOf("LITE")&&Ol.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `));var i1=Xe.initializeApp;Xe.initializeApp=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return OR()&&Ol.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),i1.apply(void 0,n)};var o1,dC,Ht=Xe;(o1=Ht).INTERNAL.registerComponent(new qo("platform-logger",function(n){return new r1(n)},"PRIVATE")),o1.registerVersion(t1,"0.6.30",dC),o1.registerVersion("fire-js",""),Ht.registerVersion("firebase","8.10.1","app"),Ht.SDK_VERSION="8.10.1",function(){var n,o=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,I){h!=Array.prototype&&h!=Object.prototype&&(h[y]=I.value)},a=function(h){h=[typeof window=="object"&&window,typeof self=="object"&&self,typeof $r=="object"&&$r,h];for(var y=0;y<h.length;++y){var I=h[y];if(I&&I.Math==Math)return I}return globalThis}(this);function c(h){var y,I,x=typeof Symbol<"u"&&Symbol.iterator&&h[Symbol.iterator];return x?x.call(h):{next:(y=h,I=0,function(){return I<y.length?{done:!1,value:y[I++]}:{done:!0}})}}(function(h,y){if(y){var I=a;h=h.split(".");for(var x=0;x<h.length-1;x++){var P=h[x];P in I||(I[P]={}),I=I[P]}(y=y(x=I[h=h[h.length-1]]))!=x&&y!=null&&o(I,h,{configurable:!0,writable:!0,value:y})}})("Promise",function(h){function y(K){this.b=0,this.c=void 0,this.a=[];var J=this.f();try{K(J.resolve,J.reject)}catch(pe){J.reject(pe)}}function I(){this.a=null}function x(K){return K instanceof y?K:new y(function(J){J(K)})}if(h)return h;I.prototype.b=function(K){var J;this.a==null&&(this.a=[],(J=this).c(function(){J.g()})),this.a.push(K)};var P=a.setTimeout;I.prototype.c=function(K){P(K,0)},I.prototype.g=function(){for(;this.a&&this.a.length;){var K=this.a;this.a=[];for(var J=0;J<K.length;++J){var pe=K[J];K[J]=null;try{pe()}catch(Oe){this.f(Oe)}}}this.a=null},I.prototype.f=function(K){this.c(function(){throw K})},y.prototype.f=function(){function K(Oe){return function(Ye){pe||(pe=!0,Oe.call(J,Ye))}}var J=this,pe=!1;return{resolve:K(this.m),reject:K(this.g)}},y.prototype.m=function(K){if(K===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(K instanceof y)this.s(K);else{e:switch(typeof K){case"object":var J=K!=null;break e;case"function":J=!0;break e;default:J=!1}J?this.v(K):this.h(K)}},y.prototype.v=function(K){var J=void 0;try{J=K.then}catch(pe){return void this.g(pe)}typeof J=="function"?this.u(J,K):this.h(K)},y.prototype.g=function(K){this.i(2,K)},y.prototype.h=function(K){this.i(1,K)},y.prototype.i=function(K,J){if(this.b!=0)throw Error("Cannot settle("+K+", "+J+"): Promise already settled in state"+this.b);this.b=K,this.c=J,this.l()},y.prototype.l=function(){if(this.a!=null){for(var K=0;K<this.a.length;++K)q.b(this.a[K]);this.a=null}};var q=new I;return y.prototype.s=function(K){var J=this.f();K.Ra(J.resolve,J.reject)},y.prototype.u=function(K,J){var pe=this.f();try{K.call(J,pe.resolve,pe.reject)}catch(Oe){pe.reject(Oe)}},y.prototype.then=function(K,J){function pe(Kt,Ci){return typeof Kt=="function"?function(lo){try{Oe(Kt(lo))}catch(Av){Ye(Av)}}:Ci}var Oe,Ye,Et=new y(function(Kt,Ci){Oe=Kt,Ye=Ci});return this.Ra(pe(K,Oe),pe(J,Ye)),Et},y.prototype.catch=function(K){return this.then(void 0,K)},y.prototype.Ra=function(K,J){function pe(){switch(Oe.b){case 1:K(Oe.c);break;case 2:J(Oe.c);break;default:throw Error("Unexpected state: "+Oe.b)}}var Oe=this;this.a==null?q.b(pe):this.a.push(pe)},y.resolve=x,y.reject=function(K){return new y(function(J,pe){pe(K)})},y.race=function(K){return new y(function(J,pe){for(var Oe=c(K),Ye=Oe.next();!Ye.done;Ye=Oe.next())x(Ye.value).Ra(J,pe)})},y.all=function(K){var J=c(K),pe=J.next();return pe.done?x([]):new y(function(Oe,Ye){for(var Et=[],Kt=0;Et.push(void 0),Kt++,x(pe.value).Ra(function(Ci){return function(lo){Et[Ci]=lo,--Kt==0&&Oe(Et)}}(Et.length-1),Ye),!(pe=J.next()).done;);})},y});var f=f||{},p=this||self,b=/^[\w+/_-]+[=]{0,2}$/,_=null;function T(h){return(h=h.querySelector&&h.querySelector("script[nonce]"))&&(h=h.nonce||h.getAttribute("nonce"))&&b.test(h)?h:""}function k(){}function N(h){var y=typeof h;return y!="object"?y:h?Array.isArray(h)?"array":y:"null"}function j(h){var y=N(h);return y=="array"||y=="object"&&typeof h.length=="number"}function V(h){return N(h)=="function"}function W(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}var X="closure_uid_"+(1e9*Math.random()>>>0),ne=0;function ae(h,y,I){return h.call.apply(h.bind,arguments)}function Ce(h,y,I){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,x),h.apply(y,P)}}return function(){return h.apply(y,arguments)}}function de(h,y,I){return(de=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ae:Ce).apply(null,arguments)}function Je(h){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function Ke(h,y){function I(){}I.prototype=y.prototype,h.bb=y.prototype,h.prototype=new I,h.prototype.constructor=h}function wt(h){return h}function le(h,y,I){this.code=Ft+h,this.message=y||Fn[h]||"",this.a=I||null}function De(h){var y=h&&h.code;return y?new le(y.substring(Ft.length),h.message,h.serverResponse):null}Ke(le,Error),le.prototype.w=function(){var h={code:this.code,message:this.message};return this.a&&(h.serverResponse=this.a),h},le.prototype.toJSON=function(){return this.w()};var lt,Ft="auth/",Fn={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Cr={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Tn(h){for(var y in Cr)if(Cr[y].id===h)return h=Cr[y],{firebaseEndpoint:h.Ua,secureTokenEndpoint:h.$a,identityPlatformEndpoint:h.Xa};return null}function so(h){if(h)try{return h.$goog_Thenable}catch{return}}function Si(h){var y;Error.captureStackTrace?Error.captureStackTrace(this,Si):(y=Error().stack)&&(this.stack=y),h&&(this.message=String(h))}function Nd(h,y){for(var I="",x=(h=h.split("%s")).length-1,P=0;P<x;P++)I+=h[P]+(P<y.length?y[P]:"%s");Si.call(this,I+h[x])}function fS(h){throw new Nd("Failure"+(h?": "+h:""),Array.prototype.slice.call(arguments,1))}function Sg(h,y){this.c=h,this.f=y,this.b=0,this.a=null}function Pb(h,y){h.f(y),h.b<100&&(h.b++,y.next=h.a,h.a=y)}function Rre(){this.b=this.a=null}lt=Tn("__EID__")?"__EID__":void 0,Ke(Si,Error),Si.prototype.name="CustomError",Ke(Nd,Si),Nd.prototype.name="AssertionError",Sg.prototype.get=function(){var h;return 0<this.b?(this.b--,h=this.a,this.a=h.next,h.next=null):h=this.c(),h};var Dre=new Sg(function(){return new oq},function(h){h.reset()});function oq(){this.next=this.b=this.a=null}Rre.prototype.add=function(h,y){var I=Dre.get();I.set(h,y),this.b?this.b.next=I:this.a=I,this.b=I},oq.prototype.set=function(h,y){this.a=h,this.b=y,this.next=null},oq.prototype.reset=function(){this.next=this.b=this.a=null};var Lre=Array.prototype.indexOf?function(h,y){return Array.prototype.indexOf.call(h,y,void 0)}:function(h,y){if(typeof h=="string")return typeof y!="string"||y.length!=1?-1:h.indexOf(y,0);for(var I=0;I<h.length;I++)if(I in h&&h[I]===y)return I;return-1},Li=Array.prototype.forEach?function(h,y,I){Array.prototype.forEach.call(h,y,I)}:function(h,y,I){for(var x=h.length,P=typeof h=="string"?h.split(""):h,q=0;q<x;q++)q in P&&y.call(I,P[q],q,h)},HAe=Array.prototype.filter?function(h,y){return Array.prototype.filter.call(h,y,void 0)}:function(h,y){for(var I,x=h.length,P=[],q=0,K=typeof h=="string"?h.split(""):h,J=0;J<x;J++)J in K&&(I=K[J],y.call(void 0,I,J,h)&&(P[q++]=I));return P},$L=Array.prototype.map?function(h,y){return Array.prototype.map.call(h,y,void 0)}:function(h,y){for(var I=h.length,x=Array(I),P=typeof h=="string"?h.split(""):h,q=0;q<I;q++)q in P&&(x[q]=y.call(void 0,P[q],q,h));return x},zAe=Array.prototype.some?function(h,y){return Array.prototype.some.call(h,y,void 0)}:function(h,y){for(var I=h.length,x=typeof h=="string"?h.split(""):h,P=0;P<I;P++)if(P in x&&y.call(void 0,x[P],P,h))return!0;return!1};function Sv(h,y){return 0<=Lre(h,y)}function VL(h,y){var I;return(I=0<=(y=Lre(h,y)))&&Array.prototype.splice.call(h,y,1),I}function tf(h,y){(function(I,x){for(var P=typeof I=="string"?I.split(""):I,q=I.length-1;0<=q;--q)q in P&&x.call(void 0,P[q],q,I)})(h,function(I,x){y.call(void 0,I,x,h)&&Array.prototype.splice.call(h,x,1).length==1})}function sq(){return Array.prototype.concat.apply([],arguments)}function Rb(h){var y=h.length;if(0<y){for(var I=Array(y),x=0;x<y;x++)I[x]=h[x];return I}return[]}var dS,Mre=String.prototype.trim?function(h){return h.trim()}:function(h){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(h)[1]},KAe=/&/g,WAe=/</g,GAe=/>/g,QAe=/"/g,YAe=/'/g,XAe=/\x00/g,JAe=/[\x00&<>"']/;function ei(h,y){return h.indexOf(y)!=-1}function aq(h,y){return h<y?-1:y<h?1:0}e:{var nx=p.navigator;if(nx&&(nx=nx.userAgent,nx)){dS=nx;break e}dS=""}function Yo(h){return ei(dS,h)}function Fre(h,y){for(var I in h)y.call(void 0,h[I],I,h)}function Db(h){for(var y in h)return;return 1}function Tg(h){var y,I={};for(y in h)I[y]=h[y];return I}var jre="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oc(h){for(var y,I,x=1;x<arguments.length;x++){for(y in I=arguments[x])h[y]=I[y];for(var P=0;P<jre.length;P++)y=jre[P],Object.prototype.hasOwnProperty.call(I,y)&&(h[y]=I[y])}}function Ure(h,y){e:{try{var I,x=h&&h.ownerDocument;if((I=(I=x&&(x.defaultView||x.parentWindow))||p).Element&&I.Location){var P=I;break e}}catch{}P=null}if(P&&P[y]!==void 0&&(!h||!(h instanceof P[y])&&(h instanceof P.Location||h instanceof P.Element))){if(W(h))try{var q=h.constructor.displayName||h.constructor.name||Object.prototype.toString.call(h)}catch{q="<object could not be stringified>"}else q=h===void 0?"undefined":h===null?"null":typeof h;fS("Argument is not a %s (or a non-Element, non-Location mock); got: %s",y,q)}}function Pd(h,y){this.a=h===BL&&y||"",this.b=$re}function uq(h){return h instanceof Pd&&h.constructor===Pd&&h.b===$re?h.a:(fS("expected object of type Const, got '"+h+"'"),"type_error:Const")}Pd.prototype.ta=!0,Pd.prototype.sa=function(){return this.a},Pd.prototype.toString=function(){return"Const{"+this.a+"}"};var qL,$re={},BL={};function Vre(){if(qL===void 0){var h=null,y=p.trustedTypes;if(y&&y.createPolicy){try{h=y.createPolicy("goog#html",{createHTML:wt,createScript:wt,createScriptURL:wt})}catch(I){p.console&&p.console.error(I.message)}qL=h}else qL=h}return qL}function pS(h,y){this.a=y===Bre?h:""}function qre(h){return h instanceof pS&&h.constructor===pS?h.a:(fS("expected object of type TrustedResourceUrl, got '"+h+"' of type "+N(h)),"type_error:TrustedResourceUrl")}function cq(h,y){var I,x=uq(h);if(!exe.test(x))throw Error("Invalid TrustedResourceUrl format: "+x);return h=x.replace(ZAe,function(P,q){if(!Object.prototype.hasOwnProperty.call(y,q))throw Error('Found marker, "'+q+'", in format string, "'+x+'", but no valid label mapping found in args: '+JSON.stringify(y));return(P=y[q])instanceof Pd?uq(P):encodeURIComponent(String(P))}),I=h,h=Vre(),new pS(I=h?h.createScriptURL(I):I,Bre)}pS.prototype.ta=!0,pS.prototype.sa=function(){return this.a.toString()},pS.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ZAe=/%{(\w+)}/g,exe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Bre={};function tl(h,y){this.a=y===zL?h:""}function HL(h){return h instanceof tl&&h.constructor===tl?h.a:(fS("expected object of type SafeUrl, got '"+h+"' of type "+N(h)),"type_error:SafeUrl")}tl.prototype.ta=!0,tl.prototype.sa=function(){return this.a.toString()},tl.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var txe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,nxe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Hre=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function zre(h){return h instanceof tl?h:(h=typeof h=="object"&&h.ta?h.sa():String(h),h=Hre.test(h)||(y=(h=(h=String(h)).replace(/(%0A|%0D)/g,"")).match(nxe))&&txe.test(y[1])?new tl(h,zL):null);var y}function Kre(h){return h instanceof tl?h:(h=typeof h=="object"&&h.ta?h.sa():String(h),new tl(h=Hre.test(h)?h:"about:invalid#zClosurez",zL))}var zL={},Wre=new tl("about:invalid#zClosurez",zL);function vS(h,y,I){this.a=I===Gre?h:""}vS.prototype.ta=!0,vS.prototype.sa=function(){return this.a.toString()},vS.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Gre={};function Qre(h,y,I,x){return h=h instanceof tl?h:Kre(h),y=y||p,I=I instanceof Pd?uq(I):I||"",y.open(HL(h),I,x,void 0)}function Yre(h){for(var y=h.split("%s"),I="",x=Array.prototype.slice.call(arguments,1);x.length&&1<y.length;)I+=y.shift()+x.shift();return I+y.join("%s")}function lq(h){return JAe.test(h)&&(h=(h=(h=(h=(h=h.indexOf("&")!=-1?h.replace(KAe,"&amp;"):h).indexOf("<")!=-1?h.replace(WAe,"&lt;"):h).indexOf(">")!=-1?h.replace(GAe,"&gt;"):h).indexOf('"')!=-1?h.replace(QAe,"&quot;"):h).indexOf("'")!=-1?h.replace(YAe,"&#39;"):h).indexOf("\0")!=-1&&(h=h.replace(XAe,"&#0;")),h}function hq(h){return hq[" "](h),h}hq[" "]=k;var KL,rxe=Yo("Opera"),nf=Yo("Trident")||Yo("MSIE"),Xre=Yo("Edge"),ixe=Xre||nf,Jre=Yo("Gecko")&&!(ei(dS.toLowerCase(),"webkit")&&!Yo("Edge"))&&!(Yo("Trident")||Yo("MSIE"))&&!Yo("Edge"),oxe=ei(dS.toLowerCase(),"webkit")&&!Yo("Edge");function Zre(){var h=p.document;return h?h.documentMode:void 0}e:{var fq="",nl=(nl=dS,Jre?/rv:([^\);]+)(\)|;)/.exec(nl):Xre?/Edge\/([\d\.]+)/.exec(nl):nf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(nl):oxe?/WebKit\/(\S+)/.exec(nl):rxe?/(?:Version)[ \/]?(\S+)/.exec(nl):void 0);if(nl&&(fq=nl?nl[1]:""),nf&&(nl=Zre(),nl!=null&&nl>parseFloat(fq))){KL=String(nl);break e}KL=fq}var sxe={};function eie(h){return y=h,I=function(){for(var P=0,q=Mre(String(KL)).split("."),K=Mre(String(h)).split("."),J=Math.max(q.length,K.length),pe=0;P==0&&pe<J;pe++)for(var Oe=q[pe]||"",Ye=K[pe]||"";Oe=/(\d*)(\D*)(.*)/.exec(Oe)||["","","",""],Ye=/(\d*)(\D*)(.*)/.exec(Ye)||["","","",""],(Oe[0].length!=0||Ye[0].length!=0)&&(P=aq(Oe[1].length==0?0:parseInt(Oe[1],10),Ye[1].length==0?0:parseInt(Ye[1],10))||aq(Oe[2].length==0,Ye[2].length==0)||aq(Oe[2],Ye[2]),Oe=Oe[3],Ye=Ye[3],P==0););return 0<=P},x=sxe,Object.prototype.hasOwnProperty.call(x,y)?x[y]:x[y]=I(y);var y,I,x}var Ig=p.document&&nf&&(Zre()||parseInt(KL,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var axe=!nf||9<=Number(Ig);function rx(h){var y=document;return typeof h=="string"?y.getElementById(h):h}function tie(h,y){Fre(y,function(I,x){I&&typeof I=="object"&&I.ta&&(I=I.sa()),x=="style"?h.style.cssText=I:x=="class"?h.className=I:x=="for"?h.htmlFor=I:rie.hasOwnProperty(x)?h.setAttribute(rie[x],I):x.lastIndexOf("aria-",0)==0||x.lastIndexOf("data-",0)==0?h.setAttribute(x,I):h[x]=I})}var nie,dq,rie={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function uxe(){var h,y=arguments,I=document,x=String(y[0]),P=y[1];return!axe&&P&&(P.name||P.type)&&(x=["<",x],P.name&&x.push(' name="',lq(P.name),'"'),P.type&&(x.push(' type="',lq(P.type),'"'),oc(h={},P),delete h.type,P=h),x.push(">"),x=x.join("")),x=WL(I,x),P&&(typeof P=="string"?x.className=P:Array.isArray(P)?x.className=P.join(" "):tie(x,P)),2<y.length&&function(q,K,J){function pe(Kt){Kt&&K.appendChild(typeof Kt=="string"?q.createTextNode(Kt):Kt)}for(var Oe=2;Oe<J.length;Oe++){var Ye=J[Oe];if(!j(Ye)||W(Ye)&&0<Ye.nodeType)pe(Ye);else{e:{if(Ye&&typeof Ye.length=="number"){if(W(Ye)){var Et=typeof Ye.item=="function"||typeof Ye.item=="string";break e}if(V(Ye)){Et=typeof Ye.item=="function";break e}}Et=!1}Li(Et?Rb(Ye):Ye,pe)}}}(I,x,y),x}function WL(h,y){return y=String(y),h.contentType==="application/xhtml+xml"&&(y=y.toLowerCase()),h.createElement(y)}function iie(h){p.setTimeout(function(){throw h},0)}function GL(h,y){dq||function(){{var I;dq=p.Promise&&p.Promise.resolve?(I=p.Promise.resolve(void 0),function(){I.then(sie)}):function(){var x=sie;!V(p.setImmediate)||p.Window&&p.Window.prototype&&!Yo("Edge")&&p.Window.prototype.setImmediate==p.setImmediate?(nie=nie||function(){var P=p.MessageChannel;if((P=P===void 0&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Yo("Presto")?function(){var pe=WL(document,"IFRAME");pe.style.display="none",document.documentElement.appendChild(pe);var Oe=pe.contentWindow;(pe=Oe.document).open(),pe.close();var Ye="callImmediate"+Math.random(),Et=Oe.location.protocol=="file:"?"*":Oe.location.protocol+"//"+Oe.location.host;pe=de(function(Kt){Et!="*"&&Kt.origin!=Et||Kt.data!=Ye||this.port1.onmessage()},this),Oe.addEventListener("message",pe,!1),this.port1={},this.port2={postMessage:function(){Oe.postMessage(Ye,Et)}}}:P)===void 0||Yo("Trident")||Yo("MSIE"))return function(pe){p.setTimeout(pe,0)};var q=new P,K={},J=K;return q.port1.onmessage=function(){var pe;K.next!==void 0&&(pe=(K=K.next).Hb,K.Hb=null,pe())},function(pe){J.next={Hb:pe},J=J.next,q.port2.postMessage(0)}}())(x):p.setImmediate(x)}}}(),pq||(dq(),pq=!0),oie.add(h,y)}var pq=!1,oie=new Rre;function sie(){for(var h,y;y=h=void 0,y=null,(h=oie).a&&(y=h.a,h.a=h.a.next,h.a||(h.b=null),y.next=null),y=y;){try{y.a.call(y.b)}catch(I){iie(I)}Pb(Dre,y)}pq=!1}function Gn(h,y){if(this.a=Lb,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,h!=k)try{var I=this;h.call(y,function(x){Mb(I,ix,x)},function(x){if(!(x instanceof mS))try{throw x instanceof Error?x:Error("Promise rejected.")}catch{}Mb(I,Tv,x)})}catch(x){Mb(this,Tv,x)}}var Lb=0,ix=2,Tv=3;function aie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}aie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var uie=new Sg(function(){return new aie},function(h){h.reset()});function vq(h,y,I){var x=uie.get();return x.g=h,x.b=y,x.f=I,x}function nn(h){if(h instanceof Gn)return h;var y=new Gn(k);return Mb(y,ix,h),y}function Ti(h){return new Gn(function(y,I){I(h)})}function cie(h,y,I){fie(h,y,I,null)||GL(Je(y,h))}function lie(h){return new Gn(function(y){var I=h.length,x=[];if(I)for(var P=function(K,J,pe){I--,x[K]=J?{Qb:!0,value:pe}:{Qb:!1,reason:pe},I==0&&y(x)},q=0;q<h.length;q++)cie(h[q],Je(P,q,!0),Je(P,q,!1));else y(x)})}function mq(h,y){h.b||h.a!=ix&&h.a!=Tv||die(h),h.f?h.f.next=y:h.b=y,h.f=y}function hie(h,y,I,x){var P=vq(null,null,null);return P.a=new Gn(function(q,K){P.g=y?function(J){try{var pe=y.call(x,J);q(pe)}catch(Oe){K(Oe)}}:q,P.b=I?function(J){try{var pe=I.call(x,J);pe===void 0&&J instanceof mS?K(J):q(pe)}catch(Oe){K(Oe)}}:K}),mq(P.a.c=h,P),P.a}function Mb(h,y,I){var x,P;h.a==Lb&&(h===I&&(y=Tv,I=new TypeError("Promise cannot resolve to itself")),h.a=1,fie(I,h.$c,h.ad,h)||(h.i=I,h.a=y,h.c=null,die(h),y!=Tv||I instanceof mS||(P=I,(x=h).g=!0,GL(function(){x.g&&gie.call(null,P)}))))}function fie(h,y,I,x){if(h instanceof Gn)return mq(h,vq(y||k,I||null,x)),1;if(so(h))return h.then(y,I,x),1;if(W(h))try{var P=h.then;if(V(P))return function(q,K,J,pe,Oe){function Ye(Kt){Et||(Et=!0,pe.call(Oe,Kt))}var Et=!1;try{K.call(q,function(Kt){Et||(Et=!0,J.call(Oe,Kt))},Ye)}catch(Kt){Ye(Kt)}}(h,P,y,I,x),1}catch(q){return I.call(x,q),1}}function die(h){h.h||(h.h=!0,GL(h.gc,h))}function pie(h){var y=null;return h.b&&(y=h.b,h.b=y.next,y.next=null),h.b||(h.f=null),y}function vie(h,y,I,x){if(I==Tv&&y.b&&!y.c)for(;h&&h.g;h=h.c)h.g=!1;if(y.a)y.a.c=null,mie(y,I,x);else try{y.c?y.g.call(y.f):mie(y,I,x)}catch(P){gie.call(null,P)}Pb(uie,y)}function mie(h,y,I){y==ix?h.g.call(h.f,I):h.b&&h.b.call(h.f,I)}Gn.prototype.then=function(h,y,I){return hie(this,V(h)?h:null,V(y)?y:null,I)},Gn.prototype.$goog_Thenable=!0,(n=Gn.prototype).oa=function(h,y){return(h=vq(h,h,y)).c=!0,mq(this,h),this},n.o=function(h,y){return hie(this,null,h,y)},n.cancel=function(h){var y;this.a==Lb&&(y=new mS(h),GL(function(){(function I(x,P){if(x.a==Lb)if(x.c){var q=x.c;if(q.b){for(var K=0,J=null,pe=null,Oe=q.b;Oe&&(Oe.c||(K++,!((J=Oe.a==x?Oe:J)&&1<K)));Oe=Oe.next)J||(pe=Oe);J&&(q.a==Lb&&K==1?I(q,P):(pe?((K=pe).next==q.f&&(q.f=K),K.next=K.next.next):pie(q),vie(q,J,Tv,P)))}x.c=null}else Mb(x,Tv,P)})(this,y)},this))},n.$c=function(h){this.a=Lb,Mb(this,ix,h)},n.ad=function(h){this.a=Lb,Mb(this,Tv,h)},n.gc=function(){for(var h;h=pie(this);)vie(this,h,this.a,this.i);this.h=!1};var gie=iie;function mS(h){Si.call(this,h)}function QL(){this.ya=this.ya,this.pa=this.pa}Ke(mS,Si);var cxe=0,lxe={};function yie(h){h.ya||(h.ya=!0,h.Da(),cxe==0)||(h=h,h=Object.prototype.hasOwnProperty.call(h,X)&&h[X]||(h[X]=++ne),delete lxe[h])}QL.prototype.ya=!(mS.prototype.name="cancel"),QL.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hxe=Object.freeze||function(h){return h},bie=!nf||9<=Number(Ig),fxe=nf&&!eie("9"),dxe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{p.addEventListener("test",k,y),p.removeEventListener("test",k,y)}catch{}return h}();function sc(h,y){this.type=h,this.b=this.target=y,this.defaultPrevented=!1}function Fb(h,y){if(sc.call(this,h?h.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,h){var I=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.b=y,y=h.relatedTarget){if(Jre){e:{try{hq(y.nodeName);var P=!0;break e}catch{}P=!1}P||(y=null)}}else I=="mouseover"?y=h.fromElement:I=="mouseout"&&(y=h.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:pxe[h.pointerType]||"",(this.a=h).defaultPrevented&&this.preventDefault()}}sc.prototype.preventDefault=function(){this.defaultPrevented=!0},Ke(Fb,sc);var pxe=hxe({2:"touch",3:"pen",4:"mouse"});Fb.prototype.preventDefault=function(){Fb.bb.preventDefault.call(this);var h=this.a;if(h.preventDefault)h.preventDefault();else if(h.returnValue=!1,fxe)try{(h.ctrlKey||112<=h.keyCode&&h.keyCode<=123)&&(h.keyCode=-1)}catch{}},Fb.prototype.g=function(){return this.a};var ox="closure_listenable_"+(1e6*Math.random()|0),vxe=0;function mxe(h,y,I,x,P){this.listener=h,this.proxy=null,this.src=y,this.type=I,this.capture=!!x,this.Wa=P,this.key=++vxe,this.wa=this.Qa=!1}function YL(h){h.wa=!0,h.listener=null,h.proxy=null,h.src=null,h.Wa=null}function XL(h){this.src=h,this.a={},this.b=0}function gq(h,y){var I=y.type;I in h.a&&VL(h.a[I],y)&&(YL(y),h.a[I].length==0&&(delete h.a[I],h.b--))}function yq(h,y,I,x){for(var P=0;P<h.length;++P){var q=h[P];if(!q.wa&&q.listener==y&&q.capture==!!I&&q.Wa==x)return P}return-1}XL.prototype.add=function(h,y,I,x,P){var q=h.toString();(h=this.a[q])||(h=this.a[q]=[],this.b++);var K=yq(h,y,x,P);return-1<K?(y=h[K],I||(y.Qa=!1)):((y=new mxe(y,this.src,q,!!x,P)).Qa=I,h.push(y)),y};var bq="closure_lm_"+(1e6*Math.random()|0),wq={};function ih(h,y,I,x,P){if(x&&x.once)_q(h,y,I,x,P);else if(Array.isArray(y))for(var q=0;q<y.length;q++)ih(h,y[q],I,x,P);else I=Sq(I),h&&h[ox]?Iie(h,y,I,W(x)?!!x.capture:!!x,P):wie(h,y,I,!1,x,P)}function wie(h,y,I,x,P,q){if(!y)throw Error("Invalid event type");var K,J,pe=W(P)?!!P.capture:!!P,Oe=JL(h);if(Oe||(h[bq]=Oe=new XL(h)),!(I=Oe.add(y,I,x,pe,q)).proxy)if(K=gxe,J=bie?function(Ye){return K.call(J.src,J.listener,Ye)}:function(Ye){if(!(Ye=K.call(J.src,J.listener,Ye)))return Ye},(I.proxy=x=J).src=h,x.listener=I,h.addEventListener)(P=dxe?P:pe)===void 0&&(P=!1),h.addEventListener(y.toString(),x,P);else if(h.attachEvent)h.attachEvent(Eie(y.toString()),x);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(x)}}function _q(h,y,I,x,P){if(Array.isArray(y))for(var q=0;q<y.length;q++)_q(h,y[q],I,x,P);else I=Sq(I),h&&h[ox]?Tq(h,y,I,W(x)?!!x.capture:!!x,P):wie(h,y,I,!0,x,P)}function rl(h,y,I,x,P){if(Array.isArray(y))for(var q=0;q<y.length;q++)rl(h,y[q],I,x,P);else x=W(x)?!!x.capture:!!x,I=Sq(I),h&&h[ox]?(h=h.v,(y=String(y).toString())in h.a&&-1<(I=yq(q=h.a[y],I,x,P))&&(YL(q[I]),Array.prototype.splice.call(q,I,1),q.length==0&&(delete h.a[y],h.b--))):(h=h&&JL(h))&&(y=h.a[y.toString()],(I=(h=-1)<(h=y?yq(y,I,x,P):h)?y[h]:null)&&_ie(I))}function _ie(h){var y,I,x;typeof h!="number"&&h&&!h.wa&&((y=h.src)&&y[ox]?gq(y.v,h):(I=h.type,x=h.proxy,y.removeEventListener?y.removeEventListener(I,x,h.capture):y.detachEvent?y.detachEvent(Eie(I),x):y.addListener&&y.removeListener&&y.removeListener(x),(I=JL(y))?(gq(I,h),I.b==0&&(I.src=null,y[bq]=null)):YL(h)))}function Eie(h){return h in wq?wq[h]:wq[h]="on"+h}function Sie(h,y,I,x){var P=!0;if((h=JL(h))&&(y=h.a[y.toString()]))for(y=y.concat(),h=0;h<y.length;h++){var q=y[h];q&&q.capture==I&&!q.wa&&(q=Tie(q,x),P=P&&q!==!1)}return P}function Tie(h,y){var I=h.listener,x=h.Wa||h.src;return h.Qa&&_ie(h),I.call(x,y)}function gxe(h,y){if(h.wa)return!0;if(bie)return Tie(h,new Fb(y,this));if(!y)e:{y=["window","event"];for(var I=p,x=0;x<y.length;x++)if((I=I[y[x]])==null){y=null;break e}y=I}if(y=new Fb(x=y,this),I=!0,!(x.keyCode<0||x.returnValue!=null)){e:{var P=!1;if(x.keyCode==0)try{x.keyCode=-1;break e}catch{P=!0}!P&&x.returnValue!=null||(x.returnValue=!0)}for(x=[],P=y.b;P;P=P.parentNode)x.push(P);for(h=h.type,P=x.length-1;0<=P;P--){y.b=x[P];var q=Sie(x[P],h,!0,y),I=I&&q}for(P=0;P<x.length;P++)y.b=x[P],q=Sie(x[P],h,!1,y),I=I&&q}return I}function JL(h){return(h=h[bq])instanceof XL?h:null}var Eq="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sq(h){return V(h)?h:(h[Eq]||(h[Eq]=function(y){return h.handleEvent(y)}),h[Eq])}function Su(){QL.call(this),this.v=new XL(this),(this.bc=this).hb=null}function Iie(h,y,I,x,P){h.v.add(String(y),I,!1,x,P)}function Tq(h,y,I,x,P){h.v.add(String(y),I,!0,x,P)}function ZL(h,y,I,x){if(!(y=h.v.a[String(y)]))return!0;y=y.concat();for(var P=!0,q=0;q<y.length;++q){var K,J,pe=y[q];pe&&!pe.wa&&pe.capture==I&&(K=pe.listener,J=pe.Wa||pe.src,pe.Qa&&gq(h.v,pe),P=K.call(J,x)!==!1&&P)}return P&&!x.defaultPrevented}function Iq(h,y,I){if(V(h))I&&(h=de(h,I));else{if(!h||typeof h.handleEvent!="function")throw Error("Invalid listener argument");h=de(h.handleEvent,h)}return 2147483647<Number(y)?-1:p.setTimeout(h,y||0)}function gS(h){var y=null;return new Gn(function(I,x){(y=Iq(function(){I(void 0)},h))==-1&&x(Error("Failed to schedule timer."))}).o(function(I){throw p.clearTimeout(y),I})}function Cie(h){if(h.X&&typeof h.X=="function")return h.X();if(typeof h=="string")return h.split("");if(j(h)){for(var y=[],I=h.length,x=0;x<I;x++)y.push(h[x]);return y}for(x in y=[],I=0,h)y[I++]=h[x];return y}function kie(h){if(h.Y&&typeof h.Y=="function")return h.Y();if(!h.X||typeof h.X!="function"){if(j(h)||typeof h=="string"){var y=[];h=h.length;for(var I=0;I<h;I++)y.push(I);return y}for(var x in y=[],I=0,h)y[I++]=x;return y}}function yS(h,y){this.b={},this.a=[],this.c=0;var I=arguments.length;if(1<I){if(I%2)throw Error("Uneven number of arguments");for(var x=0;x<I;x+=2)this.set(arguments[x],arguments[x+1])}else if(h)if(h instanceof yS)for(I=h.Y(),x=0;x<I.length;x++)this.set(I[x],h.get(I[x]));else for(x in h)this.set(x,h[x])}function Cq(h){if(h.c!=h.a.length){for(var y=0,I=0;y<h.a.length;){var x=h.a[y];jb(h.b,x)&&(h.a[I++]=x),y++}h.a.length=I}if(h.c!=h.a.length){for(var P={},I=y=0;y<h.a.length;)jb(P,x=h.a[y])||(P[h.a[I++]=x]=1),y++;h.a.length=I}}function jb(h,y){return Object.prototype.hasOwnProperty.call(h,y)}Ke(Su,QL),Su.prototype[ox]=!0,Su.prototype.addEventListener=function(h,y,I,x){ih(this,h,y,I,x)},Su.prototype.removeEventListener=function(h,y,I,x){rl(this,h,y,I,x)},Su.prototype.dispatchEvent=function(h){var y;if(I=this.hb)for(y=[];I;I=I.hb)y.push(I);var I=this.bc,x=h.type||h;if(typeof h=="string"?h=new sc(h,I):h instanceof sc?h.target=h.target||I:(K=h,oc(h=new sc(x,I),K)),K=!0,y)for(var P=y.length-1;0<=P;P--)var q=h.b=y[P],K=ZL(q,x,!0,h)&&K;if(K=ZL(q=h.b=I,x,!0,h)&&K,K=ZL(q,x,!1,h)&&K,y)for(P=0;P<y.length;P++)K=ZL(q=h.b=y[P],x,!1,h)&&K;return K},Su.prototype.Da=function(){if(Su.bb.Da.call(this),this.v){var h,y=this.v;for(h in y.a){for(var I=y.a[h],x=0;x<I.length;x++)YL(I[x]);delete y.a[h],y.b--}}this.hb=null},(n=yS.prototype).X=function(){Cq(this);for(var h=[],y=0;y<this.a.length;y++)h.push(this.b[this.a[y]]);return h},n.Y=function(){return Cq(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(h,y){return jb(this.b,h)?this.b[h]:y},n.set=function(h,y){jb(this.b,h)||(this.c++,this.a.push(h)),this.b[h]=y},n.forEach=function(h,y){for(var I=this.Y(),x=0;x<I.length;x++){var P=I[x],q=this.get(P);h.call(y,q,P,this)}};var Aie=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cg(h,y){var I;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,h instanceof Cg?(this.i=y!==void 0?y:h.i,sx(this,h.c),this.l=h.l,this.a=h.a,ax(this,h.g),this.f=h.f,kq(this,Pie(h.b)),this.h=h.h):h&&(I=String(h).match(Aie))?(this.i=!!y,sx(this,I[1]||"",!0),this.l=ux(I[2]||""),this.a=ux(I[3]||"",!0),ax(this,I[4]),this.f=ux(I[5]||"",!0),kq(this,I[6]||"",!0),this.h=ux(I[7]||"")):(this.i=!!y,this.b=new Ub(null,this.i))}function sx(h,y,I){h.c=I?ux(y,!0):y,h.c&&(h.c=h.c.replace(/:$/,""))}function ax(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.g=y}else h.g=null}function kq(h,y,I){var x,P;y instanceof Ub?(h.b=y,x=h.b,(P=h.i)&&!x.f&&(kg(x),x.c=null,x.a.forEach(function(q,K){var J=K.toLowerCase();K!=J&&(Rd(this,K),Nie(this,J,q))},x)),x.f=P):(I||(y=cx(y,_xe)),h.b=new Ub(y,h.i))}function ao(h,y,I){h.b.set(y,I)}function oh(h,y){return h.b.get(y)}function ac(h){return h instanceof Cg?new Cg(h):new Cg(h,void 0)}function eM(h,y,I,x){var P=new Cg(null,void 0);return h&&sx(P,h),y&&(P.a=y),I&&ax(P,I),x&&(P.f=x),P}function ux(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function cx(h,y,I){return typeof h=="string"?(h=encodeURI(h).replace(y,yxe),h=I?h.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):h):null}function yxe(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}Cg.prototype.toString=function(){var h=[],y=this.c;y&&h.push(cx(y,xie,!0),":");var I=this.a;return!I&&y!="file"||(h.push("//"),(y=this.l)&&h.push(cx(y,xie,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),(I=this.g)!=null&&h.push(":",String(I))),(I=this.f)&&(this.a&&I.charAt(0)!="/"&&h.push("/"),h.push(cx(I,I.charAt(0)=="/"?wxe:bxe,!0))),(I=this.b.toString())&&h.push("?",I),(I=this.h)&&h.push("#",cx(I,Exe)),h.join("")},Cg.prototype.resolve=function(h){var y=new Cg(this),I=!!h.c;I?sx(y,h.c):I=!!h.l,I?y.l=h.l:I=!!h.a,I?y.a=h.a:I=h.g!=null;var x=h.f;if(I)ax(y,h.g);else if(I=!!h.f)if(x.charAt(0)!="/"&&(this.a&&!this.f?x="/"+x:(P=y.f.lastIndexOf("/"))!=-1&&(x=y.f.substr(0,P+1)+x)),(P=x)==".."||P==".")x="";else if(ei(P,"./")||ei(P,"/.")){for(var x=P.lastIndexOf("/",0)==0,P=P.split("/"),q=[],K=0;K<P.length;){var J=P[K++];J=="."?x&&K==P.length&&q.push(""):J==".."?((1<q.length||q.length==1&&q[0]!="")&&q.pop(),x&&K==P.length&&q.push("")):(q.push(J),x=!0)}x=q.join("/")}else x=P;return I?y.f=x:I=h.b.toString()!=="",I?kq(y,Pie(h.b)):I=!!h.h,I&&(y.h=h.h),y};var xie=/[#\/\?@]/g,bxe=/[#\?:]/g,wxe=/[#\?]/g,_xe=/[#\?@]/g,Exe=/#/g;function Ub(h,y){this.b=this.a=null,this.c=h||null,this.f=!!y}function kg(h){h.a||(h.a=new yS,h.b=0,h.c&&function(y,I){if(y){y=y.split("&");for(var x=0;x<y.length;x++){var P,q=y[x].indexOf("="),K=null;0<=q?(P=y[x].substring(0,q),K=y[x].substring(q+1)):P=y[x],I(P,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}(h.c,function(y,I){h.add(decodeURIComponent(y.replace(/\+/g," ")),I)}))}function Oie(h){var y=kie(h);if(y===void 0)throw Error("Keys are undefined");var I=new Ub(null,void 0);h=Cie(h);for(var x=0;x<y.length;x++){var P=y[x],q=h[x];Array.isArray(q)?Nie(I,P,q):I.add(P,q)}return I}function Rd(h,y){kg(h),y=bS(h,y),jb(h.a.b,y)&&(h.c=null,h.b-=h.a.get(y).length,jb((h=h.a).b,y)&&(delete h.b[y],h.c--,h.a.length>2*h.c&&Cq(h)))}function Aq(h,y){return kg(h),y=bS(h,y),jb(h.a.b,y)}function Nie(h,y,I){Rd(h,y),0<I.length&&(h.c=null,h.a.set(bS(h,y),Rb(I)),h.b+=I.length)}function Pie(h){var y=new Ub;return y.c=h.c,h.a&&(y.a=new yS(h.a),y.b=h.b),y}function bS(h,y){return y=String(y),y=h.f?y.toLowerCase():y}function Rie(h){var y=[];return function I(x,P,q){if(P==null)q.push("null");else{if(typeof P=="object"){if(Array.isArray(P)){var K=P;P=K.length,q.push("[");for(var J="",pe=0;pe<P;pe++)q.push(J),I(x,K[pe],q),J=",";return void q.push("]")}if(!(P instanceof String||P instanceof Number||P instanceof Boolean)){for(K in q.push("{"),J="",P)Object.prototype.hasOwnProperty.call(P,K)&&(pe=P[K],typeof pe!="function"&&(q.push(J),Lie(K,q),q.push(":"),I(x,pe,q),J=","));return void q.push("}")}P=P.valueOf()}switch(typeof P){case"string":Lie(P,q);break;case"number":q.push(isFinite(P)&&!isNaN(P)?String(P):"null");break;case"boolean":q.push(String(P));break;case"function":q.push("null");break;default:throw Error("Unknown type: "+typeof P)}}}(new Sxe,h,y),y.join("")}function Sxe(){}(n=Ub.prototype).add=function(h,y){kg(this),this.c=null,h=bS(this,h);var I=this.a.get(h);return I||this.a.set(h,I=[]),I.push(y),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(h,y){kg(this),this.a.forEach(function(I,x){Li(I,function(P){h.call(y,P,x,this)},this)},this)},n.Y=function(){kg(this);for(var h=this.a.X(),y=this.a.Y(),I=[],x=0;x<y.length;x++)for(var P=h[x],q=0;q<P.length;q++)I.push(y[x]);return I},n.X=function(h){kg(this);var y=[];if(typeof h=="string")Aq(this,h)&&(y=sq(y,this.a.get(bS(this,h))));else{h=this.a.X();for(var I=0;I<h.length;I++)y=sq(y,h[I])}return y},n.set=function(h,y){return kg(this),this.c=null,Aq(this,h=bS(this,h))&&(this.b-=this.a.get(h).length),this.a.set(h,[y]),this.b+=1,this},n.get=function(h,y){return h&&0<(h=this.X(h)).length?String(h[0]):y},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var h=[],y=this.a.Y(),I=0;I<y.length;I++)for(var P=y[I],x=encodeURIComponent(String(P)),P=this.X(P),q=0;q<P.length;q++){var K=x;P[q]!==""&&(K+="="+encodeURIComponent(String(P[q]))),h.push(K)}return this.c=h.join("&")};var Die={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Txe=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Lie(h,y){y.push('"',h.replace(Txe,function(I){var x=Die[I];return x||(x="\\u"+(65536|I.charCodeAt(0)).toString(16).substr(1),Die[I]=x),x}),'"')}function xq(){var h=ta();return nf&&Ig&&Ig==11||/Edge\/\d+/.test(h)}function lx(){return p.window&&p.window.location.href||self&&self.location&&self.location.href||""}function Mie(h,y){y=y||p.window;var I="about:blank";h&&(I=HL(zre(h)||Wre)),y.location.href=I}function Fie(h){return!!((h=(h||ta()).toLowerCase()).match(/android/)||h.match(/webos/)||h.match(/iphone|ipad|ipod/)||h.match(/blackberry/)||h.match(/windows phone/)||h.match(/iemobile/))}function $b(h){h=h||p.window;try{h.close()}catch{}}function jie(h,y,I){var x=Math.floor(1e9*Math.random()).toString();y=y||500,I=I||600;var P=(window.screen.availHeight-I)/2,q=(window.screen.availWidth-y)/2;for(K in y={width:y,height:I,top:0<P?P:0,left:0<q?q:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},I=ta().toLowerCase(),x&&(y.target=x,ei(I,"crios/")&&(y.target="_blank")),wS(ta())==Pq&&(h=h||"http://localhost",y.scrollbars=!0),I=h||"",(h=y)||(h={}),x=window,y=I instanceof tl?I:zre(I.href!==void 0?I.href:String(I))||Wre,I=h.target||I.target,P=[],h)switch(K){case"width":case"height":case"top":case"left":P.push(K+"="+h[K]);break;case"target":case"noopener":case"noreferrer":break;default:P.push(K+"="+(h[K]?1:0))}var K=P.join(",");if((Yo("iPhone")&&!Yo("iPod")&&!Yo("iPad")||Yo("iPad")||Yo("iPod"))&&x.navigator&&x.navigator.standalone&&I&&I!="_self"?(Ure(K=WL(document,"A"),"HTMLAnchorElement"),y=y instanceof tl?y:Kre(y),K.href=HL(y),K.setAttribute("target",I),h.noreferrer&&K.setAttribute("rel","noreferrer"),(h=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,x,1),K.dispatchEvent(h),K={}):h.noreferrer?(K=Qre("",x,I,K),h=HL(y),K&&(ixe&&ei(h,";")&&(h="'"+h.replace(/'/g,"%27")+"'"),K.opener=null,h='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+lq(h)+'">',h=new vS(h=(x=Vre())?x.createHTML(h):h,0,Gre),x=K.document)&&(x.write((q=h)instanceof vS&&q.constructor===vS?q.a:(fS("expected object of type SafeHtml, got '"+q+"' of type "+N(q)),"type_error:SafeHtml")),x.close())):(K=Qre(y,x,I,K))&&h.noopener&&(K.opener=null),K)try{K.focus()}catch{}return K}var Ixe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cxe=/^[^@]+@[^@]+$/;function tM(){var h=null;return new Gn(function(y){p.document.readyState=="complete"?y():(h=function(){y()},_q(window,"load",h))}).o(function(y){throw rl(window,"load",h),y})}function Oq(h){return h=h||ta(),!(ES()!=="file:"&&ES()!=="ionic:"||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nq(){var h=p.window;try{return h&&h!=h.top}catch{return}}function rf(){return p.WorkerGlobalScope!==void 0&&typeof p.importScripts=="function"}function Dd(){return Ht.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ht.INTERNAL.hasOwnProperty("node")?"Node":rf()?"Worker":"Browser"}function Uie(){var h=Dd();return h==="ReactNative"||h==="Node"}var Pq="Firefox",$ie="Chrome";function wS(h){var y=h.toLowerCase();return ei(y,"opera/")||ei(y,"opr/")||ei(y,"opios/")?"Opera":ei(y,"iemobile")?"IEMobile":ei(y,"msie")||ei(y,"trident/")?"IE":ei(y,"edge/")?"Edge":ei(y,"firefox/")?Pq:ei(y,"silk/")?"Silk":ei(y,"blackberry")?"Blackberry":ei(y,"webos")?"Webos":!ei(y,"safari/")||ei(y,"chrome/")||ei(y,"crios/")||ei(y,"android")?!ei(y,"chrome/")&&!ei(y,"crios/")||ei(y,"edge/")?ei(y,"android")?"Android":(h=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&h.length==2?h[1]:"Other":$ie:"Safari"}var Vie={md:"FirebaseCore-web",od:"FirebaseUI-web"};function _S(h,y){y=y||[];var I,x=[],P={};for(I in Vie)P[Vie[I]]=!0;for(I=0;I<y.length;I++)P[y[I]]!==void 0&&(delete P[y[I]],x.push(y[I]));return x.sort(),(y=x).length||(y=["FirebaseCore-web"]),(x=Dd())==="Browser"?x=wS(P=ta()):x==="Worker"&&(x=wS(P=ta())+"-"+x),x+"/JsCore/"+h+"/"+y.join(",")}function ta(){return p.navigator&&p.navigator.userAgent||""}function Ii(h,y){h=h.split("."),y=y||p;for(var I=0;I<h.length&&typeof y=="object"&&y!=null;I++)y=y[h[I]];return y=I!=h.length?void 0:y}function Rq(){try{var h=p.localStorage,y=qb();if(h)return h.setItem(y,"1"),h.removeItem(y),!xq()||!!p.indexedDB}catch{return rf()&&!!p.indexedDB}return!1}function Vb(){return(nM()||ES()==="chrome-extension:"||Oq())&&!Uie()&&Rq()&&!rf()}function nM(){return ES()==="http:"||ES()==="https:"}function ES(){return p.location&&p.location.protocol||null}function hx(h){return!Fie(h=h||ta())&&wS(h)!=Pq}function fx(h){return h===void 0?null:Rie(h)}function qie(h){var y,I={};for(y in h)h.hasOwnProperty(y)&&h[y]!==null&&h[y]!==void 0&&(I[y]=h[y]);return I}function SS(h){if(h!==null)return JSON.parse(h)}function qb(h){return h||Math.floor(1e9*Math.random()).toString()}function Bie(h){return wS(h=h||ta())!="Safari"&&!h.toLowerCase().match(/iphone|ipad|ipod/)}function Hie(){var h=p.___jsl;if(h&&h.H){for(var y in h.H)if(h.H[y].r=h.H[y].r||[],h.H[y].L=h.H[y].L||[],h.H[y].r=h.H[y].L.concat(),h.CP)for(var I=0;I<h.CP.length;I++)h.CP[I]=null}}function Ag(h,y){if(y<h)throw Error("Short delay should be less than long delay!");this.a=h,this.c=y,h=ta(),y=Dd(),this.b=Fie(h)||y==="ReactNative"}function Dq(){var h=p.document;return!h||h.visibilityState===void 0||h.visibilityState=="visible"}function kxe(){var h=p.document,y=null;return Dq()||!h?nn():new Gn(function(I){y=function(){Dq()&&(h.removeEventListener("visibilitychange",y,!1),I())},h.addEventListener("visibilitychange",y,!1)}).o(function(I){throw h.removeEventListener("visibilitychange",y,!1),I})}function dx(h){try{var y=new Date(parseInt(h,10));if(!isNaN(y.getTime())&&!/[^0-9]/.test(h))return y.toUTCString()}catch{}return null}function zie(){return Ii("fireauth.oauthhelper",p)||Ii("fireauth.iframe",p)}Ag.prototype.get=function(){var h=p.navigator;return!h||typeof h.onLine!="boolean"||!nM()&&ES()!=="chrome-extension:"&&h.connection===void 0||h.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Lq,Kie={};function Mq(h){Kie[h]||(Kie[h]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(h))}try{var Fq={};Object.defineProperty(Fq,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fq,"abcd",{configurable:!0,enumerable:!0,value:2}),Lq=Fq.abcd==2}catch{Lq=!1}function qt(h,y,I){Lq?Object.defineProperty(h,y,{configurable:!0,enumerable:!0,value:I}):h[y]=I}function Tu(h,y){if(y)for(var I in y)y.hasOwnProperty(I)&&qt(h,I,y[I])}function Ld(h){var y={};return Tu(y,h),y}function jq(h){var y=h;if(typeof h=="object"&&h!=null)for(var I in y="length"in h?[]:{},h)qt(y,I,jq(h[I]));return y}function Uq(h){var y=h&&(h[Bq]?"phone":null);if(!(y&&h&&h[qq]))throw new le("internal-error","Internal assert: invalid MultiFactorInfo object");qt(this,"uid",h[qq]),qt(this,"displayName",h[Wie]||null);var I=null;qt(this,"enrollmentTime",I=h[Vq]?new Date(h[Vq]).toUTCString():I),qt(this,"factorId",y)}function $q(h){try{var y=new px(h)}catch{y=null}return y}Uq.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Wie="displayName",Vq="enrolledAt",qq="mfaEnrollmentId",Bq="phoneInfo";function px(h){Uq.call(this,h),qt(this,"phoneNumber",h[Bq])}function Axe(h){var y={},I=h[xxe],x=h[Nxe],P=h[Pxe];if(h=$q(h[Oxe]),!P||P!=rM&&P!=vx&&!I||P==vx&&!x||P==Hq&&!h)throw Error("Invalid checkActionCode response!");P==vx?(y[Qie]=I||null,y[Yie]=I||null,y[Gie]=x):(y[Qie]=x||null,y[Yie]=x||null,y[Gie]=I||null),y[Rxe]=h||null,qt(this,Lxe,P),qt(this,Dxe,jq(y))}Ke(px,Uq),px.prototype.w=function(){var h=px.bb.w.call(this);return h.phoneNumber=this.phoneNumber,h};var Hq="REVERT_SECOND_FACTOR_ADDITION",rM="EMAIL_SIGNIN",vx="VERIFY_AND_CHANGE_EMAIL",xxe="email",Oxe="mfaInfo",Nxe="newEmail",Pxe="requestType",Gie="email",Qie="fromEmail",Rxe="multiFactorInfo",Yie="previousEmail",Dxe="data",Lxe="operation";function zq(h){var y=oh(h=ac(h),Xie)||null,I=oh(h,Jie)||null,x=(x=oh(h,Zie)||null)&&Uxe[x]||null;if(!y||!I||!x)throw new le("argument-error",Xie+", "+Jie+"and "+Zie+" are required in a valid action code URL.");Tu(this,{apiKey:y,operation:x,code:I,continueUrl:oh(h,Mxe)||null,languageCode:oh(h,Fxe)||null,tenantId:oh(h,jxe)||null})}var Xie="apiKey",Jie="oobCode",Mxe="continueUrl",Fxe="languageCode",Zie="mode",jxe="tenantId",Uxe={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Hq,signIn:rM,verifyAndChangeEmail:vx,verifyEmail:"VERIFY_EMAIL"};function eoe(h){try{return new zq(h)}catch{return null}}function iM(h){if((y=h[$xe])===void 0)throw new le("missing-continue-uri");if(typeof y!="string"||typeof y=="string"&&!y.length)throw new le("invalid-continue-uri");if(this.h=y,this.b=this.a=null,this.g=!1,(x=h[toe])&&typeof x=="object"){var y=x[soe],I=x[ioe],x=x[ooe];if(typeof y=="string"&&y.length){if(this.a=y,I!==void 0&&typeof I!="boolean")throw new le("argument-error",ioe+" property must be a boolean when specified.");if(this.g=!!I,x!==void 0&&(typeof x!="string"||typeof x=="string"&&!x.length))throw new le("argument-error",ooe+" property must be a non empty string when specified.");this.b=x||null}else{if(y!==void 0)throw new le("argument-error",soe+" property must be a non empty string when specified.");if(I!==void 0||x!==void 0)throw new le("missing-android-pkg-name")}}else if(x!==void 0)throw new le("argument-error",toe+" property must be a non null object when specified.");if(this.f=null,(y=h[roe])&&typeof y=="object"){if(typeof(y=y[aoe])=="string"&&y.length)this.f=y;else if(y!==void 0)throw new le("argument-error",aoe+" property must be a non empty string when specified.")}else if(y!==void 0)throw new le("argument-error",roe+" property must be a non null object when specified.");if((y=h[Kq])!==void 0&&typeof y!="boolean")throw new le("argument-error",Kq+" property must be a boolean when specified.");if(this.c=!!y,(h=h[noe])!==void 0&&(typeof h!="string"||typeof h=="string"&&!h.length))throw new le("argument-error",noe+" property must be a non empty string when specified.");this.i=h||null}var toe="android",noe="dynamicLinkDomain",Kq="handleCodeInApp",roe="iOS",$xe="url",ioe="installApp",ooe="minimumVersion",soe="packageName",aoe="bundleId";function oM(h){var y,I={};for(y in I.continueUrl=h.h,I.canHandleCodeInApp=h.c,(I.androidPackageName=h.a)&&(I.androidMinimumVersion=h.b,I.androidInstallApp=h.g),I.iOSBundleId=h.f,I.dynamicLinkDomain=h.i,I)I[y]===null&&delete I[y];return I}var mx=null;function Vxe(h){var y=[];return function(I,x){function P(Ye){for(;q<I.length;){var Et=I.charAt(q++),Kt=mx[Et];if(Kt!=null)return Kt;if(!/^[\s\xa0]*$/.test(Et))throw Error("Unknown base64 encoding at char: "+Et)}return Ye}(function(){if(!mx){mx={};for(var Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Et=["+/=","+/","-_=","-_.","-_"],Kt=0;Kt<5;Kt++)for(var Ci=Ye.concat(Et[Kt].split("")),lo=0;lo<Ci.length;lo++){var Av=Ci[lo];mx[Av]===void 0&&(mx[Av]=lo)}}})();for(var q=0;;){var K=P(-1),J=P(0),pe=P(64),Oe=P(64);if(Oe===64&&K===-1)break;x(K<<2|J>>4),pe!=64&&(x(J<<4&240|pe>>2),Oe!=64&&x(pe<<6&192|Oe))}}(h,function(I){y.push(I)}),y}function sM(h){var y=uoe(h);if(!(y&&y.sub&&y.iss&&y.aud&&y.exp))throw Error("Invalid JWT");this.h=h,this.a=y.exp,this.i=y.sub,h=Date.now()/1e3,this.g=y.iat||(h>this.a?this.a:h),this.b=y.provider_id||y.firebase&&y.firebase.sign_in_provider||null,this.f=y.firebase&&y.firebase.tenant||null,this.c=!!y.is_anonymous||this.b=="anonymous"}function aM(h){try{return new sM(h)}catch{return null}}function uoe(h){if(!h||(h=h.split(".")).length!=3)return null;for(var y=(4-(h=h[1]).length%4)%4,I=0;I<y;I++)h+=".";try{var x=Vxe(h);for(h=[],I=y=0;y<x.length;){var P,q,K,J=x[y++];J<128?h[I++]=String.fromCharCode(J):191<J&&J<224?(P=x[y++],h[I++]=String.fromCharCode((31&J)<<6|63&P)):239<J&&J<365?(K=((7&J)<<18|(63&(P=x[y++]))<<12|(63&(q=x[y++]))<<6|63&x[y++])-65536,h[I++]=String.fromCharCode(55296+(K>>10)),h[I++]=String.fromCharCode(56320+(1023&K))):(P=x[y++],q=x[y++],h[I++]=String.fromCharCode((15&J)<<12|(63&P)<<6|63&q))}return JSON.parse(h.join(""))}catch{}return null}sM.prototype.T=function(){return this.f},sM.prototype.l=function(){return this.c},sM.prototype.toString=function(){return this.h};var coe="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),uM=["client_id","response_type","scope","redirect_uri","state"],Wq={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:uM},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:uM},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:uM},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:coe},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Gq(h){for(var y in Wq)if(Wq[y].fa==h)return Wq[y];return null}function loe(h){var y={};y["facebook.com"]=foe,y["google.com"]=poe,y["github.com"]=doe,y["twitter.com"]=voe;var I=h&&h[hoe];try{if(I)return new(y[I]||Md)(h);if(h[Qq]!==void 0)return new Yq(h)}catch{}return null}var Qq="idToken",hoe="providerId";function Yq(h){var y,I=h[hoe];if(I||!h[Qq]||(y=aM(h[Qq]))&&y.b&&(I=y.b),!I)throw Error("Invalid additional user info!");y=!1,h.isNewUser!==void 0?y=!!h.isNewUser:h.kind==="identitytoolkit#SignupNewUserResponse"&&(y=!0),qt(this,"providerId",I=I=="anonymous"||I=="custom"?null:I),qt(this,"isNewUser",y)}function Md(h){Yq.call(this,h),qt(this,"profile",jq((h=SS(h.rawUserInfo||"{}"))||{}))}function foe(h){if(Md.call(this,h),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}function doe(h){if(Md.call(this,h),this.providerId!="github.com")throw Error("Invalid provider ID!");qt(this,"username",this.profile&&this.profile.login||null)}function poe(h){if(Md.call(this,h),this.providerId!="google.com")throw Error("Invalid provider ID!")}function voe(h){if(Md.call(this,h),this.providerId!="twitter.com")throw Error("Invalid provider ID!");qt(this,"username",h.screenName||null)}function moe(h){var y=oh(x=ac(h),"link"),I=oh(ac(y),"link"),x=oh(x,"deep_link_id");return oh(ac(x),"link")||x||I||y||h}function cM(h,y){if(!h&&!y)throw new le("internal-error","Internal assert: no raw session string available");if(h&&y)throw new le("internal-error","Internal assert: unable to determine the session type");this.a=h||null,this.b=y||null,this.type=this.a?gx:lM}Ke(Md,Yq),Ke(foe,Md),Ke(doe,Md),Ke(poe,Md),Ke(voe,Md);var gx="enroll",lM="signin";function TS(){}function IS(h,y){return h.then(function(I){if(I[af]){var x=aM(I[af]);if(!x||y!=x.i)throw new le("user-mismatch");return I}throw new le("user-mismatch")}).o(function(I){throw I&&I.code&&I.code==Ft+"user-not-found"?new le("user-mismatch"):I})}function Bb(h,y){if(!y)throw new le("internal-error","failed to construct a credential");this.a=y,qt(this,"providerId",h),qt(this,"signInMethod",h)}function Xq(h){return{pendingToken:h.a,requestUri:"http://localhost"}}function qxe(h){if(h&&h.providerId&&h.signInMethod&&h.providerId.indexOf("saml.")==0&&h.pendingToken)try{return new Bb(h.providerId,h.pendingToken)}catch{}return null}function Iv(h,y,I){if(this.a=null,y.idToken||y.accessToken)y.idToken&&qt(this,"idToken",y.idToken),y.accessToken&&qt(this,"accessToken",y.accessToken),y.nonce&&!y.pendingToken&&qt(this,"nonce",y.nonce),y.pendingToken&&(this.a=y.pendingToken);else{if(!y.oauthToken||!y.oauthTokenSecret)throw new le("internal-error","failed to construct a credential");qt(this,"accessToken",y.oauthToken),qt(this,"secret",y.oauthTokenSecret)}qt(this,"providerId",h),qt(this,"signInMethod",I)}function Jq(h){var y={};return h.idToken&&(y.id_token=h.idToken),h.accessToken&&(y.access_token=h.accessToken),h.secret&&(y.oauth_token_secret=h.secret),y.providerId=h.providerId,h.nonce&&!h.a&&(y.nonce=h.nonce),y={postBody:Oie(y).toString(),requestUri:"http://localhost"},h.a&&(delete y.postBody,y.pendingToken=h.a),y}function Bxe(h){if(h&&h.providerId&&h.signInMethod){var y={idToken:h.oauthIdToken,accessToken:h.oauthTokenSecret?null:h.oauthAccessToken,oauthTokenSecret:h.oauthTokenSecret,oauthToken:h.oauthTokenSecret&&h.oauthAccessToken,nonce:h.nonce,pendingToken:h.pendingToken};try{return new Iv(h.providerId,y,h.signInMethod)}catch{}}return null}function Hb(h,y){this.Qc=y||[],Tu(this,{providerId:h,isOAuthProvider:!0}),this.Jb={},this.qb=(Gq(h)||{}).Ja||null,this.pb=null}function goe(h){if(typeof h!="string"||h.indexOf("saml.")!=0)throw new le("argument-error",'SAML provider IDs must be prefixed with "saml."');Hb.call(this,h,[])}function il(h){Hb.call(this,h,uM),this.a=[]}function zb(){il.call(this,"facebook.com")}function yoe(h){if(!h)throw new le("argument-error","credential failed: expected 1 argument (the OAuth access token).");var y=h;return W(h)&&(y=h.accessToken),new zb().credential({accessToken:y})}function Kb(){il.call(this,"github.com")}function boe(h){if(!h)throw new le("argument-error","credential failed: expected 1 argument (the OAuth access token).");var y=h;return W(h)&&(y=h.accessToken),new Kb().credential({accessToken:y})}function Wb(){il.call(this,"google.com"),this.Ca("profile")}function woe(h,y){var I=h;return W(h)&&(I=h.idToken,y=h.accessToken),new Wb().credential({idToken:I,accessToken:y})}function CS(){Hb.call(this,"twitter.com",coe)}function _oe(h,y){var I=h;if(!(I=W(I)?I:{oauthToken:h,oauthTokenSecret:y}).oauthToken||!I.oauthTokenSecret)throw new le("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Iv("twitter.com",I,"twitter.com")}function xg(h,y,I){this.a=h,this.f=y,qt(this,"providerId","password"),qt(this,"signInMethod",I===sh.EMAIL_LINK_SIGN_IN_METHOD?sh.EMAIL_LINK_SIGN_IN_METHOD:sh.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Hxe(h){return h&&h.email&&h.password?new xg(h.email,h.password,h.signInMethod):null}function sh(){Tu(this,{providerId:"password",isOAuthProvider:!1})}function Eoe(h,y){if(!(y=Zq(y)))throw new le("argument-error","Invalid email link!");return new xg(h,y.code,sh.EMAIL_LINK_SIGN_IN_METHOD)}function Zq(h){return(h=eoe(h=moe(h)))&&h.operation===rM?h:null}function Og(h){if(!(h.fb&&h.eb||h.La&&h.ea))throw new le("internal-error");this.a=h,qt(this,"providerId","phone"),this.fa="phone",qt(this,"signInMethod","phone")}function zxe(h){if(h&&h.providerId==="phone"&&(h.verificationId&&h.verificationCode||h.temporaryProof&&h.phoneNumber)){var y={};return Li(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(I){h[I]&&(y[I]=h[I])}),new Og(y)}return null}function yx(h){return h.a.La&&h.a.ea?{temporaryProof:h.a.La,phoneNumber:h.a.ea}:{sessionInfo:h.a.fb,code:h.a.eb}}function Cv(h){try{this.a=h||Ht.auth()}catch{throw new le("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Tu(this,{providerId:"phone",isOAuthProvider:!1})}function Soe(h,y){if(!h)throw new le("missing-verification-id");if(!y)throw new le("missing-verification-code");return new Og({fb:h,eb:y})}function eB(h){if(h.temporaryProof&&h.phoneNumber)return new Og({La:h.temporaryProof,ea:h.phoneNumber});var y=h&&h.providerId;if(!y||y==="password")return null;var I=h&&h.oauthAccessToken,x=h&&h.oauthTokenSecret,P=h&&h.nonce,q=h&&h.oauthIdToken,K=h&&h.pendingToken;try{switch(y){case"google.com":return woe(q,I);case"facebook.com":return yoe(I);case"github.com":return boe(I);case"twitter.com":return _oe(I,x);default:return I||x||q||K?K?y.indexOf("saml.")==0?new Bb(y,K):new Iv(y,{pendingToken:K,idToken:h.oauthIdToken,accessToken:h.oauthAccessToken},y):new il(y).credential({idToken:q,accessToken:I,rawNonce:P}):null}}catch{return null}}function tB(h){if(!h.isOAuthProvider)throw new le("invalid-oauth-provider")}function of(h,y,I,x,P,q,K){if(this.c=h,this.b=y||null,this.g=I||null,this.f=x||null,this.i=q||null,this.h=K||null,this.a=P||null,!this.g&&!this.a)throw new le("invalid-auth-event");if(this.g&&this.a)throw new le("invalid-auth-event");if(this.g&&!this.f)throw new le("invalid-auth-event")}function Toe(h){return(h=h||{}).type?new of(h.type,h.eventId,h.urlResponse,h.sessionId,h.error&&De(h.error),h.postBody,h.tenantId):null}function Kxe(){this.b=null,this.a=[]}cM.prototype.Ha=function(){return this.a?nn(this.a):nn(this.b)},cM.prototype.w=function(){return this.type==gx?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},TS.prototype.ka=function(){},TS.prototype.b=function(){},TS.prototype.c=function(){},TS.prototype.w=function(){},Bb.prototype.ka=function(h){return _B(h,Xq(this))},Bb.prototype.b=function(h,y){var I=Xq(this);return I.idToken=y,EB(h,I)},Bb.prototype.c=function(h,y){return IS(SB(h,Xq(this)),y)},Bb.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Iv.prototype.ka=function(h){return _B(h,Jq(this))},Iv.prototype.b=function(h,y){var I=Jq(this);return I.idToken=y,EB(h,I)},Iv.prototype.c=function(h,y){return IS(SB(h,Jq(this)),y)},Iv.prototype.w=function(){var h={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(h.oauthIdToken=this.idToken),this.accessToken&&(h.oauthAccessToken=this.accessToken),this.secret&&(h.oauthTokenSecret=this.secret),this.nonce&&(h.nonce=this.nonce),this.a&&(h.pendingToken=this.a),h},Hb.prototype.Ka=function(h){return this.Jb=Tg(h),this},Ke(goe,Hb),Ke(il,Hb),il.prototype.Ca=function(h){return Sv(this.a,h)||this.a.push(h),this},il.prototype.Rb=function(){return Rb(this.a)},il.prototype.credential=function(h,y){if(y=W(h)?{idToken:h.idToken||null,accessToken:h.accessToken||null,nonce:h.rawNonce||null}:{idToken:h||null,accessToken:y||null},!y.idToken&&!y.accessToken)throw new le("argument-error","credential failed: must provide the ID token and/or the access token.");return new Iv(this.providerId,y,this.providerId)},Ke(zb,il),qt(zb,"PROVIDER_ID","facebook.com"),qt(zb,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),Ke(Kb,il),qt(Kb,"PROVIDER_ID","github.com"),qt(Kb,"GITHUB_SIGN_IN_METHOD","github.com"),Ke(Wb,il),qt(Wb,"PROVIDER_ID","google.com"),qt(Wb,"GOOGLE_SIGN_IN_METHOD","google.com"),Ke(CS,Hb),qt(CS,"PROVIDER_ID","twitter.com"),qt(CS,"TWITTER_SIGN_IN_METHOD","twitter.com"),xg.prototype.ka=function(h){return this.signInMethod==sh.EMAIL_LINK_SIGN_IN_METHOD?Jn(h,vOe,{email:this.a,oobCode:this.f}):Jn(h,Goe,{email:this.a,password:this.f})},xg.prototype.b=function(h,y){return this.signInMethod==sh.EMAIL_LINK_SIGN_IN_METHOD?Jn(h,mOe,{idToken:y,email:this.a,oobCode:this.f}):Jn(h,Woe,{idToken:y,email:this.a,password:this.f})},xg.prototype.c=function(h,y){return IS(this.ka(h),y)},xg.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Tu(sh,{PROVIDER_ID:"password"}),Tu(sh,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Tu(sh,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Og.prototype.ka=function(h){return h.gb(yx(this))},Og.prototype.b=function(h,y){var I=yx(this);return I.idToken=y,Jn(h,MOe,I)},Og.prototype.c=function(h,y){var I=yx(this);return I.operation="REAUTH",IS(h=Jn(h,FOe,I),y)},Og.prototype.w=function(){var h={providerId:"phone"};return this.a.fb&&(h.verificationId=this.a.fb),this.a.eb&&(h.verificationCode=this.a.eb),this.a.La&&(h.temporaryProof=this.a.La),this.a.ea&&(h.phoneNumber=this.a.ea),h},Cv.prototype.gb=function(h,y){var I=this.a.a;return nn(y.verify()).then(function(x){if(typeof x!="string")throw new le("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if(y.type!=="recaptcha")throw new le("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var q=W(h)?h.session:null,P=W(h)?h.phoneNumber:h,q=q&&q.type==gx?q.Ha().then(function(K){return Jn(I,xOe,{idToken:K,phoneEnrollmentInfo:{phoneNumber:P,recaptchaToken:x}}).then(function(J){return J.phoneSessionInfo.sessionInfo})}):q&&q.type==lM?q.Ha().then(function(K){return K={mfaPendingCredential:K,mfaEnrollmentId:h.multiFactorHint&&h.multiFactorHint.uid||h.multiFactorUid,phoneSignInInfo:{recaptchaToken:x}},Jn(I,OOe,K).then(function(J){return J.phoneResponseInfo.sessionInfo})}):Jn(I,kOe,{phoneNumber:P,recaptchaToken:x});return q.then(function(K){return typeof y.reset=="function"&&y.reset(),K},function(K){throw typeof y.reset=="function"&&y.reset(),K})})},Tu(Cv,{PROVIDER_ID:"phone"}),Tu(Cv,{PHONE_SIGN_IN_METHOD:"phone"}),of.prototype.getUid=function(){var h=[];return h.push(this.c),this.b&&h.push(this.b),this.f&&h.push(this.f),this.h&&h.push(this.h),h.join("-")},of.prototype.T=function(){return this.h},of.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var nB,rB=null;function iB(h){var y="unauthorized-domain",I=void 0,x=ac(h);h=x.a,(x=x.c)=="chrome-extension"?I=Yre("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",h):x=="http"||x=="https"?I=Yre("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",h):y="operation-not-supported-in-this-environment",le.call(this,y,I)}function bx(h,y,I){le.call(this,h,I),(h=y||{}).Kb&&qt(this,"email",h.Kb),h.ea&&qt(this,"phoneNumber",h.ea),h.credential&&qt(this,"credential",h.credential),h.$b&&qt(this,"tenantId",h.$b)}function hM(h){if(h.code){var y=h.code||"";y.indexOf(Ft)==0&&(y=y.substring(Ft.length));var I={credential:eB(h),$b:h.tenantId};if(h.email)I.Kb=h.email;else if(h.phoneNumber)I.ea=h.phoneNumber;else if(!I.credential)return new le(y,h.message||void 0);return new bx(y,I,h.message)}return null}function wx(){}function Ioe(h){return h.c||(h.c=h.b())}function fM(){}function Coe(h){if(h.f||typeof XMLHttpRequest<"u"||typeof ActiveXObject>"u")return h.f;for(var y=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],I=0;I<y.length;I++){var x=y[I];try{return new ActiveXObject(x),h.f=x}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function dM(){}function koe(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=de(this.qc,this),this.a.onerror=de(this.Tb,this),this.a.onprogress=de(this.rc,this),this.a.ontimeout=de(this.vc,this)}function oB(h,y){h.readyState=y,h.onreadystatechange&&h.onreadystatechange()}function sB(h,y,I){this.reset(h,y,I,void 0,void 0)}function aB(h){this.f=h,this.b=this.c=this.a=null}function _x(h,y){this.name=h,this.value=y}Ke(iB,le),Ke(bx,le),bx.prototype.w=function(){var h={code:this.code,message:this.message};this.email&&(h.email=this.email),this.phoneNumber&&(h.phoneNumber=this.phoneNumber),this.tenantId&&(h.tenantId=this.tenantId);var y=this.credential&&this.credential.w();return y&&oc(h,y),h},bx.prototype.toJSON=function(){return this.w()},wx.prototype.c=null,Ke(fM,wx),fM.prototype.a=function(){var h=Coe(this);return h?new ActiveXObject(h):new XMLHttpRequest},fM.prototype.b=function(){var h={};return Coe(this)&&(h[0]=!0,h[1]=!0),h},nB=new fM,Ke(dM,wx),dM.prototype.a=function(){var h=new XMLHttpRequest;if("withCredentials"in h)return h;if(typeof XDomainRequest<"u")return new koe;throw Error("Unsupported browser")},dM.prototype.b=function(){return{}},(n=koe.prototype).open=function(h,y,I){if(I!=null&&!I)throw Error("Only async requests are supported.");this.a.open(h,y)},n.send=function(h){if(h){if(typeof h!="string")throw Error("Only string data is supported");this.a.send(h)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(h){return h.toLowerCase()=="content-type"?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oB(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",oB(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,oB(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sB.prototype.a=null,sB.prototype.reset=function(h,y,I,x,P){delete this.a},_x.prototype.toString=function(){return this.name};var Aoe=new _x("SEVERE",1e3),uB=new _x("WARNING",900),Wxe=new _x("CONFIG",700),Gxe=new _x("FINE",500);aB.prototype.log=function(h,y,I){if(h.value>=function x(P){return P.c||(P.a?x(P.a):(fS("Root logger has no level set."),null))}(this).value)for(V(y)&&(y=y()),h=new sB(h,String(y),this.f),I&&(h.a=I),I=this;I;)I=I.a};var xoe,cB={},lB=null;function hB(h){var y,I,x;return lB||(lB=new aB(""),(cB[""]=lB).c=Wxe),(y=cB[h])||(y=new aB(h),x=h.lastIndexOf("."),I=h.substr(x+1),(x=hB(h.substr(0,x))).b||(x.b={}),(x.b[I]=y).a=x,cB[h]=y),y}function ah(h,y){h&&h.log(Gxe,y,void 0)}function pM(h){this.f=h}function vM(h){Su.call(this),this.u=h,this.h=void 0,this.readyState=fB,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hB("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Ke(pM,wx),pM.prototype.a=function(){return new vM(this.f)},pM.prototype.b=(xoe={},function(){return xoe}),Ke(vM,Su);var fB=0;function Ooe(h){h.c.read().then(h.pc.bind(h)).catch(h.Va.bind(h))}function Ex(h){h.readyState=4,h.g=null,h.c=null,h.m=null,Sx(h)}function Sx(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function Tx(h){Su.call(this),this.headers=new yS,this.D=h||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Noe,this.u=this.S=!1}(n=vM.prototype).open=function(h,y){if(this.readyState!=fB)throw this.abort(),Error("Error reopening a connection");this.s=h,this.f=y,this.readyState=1,Sx(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var y={headers:this.l,method:this.s,credentials:this.h,cache:void 0};h&&(y.body=h),this.u.fetch(new Request(this.f,y)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ex(this)),this.readyState=fB},n.uc=function(h){this.a&&(this.g=h,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=h.headers,this.readyState=2,Sx(this)),this.a&&(this.readyState=3,Sx(this),this.a&&(this.responseType==="arraybuffer"?h.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):p.ReadableStream!==void 0&&"body"in h?(this.response=this.responseText="",this.c=h.body.getReader(),this.m=new TextDecoder,Ooe(this)):h.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(h){var y;this.a&&((y=this.m.decode(h.value||new Uint8Array(0),{stream:!h.done}))&&(this.response=this.responseText+=y),(h.done?Ex:Sx)(this),this.readyState==3&&Ooe(this))},n.tc=function(h){this.a&&(this.response=this.responseText=h,Ex(this))},n.sc=function(h){this.a&&(this.response=h,Ex(this))},n.Va=function(h){var y=this.i;y&&y.log(uB,"Failed to fetch url "+this.f,h instanceof Error?h:Error(h)),this.a&&Ex(this)},n.setRequestHeader=function(h,y){this.l.append(h,y)},n.getResponseHeader=function(h){return this.b?this.b.get(h.toLowerCase())||"":((h=this.i)&&h.log(uB,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var h=this.i;return h&&h.log(uB,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}for(var h=[],y=this.b.entries(),I=y.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=y.next();return h.join(`\r
`)},Object.defineProperty(vM.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(h){this.h=h?"include":"same-origin"}}),Ke(Tx,Su);var Noe="";Tx.prototype.b=hB("goog.net.XhrIo");var Qxe=/^https?$/i,Yxe=["POST","PUT"];function Xxe(h,y,I,x,P){if(h.a)throw Error("[goog.net.XhrIo] Object is active with another request="+h.l+"; newUri="+y);I=I?I.toUpperCase():"GET",h.l=y,h.h="",h.P=I,h.J=!1,h.c=!0,h.a=(h.D||nB).a(),h.C=h.D?Ioe(h.D):Ioe(nB),h.a.onreadystatechange=de(h.Wb,h);try{ah(h.b,kv(h,"Opening Xhr")),h.N=!0,h.a.open(I,String(y),!0),h.N=!1}catch(J){return ah(h.b,kv(h,"Error opening Xhr: "+J.message)),void Poe(h,J)}y=x||"";var q,K=new yS(h.headers);P&&function(J,pe){if(J.forEach&&typeof J.forEach=="function")J.forEach(pe,void 0);else if(j(J)||typeof J=="string")Li(J,pe,void 0);else for(var Oe=kie(J),Ye=Cie(J),Et=Ye.length,Kt=0;Kt<Et;Kt++)pe.call(void 0,Ye[Kt],Oe&&Oe[Kt],J)}(P,function(J,pe){K.set(pe,J)}),P=function(J){e:{for(var pe=Jxe,Oe=J.length,Ye=typeof J=="string"?J.split(""):J,Et=0;Et<Oe;Et++)if(Et in Ye&&pe.call(void 0,Ye[Et],Et,J)){pe=Et;break e}pe=-1}return pe<0?null:typeof J=="string"?J.charAt(pe):J[pe]}(K.Y()),x=p.FormData&&y instanceof p.FormData,!Sv(Yxe,I)||P||x||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),K.forEach(function(J,pe){this.a.setRequestHeader(pe,J)},h),h.m&&(h.a.responseType=h.m),"withCredentials"in h.a&&h.a.withCredentials!==h.S&&(h.a.withCredentials=h.S);try{Loe(h),0<h.g&&(h.u=(q=h.a,nf&&eie(9)&&typeof q.timeout=="number"&&q.ontimeout!==void 0),ah(h.b,kv(h,"Will abort after "+h.g+"ms if incomplete, xhr2 "+h.u)),h.u?(h.a.timeout=h.g,h.a.ontimeout=de(h.Ma,h)):h.s=Iq(h.Ma,h.g,h)),ah(h.b,kv(h,"Sending request")),h.i=!0,h.a.send(y),h.i=!1}catch(J){ah(h.b,kv(h,"Send error: "+J.message)),Poe(h,J)}}function Jxe(h){return h.toLowerCase()=="content-type"}function Poe(h,y){h.c=!1,h.a&&(h.f=!0,h.a.abort(),h.f=!1),h.h=y,Roe(h),mM(h)}function Roe(h){h.J||(h.J=!0,h.dispatchEvent("complete"),h.dispatchEvent("error"))}function Doe(h){if(h.c&&f!==void 0){if(h.C[1]&&Ix(h)==4&&gM(h)==2)ah(h.b,kv(h,"Local request error detected and ignored"));else if(h.i&&Ix(h)==4)Iq(h.Wb,0,h);else if(h.dispatchEvent("readystatechange"),Ix(h)==4){ah(h.b,kv(h,"Request complete")),h.c=!1;try{var y,I,x,P,q=gM(h);e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var K=!0;break e;default:K=!1}if((y=K)||((I=q===0)&&(!(P=String(h.l).match(Aie)[1]||null)&&p.self&&p.self.location&&(P=(x=p.self.location.protocol).substr(0,x.length-1)),I=!Qxe.test(P?P.toLowerCase():"")),y=I),y)h.dispatchEvent("complete"),h.dispatchEvent("success");else{try{var J=2<Ix(h)?h.a.statusText:""}catch(pe){ah(h.b,"Can not get status: "+pe.message),J=""}h.h=J+" ["+gM(h)+"]",Roe(h)}}finally{mM(h)}}}}function mM(h,y){if(h.a){Loe(h);var I=h.a,x=h.C[0]?k:null;h.a=null,h.C=null,y||h.dispatchEvent("ready");try{I.onreadystatechange=x}catch(P){(h=h.b)&&h.log(Aoe,"Problem encountered resetting onreadystatechange: "+P.message,void 0)}}}function Loe(h){h.a&&h.u&&(h.a.ontimeout=null),h.s&&(p.clearTimeout(h.s),h.s=null)}function Ix(h){return h.a?h.a.readyState:0}function gM(h){try{return 2<Ix(h)?h.a.status:-1}catch{return-1}}function kv(h,y){return y+" ["+h.P+" "+h.l+" "+gM(h)+"]"}function Gb(h){var y=Zxe;this.g=[],this.u=y,this.s=h||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Cx(h,y,I){h.a=!0,h.c=I,h.f=!y,Foe(h)}function yM(h){if(h.a){if(!h.v)throw new bM;h.v=!1}}function dB(h,y,I,x){h.g.push([y,I,x]),h.a&&Foe(h)}function Moe(h){return zAe(h.g,function(y){return V(y[1])})}function Foe(h){var y;h.h&&h.a&&Moe(h)&&(I=h.h,(y=wM[I])&&(p.clearTimeout(y.a),delete wM[I]),h.h=0),h.b&&(h.b.l--,delete h.b);for(var I=h.c,x=y=!1;h.g.length&&!h.i;){var P=(K=h.g.shift())[0],q=K[1],K=K[2];if(P=h.f?q:P)try{var J=P.call(K||h.s,I);J!==void 0&&(h.f=h.f&&(J==I||J instanceof Error),h.c=I=J),(so(I)||typeof p.Promise=="function"&&I instanceof p.Promise)&&(x=!0,h.i=!0)}catch(pe){I=pe,h.f=!0,Moe(h)||(y=!0)}}h.c=I,x&&(J=de(h.m,h,!0),x=de(h.m,h,!1),I instanceof Gb?(dB(I,J,x),I.C=!0):I.then(J,x)),y&&(I=new joe(I),wM[I.a]=I,h.h=I.a)}function bM(){Si.call(this)}function kx(){Si.call(this)}function joe(h){this.a=p.setTimeout(de(this.c,this),0),this.b=h}(n=Tx.prototype).Ma=function(){f!==void 0&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ah(this.b,kv(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ah(this.b,kv(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),mM(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),mM(this,!0)),Tx.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?Doe(this):this.Jc())},n.Jc=function(){Doe(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Noe:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var h=this.b;return h&&h.log(Aoe,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(y){return ah(this.b,"Can not get response: "+y.message),null}},Gb.prototype.cancel=function(h){var y;this.a?this.c instanceof Gb&&this.c.cancel():(this.b&&(y=this.b,delete this.b,h?y.cancel(h):(y.l--,y.l<=0&&y.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(h=new kx,yM(this),Cx(this,!1,h)))},Gb.prototype.m=function(h,y){this.i=!1,Cx(this,h,y)},Gb.prototype.then=function(h,y,I){var x,P,q=new Gn(function(K,J){x=K,P=J});return dB(this,x,function(K){K instanceof kx?q.cancel():P(K)}),q.then(h,y,I)},Gb.prototype.$goog_Thenable=!0,Ke(bM,Si),bM.prototype.message="Deferred has already fired",bM.prototype.name="AlreadyCalledError",Ke(kx,Si),kx.prototype.message="Deferred was canceled",kx.prototype.name="CanceledError",joe.prototype.c=function(){throw delete wM[this.a],this.b};var wM={};function pB(h){var y=document,I=qre(h).toString(),x=WL(document,"SCRIPT"),P={Xb:x,Ma:void 0},q=new Gb(P),K=window.setTimeout(function(){_M(x,!0);var J=new vB(tOe,"Timeout reached for loading script "+I);yM(q),Cx(q,!1,J)},5e3);return P.Ma=K,x.onload=x.onreadystatechange=function(){x.readyState&&x.readyState!="loaded"&&x.readyState!="complete"||(_M(x,!1,K),yM(q),Cx(q,!0,null))},x.onerror=function(){_M(x,!0,K);var J=new vB(eOe,"Error while loading script "+I);yM(q),Cx(q,!1,J)},oc(P={},{type:"text/javascript",charset:"UTF-8"}),tie(x,P),P=h,Ure(h=x,"HTMLScriptElement"),h.src=qre(P),(P=(P=h.ownerDocument&&h.ownerDocument.defaultView)&&P!=p?T(P.document):_=_===null?T(p.document):_)&&h.setAttribute("nonce",P),((y=((P=y)||document).getElementsByTagName("HEAD"))&&y.length!=0?y[0]:P.documentElement).appendChild(x),q}function Zxe(){var h;this&&this.Xb&&(h=this.Xb)&&h.tagName=="SCRIPT"&&_M(h,!0,this.Ma)}function _M(h,y,I){I!=null&&p.clearTimeout(I),h.onload=k,h.onerror=k,h.onreadystatechange=k,y&&window.setTimeout(function(){h&&h.parentNode&&h.parentNode.removeChild(h)},0)}var eOe=0,tOe=1;function vB(h,y){var I="Jsloader error (code #"+h+")";y&&(I+=": "+y),Si.call(this,I),this.code=h}function EM(h){this.f=h}function sf(h,y,I){if(this.c=h,this.l=(h=y||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=h.secureTokenTimeout||nOe,this.g=Tg(h.secureTokenHeaders||rOe),this.h=h.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=h.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=h.firebaseTimeout||iOe,this.a=Tg(h.firebaseHeaders||oOe),I&&(this.a["X-Client-Version"]=I,this.g["X-Client-Version"]=I),I=Dd()=="Node",!(I=p.XMLHttpRequest||I&&Ht.INTERNAL.node&&Ht.INTERNAL.node.XMLHttpRequest)&&!rf())throw new le("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,rf()?this.f=new pM(self):Uie()?this.f=new EM(I):this.f=new dM,this.b=null}Ke(vB,Si),Ke(EM,wx),EM.prototype.a=function(){return new this.f},EM.prototype.b=function(){return{}};var mB,af="idToken",nOe=new Ag(3e4,6e4),rOe={"Content-Type":"application/x-www-form-urlencoded"},iOe=new Ag(3e4,6e4),oOe={"Content-Type":"application/json"};function Uoe(h,y){y?h.a["X-Firebase-Locale"]=y:delete h.a["X-Firebase-Locale"]}function SM(h,y){y&&(h.l=gB("https://securetoken.googleapis.com/v1/token",y),h.h=gB("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",y),h.i=gB("https://identitytoolkit.googleapis.com/v2/",y))}function gB(h,y){return h=ac(h),y=ac(y.url),h.f=h.a+h.f,sx(h,y.c),h.a=y.a,ax(h,y.g),h.toString()}function $oe(h,y){y?(h.a["X-Client-Version"]=y,h.g["X-Client-Version"]=y):(delete h.a["X-Client-Version"],delete h.g["X-Client-Version"])}function Voe(h,y,I,x,P,q,K){var J;(h=((J=wS(J=ta())==$ie&&(J=J.match(/\sChrome\/(\d+)/i))&&J.length==2?parseInt(J[1],10):null)&&J<30||nf&&Ig&&!(9<Ig))&&!rf()?(mB=mB||new Gn(function(pe,Oe){var Ye,Et;Ye=pe,Et=Oe,((window.gapi||{}).client||{}).request?Ye():(p[qoe]=function(){((window.gapi||{}).client||{}).request?Ye():Et(Error("CORS_UNSUPPORTED"))},function(Kt,Ci){dB(Kt,null,Ci,void 0)}(pB(cq(sOe,{onload:qoe})),function(){Et(Error("CORS_UNSUPPORTED"))}))}),de(h.s,h)):de(h.u,h))(y,I,x,P,q,K)}sf.prototype.T=function(){return this.b},sf.prototype.u=function(h,y,I,x,P,q){if(rf()&&(p.fetch===void 0||p.Headers===void 0||p.Request===void 0))throw new le("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var K,J=new Tx(this.f);q&&(J.g=Math.max(0,q),K=setTimeout(function(){J.dispatchEvent("timeout")},q)),Iie(J,"complete",function(){K&&clearTimeout(K);var pe=null;try{pe=JSON.parse(function(Oe){try{return Oe.a?Oe.a.responseText:""}catch(Ye){return ah(Oe.b,"Can not get responseText: "+Ye.message),""}}(this))||null}catch{pe=null}y&&y(pe)}),Tq(J,"ready",function(){K&&clearTimeout(K),yie(this)}),Tq(J,"timeout",function(){K&&clearTimeout(K),yie(this),y&&y(null)}),Xxe(J,h,I,x,P)};var sOe=new Pd(BL,"https://apis.google.com/js/client.js?onload=%{onload}"),qoe="__fcb"+Math.floor(1e6*Math.random()).toString();function aOe(h,y,I,x,P,q,K){var J=ac(y+I);ao(J,"key",h.c),K&&ao(J,"cb",Date.now().toString());var pe=x=="GET";if(pe)for(var Oe in P)P.hasOwnProperty(Oe)&&ao(J,Oe,P[Oe]);return new Gn(function(Ye,Et){Voe(h,J.toString(),function(Kt){Kt?Kt.error?Et(IB(Kt,q||{})):Ye(Kt):Et(new le("network-request-failed"))},x,pe?void 0:Rie(qie(P)),h.a,h.v.get())})}function Qb(h){if(typeof(h=h.email)!="string"||!Cxe.test(h))throw new le("invalid-email")}function Boe(h){"email"in h&&Qb(h)}function uc(h){if(!h[af])throw h.mfaPendingCredential?new le("multi-factor-auth-required",null,Tg(h)):new le("internal-error")}function yB(h){if(h.phoneNumber||h.temporaryProof){if(!h.phoneNumber||!h.temporaryProof)throw new le("internal-error")}else{if(!h.sessionInfo)throw new le("missing-verification-id");if(!h.code)throw new le("missing-verification-code")}}sf.prototype.s=function(h,y,I,x,P){var q=this;mB.then(function(){window.gapi.client.setApiKey(q.c);var K=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:h,method:I,body:x,headers:P,authType:"none",callback:function(J){window.gapi.auth.setToken(K),y&&y(J)}})}).o(function(K){y&&y({error:{message:K&&K.message||"CORS_UNSUPPORTED"}})})},sf.prototype.Ab=function(){return Jn(this,AOe,{})},sf.prototype.Cb=function(h,y){return Jn(this,Koe,{idToken:h,email:y})},sf.prototype.Db=function(h,y){return Jn(this,Woe,{idToken:h,password:y})};var uOe={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Hoe(h){if(!h.phoneVerificationInfo)throw new le("internal-error");if(!h.phoneVerificationInfo.sessionInfo)throw new le("missing-verification-id");if(!h.phoneVerificationInfo.code)throw new le("missing-verification-code")}function bB(h){if(!h.requestUri||!h.sessionId&&!h.postBody&&!h.pendingToken)throw new le("internal-error")}function wB(h,y){return y.oauthIdToken&&y.providerId&&y.providerId.indexOf("oidc.")==0&&!y.pendingToken&&(h.sessionId?y.nonce=h.sessionId:h.postBody&&Aq(h=new Ub(h.postBody),"nonce")&&(y.nonce=h.get("nonce"))),y}function zoe(h){var y=null;if(h.needConfirmation?(h.code="account-exists-with-different-credential",y=hM(h)):h.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(h.code="credential-already-in-use",y=hM(h)):h.errorMessage=="EMAIL_EXISTS"?(h.code="email-already-in-use",y=hM(h)):h.errorMessage&&(y=Qoe(h.errorMessage)),y)throw y;uc(h)}function _B(h,y){return y.returnIdpCredential=!0,Jn(h,NOe,y)}function EB(h,y){return y.returnIdpCredential=!0,Jn(h,ROe,y)}function SB(h,y){return y.returnIdpCredential=!0,y.autoCreate=!1,Jn(h,POe,y)}function TB(h){if(!h.oobCode)throw new le("invalid-action-code")}(n=sf.prototype).Eb=function(h,y){var I={idToken:h},x=[];return Fre(uOe,function(P,q){var K=y[q];K===null?x.push(P):q in y&&(I[q]=K)}),x.length&&(I.deleteAttribute=x),Jn(this,Koe,I)},n.wb=function(h,y){return oc(h={requestType:"PASSWORD_RESET",email:h},y),Jn(this,SOe,h)},n.xb=function(h,y){return oc(h={requestType:"EMAIL_SIGNIN",email:h},y),Jn(this,wOe,h)},n.vb=function(h,y){return oc(h={requestType:"VERIFY_EMAIL",idToken:h},y),Jn(this,_Oe,h)},n.Fb=function(h,y,I){return oc(h={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:h,newEmail:y},I),Jn(this,EOe,h)},n.gb=function(h){return Jn(this,LOe,h)},n.ob=function(h,y){return Jn(this,COe,{oobCode:h,newPassword:y})},n.Sa=function(h){return Jn(this,lOe,{oobCode:h})},n.kb=function(h){return Jn(this,cOe,{oobCode:h})};var cOe={endpoint:"setAccountInfo",A:TB,Z:"email",B:!0},lOe={endpoint:"resetPassword",A:TB,G:function(h){var y=h.requestType;if(!y||!h.email&&y!="EMAIL_SIGNIN"&&y!="VERIFY_AND_CHANGE_EMAIL")throw new le("internal-error")},B:!0},hOe={endpoint:"signupNewUser",A:function(h){if(Qb(h),!h.password)throw new le("weak-password")},G:uc,V:!0,B:!0},fOe={endpoint:"createAuthUri",B:!0},dOe={endpoint:"deleteAccount",O:["idToken"]},pOe={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(h){if(!Array.isArray(h.deleteProvider))throw new le("internal-error")}},vOe={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Qb,G:uc,V:!0,B:!0},mOe={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Qb,G:uc,V:!0},gOe={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Hoe,G:uc,B:!0,Na:!0},yOe={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Hoe,G:uc,B:!0,Na:!0},bOe={endpoint:"getAccountInfo"},wOe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(h){if(h.requestType!="EMAIL_SIGNIN")throw new le("internal-error");Qb(h)},Z:"email",B:!0},_Oe={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(h){if(h.requestType!="VERIFY_EMAIL")throw new le("internal-error")},Z:"email",B:!0},EOe={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(h){if(h.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new le("internal-error")},Z:"email",B:!0},SOe={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(h){if(h.requestType!="PASSWORD_RESET")throw new le("internal-error");Qb(h)},Z:"email",B:!0},TOe={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},IOe={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(h){if(!h.recaptchaSiteKey)throw new le("internal-error")}},COe={endpoint:"resetPassword",A:TB,Z:"email",B:!0},kOe={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Koe={endpoint:"setAccountInfo",O:["idToken"],A:Boe,V:!0},Woe={endpoint:"setAccountInfo",O:["idToken"],A:function(h){if(Boe(h),!h.password)throw new le("weak-password")},G:uc,V:!0},AOe={endpoint:"signupNewUser",G:uc,V:!0,B:!0},xOe={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(h){if(!h.phoneEnrollmentInfo)throw new le("internal-error");if(!h.phoneEnrollmentInfo.phoneNumber)throw new le("missing-phone-number");if(!h.phoneEnrollmentInfo.recaptchaToken)throw new le("missing-app-credential")},G:function(h){if(!h.phoneSessionInfo||!h.phoneSessionInfo.sessionInfo)throw new le("internal-error")},B:!0,Na:!0},OOe={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(h){if(!h.phoneSignInInfo||!h.phoneSignInInfo.recaptchaToken)throw new le("missing-app-credential")},G:function(h){if(!h.phoneResponseInfo||!h.phoneResponseInfo.sessionInfo)throw new le("internal-error")},B:!0,Na:!0},NOe={endpoint:"verifyAssertion",A:bB,Za:wB,G:zoe,V:!0,B:!0},POe={endpoint:"verifyAssertion",A:bB,Za:wB,G:function(h){if(h.errorMessage&&h.errorMessage=="USER_NOT_FOUND")throw new le("user-not-found");if(h.errorMessage)throw Qoe(h.errorMessage);uc(h)},V:!0,B:!0},ROe={endpoint:"verifyAssertion",A:function(h){if(bB(h),!h.idToken)throw new le("internal-error")},Za:wB,G:zoe,V:!0},DOe={endpoint:"verifyCustomToken",A:function(h){if(!h.token)throw new le("invalid-custom-token")},G:uc,V:!0,B:!0},Goe={endpoint:"verifyPassword",A:function(h){if(Qb(h),!h.password)throw new le("wrong-password")},G:uc,V:!0,B:!0},LOe={endpoint:"verifyPhoneNumber",A:yB,G:uc,B:!0},MOe={endpoint:"verifyPhoneNumber",A:function(h){if(!h.idToken)throw new le("internal-error");yB(h)},G:function(h){if(h.temporaryProof)throw h.code="credential-already-in-use",hM(h);uc(h)}},FOe={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:yB,G:uc,B:!0},jOe={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(h){if(!!h[af]^!!h.refreshToken)throw new le("internal-error")},B:!0,Na:!0};function Jn(h,y,I){if(!function(K,J){if(!J||!J.length)return 1;if(K){for(var pe=0;pe<J.length;pe++){var Oe=K[J[pe]];if(Oe==null||Oe==="")return}return 1}}(I,y.O))return Ti(new le("internal-error"));var x,P=!!y.Na,q=y.Vb||"POST";return nn(I).then(y.A).then(function(){return y.V&&(I.returnSecureToken=!0),y.B&&h.b&&I.tenantId===void 0&&(I.tenantId=h.b),aOe(h,P?h.i:h.h,y.endpoint,q,I,y.Ib,y.mb||!1)}).then(function(K){return x=K,y.Za?y.Za(I,x):x}).then(y.G).then(function(){if(!y.Z)return x;if(!(y.Z in x))throw new le("internal-error");return x[y.Z]})}function Qoe(h){return IB({error:{errors:[{message:h}],code:400,message:h}})}function IB(h,y){var I,x=(h.error&&h.error.errors&&h.error.errors[0]||{}).reason||"",P={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(x=P[x]?new le(P[x]):null)return x;for(I in x=h.error&&h.error.message||"",oc(P={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},y||{}),y=(y=x.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<y.length?y[1]:void 0,P)if(x.indexOf(I)===0)return new le(P[I],y);return new le("internal-error",y=!y&&h?fx(h):y)}function UOe(h){var y;this.b=h,this.a=null,this.sb=(y=this,(CB=CB||new Gn(function(I,x){function P(){Hie(),Ii("gapi.load")("gapi.iframes",{callback:I,ontimeout:function(){Hie(),x(Error("Network Error"))},timeout:VOe.get()})}var q;Ii("gapi.iframes.Iframe")?I():Ii("gapi.load")?P():(q="__iframefcb"+Math.floor(1e6*Math.random()).toString(),p[q]=function(){Ii("gapi.load")?P():x(Error("Network Error"))},nn(pB(q=cq($Oe,{onload:q}))).o(function(){x(Error("Network Error"))}))}).o(function(I){throw CB=null,I})).then(function(){return new Gn(function(I,x){Ii("gapi.iframes.getContext")().open({where:document.body,url:y.b,messageHandlersFilter:Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(P){function q(){clearTimeout(K),I()}y.a=P,y.a.restyle({setHideOnLeave:!1});var K=setTimeout(function(){x(Error("Network Error"))},qOe.get());P.ping(q).then(q,function(){x(Error("Network Error"))})})})}))}var $Oe=new Pd(BL,"https://apis.google.com/js/api.js?onload=%{onload}"),VOe=new Ag(3e4,6e4),qOe=new Ag(5e3,15e3),CB=null;function Yoe(h,y,I,x){this.l=h,this.h=y,this.i=I,this.g=x,this.f=null,h=this.g?eM((h=ac(this.g.url)).c,h.a,h.g,"/emulator/auth/iframe"):eM("https",this.l,null,"/__/auth/iframe"),this.a=h,ao(this.a,"apiKey",this.h),ao(this.a,"appName",this.i),this.b=null,this.c=[]}function kB(h,y,I,x,P,q){this.u=h,this.s=y,this.c=I,this.m=x,this.v=q,this.i=this.g=this.l=null,this.a=P,this.h=this.f=null}function AB(h){try{return Ht.app(h).auth().Ga()}catch{return[]}}function Xoe(h,y,I,x,P,q){this.s=h,this.g=y,this.b=I,this.f=q,this.c=x||null,this.i=P||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Joe(h){var y=lx();return Jn(h,TOe,{}).then(function(I){return I.authorizedDomains||[]}).then(function(I){e:{for(var x=(P=ac(y)).c,P=P.a,q=0;q<I.length;q++){var K=I[q],J=P,pe=x;if(J=K.indexOf("chrome-extension://")==0?ac(K).a==J&&pe=="chrome-extension":(pe=="http"||pe=="https")&&(Ixe.test(K)?J==K:(K=K.split(".").join("\\."),new RegExp("^(.+\\."+K+"|"+K+")$","i").test(J)))){I=!0;break e}}I=!1}if(!I)throw new iB(lx())})}function Zoe(h){return h.m||(h.m=tM().then(function(){var y,I,x,P;h.u||(y=h.c,I=h.i,x=AB(h.b),(P=new Yoe(h.s,h.g,h.b,h.f)).f=y,P.b=I,P.c=Rb(x||[]),h.u=P.toString()),h.v=new UOe(h.u),function(q){if(!q.v)throw Error("IfcHandler must be initialized!");(function(K,J){K.sb.then(function(){K.a.register("authEvent",J,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})(q.v,function(K){var J={};if(K&&K.authEvent){var pe=!1;for(K=Toe(K.authEvent),J=0;J<q.h.length;J++)pe=q.h[J](K)||pe;return(J={}).status=pe?"ACK":"ERROR",nn(J)}return J.status="ERROR",nn(J)})}(h)}),h.m)}function ese(h){return h.l||(h.C=h.c?_S(h.c,AB(h.b)):null,h.l=new sf(h.g,Tn(h.i),h.C),h.f&&SM(h.l,h.f)),h.l}function Ax(h,y,I,x,P,q,K,J,pe,Oe,Ye,Et){return(h=new kB(h,y,I,x,P,Et)).l=q,h.g=K,h.i=J,h.b=Tg(pe||null),h.f=Oe,h.zb(Ye).toString()}function tse(h){if(this.a=h||Ht.INTERNAL.reactNative&&Ht.INTERNAL.reactNative.AsyncStorage,!this.a)throw new le("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function nse(h){this.b=h,this.a={},this.f=de(this.c,this)}Yoe.prototype.toString=function(){return this.f?ao(this.a,"v",this.f):Rd(this.a.b,"v"),this.b?ao(this.a,"eid",this.b):Rd(this.a.b,"eid"),this.c.length?ao(this.a,"fw",this.c.join(",")):Rd(this.a.b,"fw"),this.a.toString()},kB.prototype.zb=function(h){return this.h=h,this},kB.prototype.toString=function(){var h;if(ao(h=this.v?eM((h=ac(this.v.url)).c,h.a,h.g,"/emulator/auth/handler"):eM("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),ao(h,"appName",this.c),ao(h,"authType",this.m),this.a.isOAuthProvider){var y=this.a;try{var I=Ht.app(this.c).auth().la()}catch{I=null}for(x in y.pb=I,ao(h,"providerId",this.a.providerId),y=qie((I=this.a).Jb))y[x]=y[x].toString();for(var x=I.Qc,y=Tg(y),P=0;P<x.length;P++){var q=x[P];q in y&&delete y[q]}I.qb&&I.pb&&!y[I.qb]&&(y[I.qb]=I.pb),Db(y)||ao(h,"customParameters",fx(y))}if(typeof this.a.Rb=="function"&&(I=this.a.Rb()).length&&ao(h,"scopes",I.join(",")),this.l?ao(h,"redirectUrl",this.l):Rd(h.b,"redirectUrl"),this.g?ao(h,"eventId",this.g):Rd(h.b,"eventId"),this.i?ao(h,"v",this.i):Rd(h.b,"v"),this.b)for(var K in this.b)this.b.hasOwnProperty(K)&&!oh(h,K)&&ao(h,K,this.b[K]);return this.h?ao(h,"tid",this.h):Rd(h.b,"tid"),this.f?ao(h,"eid",this.f):Rd(h.b,"eid"),(K=AB(this.c)).length&&ao(h,"fw",K.join(",")),h.toString()},(n=Xoe.prototype).Pb=function(h,y,I){var x=new le("popup-closed-by-user"),P=new le("web-storage-unsupported"),q=this,K=!1;return this.ma().then(function(){var J,pe;pe={type:"webStorageSupport"},Zoe(J=q).then(function(){return Oe=J.v,Ye=pe,Oe.sb.then(function(){return new Gn(function(Et){Oe.a.send(Ye.type,Ye,Et,Ii("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var Oe,Ye}).then(function(Oe){if(Oe&&Oe.length&&Oe[0].webStorageSupport!==void 0)return Oe[0].webStorageSupport;throw Error()}).then(function(Oe){Oe||(h&&$b(h),y(P),K=!0)})}).o(function(){}).then(function(){if(!K)return J=h,new Gn(function(pe){return function Oe(){gS(2e3).then(function(){return J&&!J.closed?Oe():void pe()})}()});var J}).then(function(){if(!K)return gS(I).then(function(){y(x)})})},n.Yb=function(){var h=ta();return!hx(h)&&!Bie(h)},n.Ub=function(){return!1},n.Nb=function(h,y,I,x,P,q,K,J){if(!h)return Ti(new le("popup-blocked"));if(K&&!hx())return this.ma().o(function(Oe){$b(h),P(Oe)}),x(),nn();this.a||(this.a=Joe(ese(this)));var pe=this;return this.a.then(function(){var Oe=pe.ma().o(function(Ye){throw $b(h),P(Ye),Ye});return x(),Oe}).then(function(){tB(I),K||Mie(Ax(pe.s,pe.g,pe.b,y,I,null,q,pe.c,void 0,pe.i,J,pe.f),h)}).o(function(Oe){throw Oe.code=="auth/network-request-failed"&&(pe.a=null),Oe})},n.Ob=function(h,y,I,x){this.a||(this.a=Joe(ese(this)));var P=this;return this.a.then(function(){tB(y),Mie(Ax(P.s,P.g,P.b,h,y,lx(),I,P.c,void 0,P.i,x,P.f))}).o(function(q){throw q.code=="auth/network-request-failed"&&(P.a=null),q})},n.ma=function(){var h=this;return Zoe(this).then(function(){return h.v.sb}).o(function(){throw h.a=null,new le("network-request-failed")})},n.ac=function(){return!0},n.Ea=function(h){this.h.push(h)},n.Ta=function(h){tf(this.h,function(y){return y==h})},(n=tse.prototype).get=function(h){return nn(this.a.getItem(h)).then(function(y){return y&&SS(y)})},n.set=function(h,y){return nn(this.a.setItem(h,fx(y)))},n.U=function(h){return nn(this.a.removeItem(h))},n.ca=function(){},n.ia=function(){};var xB,rse=[];function ise(h,y,I){Db(h.a)&&h.b.addEventListener("message",h.f),h.a[y]===void 0&&(h.a[y]=[]),h.a[y].push(I)}function ose(h){this.a=h}function sse(h){this.c=h,this.b=!1,this.a=[]}function ase(h,y,I,x){var P,q,K,J,pe=I||{},Oe=null;if(h.b)return Ti(Error("connection_unavailable"));var Ye=x?800:50,Et=typeof MessageChannel<"u"?new MessageChannel:null;return new Gn(function(Kt,Ci){Et?(P=Math.floor(Math.random()*Math.pow(10,20)).toString(),Et.port1.start(),K=setTimeout(function(){Ci(Error("unsupported_event"))},Ye),Oe={messageChannel:Et,onMessage:q=function(lo){lo.data.eventId===P&&(lo.data.status==="ack"?(clearTimeout(K),J=setTimeout(function(){Ci(Error("timeout"))},3e3)):lo.data.status==="done"?(clearTimeout(J),lo.data.response!==void 0?Kt(lo.data.response):Ci(Error("unknown_error"))):(clearTimeout(K),clearTimeout(J),Ci(Error("invalid_response"))))}},h.a.push(Oe),Et.port1.addEventListener("message",q),h.c.postMessage({eventType:y,eventId:P,data:pe},[Et.port2])):Ci(Error("connection_unavailable"))}).then(function(Kt){return OB(h,Oe),Kt}).o(function(Kt){throw OB(h,Oe),Kt})}function OB(h,y){var I,x;y&&(I=y.messageChannel,x=y.onMessage,I&&(I.port1.removeEventListener("message",x),I.port1.close()),tf(h.a,function(P){return P==y}))}function use(){if(!PB())throw new le("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=p.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var h,y,I,x=this;rf()&&self?(this.v=(I=rf()?self:null,Li(rse,function(P){P.b==I&&(y=P)}),y||(y=new nse(I),rse.push(y)),y),ise(this.v,"keyChanged",function(P,q){return hse(x).then(function(K){return 0<K.length&&Li(x.a,function(J){J(K)}),{keyProcessed:Sv(K,q.key)}})}),ise(this.v,"ping",function(){return nn(["keyChanged"])})):((h=p.navigator)&&h.serviceWorker?nn().then(function(){return h.serviceWorker.ready}).then(function(P){return P.active||null}).o(function(){return null}):nn(null)).then(function(P){(x.h=P)&&(x.g=new sse(new ose(P)),ase(x.g,"ping",null,!0).then(function(q){q[0].fulfilled&&Sv(q[0].value,"keyChanged")&&(x.s=!0)}).o(function(){}))})}function cse(h){return new Gn(function(y,I){var x=h.m.open("firebaseLocalStorageDb",1);x.onerror=function(P){try{P.preventDefault()}catch{}I(Error(P.target.error))},x.onupgradeneeded=function(P){P=P.target.result;try{P.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(q){I(q)}},x.onsuccess=function(P){var q;(P=P.target.result).objectStoreNames.contains("firebaseLocalStorage")?y(P):(q=h,new Gn(function(K,J){var pe=q.m.deleteDatabase("firebaseLocalStorageDb");pe.onsuccess=function(){K()},pe.onerror=function(Oe){J(Error(Oe.target.error))}}).then(function(){return cse(h)}).then(function(K){y(K)}).o(function(K){I(K)}))}})}function NB(h){return h.i||(h.i=cse(h)),h.i}function TM(h,y){var I=0;return new Gn(function x(P,q){NB(h).then(y).then(P).o(function(K){return 3<++I?void q(K):NB(h).then(function(J){return J.close(),h.i=void 0,x(P,q)}).o(function(J){q(J)})})})}function PB(){try{return p.indexedDB}catch{return}}function xx(h){return h.objectStore("firebaseLocalStorage")}function Ox(h,y){return h.transaction(["firebaseLocalStorage"],y?"readwrite":"readonly")}function kS(h){return new Gn(function(y,I){h.onsuccess=function(x){x&&x.target?y(x.target.result):y()},h.onerror=function(x){I(x.target.error)}})}function lse(h,y){return h.g&&h.h&&((I=p.navigator)&&I.serviceWorker&&I.serviceWorker.controller||null)===h.h?ase(h.g,"keyChanged",{key:y},h.s).then(function(){}).o(function(){}):nn();var I}function hse(h){return NB(h).then(function(y){var I=xx(Ox(y,!1));return I.getAll?kS(I.getAll()):new Gn(function(x,P){var q=[],K=I.openCursor();K.onsuccess=function(J){(J=J.target.result)?(q.push(J.value),J.continue()):x(q)},K.onerror=function(J){P(J.target.error)}})}).then(function(y){var I={},x=[];if(h.b==0){for(x=0;x<y.length;x++)I[y[x].fbase_key]=y[x].value;x=function P(q,K){var J,pe=[];for(J in q)J in K&&typeof q[J]==typeof K[J]?typeof q[J]=="object"&&q[J]!=null&&K[J]!=null?0<P(q[J],K[J]).length&&pe.push(J):q[J]!==K[J]&&pe.push(J):pe.push(J);for(J in K)J in q||pe.push(J);return pe}(h.c,I),h.c=I}return x})}function fse(h){h.l&&h.l.cancel("STOP_EVENT"),h.f&&(clearTimeout(h.f),h.f=null)}function dse(h){var y=this,I=null;this.a=[],this.type="indexedDB",this.c=h,this.b=nn().then(function(){if(PB()){var x=qb(),P="__sak"+x;return xB=xB||new use,(I=xB).set(P,x).then(function(){return I.get(P)}).then(function(q){if(q!==x)throw Error("indexedDB not supported!");return I.U(P)}).then(function(){return I}).o(function(){return y.c})}return y.c}).then(function(x){return y.type=x.type,x.ca(function(P){Li(y.a,function(q){q(P)})}),x})}function Nx(){this.a={},this.type="inMemory"}function IM(){if(!function(){var h=Dd()=="Node";if(!(h=pse()||h&&Ht.INTERNAL.node&&Ht.INTERNAL.node.localStorage))return!1;try{return h.setItem("__sak","1"),h.removeItem("__sak"),!0}catch{return!1}}())throw Dd()=="Node"?new le("internal-error","The LocalStorage compatibility library was not found."):new le("web-storage-unsupported");this.a=pse()||Ht.INTERNAL.node.localStorage,this.type="localStorage"}function pse(){try{var h=p.localStorage,y=qb();return h&&(h.setItem(y,"1"),h.removeItem(y)),h}catch{return null}}function RB(){this.type="nullStorage"}function DB(){if(!function(){var h=Dd()=="Node";if(!(h=vse()||h&&Ht.INTERNAL.node&&Ht.INTERNAL.node.sessionStorage))return!1;try{return h.setItem("__sak","1"),h.removeItem("__sak"),!0}catch{return!1}}())throw Dd()=="Node"?new le("internal-error","The SessionStorage compatibility library was not found."):new le("web-storage-unsupported");this.a=vse()||Ht.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function vse(){try{var h=p.sessionStorage,y=qb();return h&&(h.setItem(y,"1"),h.removeItem(y)),h}catch{return null}}function BOe(){var h={};h.Browser=HOe,h.Node=zOe,h.ReactNative=KOe,h.Worker=WOe,this.a=h[Dd()]}nse.prototype.c=function(h){var y,I=h.data.eventType,x=h.data.eventId,P=this.a[I];P&&0<P.length&&(h.ports[0].postMessage({status:"ack",eventId:x,eventType:I,response:null}),y=[],Li(P,function(q){y.push(nn().then(function(){return q(h.origin,h.data.data)}))}),lie(y).then(function(q){var K=[];Li(q,function(J){K.push({fulfilled:J.Qb,value:J.value,reason:J.reason?J.reason.message:void 0})}),Li(K,function(J){for(var pe in J)J[pe]===void 0&&delete J[pe]}),h.ports[0].postMessage({status:"done",eventId:x,eventType:I,response:K})}))},ose.prototype.postMessage=function(h,y){this.a.postMessage(h,y)},sse.prototype.close=function(){for(;0<this.a.length;)OB(this,this.a[0]);this.b=!0},(n=use.prototype).set=function(h,y){var I=this,x=!1;return TM(this,function(P){return kS((P=xx(Ox(P,!0))).get(h))}).then(function(P){return TM(I,function(q){if(q=xx(Ox(q,!0)),P)return P.value=y,kS(q.put(P));I.b++,x=!0;var K={};return K.fbase_key=h,K.value=y,kS(q.add(K))})}).then(function(){return I.c[h]=y,lse(I,h)}).oa(function(){x&&I.b--})},n.get=function(h){return TM(this,function(y){return kS(xx(Ox(y,!1)).get(h))}).then(function(y){return y&&y.value})},n.U=function(h){var y=this,I=!1;return TM(this,function(x){return I=!0,y.b++,kS(xx(Ox(x,!0)).delete(h))}).then(function(){return delete y.c[h],lse(y,h)}).oa(function(){I&&y.b--})},n.ca=function(h){var y;this.a.length==0&&(fse(y=this),function I(){y.f=setTimeout(function(){y.l=hse(y).then(function(x){0<x.length&&Li(y.a,function(P){P(x)})}).then(function(){I()}).o(function(x){x.message!="STOP_EVENT"&&I()})},800)}()),this.a.push(h)},n.ia=function(h){tf(this.a,function(y){return y==h}),this.a.length==0&&fse(this)},(n=dse.prototype).get=function(h){return this.b.then(function(y){return y.get(h)})},n.set=function(h,y){return this.b.then(function(I){return I.set(h,y)})},n.U=function(h){return this.b.then(function(y){return y.U(h)})},n.ca=function(h){this.a.push(h)},n.ia=function(h){tf(this.a,function(y){return y==h})},(n=Nx.prototype).get=function(h){return nn(this.a[h])},n.set=function(h,y){return this.a[h]=y,nn()},n.U=function(h){return delete this.a[h],nn()},n.ca=function(){},n.ia=function(){},(n=IM.prototype).get=function(h){var y=this;return nn().then(function(){return SS(y.a.getItem(h))})},n.set=function(h,y){var I=this;return nn().then(function(){var x=fx(y);x===null?I.U(h):I.a.setItem(h,x)})},n.U=function(h){var y=this;return nn().then(function(){y.a.removeItem(h)})},n.ca=function(h){p.window&&ih(p.window,"storage",h)},n.ia=function(h){p.window&&rl(p.window,"storage",h)},(n=RB.prototype).get=function(){return nn(null)},n.set=function(){return nn()},n.U=function(){return nn()},n.ca=function(){},n.ia=function(){},(n=DB.prototype).get=function(h){var y=this;return nn().then(function(){return SS(y.a.getItem(h))})},n.set=function(h,y){var I=this;return nn().then(function(){var x=fx(y);x===null?I.U(h):I.a.setItem(h,x)})},n.U=function(h){var y=this;return nn().then(function(){y.a.removeItem(h)})},n.ca=function(){},n.ia=function(){};var mse,gse,HOe={F:IM,cb:DB},zOe={F:IM,cb:DB},KOe={F:tse,cb:RB},WOe={F:IM,cb:RB},AS={rd:"local",NONE:"none",td:"session"};function yse(){var h=!(Bie(ta())||!Nq()),y=hx(),I=Rq();this.m=h,this.h=y,this.l=I,this.a={},h=mse=mse||new BOe;try{this.g=!xq()&&zie()||!p.indexedDB?new h.a.F:new dse(new(rf()?Nx:h.a.F))}catch{this.g=new Nx,this.h=!0}try{this.i=new h.a.cb}catch{this.i=new Nx}this.v=new Nx,this.f=de(this.Zb,this),this.b={}}function Px(){return gse=gse||new yse}function Yb(h,y){switch(y){case"session":return h.i;case"none":return h.v;default:return h.g}}function xS(h,y){return"firebase:"+h.name+(y?":"+y:"")}function OS(h,y,I){return I=xS(y,I),y.F=="local"&&(h.b[I]=null),Yb(h,y.F).U(I)}function LB(h){h.c&&(clearInterval(h.c),h.c=null)}function GOe(h){this.a=h,this.b=Px()}(n=yse.prototype).get=function(h,y){return Yb(this,h.F).get(xS(h,y))},n.set=function(h,y,I){var x=xS(h,I),P=this,q=Yb(this,h.F);return q.set(x,y).then(function(){return q.get(x)}).then(function(K){h.F=="local"&&(P.b[x]=K)})},n.addListener=function(h,y,I){var x;h=xS(h,y),this.l&&(this.b[h]=p.localStorage.getItem(h)),Db(this.a)&&(Yb(this,"local").ca(this.f),this.h||(xq()||!zie())&&p.indexedDB||!this.l||(LB(x=this),x.c=setInterval(function(){for(var P in x.a){var q=p.localStorage.getItem(P),K=x.b[P];q!=K&&(x.b[P]=q,q=new Fb({type:"storage",key:P,target:window,oldValue:K,newValue:q,a:!0}),x.Zb(q))}},1e3))),this.a[h]||(this.a[h]=[]),this.a[h].push(I)},n.removeListener=function(h,y,I){h=xS(h,y),this.a[h]&&(tf(this.a[h],function(x){return x==I}),this.a[h].length==0&&delete this.a[h]),Db(this.a)&&(Yb(this,"local").ia(this.f),LB(this))},n.Zb=function(h){if(h&&h.g){var y=h.a.key;if(y==null)for(var I in this.a){var x=this.b[I];x===void 0&&(x=null);var P=p.localStorage.getItem(I);P!==x&&(this.b[I]=P,this.nb(I))}else if(y.indexOf("firebase:")==0&&this.a[y]){if(h.a.a!==void 0?Yb(this,"local").ia(this.f):LB(this),this.m){if(I=p.localStorage.getItem(y),(x=h.a.newValue)!==I)x!==null?p.localStorage.setItem(y,x):p.localStorage.removeItem(y);else if(this.b[y]===x&&h.a.a===void 0)return}var q=this,I=function(){h.a.a===void 0&&q.b[y]===p.localStorage.getItem(y)||(q.b[y]=p.localStorage.getItem(y),q.nb(y))};nf&&Ig&&Ig==10&&p.localStorage.getItem(y)!==h.a.newValue&&h.a.newValue!==h.a.oldValue?setTimeout(I,10):I()}}else Li(h,de(this.nb,this))},n.nb=function(h){this.a[h]&&Li(this.a[h],function(y){y()})};var MB,FB={name:"authEvent",F:"local"};function QOe(){this.a=Px()}function CM(h,y){this.b=bse,this.f=p.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=h,this.h=y,this.l=p.Int32Array?new Int32Array(64):Array(64),MB===void 0&&(MB=p.Int32Array?new Int32Array(Ese):Ese),this.reset()}Ke(CM,function(){this.b=-1});for(var bse=64,YOe=bse-1,wse=[],jB=0;jB<YOe;jB++)wse[jB]=0;var _se=sq(128,wse);function UB(h){for(var y=h.f,I=h.l,x=0,P=0;P<y.length;)I[x++]=y[P]<<24|y[P+1]<<16|y[P+2]<<8|y[P+3],P=4*x;for(y=16;y<64;y++){var P=0|I[y-15],x=0|I[y-2],q=(0|I[y-16])+((P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)|0,K=(0|I[y-7])+((x>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)|0;I[y]=q+K|0}x=0|h.a[0],P=0|h.a[1];var J=0|h.a[2],pe=0|h.a[3],Oe=0|h.a[4],Ye=0|h.a[5],Et=0|h.a[6];for(q=0|h.a[7],y=0;y<64;y++){var Kt=((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+(x&P^x&J^P&J)|0;K=(q=q+((Oe>>>6|Oe<<26)^(Oe>>>11|Oe<<21)^(Oe>>>25|Oe<<7))|0)+((K=(K=Oe&Ye^~Oe&Et)+(0|MB[y])|0)+(0|I[y])|0)|0,q=Et,Et=Ye,Ye=Oe,Oe=pe+K|0,pe=J,J=P,P=x,x=K+Kt|0}h.a[0]=h.a[0]+x|0,h.a[1]=h.a[1]+P|0,h.a[2]=h.a[2]+J|0,h.a[3]=h.a[3]+pe|0,h.a[4]=h.a[4]+Oe|0,h.a[5]=h.a[5]+Ye|0,h.a[6]=h.a[6]+Et|0,h.a[7]=h.a[7]+q|0}function $B(h,y,I){I===void 0&&(I=y.length);var x=0,P=h.c;if(typeof y=="string")for(;x<I;)h.f[P++]=y.charCodeAt(x++),P==h.b&&(UB(h),P=0);else{if(!j(y))throw Error("message must be string or array");for(;x<I;){var q=y[x++];if(!(typeof q=="number"&&0<=q&&q<=255&&q==(0|q)))throw Error("message must be a byte array");h.f[P++]=q,P==h.b&&(UB(h),P=0)}}h.c=P,h.g+=I}CM.prototype.reset=function(){this.g=this.c=0,this.a=p.Int32Array?new Int32Array(this.h):Rb(this.h)};var Ese=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sse(){CM.call(this,8,XOe)}Ke(Sse,CM);var XOe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Tse(h,y,I,x,P,q){this.v=h,this.i=y,this.l=I,this.m=x||null,this.u=P||null,this.s=q,this.h=y+":"+I,this.C=new QOe,this.g=new GOe(this.h),this.f=null,this.b=[],this.a=this.c=null}function kM(h){return new le("invalid-cordova-configuration",h)}function JOe(h){var y=new Sse;$B(y,h),h=[];var I=8*y.g;y.c<56?$B(y,_se,56-y.c):$B(y,_se,y.b-(y.c-56));for(var x=63;56<=x;x--)y.f[x]=255&I,I/=256;for(UB(y),x=I=0;x<y.i;x++)for(var P=24;0<=P;P-=8)h[I++]=y.a[x]>>P&255;return $L(h,function(q){return 1<(q=q.toString(16)).length?q:"0"+q}).join("")}function Ise(h,y){for(var I=0;I<h.b.length;I++)try{h.b[I](y)}catch{}}function Cse(h){return h.f||(h.f=h.ma().then(function(){return new Gn(function(y){function I(pe){q=!0,K&&K.cancel(),VB(x).then(function(Oe){var Ye,Et=P;Oe&&pe&&pe.url&&(Ye=null,Et=(Ye=(Et=moe(pe.url)).indexOf("/__/auth/callback")!=-1?(Ye=typeof(Ye=SS(oh(Ye=ac(Et),"firebaseError")||null))=="object"?De(Ye):null)?new of(Oe.c,Oe.b,null,null,Ye,null,Oe.T()):new of(Oe.c,Oe.b,Et,Oe.f,null,null,Oe.T()):Ye)||P),Ise(x,Et)})}var x,P,q,K,J;h.Ea(function pe(Oe){return y(Oe),h.Ta(pe),!1}),x=h,P=new of("unknown",null,null,null,new le("no-auth-event")),q=!1,K=gS(500).then(function(){return VB(x).then(function(){q||Ise(x,P)})}),J=p.handleOpenURL,p.handleOpenURL=function(pe){if(pe.toLowerCase().indexOf(Ii("BuildInfo.packageName",p).toLowerCase()+"://")==0&&I({url:pe}),typeof J=="function")try{J(pe)}catch(Oe){console.error(Oe)}},rB=rB||new Kxe,function(pe){var Oe=rB;Oe.a.push(pe),Oe.b||(Oe.b=function(Ye){for(var Et=0;Et<Oe.a.length;Et++)Oe.a[Et](Ye)},typeof(pe=Ii("universalLinks.subscribe",p))=="function"&&pe(null,Oe.b))}(I)})})),h.f}function VB(h){var y,I=null;return(y=h.g).b.get(FB,y.a).then(Toe).then(function(x){return I=x,OS((x=h.g).b,FB,x.a)}).then(function(){return I})}function ZOe(h){this.a=h,this.b=Px()}(n=Tse.prototype).ma=function(){return this.Ia||(this.Ia=(Oq(void 0)?tM().then(function(){return new Gn(function(h,y){var I=p.document,x=setTimeout(function(){y(Error("Cordova framework is not ready."))},1e3);I.addEventListener("deviceready",function(){clearTimeout(x),h()},!1)})}):Ti(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if(typeof Ii("universalLinks.subscribe",p)!="function")throw kM("cordova-universal-links-plugin-fix is not installed");if(Ii("BuildInfo.packageName",p)===void 0)throw kM("cordova-plugin-buildinfo is not installed");if(typeof Ii("cordova.plugins.browsertab.openUrl",p)!="function")throw kM("cordova-plugin-browsertab is not installed");if(typeof Ii("cordova.InAppBrowser.open",p)!="function")throw kM("cordova-plugin-inappbrowser is not installed")},function(){throw new le("cordova-not-ready")}))},n.Pb=function(h,y){return y(new le("operation-not-supported-in-this-environment")),nn()},n.Nb=function(){return Ti(new le("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(h,y,I,x){if(this.c)return Ti(new le("redirect-operation-pending"));var P=this,q=p.document,K=null,J=null,pe=null,Oe=null;return this.c=nn().then(function(){return tB(y),Cse(P)}).then(function(){return function(Ye,Et,Kt,Ci,lo){var Av=function(){for(var ew=20,tw=[];0<ew;)tw.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),ew--;return tw.join("")}(),hNe=new of(Et,Ci,null,Av,new le("no-auth-event"),null,lo),A8=Ii("BuildInfo.packageName",p);if(typeof A8!="string")throw new le("invalid-cordova-configuration");var Eae=Ii("BuildInfo.displayName",p),jx={};if(ta().toLowerCase().match(/iphone|ipad|ipod/))jx.ibi=A8;else{if(!ta().toLowerCase().match(/android/))return Ti(new le("operation-not-supported-in-this-environment"));jx.apn=A8}Eae&&(jx.appDisplayName=Eae),Av=JOe(Av),jx.sessionId=Av;var Sae=Ax(Ye.v,Ye.i,Ye.l,Et,Kt,null,Ci,Ye.m,jx,Ye.u,lo,Ye.s);return Ye.ma().then(function(){var ew=Ye.h;return Ye.C.a.set(FB,hNe.w(),ew)}).then(function(){var ew=Ii("cordova.plugins.browsertab.isAvailable",p);if(typeof ew!="function")throw new le("invalid-cordova-configuration");var tw=null;ew(function($M){if($M){if(typeof(tw=Ii("cordova.plugins.browsertab.openUrl",p))!="function")throw new le("invalid-cordova-configuration");tw(Sae)}else{if(typeof(tw=Ii("cordova.InAppBrowser.open",p))!="function")throw new le("invalid-cordova-configuration");$M=ta(),Ye.a=tw(Sae,$M.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||$M.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(P,h,y,I,x)}).then(function(){return new Gn(function(Ye,Et){J=function(){var Kt=Ii("cordova.plugins.browsertab.close",p);return Ye(),typeof Kt=="function"&&Kt(),P.a&&typeof P.a.close=="function"&&(P.a.close(),P.a=null),!1},P.Ea(J),pe=function(){K=K||gS(2e3).then(function(){Et(new le("redirect-cancelled-by-user"))})},Oe=function(){Dq()&&pe()},q.addEventListener("resume",pe,!1),ta().toLowerCase().match(/android/)||q.addEventListener("visibilitychange",Oe,!1)}).o(function(Ye){return VB(P).then(function(){throw Ye})})}).oa(function(){pe&&q.removeEventListener("resume",pe,!1),Oe&&q.removeEventListener("visibilitychange",Oe,!1),K&&K.cancel(),J&&P.Ta(J),P.c=null})},n.Ea=function(h){this.b.push(h),Cse(this).o(function(y){y.code==="auth/invalid-cordova-configuration"&&(y=new of("unknown",null,null,null,new le("no-auth-event")),h(y))})},n.Ta=function(h){tf(this.b,function(y){return y==h})};var qB={name:"pendingRedirect",F:"session"};function BB(h){return OS(h.b,qB,h.a)}function AM(h,y,I,x){this.i={},this.u=0,this.D=h,this.v=y,this.m=I,this.J=x,this.h=[],this.f=!1,this.l=de(this.s,this),this.b=new OM,this.C=new Mse,this.g=new ZOe(Rse(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=kse(this.D,this.v,this.m,lt,this.J)}function kse(h,y,I,x,P){var q=Ht.SDK_VERSION||null;return new(Oq()?Tse:Xoe)(h,y,I,q,x,P)}function Ase(h){h.f||(h.f=!0,h.a.Ea(h.l));var y=h.a;return h.a.ma().o(function(I){throw h.a==y&&h.reset(),I})}function xse(h){h.a.Yb()&&Ase(h).o(function(y){var I=new of("unknown",null,null,null,new le("operation-not-supported-in-this-environment"));zB(y)&&h.s(I)}),h.a.Ub()||Dse(h.b)}function xM(h,y){Sv(h.h,y)||h.h.push(y),h.f||(y=h.g).b.get(qB,y.a).then(function(I){return I=="pending"}).then(function(I){I?BB(h.g).then(function(){Ase(h).o(function(x){var P=new of("unknown",null,null,null,new le("operation-not-supported-in-this-environment"));zB(x)&&h.s(P)})}):xse(h)}).o(function(){xse(h)})}function HB(h,y){tf(h.h,function(I){return I==y})}AM.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=kse(this.D,this.v,this.m,null,this.J),this.i={}},AM.prototype.s=function(h){if(!h)throw new le("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),h&&h.getUid()&&this.i.hasOwnProperty(h.getUid()))return!1;for(var y=!1,I=0;I<this.h.length;I++){var x=this.h[I];if(x.Gb(h.c,h.b)){(y=this.c[h.c])&&(y.h(h,x),h&&(h.f||h.b)&&(this.i[h.getUid()]=!0,this.u=Date.now())),y=!0;break}}return Dse(this.b),y};var eNe=new Ag(2e3,1e4),tNe=new Ag(3e4,6e4);function Ose(h,y,I,x,P,q,K){return h.a.Nb(y,I,x,function(){h.f||(h.f=!0,h.a.Ea(h.l))},function(){h.reset()},P,q,K)}function zB(h){return!(!h||h.code!="auth/cordova-not-ready")}function Nse(h,y,I,x,P){var q,K;return(K=h.g).b.set(qB,"pending",K.a).then(function(){return h.a.Ob(y,I,x,P).o(function(J){if(zB(J))throw new le("operation-not-supported-in-this-environment");return q=J,BB(h.g).then(function(){throw q})}).then(function(){return h.a.ac()?new Gn(function(){}):BB(h.g).then(function(){return h.ra()}).then(function(){}).o(function(){})})})}function Pse(h,y,I,x,P){return h.a.Pb(x,function(q){y.na(I,null,q,P)},eNe.get())}AM.prototype.ra=function(){return this.b.ra()};var KB={};function Rse(h,y,I){return h=h+":"+y,h=I?h+":"+I.url:h}function WB(h,y,I,x){var P=Rse(y,I,x);return KB[P]||(KB[P]=new AM(h,y,I,x)),KB[P]}function OM(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Dse(h){h.g||(h.g=!0,Xb(h,!1,null,null))}function NM(h){h.g&&!h.i&&Xb(h,!1,null,null)}function Lse(h,y){if(h.b=function(){return nn(y)},h.f.length)for(var I=0;I<h.f.length;I++)h.f[I](y)}function Xb(h,y,I,x){y?x?function(P,q){if(P.b=function(){return Ti(q)},P.c.length)for(var K=0;K<P.c.length;K++)P.c[K](q)}(h,x):Lse(h,I):Lse(h,{user:null}),h.f=[],h.c=[]}function Mse(){}function Fse(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(h){this.jb=h},enumerable:!1})}function GB(h,y){this.a=y,qt(this,"verificationId",h)}function QB(h,y,I,x){return new Cv(h).gb(y,I).then(function(P){return new GB(P,x)})}function nNe(h){var y=uoe(h);if(!(y&&y.exp&&y.auth_time&&y.iat))throw new le("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Tu(this,{token:h,expirationTime:dx(1e3*y.exp),authTime:dx(1e3*y.auth_time),issuedAtTime:dx(1e3*y.iat),signInProvider:y.firebase&&y.firebase.sign_in_provider?y.firebase.sign_in_provider:null,signInSecondFactor:y.firebase&&y.firebase.sign_in_second_factor?y.firebase.sign_in_second_factor:null,claims:y})}function YB(h,y,I){var x=y&&y[Use];if(!x)throw new le("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=h,this.f=Tg(y),this.g=I,this.c=new cM(null,x),this.b=[];var P=this;Li(y[jse]||[],function(q){(q=$q(q))&&P.b.push(q)}),qt(this,"auth",this.a),qt(this,"session",this.c),qt(this,"hints",this.b)}OM.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},OM.prototype.h=function(h,y){var I,x,P,q;h?(this.reset(),this.g=!0,I=h.c,x=h.b,P=h.a&&h.a.code=="auth/web-storage-unsupported",q=h.a&&h.a.code=="auth/operation-not-supported-in-this-environment",this.i=!(!P&&!q),I!="unknown"||P||q?h.a?(Xb(this,!0,null,h.a),nn()):y.Fa(I,x)?function(K,J,pe){pe=pe.Fa(J.c,J.b);var Oe=J.g,Ye=J.f,Et=J.i,Kt=J.T(),Ci=!!J.c.match(/Redirect$/);pe(Oe,Ye,Kt,Et).then(function(lo){Xb(K,Ci,lo,null)}).o(function(lo){Xb(K,Ci,null,lo)})}(this,h,y):Ti(new le("invalid-auth-event")):(Xb(this,!1,null,null),nn())):Ti(new le("invalid-auth-event"))},OM.prototype.ra=function(){var h=this;return new Gn(function(y,I){var x,P;h.b?h.b().then(y,I):(h.f.push(y),h.c.push(I),x=h,P=new le("timeout"),x.a&&x.a.cancel(),x.a=gS(tNe.get()).then(function(){x.b||(x.g=!0,Xb(x,!0,null,P))}))})},Mse.prototype.h=function(h,y){var I,x,P,q,K;h?(I=h.c,x=h.b,h.a?(y.na(h.c,null,h.a,h.b),nn()):y.Fa(I,x)?(P=y,q=(h=h).b,K=h.c,P.Fa(K,q)(h.g,h.f,h.T(),h.i).then(function(J){P.na(K,J,null,q)}).o(function(J){P.na(K,null,J,q)})):Ti(new le("invalid-auth-event"))):Ti(new le("invalid-auth-event"))},GB.prototype.confirm=function(h){return h=Soe(this.verificationId,h),this.a(h)};var jse="mfaInfo",Use="mfaPendingCredential";function XB(h,y,I,x){le.call(this,"multi-factor-auth-required",x,y),this.b=new YB(h,y,I),qt(this,"resolver",this.b)}function $se(h,y,I){if(h&&W(h.serverResponse)&&h.code==="auth/multi-factor-auth-required")try{return new XB(y,h.serverResponse,I,h.message)}catch{}return null}function Vse(){}function JB(h){qt(this,"factorId",h.fa),this.a=h}function qse(h){if(JB.call(this,h),this.a.fa!=Cv.PROVIDER_ID)throw new le("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function NS(h,y){for(var I in sc.call(this,h),y)this[I]=y[I]}function ZB(h,y){this.a=h,this.b=[],this.c=de(this.yc,this),ih(this.a,"userReloaded",this.c);var I=[];y&&y.multiFactor&&y.multiFactor.enrolledFactors&&Li(y.multiFactor.enrolledFactors,function(x){var P=null,q={};if(x){x.uid&&(q[qq]=x.uid),x.displayName&&(q[Wie]=x.displayName),x.enrollmentTime&&(q[Vq]=new Date(x.enrollmentTime).toISOString()),x.phoneNumber&&(q[Bq]=x.phoneNumber);try{P=new px(q)}catch{}x=P}else x=null;x&&I.push(x)}),PM(this,I)}function PM(h,y){h.b=y,qt(h,"enrolledFactors",y)}function e8(h,y,I){if(this.h=h,this.i=y,this.g=I,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rNe(h,y){return y?(h.a=h.c,h.g()):(y=h.a,h.a*=2,h.a>h.f&&(h.a=h.f),y)}function t8(h){this.f=h,this.b=this.a=null,this.c=Date.now()}function Bse(h,y){y===void 0&&(y=h.b?(y=h.b).a-y.g:0),h.c=Date.now()+1e3*y}function Hse(h,y){h.b=aM(y[af]||""),h.a=y.refreshToken,Bse(h,(y=y.expiresIn)!==void 0?Number(y):void 0)}function iNe(h,y){return I=h.f,x=y,new Gn(function(P,q){x.grant_type=="refresh_token"&&x.refresh_token||x.grant_type=="authorization_code"&&x.code?Voe(I,I.l+"?key="+encodeURIComponent(I.c),function(K){K?K.error?q(IB(K)):K.access_token&&K.refresh_token?P(K):q(new le("internal-error")):q(new le("network-request-failed"))},"POST",Oie(x).toString(),I.g,I.m.get()):q(new le("internal-error"))}).then(function(P){return h.b=aM(P.access_token),h.a=P.refresh_token,Bse(h,P.expires_in),{accessToken:h.b.toString(),refreshToken:h.a}}).o(function(P){throw P.code=="auth/user-token-expired"&&(h.a=null),P});var I,x}function RM(h,y){this.a=h||null,this.b=y||null,Tu(this,{lastSignInTime:dx(y||null),creationTime:dx(h||null)})}function oNe(h,y,I,x,P,q){Tu(this,{uid:h,displayName:x||null,photoURL:P||null,email:I||null,phoneNumber:q||null,providerId:y})}function ol(h,y,I){this.N=[],this.l=h.apiKey,this.m=h.appName,this.s=h.authDomain||null;var x,P=Ht.SDK_VERSION?_S(Ht.SDK_VERSION):null;this.a=new sf(this.l,Tn(lt),P),(this.u=h.emulatorConfig||null)&&SM(this.a,this.u),this.h=new t8(this.a),u8(this,y[af]),Hse(this.h,y),qt(this,"refreshToken",this.h.a),Kse(this,I||{}),Su.call(this),this.P=!1,this.s&&Vb()&&(this.b=WB(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(x=this,new e8(function(){return x.I(!0)},function(K){return!(!K||K.code!="auth/network-request-failed")},function(){var K=x.h.c-Date.now()-3e5;return 0<K?K:0})),this.ba=de(this.ib,this);var q=this;this.za=null,this.Pa=function(K){q.xa(K.h)},this.qa=null,this.Ba=function(K){n8(q,K.c)},this.$=null,this.aa=[],this.Oa=function(K){Rx(q,K.f)},this.ja=null,this.S=new ZB(this,I),qt(this,"multiFactor",this.S)}function n8(h,y){h.u=y,SM(h.a,y),h.b&&(y=h.b,h.b=WB(h.s,h.l,h.m,h.u),h.P&&(HB(y,h),xM(h.b,h)))}function r8(h,y){h.qa&&rl(h.qa,"languageCodeChanged",h.Pa),(h.qa=y)&&ih(y,"languageCodeChanged",h.Pa)}function i8(h,y){h.$&&rl(h.$,"emulatorConfigChanged",h.Ba),(h.$=y)&&ih(y,"emulatorConfigChanged",h.Ba)}function Rx(h,y){h.aa=y,$oe(h.a,Ht.SDK_VERSION?_S(Ht.SDK_VERSION,h.aa):null)}function o8(h,y){h.ja&&rl(h.ja,"frameworkChanged",h.Oa),(h.ja=y)&&ih(y,"frameworkChanged",h.Oa)}function s8(h){try{return Ht.app(h.m).auth()}catch{throw new le("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+h.m+"'!")}}function zse(h){h.J||h.D.b||(h.D.start(),rl(h,"tokenChanged",h.ba),ih(h,"tokenChanged",h.ba))}function a8(h){rl(h,"tokenChanged",h.ba),h.D.stop()}function u8(h,y){h.Aa=y,qt(h,"_lat",y)}function Jb(h){for(var y=[],I=0;I<h.W.length;I++)y.push(h.W[I](h));return lie(y).then(function(){return h})}function Dx(h){h.b&&!h.P&&(h.P=!0,xM(h.b,h))}function Kse(h,y){Tu(h,{uid:y.uid,displayName:y.displayName||null,photoURL:y.photoURL||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,isAnonymous:y.isAnonymous||!1,tenantId:y.tenantId||null,metadata:new RM(y.createdAt,y.lastLoginAt),providerData:[]}),h.a.b=h.tenantId}function Wse(){}function c8(h){return nn().then(function(){if(h.J)throw new le("app-deleted")})}function l8(h){return $L(h.providerData,function(y){return y.providerId})}function h8(h,y){y&&(Gse(h,y.providerId),h.providerData.push(y))}function Gse(h,y){tf(h.providerData,function(I){return I.providerId==y})}function Ng(h,y,I){(y!="uid"||I)&&h.hasOwnProperty(y)&&qt(h,y,I)}function DM(h,y){var I,x;h!=y&&(Tu(h,{uid:y.uid,displayName:y.displayName,photoURL:y.photoURL,email:y.email,emailVerified:y.emailVerified,phoneNumber:y.phoneNumber,isAnonymous:y.isAnonymous,tenantId:y.tenantId,providerData:[]}),y.metadata?qt(h,"metadata",new RM((x=y.metadata).a,x.b)):qt(h,"metadata",new RM),Li(y.providerData,function(P){h8(h,P)}),I=h.h,x=y.h,I.b=x.b,I.a=x.a,I.c=x.c,qt(h,"refreshToken",h.h.a),PM(h.S,y.S.b))}function f8(h){return h.I().then(function(y){var I,x=h.isAnonymous;return Jn((I=h).a,bOe,{idToken:y}).then(de(I.Kc,I)).then(function(){return x||Ng(h,"isAnonymous",!1),y})})}function Fd(h,y){y[af]&&h.Aa!=y[af]&&(Hse(h.h,y),h.dispatchEvent(new NS("tokenChanged")),u8(h,y[af]),Ng(h,"refreshToken",h.h.a))}function LM(h,y){return f8(h).then(function(){if(Sv(l8(h),y))return Jb(h).then(function(){throw new le("provider-already-linked")})})}function Lx(h,y,I){return Ld({user:h,credential:eB(y),additionalUserInfo:y=loe(y),operationType:I})}function Qse(h,y){return Fd(h,y),h.reload().then(function(){return h})}function Yse(h,y,I,x,P){if(!Vb())return Ti(new le("operation-not-supported-in-this-environment"));if(h.i&&!P)return Ti(h.i);var q=Gq(I.providerId),K=qb(h.uid+":::"),J=null,pe=jie(J=(!hx()||Nq())&&h.s&&I.isOAuthProvider?Ax(h.s,h.l,h.m,y,I,null,K,Ht.SDK_VERSION||null,null,null,h.tenantId,h.u):J,q&&q.va,q&&q.ua);return x=x().then(function(){if(Jse(h),!P)return h.I().then(function(){})}).then(function(){return Ose(h.b,pe,y,I,K,!!J,h.tenantId)}).then(function(){return new Gn(function(Oe,Ye){h.na(y,null,new le("cancelled-popup-request"),h.g||null),h.f=Oe,h.C=Ye,h.g=K,h.c=Pse(h.b,h,y,pe,K)})}).then(function(Oe){return pe&&$b(pe),Oe?Ld(Oe):null}).o(function(Oe){throw pe&&$b(pe),Oe}),Xo(h,x,P)}function Xse(h,y,I,x,P){if(!Vb())return Ti(new le("operation-not-supported-in-this-environment"));if(h.i&&!P)return Ti(h.i);var q=null,K=qb(h.uid+":::");return x=x().then(function(){if(Jse(h),!P)return h.I().then(function(){})}).then(function(){return h.ga=K,Jb(h)}).then(function(J){return J=h.ha?(J=h.ha).b.set(d8,h.w(),J.a):J}).then(function(){return Nse(h.b,y,I,K,h.tenantId)}).o(function(J){if(q=J,h.ha)return eae(h.ha);throw q}).then(function(){if(q)throw q}),Xo(h,x,P)}function Jse(h){if(!h.b||!h.P)throw h.b&&!h.P?new le("internal-error"):new le("auth-domain-config-required")}function Xo(h,y,I){var x,P=(y=y,I=I,(x=h).i&&!I?(y.cancel(),Ti(x.i)):y.o(function(q){throw!q||q.code!="auth/user-disabled"&&q.code!="auth/user-token-expired"||(x.i||x.dispatchEvent(new NS("userInvalidated")),x.i=q),q}));return h.N.push(P),P.oa(function(){VL(h.N,P)}),P.o(function(q){var K=null;throw(K=q&&q.code==="auth/multi-factor-auth-required"?$se(q.w(),s8(h),de(h.jc,h)):K)||q})}function Zse(h){if(!h.apiKey)return null;var y={apiKey:h.apiKey,authDomain:h.authDomain,appName:h.appName,emulatorConfig:h.emulatorConfig},I={};if(!h.stsTokenManager||!h.stsTokenManager.accessToken)return null;I[af]=h.stsTokenManager.accessToken,I.refreshToken=h.stsTokenManager.refreshToken||null;var x=h.stsTokenManager.expirationTime;x&&(I.expiresIn=(x-Date.now())/1e3);var P=new ol(y,I,h);return h.providerData&&Li(h.providerData,function(q){q&&h8(P,Ld(q))}),h.redirectEventId&&(P.ga=h.redirectEventId),P}function sNe(h){this.a=h,this.b=Px()}YB.prototype.Rc=function(h){var y=this;return h.tb(this.a.a,this.c).then(function(I){var x=Tg(y.f);return delete x[jse],delete x[Use],oc(x,I),y.g(x)})},Ke(XB,le),Vse.prototype.tb=function(h,y,I){return y.type==gx?(q=this,K=h,J=I,y.Ha().then(function(pe){return pe={idToken:pe},J!==void 0&&(pe.displayName=J),oc(pe,{phoneVerificationInfo:yx(q.a)}),Jn(K,gOe,pe)})):(x=this,P=h,y.Ha().then(function(pe){return oc(pe={mfaPendingCredential:pe},{phoneVerificationInfo:yx(x.a)}),Jn(P,yOe,pe)}));var x,P,q,K,J},Ke(JB,Vse),Ke(qse,JB),Ke(NS,sc),(n=ZB.prototype).yc=function(h){var y;PM(this,(h=h.hd,y=[],Li(h.mfaInfo||[],function(I){(I=$q(I))&&y.push(I)}),y))},n.Sb=function(){return this.a.I().then(function(h){return new cM(h,null)})},n.fc=function(h,y){var I=this,x=this.a.a;return this.Sb().then(function(P){return h.tb(x,P,y)}).then(function(P){return Fd(I.a,P),I.a.reload()})},n.bd=function(h){var y=this,I=typeof h=="string"?h:h.uid,x=this.a.a;return this.a.I().then(function(P){return Jn(x,jOe,{idToken:P,mfaEnrollmentId:I})}).then(function(P){var q=HAe(y.b,function(K){return K.uid!=I});return PM(y,q),Fd(y.a,P),y.a.reload().o(function(K){if(K.code!="auth/user-token-expired")throw K})})},n.w=function(){return{multiFactor:{enrolledFactors:$L(this.b,function(h){return h.w()})}}},e8.prototype.start=function(){this.a=this.c,function h(y,I){y.stop(),y.b=gS(rNe(y,I)).then(kxe).then(function(){return y.h()}).then(function(){h(y,!0)}).o(function(x){y.i(x)&&h(y,!1)})}(this,!0)},e8.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},t8.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},t8.prototype.getToken=function(h){return h=!!h,this.b&&!this.a?Ti(new le("user-token-expired")):h||!this.b||Date.now()>this.c-3e4?this.a?iNe(this,{grant_type:"refresh_token",refresh_token:this.a}):nn(null):nn({accessToken:this.b.toString(),refreshToken:this.a})},RM.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},Ke(ol,Su),ol.prototype.xa=function(h){this.za=h,Uoe(this.a,h)},ol.prototype.la=function(){return this.za},ol.prototype.Ga=function(){return Rb(this.aa)},ol.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},qt(ol.prototype,"providerId","firebase"),(n=ol.prototype).reload=function(){var h=this;return Xo(this,c8(this).then(function(){return f8(h).then(function(){return Jb(h)}).then(Wse)}))},n.oc=function(h){return this.I(h).then(function(y){return new nNe(y)})},n.I=function(h){var y=this;return Xo(this,c8(this).then(function(){return y.h.getToken(h)}).then(function(I){if(!I)throw new le("internal-error");return I.accessToken!=y.Aa&&(u8(y,I.accessToken),y.dispatchEvent(new NS("tokenChanged"))),Ng(y,"refreshToken",I.refreshToken),I.accessToken}))},n.Kc=function(h){if(!(h=h.users)||!h.length)throw new le("internal-error");Kse(this,{uid:(h=h[0]).localId,displayName:h.displayName,photoURL:h.photoUrl,email:h.email,emailVerified:!!h.emailVerified,phoneNumber:h.phoneNumber,lastLoginAt:h.lastLoginAt,createdAt:h.createdAt,tenantId:h.tenantId});for(var y,I=(y=(y=h).providerUserInfo)&&y.length?$L(y,function(P){return new oNe(P.rawId,P.providerId,P.email,P.displayName,P.photoUrl,P.phoneNumber)}):[],x=0;x<I.length;x++)h8(this,I[x]);Ng(this,"isAnonymous",!(this.email&&h.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new NS("userReloaded",{hd:h}))},n.Lc=function(h){return Mq("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(h)},n.ub=function(h){var y=this,I=null;return Xo(this,h.c(this.a,this.uid).then(function(x){return Fd(y,x),I=Lx(y,x,"reauthenticate"),y.i=null,y.reload()}).then(function(){return I}),!0)},n.Cc=function(h){return Mq("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(h)},n.rb=function(h){var y=this,I=null;return Xo(this,LM(this,h.providerId).then(function(){return y.I()}).then(function(x){return h.b(y.a,x)}).then(function(x){return I=Lx(y,x,"link"),Qse(y,x)}).then(function(){return I}))},n.Dc=function(h,y){var I=this;return Xo(this,LM(this,"phone").then(function(){return QB(s8(I),h,y,de(I.rb,I))}))},n.Mc=function(h,y){var I=this;return Xo(this,nn().then(function(){return QB(s8(I),h,y,de(I.ub,I))}),!0)},n.Cb=function(h){var y=this;return Xo(this,this.I().then(function(I){return y.a.Cb(I,h)}).then(function(I){return Fd(y,I),y.reload()}))},n.ed=function(h){var y=this;return Xo(this,this.I().then(function(I){return h.b(y.a,I)}).then(function(I){return Fd(y,I),y.reload()}))},n.Db=function(h){var y=this;return Xo(this,this.I().then(function(I){return y.a.Db(I,h)}).then(function(I){return Fd(y,I),y.reload()}))},n.Eb=function(h){if(h.displayName===void 0&&h.photoURL===void 0)return c8(this);var y=this;return Xo(this,this.I().then(function(I){return y.a.Eb(I,{displayName:h.displayName,photoUrl:h.photoURL})}).then(function(I){return Fd(y,I),Ng(y,"displayName",I.displayName||null),Ng(y,"photoURL",I.photoUrl||null),Li(y.providerData,function(x){x.providerId==="password"&&(qt(x,"displayName",y.displayName),qt(x,"photoURL",y.photoURL))}),Jb(y)}).then(Wse))},n.cd=function(h){var y=this;return Xo(this,f8(this).then(function(I){return Sv(l8(y),h)?Jn(y.a,pOe,{idToken:I,deleteProvider:[h]}).then(function(x){var P={};return Li(x.providerUserInfo||[],function(q){P[q.providerId]=!0}),Li(l8(y),function(q){P[q]||Gse(y,q)}),P[Cv.PROVIDER_ID]||qt(y,"phoneNumber",null),Jb(y)}):Jb(y).then(function(){throw new le("no-such-provider")})}))},n.delete=function(){var h=this;return Xo(this,this.I().then(function(y){return Jn(h.a,dOe,{idToken:y})}).then(function(){h.dispatchEvent(new NS("userDeleted"))})).then(function(){for(var y=0;y<h.N.length;y++)h.N[y].cancel("app-deleted");r8(h,null),i8(h,null),o8(h,null),h.N=[],h.J=!0,a8(h),qt(h,"refreshToken",null),h.b&&HB(h.b,h)})},n.Gb=function(h,y){return!!(h=="linkViaPopup"&&(this.g||null)==y&&this.f||h=="reauthViaPopup"&&(this.g||null)==y&&this.f||h=="linkViaRedirect"&&(this.ga||null)==y||h=="reauthViaRedirect"&&(this.ga||null)==y)},n.na=function(h,y,I,x){h!="linkViaPopup"&&h!="reauthViaPopup"||x!=(this.g||null)||(I&&this.C?this.C(I):y&&!I&&this.f&&this.f(y),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(h,y){return h=="linkViaPopup"&&y==(this.g||null)?de(this.Lb,this):h=="reauthViaPopup"&&y==(this.g||null)?de(this.Mb,this):h=="linkViaRedirect"&&(this.ga||null)==y?de(this.Lb,this):h=="reauthViaRedirect"&&(this.ga||null)==y?de(this.Mb,this):null},n.Ec=function(h){var y=this;return Yse(this,"linkViaPopup",h,function(){return LM(y,h.providerId).then(function(){return Jb(y)})},!1)},n.Nc=function(h){return Yse(this,"reauthViaPopup",h,function(){return nn()},!0)},n.Fc=function(h){var y=this;return Xse(this,"linkViaRedirect",h,function(){return LM(y,h.providerId)},!1)},n.Oc=function(h){return Xse(this,"reauthViaRedirect",h,function(){return nn()},!0)},n.Lb=function(h,y,I,x){var P=this;this.c&&(this.c.cancel(),this.c=null);var q=null;return I=this.I().then(function(K){return EB(P.a,{requestUri:h,postBody:x,sessionId:y,idToken:K})}).then(function(K){return q=Lx(P,K,"link"),Qse(P,K)}).then(function(){return q}),Xo(this,I)},n.Mb=function(h,y,I,x){var P=this;this.c&&(this.c.cancel(),this.c=null);var q=null;return Xo(this,nn().then(function(){return IS(SB(P.a,{requestUri:h,sessionId:y,postBody:x,tenantId:I}),P.uid)}).then(function(K){return q=Lx(P,K,"reauthenticate"),Fd(P,K),P.i=null,P.reload()}).then(function(){return q}),!0)},n.vb=function(h){var y=this,I=null;return Xo(this,this.I().then(function(x){return I=x,h===void 0||Db(h)?{}:oM(new iM(h))}).then(function(x){return y.a.vb(I,x)}).then(function(x){if(y.email!=x)return y.reload()}).then(function(){}))},n.Fb=function(h,y){var I=this,x=null;return Xo(this,this.I().then(function(P){return x=P,y===void 0||Db(y)?{}:oM(new iM(y))}).then(function(P){return I.a.Fb(x,h,P)}).then(function(P){if(I.email!=P)return I.reload()}).then(function(){}))},n.jc=function(h){var y=null,I=this;return Xo(this,h=IS(nn(h),I.uid).then(function(x){return y=Lx(I,x,"reauthenticate"),Fd(I,x),I.i=null,I.reload()}).then(function(){return y}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var h={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&oc(h,this.metadata.w()),Li(this.providerData,function(y){h.providerData.push(function(I){var x,P={};for(x in I)I.hasOwnProperty(x)&&(P[x]=I[x]);return P}(y))}),oc(h,this.S.w()),h};var d8={name:"redirectUser",F:"session"};function eae(h){return OS(h.b,d8,h.a)}function p8(h){var y,I,x,P;this.a=h,this.b=Px(),this.c=null,this.f=(I=jd("local"),x=jd("session"),P=jd("none"),function(q,K,J){var pe=xS(K,J),Oe=Yb(q,K.F);return q.get(K,J).then(function(Ye){var Et=null;try{Et=SS(p.localStorage.getItem(pe))}catch{}if(Et&&!Ye)return p.localStorage.removeItem(pe),q.set(K,Et,J);Et&&Ye&&Oe.type!="localStorage"&&p.localStorage.removeItem(pe)})}((y=this).b,I,y.a).then(function(){return y.b.get(x,y.a)}).then(function(q){return q?x:y.b.get(P,y.a).then(function(K){return K?P:y.b.get(I,y.a).then(function(J){return J?I:y.b.get(m8,y.a).then(function(pe){return pe?jd(pe):I})})})}).then(function(q){return y.c=q,v8(y,q.F)}).o(function(){y.c||(y.c=I)})),this.b.addListener(jd("local"),this.a,de(this.g,this))}function v8(h,y){var I,x,P=[];for(I in AS)AS[I]!==y&&P.push(OS(h.b,jd(AS[I]),h.a));return P.push(OS(h.b,m8,h.a)),x=P,new Gn(function(q,K){var J=x.length,pe=[];if(J)for(var Oe=function(Kt,Ci){J--,pe[Kt]=Ci,J==0&&q(pe)},Ye=function(Kt){K(Kt)},Et=0;Et<x.length;Et++)cie(x[Et],Je(Oe,Et),Ye);else q(pe)})}p8.prototype.g=function(){var h=this,y=jd("local");PS(this,function(){return nn().then(function(){return h.c&&h.c.F!="local"?h.b.get(y,h.a):null}).then(function(I){if(I)return v8(h,"local").then(function(){h.c=y})})})};var m8={name:"persistence",F:"session"};function jd(h){return{name:"authUser",F:h}}function tae(h,y){return PS(h,function(){return h.b.set(h.c,y.w(),h.a)})}function nae(h){return PS(h,function(){return OS(h.b,h.c,h.a)})}function rae(h,y,I){return PS(h,function(){return h.b.get(h.c,h.a).then(function(x){return x&&y&&(x.authDomain=y),x&&I&&(x.emulatorConfig=I),Zse(x||{})})})}function PS(h,y){return h.f=h.f.then(y,y),h.f}function Ud(h){if(this.l=!1,qt(this,"settings",new Fse),qt(this,"app",h),!this.app.options||!this.app.options.apiKey)throw new le("invalid-api-key");var y,I,x,P,q,K;h=Ht.SDK_VERSION?_S(Ht.SDK_VERSION):null,this.a=new sf(this.app.options&&this.app.options.apiKey,Tn(lt),h),this.P=[],this.s=[],this.N=[],this.Pa=Ht.INTERNAL.createSubscribe(de(this.zc,this)),this.W=void 0,this.ib=Ht.INTERNAL.createSubscribe(de(this.Ac,this)),RS(this,null),this.i=new p8(this.app.options.apiKey+":"+this.app.name),this.D=new sNe(this.app.options.apiKey+":"+this.app.name),this.$=Gi(this,(I=(y=this).app.options.authDomain,h=function(J){var pe=function(Oe,Ye){return Oe.b.get(d8,Oe.a).then(function(Et){return Et&&Ye&&(Et.authDomain=Ye),Zse(Et||{})})}(J.D,J.app.options.authDomain).then(function(Oe){return(J.m=Oe)&&(Oe.ha=J.D),eae(J.D)});return Gi(J,pe)}(y).then(function(){return rae(y.i,I,y.R)}).then(function(J){return J?(J.ha=y.D,y.m&&(y.m.ga||null)==(J.ga||null)?J:J.reload().then(function(){return tae(y.i,J).then(function(){return J})}).o(function(pe){return pe.code=="auth/network-request-failed"?J:nae(y.i)})):null}).then(function(J){RS(y,J||null)}),Gi(y,h))),this.h=Gi(this,(x=this).$.then(function(){return aae(x)}).o(function(){}).then(function(){if(!x.l)return x.ja()}).o(function(){}).then(function(){var J;x.l||(x.ba=!0,(J=x.i).b.addListener(jd("local"),J.a,x.ja))})),this.ba=!1,this.ja=de(this.Zc,this),this.Ba=de(this.da,this),this.qa=de(this.mc,this),this.za=de(this.wc,this),this.Aa=de(this.xc,this),this.b=null,q=(P=this).app.options.authDomain,K=P.app.options.apiKey,q&&Vb()&&(P.Oa=P.$.then(function(){var J;if(!P.l)return P.b=WB(q,K,P.app.name,P.R),xM(P.b,P),Ln(P)&&Dx(Ln(P)),P.m&&(Dx(P.m),(J=P.m).xa(P.la()),r8(J,P),Rx(J=P.m,P.J),o8(J,P),n8(J=P.m,P.R),i8(J,P),P.m=null),P.b})),this.INTERNAL={},this.INTERNAL.delete=de(this.delete,this),this.INTERNAL.logFramework=de(this.Gc,this),this.u=0,Su.call(this),h=this,Object.defineProperty(h,"lc",{get:function(){return this.la()},set:function(J){this.xa(J)},enumerable:!1}),h.aa=null,Object.defineProperty(h,"ti",{get:function(){return this.T()},set:function(J){this.zb(J)},enumerable:!1}),h.S=null,Object.defineProperty(h,"emulatorConfig",{get:function(){var J;return J=this.R?Ld({protocol:(J=ac(this.R.url)).c,host:J.a,port:J.g,options:Ld({disableWarnings:this.R.ec})}):null},enumerable:!1}),this.J=[],this.R=null}function iae(h){sc.call(this,"languageCodeChanged"),this.h=h}function oae(h){sc.call(this,"emulatorConfigChanged"),this.c=h}function sae(h){sc.call(this,"frameworkChanged"),this.f=h}function g8(h){return h.Oa||Ti(new le("auth-domain-config-required"))}function aae(h){if(!Vb())return Ti(new le("operation-not-supported-in-this-environment"));var y=g8(h).then(function(){return h.b.ra()}).then(function(I){return I?Ld(I):null});return Gi(h,y)}function aNe(h,y){var I={};return I.apiKey=h.app.options.apiKey,I.authDomain=h.app.options.authDomain,I.appName=h.app.name,h.R&&(I.emulatorConfig=h.R),h.$.then(function(){return x=I,P=y,q=h.D,K=h.Ga(),J=new ol(x,P),q&&(J.ha=q),K&&Rx(J,K),J.reload().then(function(){return J});var x,P,q,K,J}).then(function(x){return Ln(h)&&x.uid==Ln(h).uid?DM(Ln(h),x):(RS(h,x),Dx(x)),h.da(x)}).then(function(){Mx(h)})}function RS(h,y){var I,x;Ln(h)&&(I=Ln(h),x=h.Ba,tf(I.W,function(P){return P==x}),rl(Ln(h),"tokenChanged",h.qa),rl(Ln(h),"userDeleted",h.za),rl(Ln(h),"userInvalidated",h.Aa),a8(Ln(h))),y&&(y.W.push(h.Ba),ih(y,"tokenChanged",h.qa),ih(y,"userDeleted",h.za),ih(y,"userInvalidated",h.Aa),0<h.u&&zse(y)),qt(h,"currentUser",y),y&&(y.xa(h.la()),r8(y,h),Rx(y,h.J),o8(y,h),n8(y,h.R),i8(y,h))}function Zb(h,y){var I=null,x=null;return Gi(h,y.then(function(P){return I=eB(P),x=loe(P),aNe(h,P)},function(P){var q=null;throw(q=P&&P.code==="auth/multi-factor-auth-required"?$se(P.w(),h,de(h.kc,h)):q)||P}).then(function(){return Ld({user:Ln(h),credential:I,additionalUserInfo:x,operationType:"signIn"})}))}function Ln(h){return h.currentUser}function MM(h){return Ln(h)&&Ln(h)._lat||null}function Mx(h){if(h.ba){for(var y=0;y<h.s.length;y++)h.s[y]&&h.s[y](MM(h));if(h.W!==h.getUid()&&h.N.length)for(h.W=h.getUid(),y=0;y<h.N.length;y++)h.N[y]&&h.N[y](MM(h))}}function Gi(h,y){return h.P.push(y),y.oa(function(){VL(h.P,y)}),y}function Fx(){}function DS(){this.a={},this.b=1e12}p8.prototype.yb=function(h){var y=null,I=this;return function(x){var P=new le("invalid-persistence-type"),q=new le("unsupported-persistence-type");e:{for(K in AS)if(AS[K]==x){var K=!0;break e}K=!1}if(!K||typeof x!="string")throw P;switch(Dd()){case"ReactNative":if(x==="session")throw q;break;case"Node":if(x!=="none")throw q;break;case"Worker":if(x==="session"||!PB()&&x!=="none")throw q;break;default:if(!Rq()&&x!=="none")throw q}}(h),PS(this,function(){return h!=I.c.F?I.b.get(I.c,I.a).then(function(x){return y=x,v8(I,h)}).then(function(){if(I.c=jd(h),y)return I.b.set(I.c,y,I.a)}):nn()})},Ke(Ud,Su),Ke(iae,sc),Ke(oae,sc),Ke(sae,sc),(n=Ud.prototype).yb=function(h){return h=this.i.yb(h),Gi(this,h)},n.xa=function(h){this.aa===h||this.l||(this.aa=h,Uoe(this.a,this.aa),this.dispatchEvent(new iae(this.la())))},n.la=function(){return this.aa},n.fd=function(){var h=p.navigator;this.xa(h&&(h.languages&&h.languages[0]||h.language||h.userLanguage)||null)},n.gd=function(h,y){if(!this.R){if(!/^https?:\/\//.test(h))throw new le("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");y=!!y&&!!y.disableWarnings,I=y,typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),p.document&&!I&&tM().then(function(){var x=p.document.createElement("div");x.innerText="Running in emulator mode. Do not use with production credentials.",x.style.position="fixed",x.style.width="100%",x.style.backgroundColor="#ffffff",x.style.border=".1em solid #000000",x.style.color="#b50000",x.style.bottom="0px",x.style.left="0px",x.style.margin="0px",x.style.zIndex=1e4,x.style.textAlign="center",x.classList.add("firebase-emulator-warning"),p.document.body.appendChild(x)}),this.R={url:h,ec:y},this.settings.jb=!0,SM(this.a,this.R),this.dispatchEvent(new oae(this.R))}var I},n.Gc=function(h){this.J.push(h),$oe(this.a,Ht.SDK_VERSION?_S(Ht.SDK_VERSION,this.J):null),this.dispatchEvent(new sae(this.J))},n.Ga=function(){return Rb(this.J)},n.zb=function(h){this.S===h||this.l||(this.S=h,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:Ln(this)&&Ln(this).w()}},n.Gb=function(h,y){switch(h){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==y&&!!this.f;default:return!1}},n.na=function(h,y,I,x){h=="signInViaPopup"&&this.g==x&&(I&&this.C?this.C(I):y&&!I&&this.f&&this.f(y),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(h,y){return h=="signInViaRedirect"||h=="signInViaPopup"&&this.g==y&&this.f?de(this.ic,this):null},n.ic=function(h,y,I,x){var P=this,q={requestUri:h,postBody:x,sessionId:y,tenantId:I};return this.c&&(this.c.cancel(),this.c=null),P.$.then(function(){return Zb(P,_B(P.a,q))})},n.Xc=function(h){if(!Vb())return Ti(new le("operation-not-supported-in-this-environment"));var y=this,I=Gq(h.providerId),x=qb(),P=null,q=jie(P=(!hx()||Nq())&&this.app.options.authDomain&&h.isOAuthProvider?Ax(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",h,null,x,Ht.SDK_VERSION||null,null,null,this.T(),this.R):P,I&&I.va,I&&I.ua);return Gi(this,I=g8(this).then(function(K){return Ose(K,q,"signInViaPopup",h,x,!!P,y.T())}).then(function(){return new Gn(function(K,J){y.na("signInViaPopup",null,new le("cancelled-popup-request"),y.g),y.f=K,y.C=J,y.g=x,y.c=Pse(y.b,y,"signInViaPopup",q,x)})}).then(function(K){return q&&$b(q),K?Ld(K):null}).o(function(K){throw q&&$b(q),K}))},n.Yc=function(h){if(!Vb())return Ti(new le("operation-not-supported-in-this-environment"));var y=this;return Gi(this,g8(this).then(function(){return PS(I=y.i,function(){return I.b.set(m8,I.c.F,I.a)});var I}).then(function(){return Nse(y.b,"signInViaRedirect",h,void 0,y.T())}))},n.ra=function(){var h=this;return aae(this).then(function(y){return h.b&&NM(h.b.b),y}).o(function(y){throw h.b&&NM(h.b.b),y})},n.dd=function(h){if(!h)return Ti(new le("null-user"));if(this.S!=h.tenantId)return Ti(new le("tenant-id-mismatch"));var y=this,I={};I.apiKey=this.app.options.apiKey,I.authDomain=this.app.options.authDomain,I.appName=this.app.name;var x,P,q,K,J,pe=(x=h,P=I,q=y.D,K=y.Ga(),J=x.h,(I={})[af]=J.b&&J.b.toString(),I.refreshToken=J.a,P=new ol(P||{apiKey:x.l,authDomain:x.s,appName:x.m},I),q&&(P.ha=q),K&&Rx(P,K),DM(P,x),P);return Gi(this,this.h.then(function(){if(y.app.options.apiKey!=h.l)return pe.reload()}).then(function(){return Ln(y)&&h.uid==Ln(y).uid?(DM(Ln(y),h),y.da(h)):(RS(y,pe),Dx(pe),y.da(pe))}).then(function(){Mx(y)}))},n.Bb=function(){var h=this,y=this.h.then(function(){return h.b&&NM(h.b.b),Ln(h)?(RS(h,null),nae(h.i).then(function(){Mx(h)})):nn()});return Gi(this,y)},n.Zc=function(){var h=this;return rae(this.i,this.app.options.authDomain).then(function(y){if(!h.l){var I,x;if((I=Ln(h)&&y)&&(I=Ln(h).uid,x=y.uid,I=I!=null&&I!==""&&x!=null&&x!==""&&I==x),I)return DM(Ln(h),y),Ln(h).I();(Ln(h)||y)&&(RS(h,y),y&&(Dx(y),y.ha=h.D),h.b&&xM(h.b,h),Mx(h))}})},n.da=function(h){return tae(this.i,h)},n.mc=function(){Mx(this),this.da(Ln(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(h){var y=this;return this.h.then(function(){return Zb(y,nn(h))})},n.zc=function(h){var y=this;this.addAuthTokenListener(function(){h.next(Ln(y))})},n.Ac=function(h){var y,I,x=this;I=function(){h.next(Ln(x))},(y=this).N.push(I),Gi(y,y.h.then(function(){!y.l&&Sv(y.N,I)&&y.W!==y.getUid()&&(y.W=y.getUid(),I(MM(y)))}))},n.Ic=function(h,y,I){var x=this;return this.ba&&Promise.resolve().then(function(){typeof h=="function"?h(Ln(x)):typeof h.next=="function"&&h.next(Ln(x))}),this.Pa(h,y,I)},n.Hc=function(h,y,I){var x=this;return this.ba&&Promise.resolve().then(function(){x.W=x.getUid(),typeof h=="function"?h(Ln(x)):typeof h.next=="function"&&h.next(Ln(x))}),this.ib(h,y,I)},n.nc=function(h){var y=this,I=this.h.then(function(){return Ln(y)?Ln(y).I(h).then(function(x){return{accessToken:x}}):null});return Gi(this,I)},n.Tc=function(h){var y=this;return this.h.then(function(){return Zb(y,Jn(y.a,DOe,{token:h}))}).then(function(I){var x=I.user;return Ng(x,"isAnonymous",!1),y.da(x),I})},n.Uc=function(h,y){var I=this;return this.h.then(function(){return Zb(I,Jn(I.a,Goe,{email:h,password:y}))})},n.dc=function(h,y){var I=this;return this.h.then(function(){return Zb(I,Jn(I.a,hOe,{email:h,password:y}))})},n.ab=function(h){var y=this;return this.h.then(function(){return Zb(y,h.ka(y.a))})},n.Sc=function(h){return Mq("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(h)},n.Ab=function(){var h=this;return this.h.then(function(){var y=Ln(h);if(y&&y.isAnonymous){var I=Ld({providerId:null,isNewUser:!1});return Ld({user:y,credential:null,additionalUserInfo:I,operationType:"signIn"})}return Zb(h,h.a.Ab()).then(function(x){var P=x.user;return Ng(P,"isAnonymous",!0),h.da(P),x})})},n.getUid=function(){return Ln(this)&&Ln(this).uid||null},n.cc=function(h){this.addAuthTokenListener(h),this.u++,0<this.u&&Ln(this)&&zse(Ln(this))},n.Pc=function(h){var y=this;Li(this.s,function(I){I==h&&y.u--}),this.u<0&&(this.u=0),this.u==0&&Ln(this)&&a8(Ln(this)),this.removeAuthTokenListener(h)},n.addAuthTokenListener=function(h){var y=this;this.s.push(h),Gi(this,this.h.then(function(){y.l||Sv(y.s,h)&&h(MM(y))}))},n.removeAuthTokenListener=function(h){tf(this.s,function(y){return y==h})},n.delete=function(){this.l=!0;for(var h=0;h<this.P.length;h++)this.P[h].cancel("app-deleted");return this.P=[],this.i&&(h=this.i).b.removeListener(jd("local"),h.a,this.ja),this.b&&(HB(this.b,this),NM(this.b.b)),Promise.resolve()},n.hc=function(h){return Gi(this,Jn(this.a,fOe,{identifier:h,continueUri:nM()?lx():"http://localhost"}).then(function(y){return y.signinMethods||[]}))},n.Bc=function(h){return!!Zq(h)},n.xb=function(h,y){var I=this;return Gi(this,nn().then(function(){var x=new iM(y);if(!x.c)throw new le("argument-error",Kq+" must be true when sending sign in link to email");return oM(x)}).then(function(x){return I.a.xb(h,x)}).then(function(){}))},n.jd=function(h){return this.Sa(h).then(function(y){return y.data.email})},n.ob=function(h,y){return Gi(this,this.a.ob(h,y).then(function(){}))},n.Sa=function(h){return Gi(this,this.a.Sa(h).then(function(y){return new Axe(y)}))},n.kb=function(h){return Gi(this,this.a.kb(h).then(function(){}))},n.wb=function(h,y){var I=this;return Gi(this,nn().then(function(){return y===void 0||Db(y)?{}:oM(new iM(y))}).then(function(x){return I.a.wb(h,x)}).then(function(){}))},n.Wc=function(h,y){return Gi(this,QB(this,h,y,de(this.ab,this)))},n.Vc=function(h,y){var I=this;return Gi(this,nn().then(function(){var x=y||lx(),P=Eoe(h,x);if(!(x=Zq(x)))throw new le("argument-error","Invalid email link!");if(x.tenantId!==I.T())throw new le("tenant-id-mismatch");return I.ab(P)}))},Fx.prototype.render=function(){},Fx.prototype.reset=function(){},Fx.prototype.getResponse=function(){},Fx.prototype.execute=function(){};var uae=null;function y8(h,y){return(y=cae(y))&&h.a[y]||null}function cae(h){return(h=h===void 0?1e12:h)?h.toString():null}function FM(h,y){this.g=!1,this.c=y,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=rx(h);var I=this;this.i=function(){I.execute()},this.h?this.execute():ih(this.f,"click",this.i)}function b8(h){if(h.g)throw Error("reCAPTCHA mock was already deleted!")}function w8(){}function _8(){}DS.prototype.render=function(h,y){return this.a[this.b.toString()]=new FM(h,y),this.b++},DS.prototype.reset=function(h){var y=y8(this,h);h=cae(h),y&&h&&(y.delete(),delete this.a[h])},DS.prototype.getResponse=function(h){return(h=y8(this,h))?h.getResponse():null},DS.prototype.execute=function(h){(h=y8(this,h))&&h.execute()},FM.prototype.getResponse=function(){return b8(this),this.b},FM.prototype.execute=function(){b8(this);var h=this;this.a||(this.a=setTimeout(function(){h.b=function(){for(var x=50,P=[];0<x;)P.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),x--;return P.join("")}();var y=h.c.callback,I=h.c["expired-callback"];if(y)try{y(h.b)}catch{}h.a=setTimeout(function(){if(h.a=null,h.b=null,I)try{I()}catch{}h.h&&h.execute()},6e4)},500))},FM.prototype.delete=function(){b8(this),this.g=!0,clearTimeout(this.a),this.a=null,rl(this.f,"click",this.i)},qt(w8,"FACTOR_ID","phone"),_8.prototype.g=function(){return nn(uae=uae||new DS)},_8.prototype.c=function(){};var lae=null;function E8(){this.b=p.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uNe=new Pd(BL,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),cNe=new Ag(3e4,6e4);E8.prototype.g=function(h){var y=this;return new Gn(function(I,x){var P=setTimeout(function(){x(new le("network-request-failed"))},cNe.get());!p.grecaptcha||h!==y.f&&!y.b?(p[y.a]=function(){var q;p.grecaptcha?(y.f=h,q=p.grecaptcha.render,p.grecaptcha.render=function(K,J){return K=q(K,J),y.b++,K},clearTimeout(P),I(p.grecaptcha)):(clearTimeout(P),x(new le("internal-error"))),delete p[y.a]},nn(pB(cq(uNe,{onload:y.a,hl:h||""}))).o(function(){clearTimeout(P),x(new le("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(P),I(p.grecaptcha))})},E8.prototype.c=function(){this.b--};var hae=null;function S8(h,y,I,x,P,q,K){if(qt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=y,this.g=null,K=K?lae=lae||new _8:hae=hae||new E8,this.m=K,this.a=I||{theme:"light",type:"image"},this.h=[],this.a[pae])throw new le("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[lNe]==="invisible",!p.document)throw new le("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!rx(y)||!this.i&&rx(y).hasChildNodes())throw new le("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new sf(h,q||null,P||null),this.u=x||function(){return null};var J=this;this.l=[];var pe=this.a[fae];this.a[fae]=function(Ye){var Et;vae(J,Ye),typeof pe=="function"?pe(Ye):typeof pe!="string"||typeof(Et=Ii(pe,p))=="function"&&Et(Ye)};var Oe=this.a[dae];this.a[dae]=function(){var Ye;vae(J,null),typeof Oe=="function"?Oe():typeof Oe!="string"||typeof(Ye=Ii(Oe,p))=="function"&&Ye()}}var fae="callback",dae="expired-callback",pae="sitekey",lNe="size";function vae(h,y){for(var I=0;I<h.l.length;I++)try{h.l[I](y)}catch{}}function T8(h,y){return h.h.push(y),y.oa(function(){VL(h.h,y)}),y}function jM(h){if(h.J)throw new le("internal-error","RecaptchaVerifier instance has been destroyed.")}function I8(h,y,I){var x=!1;try{this.b=I||Ht.app()}catch{throw new le("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new le("invalid-api-key");I=this.b.options.apiKey;var P=this,q=null;try{q=this.b.auth().Ga()}catch{}try{x=this.b.auth().settings.appVerificationDisabledForTesting}catch{}q=Ht.SDK_VERSION?_S(Ht.SDK_VERSION,q):null,S8.call(this,I,h,y,function(){try{var K=P.b.auth().la()}catch{K=null}return K},q,Tn(lt),x)}function mae(h,y,I,x){e:{I=Array.prototype.slice.call(I);for(var P=0,q=!1,K=0;K<y.length;K++)if(y[K].optional)q=!0;else{if(q)throw new le("internal-error","Argument validator encountered a required argument after an optional argument.");P++}if(q=y.length,I.length<P||q<I.length)x="Expected "+(P==q?P==1?"1 argument":P+" arguments":P+"-"+q+" arguments")+" but got "+I.length+".";else{for(P=0;P<I.length;P++)if(q=y[P].optional&&I[P]===void 0,!y[P].M(I[P])&&!q){if(y=y[P],P<0||P>=gae.length)throw new le("internal-error","Argument validator received an unsupported number of arguments.");I=gae[P],x=(x?"":I+" argument ")+(y.name?'"'+y.name+'" ':"")+"must be "+y.K+".";break e}x=null}}if(x)throw new le("argument-error",h+" failed: "+x)}(n=S8.prototype).Ia=function(){var h=this;return this.f||(this.f=T8(this,nn().then(function(){if(nM()&&!rf())return tM();throw new le("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return h.m.g(h.u())}).then(function(y){return h.g=y,Jn(h.s,IOe,{})}).then(function(y){h.a[pae]=y.recaptchaSiteKey}).o(function(y){throw h.f=null,y})))},n.render=function(){jM(this);var h=this;return T8(this,this.Ia().then(function(){var y,I;return h.c===null&&(I=h.v,h.i||(y=rx(I),I=uxe("DIV"),y.appendChild(I)),h.c=h.g.render(I,h.a)),h.c}))},n.verify=function(){jM(this);var h=this;return T8(this,this.render().then(function(y){return new Gn(function(I){var x,P=h.g.getResponse(y);P?I(P):(h.l.push(x=function(q){var K;q&&(K=x,tf(h.l,function(J){return J==K}),I(q))}),h.i&&h.g.execute(h.c))})}))},n.reset=function(){jM(this),this.c!==null&&this.g.reset(this.c)},n.clear=function(){jM(this),this.J=!0,this.m.c();for(var h,y=0;y<this.h.length;y++)this.h[y].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(y=rx(this.v);h=y.firstChild;)y.removeChild(h)},Ke(I8,S8);var gae="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $t(h,y){return{name:h||"",K:"a valid string",optional:!!y,M:function(I){return typeof I=="string"}}}function C8(h,y){return{name:h||"",K:"a boolean",optional:!!y,M:function(I){return typeof I=="boolean"}}}function xo(h,y){return{name:h||"",K:"a valid object",optional:!!y,M:W}}function LS(h,y){return{name:h||"",K:"a function",optional:!!y,M:function(I){return typeof I=="function"}}}function $d(h,y){return{name:h||"",K:"null",optional:!!y,M:function(I){return I===null}}}function Pg(h){return{name:h?h+"Credential":"credential",K:h?"a valid "+h+" credential":"a valid credential",optional:!1,M:function(y){if(!y)return!1;var I=!h||y.providerId===h;return!(!y.ka||!I)}}}function yae(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(h){return!!h&&!!h.tb}}}function MS(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(h){return!!(h&&h.providerId&&h.hasOwnProperty&&h.hasOwnProperty("isOAuthProvider"))}}}function k8(h,y){return W(h)&&typeof h.type=="string"&&h.type===y&&typeof h.Ha=="function"}function bae(h){return W(h)&&typeof h.uid=="string"}function UM(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(h){return!(!h||typeof h.type!="string"||typeof h.verify!="function")}}}function uo(h,y,I,x){return{name:I||"",K:h.K+" or "+y.K,optional:!!x,M:function(P){return h.M(P)||y.M(P)}}}function Mi(h,y){for(var I in y){var x=y[I].name;h[x]=_ae(x,h[I],y[I].j)}}function wae(h,y){for(var I in y){var x=y[I].name;x!==I&&Object.defineProperty(h,x,{get:Je(function(P){return this[P]},I),set:Je(function(P,q,K,J){mae(P,[K],[J],!0),this[q]=J},x,I,y[I].lb),enumerable:!0})}}function co(h,y,I,x){h[y]=_ae(y,I,x)}function _ae(h,y,I){function x(){var K=Array.prototype.slice.call(arguments);return mae(q,I,K),y.apply(this,K)}if(!I)return y;var P,q=(h=(h=h).split("."))[h.length-1];for(P in y)x[P]=y[P];for(P in y.prototype)x.prototype[P]=y.prototype[P];return x}Mi(Ud.prototype,{kb:{name:"applyActionCode",j:[$t("code")]},Sa:{name:"checkActionCode",j:[$t("code")]},ob:{name:"confirmPasswordReset",j:[$t("code"),$t("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$t("email"),$t("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$t("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$t("emailLink")]},Hc:{name:"onAuthStateChanged",j:[uo(xo(),LS(),"nextOrObserver"),LS("opt_error",!0),LS("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[uo(xo(),LS(),"nextOrObserver"),LS("opt_error",!0),LS("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[$t("email"),uo(xo("opt_actionCodeSettings",!0),$d(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[$t("email"),xo("actionCodeSettings")]},yb:{name:"setPersistence",j:[$t("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Pg()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Pg()]},Tc:{name:"signInWithCustomToken",j:[$t("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$t("email"),$t("password")]},Vc:{name:"signInWithEmailLink",j:[$t("email"),$t("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$t("phoneNumber"),UM()]},Xc:{name:"signInWithPopup",j:[MS()]},Yc:{name:"signInWithRedirect",j:[MS()]},dd:{name:"updateCurrentUser",j:[uo({name:"user",K:"an instance of Firebase User",optional:!1,M:function(h){return!!(h&&h instanceof ol)}},$d(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$t(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$t("url"),xo("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$t("code")]}}),wae(Ud.prototype,{lc:{name:"languageCode",lb:uo($t(),$d(),"languageCode")},ti:{name:"tenantId",lb:uo($t(),$d(),"tenantId")}}),(Ud.Persistence=AS).LOCAL="local",Ud.Persistence.SESSION="session",Ud.Persistence.NONE="none",Mi(ol.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[C8("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[C8("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Pg()]},rb:{name:"linkWithCredential",j:[Pg()]},Dc:{name:"linkWithPhoneNumber",j:[$t("phoneNumber"),UM()]},Ec:{name:"linkWithPopup",j:[MS()]},Fc:{name:"linkWithRedirect",j:[MS()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Pg()]},ub:{name:"reauthenticateWithCredential",j:[Pg()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$t("phoneNumber"),UM()]},Nc:{name:"reauthenticateWithPopup",j:[MS()]},Oc:{name:"reauthenticateWithRedirect",j:[MS()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[uo(xo("opt_actionCodeSettings",!0),$d(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$t(null,!0)]},cd:{name:"unlink",j:[$t("provider")]},Cb:{name:"updateEmail",j:[$t("email")]},Db:{name:"updatePassword",j:[$t("password")]},ed:{name:"updatePhoneNumber",j:[Pg("phone")]},Eb:{name:"updateProfile",j:[xo("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[$t("email"),uo(xo("opt_actionCodeSettings",!0),$d(null,!0),"opt_actionCodeSettings",!0)]}}),Mi(DS.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Mi(Fx.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Mi(Gn.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),wae(Fse.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:C8("appVerificationDisabledForTesting")}}),Mi(GB.prototype,{confirm:{name:"confirm",j:[$t("verificationCode")]}}),co(TS,"fromJSON",function(h){h=typeof h=="string"?JSON.parse(h):h;for(var y,I=[Bxe,Hxe,zxe,qxe],x=0;x<I.length;x++)if(y=I[x](h))return y;return null},[uo($t(),xo(),"json")]),co(sh,"credential",function(h,y){return new xg(h,y)},[$t("email"),$t("password")]),Mi(xg.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),Mi(zb.prototype,{Ca:{name:"addScope",j:[$t("scope")]},Ka:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),co(zb,"credential",yoe,[uo($t(),xo(),"token")]),co(sh,"credentialWithLink",Eoe,[$t("email"),$t("emailLink")]),Mi(Kb.prototype,{Ca:{name:"addScope",j:[$t("scope")]},Ka:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),co(Kb,"credential",boe,[uo($t(),xo(),"token")]),Mi(Wb.prototype,{Ca:{name:"addScope",j:[$t("scope")]},Ka:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),co(Wb,"credential",woe,[uo($t(),uo(xo(),$d()),"idToken"),uo($t(),$d(),"accessToken",!0)]),Mi(CS.prototype,{Ka:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),co(CS,"credential",_oe,[uo($t(),xo(),"token"),$t("secret",!0)]),Mi(il.prototype,{Ca:{name:"addScope",j:[$t("scope")]},credential:{name:"credential",j:[uo($t(),uo(xo(),$d()),"optionsOrIdToken"),uo($t(),$d(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[xo("customOAuthParameters")]}}),Mi(Iv.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),Mi(Bb.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),co(Cv,"credential",Soe,[$t("verificationId"),$t("verificationCode")]),Mi(Cv.prototype,{gb:{name:"verifyPhoneNumber",j:[uo($t(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(h){return!!h&&(h.session&&h.phoneNumber?k8(h.session,gx)&&typeof h.phoneNumber=="string":h.session&&h.multiFactorHint?k8(h.session,lM)&&bae(h.multiFactorHint):h.session&&h.multiFactorUid?k8(h.session,lM)&&typeof h.multiFactorUid=="string":!!h.phoneNumber&&typeof h.phoneNumber=="string")}},"phoneInfoOptions"),UM()]}}),Mi(Og.prototype,{w:{name:"toJSON",j:[$t(null,!0)]}}),Mi(le.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),Mi(bx.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),Mi(iB.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),Mi(XB.prototype,{toJSON:{name:"toJSON",j:[$t(null,!0)]}}),Mi(YB.prototype,{Rc:{name:"resolveSignIn",j:[yae()]}}),Mi(ZB.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[yae(),$t("displayName",!0)]},bd:{name:"unenroll",j:[uo({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:bae},$t(),"multiFactorInfoIdentifier")]}}),Mi(I8.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),co(zq,"parseLink",eoe,[$t("link")]),co(w8,"assertion",function(h){return new qse(h)},[Pg("phone")]),function(){if(Ht===void 0||!Ht.INTERNAL||!Ht.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var h={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rM,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Hq,VERIFY_AND_CHANGE_EMAIL:vx,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ud,AuthCredential:TS,Error:le};co(h,"EmailAuthProvider",sh,[]),co(h,"FacebookAuthProvider",zb,[]),co(h,"GithubAuthProvider",Kb,[]),co(h,"GoogleAuthProvider",Wb,[]),co(h,"TwitterAuthProvider",CS,[]),co(h,"OAuthProvider",il,[$t("providerId")]),co(h,"SAMLAuthProvider",goe,[$t("providerId")]),co(h,"PhoneAuthProvider",Cv,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(y){return!!(y&&y instanceof Ud)}}]),co(h,"RecaptchaVerifier",I8,[uo($t(),{name:"",K:"an HTML element",optional:!1,M:function(y){return!!(y&&y instanceof Element)}},"recaptchaContainer"),xo("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(y){return!!(y&&y instanceof Ht.app.App)}}]),co(h,"ActionCodeURL",zq,[]),co(h,"PhoneMultiFactorGenerator",w8,[]),Ht.INTERNAL.registerComponent({name:"auth",instanceFactory:function(y){return new Ud(y=y.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:h,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(y){y.getProvider("auth-internal").initialize()}}),Ht.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(y){return{getUid:de((y=y.getProvider("auth").getImmediate()).getUid,y),getToken:de(y.nc,y),addAuthTokenListener:de(y.cc,y),removeAuthTokenListener:de(y.Pc,y)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ht.registerVersion("@firebase/auth","0.16.8"),Ht.INTERNAL.extendNamespace({User:ol})}()}.apply(typeof $r<"u"?$r:typeof self<"u"?self:typeof window<"u"?window:{});var s1="";function wm(n){s1=n}var MR=(Wf.prototype.set=function(n,o){o==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Vi(o))},Wf.prototype.get=function(n){return n=this.domStorage_.getItem(this.prefixedName_(n)),n==null?null:Ea(n)},Wf.prototype.remove=function(n){this.domStorage_.removeItem(this.prefixedName_(n))},Wf.prototype.prefixedName_=function(n){return this.prefix_+n},Wf.prototype.toString=function(){return this.domStorage_.toString()},Wf);function Wf(n){this.domStorage_=n,this.prefix_="firebase:"}var GU=(a1.prototype.set=function(n,o){o==null?delete this.cache_[n]:this.cache_[n]=o},a1.prototype.get=function(n){return Sa(this.cache_,n)?this.cache_[n]:null},a1.prototype.remove=function(n){delete this.cache_[n]},a1);function a1(){this.cache_={},this.isInMemoryStorage=!0}function pC(n){var o=function(a){for(var c=[],f=0,p=0;p<a.length;p++){var b,_=a.charCodeAt(p);55296<=_&&_<=56319&&(b=_-55296,mt(++p<a.length,"Surrogate pair missing trail surrogate."),_=65536+(b<<10)+(a.charCodeAt(p)-56320)),_<128?c[f++]=_:(_<2048?c[f++]=_>>6|192:(_<65536?c[f++]=_>>12|224:(c[f++]=_>>18|240,c[f++]=_>>12&63|128),c[f++]=_>>6&63|128),c[f++]=63&_|128)}return c}(n);return(n=new Z_).update(o),n=n.digest(),Yy.encodeByteArray(n)}function u1(n,o){mt(!o||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Nl.logLevel=Pn.VERBOSE,Rp=Nl.log.bind(Nl),o&&Pp.set("logging_enabled",!0)):typeof n=="function"?Rp=n:(Rp=null,Pp.remove("logging_enabled"))}function _m(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a="FIREBASE INTERNAL ERROR: "+Tm.apply(void 0,an([],yo(n)));Nl.error(a)}function Em(n){return typeof n=="number"&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)}function zu(n,o){return n===o?0:n<o?-1:1}function Gf(n,o){if(o&&n in o)return o[n];throw new Error("Missing required key ("+n+") in object: "+Vi(o))}function t0(n,o){var a=n.length;if(a<=o)return[n];for(var c=[],f=0;f<a;f+=o)a<f+o?c.push(n.substring(f,a)):c.push(n.substring(f,f+o));return c}var c1,Qe=function(n){try{if(typeof window<"u"&&window[n]!==void 0){var o=window[n];return o.setItem("firebase:sentinel","cache"),o.removeItem("firebase:sentinel"),new MR(o)}}catch{}return new GU},Qf=Qe("localStorage"),Pp=Qe("sessionStorage"),Nl=new Rh("@firebase/database"),Sm=(c1=1,function(){return c1++}),Tm=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var a="",c=0;c<n.length;c++){var f=n[c];Array.isArray(f)||f&&typeof f=="object"&&typeof f.length=="number"?a+=Tm.apply(null,f):a+=typeof f=="object"?Vi(f):f,a+=" "}return a},Rp=null,FR=!0,wo=function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];FR===!0&&(FR=!1,Rp===null&&Pp.get("logging_enabled")===!0&&u1(!0)),Rp&&(n=Tm.apply(null,o),Rp(n))},n0=function(n){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];wo.apply(void 0,an([n],yo(o)))}},Pl=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a="FIREBASE FATAL ERROR: "+Tm.apply(void 0,an([],yo(n)));throw Nl.error(a),new Error(a)},_o=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a="FIREBASE WARNING: "+Tm.apply(void 0,an([],yo(n)));Nl.warn(a)},Rl="[MIN_NAME]",Rc="[MAX_NAME]",Dl=function(n,o){if(n===o)return 0;if(n===Rl||o===Rc)return-1;if(o===Rl||n===Rc)return 1;var a=Lp(n),c=Lp(o);return a!==null?c!==null?a-c==0?n.length-o.length:a-c:-1:c===null&&n<o?-1:1},l1=function(n){if(typeof n!="object"||n===null)return Vi(n);var o,a=[];for(o in n)a.push(o);a.sort();for(var c="{",f=0;f<a.length;f++)f!==0&&(c+=","),c+=Vi(a[f]),c+=":",c+=l1(n[a[f]]);return c+="}"};function ai(n,o){for(var a in n)n.hasOwnProperty(a)&&o(a,n[a])}function r0(n){var o,a,c,f;mt(!Em(n),"Invalid JSON number"),n===0?o=1/n==-1/(c=a=0)?1:0:(o=n<0,c=(n=Math.abs(n))>=Math.pow(2,-1022)?(a=(f=Math.min(Math.floor(Math.log(n)/Math.LN2),1023))+1023,Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,Math.round(n/Math.pow(2,-1074))));for(var p=[],b=52;b;--b)p.push(c%2?1:0),c=Math.floor(c/2);for(b=11;b;--b)p.push(a%2?1:0),a=Math.floor(a/2);p.push(o?1:0),p.reverse();var _=p.join(""),T="";for(b=0;b<64;b+=8){var k=parseInt(_.substr(b,8),2).toString(16);T+=k=k.length===1?"0"+k:k}return T.toLowerCase()}function i0(n,o){return typeof(o=setTimeout(n,o))=="object"&&o.unref&&o.unref(),o}var Dh=new RegExp("^-?(0*)\\d{1,10}$"),Yf=-2147483648,Dp=2147483647,Lp=function(n){return Dh.test(n)&&(n=Number(n),Yf<=n&&n<=Dp)?n:null},Im=function(n){try{n()}catch(o){setTimeout(function(){var a=o.stack||"";throw _o("Exception was thrown by user callback.",a),o},Math.floor(0))}},vC=(o0.prototype.getToken=function(n){var o=this;return this.appCheck?this.appCheck.getToken(n):new Promise(function(a,c){setTimeout(function(){o.appCheck?o.getToken(n).then(a,c):a(null)},0)})},o0.prototype.addTokenChangeListener=function(n){var o;(o=this.appCheckProvider)!==null&&o!==void 0&&o.get().then(function(a){return a.addTokenListener(n)})},o0.prototype.notifyForInvalidToken=function(){_o('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},o0);function o0(n,o){var a=this;this.appName_=n,this.appCheckProvider=o,this.appCheck=o==null?void 0:o.getImmediate({optional:!0}),this.appCheck||o!=null&&o.get().then(function(c){return a.appCheck=c})}var jR=(Xf.prototype.getToken=function(n){var o=this;return this.auth_?this.auth_.getToken(n).catch(function(a){return a&&a.code==="auth/token-not-initialized"?(wo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)}):new Promise(function(a,c){setTimeout(function(){o.auth_?o.getToken(n).then(a,c):a(null)},0)})},Xf.prototype.addTokenChangeListener=function(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(function(o){return o.addAuthTokenListener(n)})},Xf.prototype.removeTokenChangeListener=function(n){this.authProvider_.get().then(function(o){return o.removeAuthTokenListener(n)})},Xf.prototype.notifyForInvalidToken=function(){var n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_o(n)},Xf);function Xf(n,o,a){var c=this;this.appName_=n,this.firebaseOptions_=o,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(function(f){return c.auth_=f})}var Lh=(Mp.prototype.getToken=function(n){return Promise.resolve({accessToken:this.accessToken})},Mp.prototype.addTokenChangeListener=function(n){n(this.accessToken)},Mp.prototype.removeTokenChangeListener=function(n){},Mp.prototype.notifyForInvalidToken=function(){},Mp.OWNER="owner",Mp);function Mp(n){this.accessToken=n}var s0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,h1="websocket",UR="long_polling",mC=(Mh.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},Mh.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(Mh.prototype,"host",{get:function(){return this._host},set:function(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Qf.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),Mh.prototype.toString=function(){var n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n},Mh.prototype.toURLString=function(){var n=this.secure?"https://":"http://",o=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return n+this.host+"/"+o},Mh);function Mh(n,o,a,c,f,p,b){f===void 0&&(f=!1),p===void 0&&(p=""),b===void 0&&(b=!1),this.secure=o,this.namespace=a,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=p,this.includeNamespaceInQueryParams=b,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qf.get("host:"+n)||this._host}function $R(n,o,a){var c;if(mt(typeof o=="string","typeof type must == string"),mt(typeof a=="object","typeof params must == object"),o===h1)c=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(o!==UR)throw new Error("Unknown connection type: "+o);c=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}((o=n).host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams)&&(a.ns=n.namespace);var f=[];return ai(a,function(p,b){f.push(p+"="+b)}),c+f.join("&")}var QU=(a0.prototype.incrementCounter=function(n,o){o===void 0&&(o=1),Sa(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=o},a0.prototype.get=function(){return nC(this.counters_)},a0);function a0(){this.counters_={}}var Cm={},au={};function u0(n){return n=n.toString(),Cm[n]||(Cm[n]=new QU),Cm[n]}var Dc=(gC.prototype.closeAfter=function(n,o){this.closeAfterResponse=n,this.onClose=o,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},gC.prototype.handleResponse=function(n,o){var a=this;this.pendingResponses[n]=o;for(var c=function(){var p=f.pendingResponses[f.currentResponseNum];delete f.pendingResponses[f.currentResponseNum];for(var b=0;b<p.length;++b)(function(_){p[_]&&Im(function(){a.onMessage_(p[_])})})(b);if(f.currentResponseNum===f.closeAfterResponse)return f.onClose&&(f.onClose(),f.onClose=null),"break";f.currentResponseNum++},f=this;this.pendingResponses[this.currentResponseNum]&&c()!=="break";);},gC);function gC(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var YU="pLPCommand",XU="pRTLPCB",yC=(Eo.prototype.open=function(n,o){var a,c,f,p=this;this.curSegmentNum=0,this.onDisconnect_=o,this.myPacketOrderer=new Dc(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){p.log_("Timed out trying to connect."),p.onClosed_(),p.connectTimeoutTimer_=null},Math.floor(3e4)),a=function(){var b;p.isClosed_||(p.scriptTagHolder=new f1(function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];var k=yo(_,5),N=k[0],j=k[1],V=k[2];if(k[3],k[4],p.incrementIncomingBytes_(_),p.scriptTagHolder)if(p.connectTimeoutTimer_&&(clearTimeout(p.connectTimeoutTimer_),p.connectTimeoutTimer_=null),p.everConnected_=!0,N==="start")p.id=j,p.password=V;else{if(N!=="close")throw new Error("Unrecognized command received: "+N);j?(p.scriptTagHolder.sendNewPolls=!1,p.myPacketOrderer.closeAfter(j,function(){p.onClosed_()})):p.onClosed_()}},function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];var N=yo(_,2),k=N[0],N=N[1];p.incrementIncomingBytes_(_),p.myPacketOrderer.handleResponse(k,N)},function(){p.onClosed_()},p.urlFn),(b={start:"t"}).ser=Math.floor(1e8*Math.random()),p.scriptTagHolder.uniqueCallbackIdentifier&&(b.cb=p.scriptTagHolder.uniqueCallbackIdentifier),b.v="5",p.transportSessionId&&(b.s=p.transportSessionId),p.lastSessionId&&(b.ls=p.lastSessionId),p.applicationId&&(b.p=p.applicationId),p.appCheckToken&&(b.ac=p.appCheckToken),typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(b.r="f"),b=p.urlFn(b),p.log_("Connecting via long-poll to "+b),p.scriptTagHolder.addTag(b,function(){}))},document.readyState==="complete"?a():(c=!1,f=function(){document.body?c||(c=!0,a()):setTimeout(f,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&f()}),window.attachEvent("onload",f)))},Eo.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Eo.forceAllow=function(){Eo.forceAllow_=!0},Eo.forceDisallow=function(){Eo.forceDisallow_=!0},Eo.isAvailable=function(){return!!Eo.forceAllow_||!(Eo.forceDisallow_||typeof document>"u"||document.createElement==null||typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||typeof Windows=="object"&&typeof Windows.UI=="object")},Eo.prototype.markConnectionHealthy=function(){},Eo.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Eo.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Eo.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Eo.prototype.send=function(n){n=Vi(n),this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var n=eC(n),o=t0(n,1840),a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++},Eo.prototype.addDisconnectPingFrame=function(n,o){this.myDisconnFrame=document.createElement("iframe");var a={dframe:"t"};a.id=n,a.pw=o,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Eo.prototype.incrementIncomingBytes_=function(n){n=Vi(n).length,this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},Eo);function Eo(n,o,a,c,f,p,b){var _=this;this.connId=n,this.repoInfo=o,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.transportSessionId=p,this.lastSessionId=b,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=n0(n),this.stats_=u0(o),this.urlFn=function(T){return _.appCheckToken&&(T.ac=_.appCheckToken),$R(o,UR,T)}}var f1=(Lc.createIFrame_=function(){var n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||wo("No IE domain setting required")}catch{var o=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n},Lc.prototype.close=function(){var n=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){n.myIFrame!==null&&(document.body.removeChild(n.myIFrame),n.myIFrame=null)},Math.floor(0)));var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},Lc.prototype.startLongPoll=function(n,o){for(this.myID=n,this.myPW=o,this.alive=!0;this.newRequest_(););},Lc.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;for(var n=this.urlFn(n),o="",a=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+o.length<=1870;){var c=this.pendingSegs.shift(),o=o+"&seg"+a+"="+c.seg+"&ts"+a+"="+c.ts+"&d"+a+"="+c.d;a++}return this.addLongPollTag_(n+=o,this.currentSerial),!0}return!1},Lc.prototype.enqueueSegment=function(n,o,a){this.pendingSegs.push({seg:n,ts:o,d:a}),this.alive&&this.newRequest_()},Lc.prototype.addLongPollTag_=function(n,o){var a=this;this.outstandingRequests.add(o);function c(){a.outstandingRequests.delete(o),a.newRequest_()}var f=setTimeout(c,Math.floor(25e3));this.addTag(n,function(){clearTimeout(f),c()})},Lc.prototype.addTag=function(n,o){var a=this;setTimeout(function(){try{if(!a.sendNewPolls)return;var c=a.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=n,c.onload=c.onreadystatechange=function(){var f=c.readyState;f&&f!=="loaded"&&f!=="complete"||(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),o())},c.onerror=function(){wo("Long-poll script failed to load: "+n),a.sendNewPolls=!1,a.close()},a.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))},Lc);function Lc(n,o,a,c){this.onDisconnect=a,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Sm(),window[YU+this.uniqueCallbackIdentifier]=n,window[XU+this.uniqueCallbackIdentifier]=o,this.myIFrame=Lc.createIFrame_(),o="",o="<html><body>"+(o=this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"?'<script>document.domain="'+document.domain+'";<\/script>':o)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(f){wo("frame writing exception"),f.stack&&wo(f.stack),wo(f)}}var c0=null;typeof MozWebSocket<"u"?c0=MozWebSocket:typeof WebSocket<"u"&&(c0=WebSocket);var Jf=(ui.connectionURL_=function(n,o,a,c){var f={v:"5"};return typeof location<"u"&&location.hostname&&s0.test(location.hostname)&&(f.r="f"),o&&(f.s=o),a&&(f.ls=a),c&&(f.ac=c),$R(n,h1,f)},ui.prototype.open=function(n,o){var a=this;this.onDisconnect=o,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qf.set("previous_websocket_failure",!0);try{Xy()||(c={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new c0(this.connURL,[],c))}catch(f){this.log_("Error instantiating WebSocket.");var c=f.message||f.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){a.log_("Websocket connected."),a.everConnected_=!0},this.mySock.onclose=function(){a.log_("Websocket connection was disconnected."),a.mySock=null,a.onClosed_()},this.mySock.onmessage=function(f){a.handleIncomingFrame(f)},this.mySock.onerror=function(f){a.log_("WebSocket error.  Closing connection."),f=f.message||f.data,f&&a.log_(f),a.onClosed_()}},ui.prototype.start=function(){},ui.forceDisallow=function(){ui.forceDisallow_=!0},ui.isAvailable=function(){var n,o=!1;return typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<n.length&&parseFloat(n[1])<4.4&&(o=!0),!o&&c0!==null&&!ui.forceDisallow_},ui.previouslyFailed=function(){return Qf.isInMemoryStorage||Qf.get("previous_websocket_failure")===!0},ui.prototype.markConnectionHealthy=function(){Qf.remove("previous_websocket_failure")},ui.prototype.appendFrame_=function(n){this.frames.push(n),this.frames.length===this.totalFrames&&(n=this.frames.join(""),this.frames=null,n=Ea(n),this.onMessage(n))},ui.prototype.handleNewFrameCount_=function(n){this.totalFrames=n,this.frames=[]},ui.prototype.extractFrameCount_=function(n){if(mt(this.frames===null,"We already have a frame buffer"),n.length<=6){var o=Number(n);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),n},ui.prototype.handleIncomingFrame=function(n){this.mySock!==null&&(n=n.data,this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null?this.appendFrame_(n):(n=this.extractFrameCount_(n))!==null&&this.appendFrame_(n))},ui.prototype.send=function(n){this.resetKeepAlive(),n=Vi(n),this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var o=t0(n,16384);1<o.length&&this.sendString_(String(o.length));for(var a=0;a<o.length;a++)this.sendString_(o[a])},ui.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},ui.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},ui.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},ui.prototype.resetKeepAlive=function(){var n=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){n.mySock&&n.sendString_("0"),n.resetKeepAlive()},Math.floor(45e3))},ui.prototype.sendString_=function(n){try{this.mySock.send(n)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},ui.responsesRequiredToBeHealthy=2,ui.healthyTimeout=3e4,ui);function ui(n,o,a,c,f,p,b){this.connId=n,this.applicationId=a,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=n0(this.connId),this.stats_=u0(o),this.connURL=ui.connectionURL_(o,p,b,c),this.nodeAdmin=o.nodeAdmin}var VR=(Object.defineProperty(km,"ALL_TRANSPORTS",{get:function(){return[yC,Jf]},enumerable:!1,configurable:!0}),km.prototype.initTransports_=function(n){var o,a,c=Jf&&Jf.isAvailable(),f=c&&!Jf.previouslyFailed();if(n.webSocketOnly&&(c||_o("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),f=!0),f)this.transports_=[Jf];else{var p=this.transports_=[];try{for(var b=go(km.ALL_TRANSPORTS),_=b.next();!_.done;_=b.next()){var T=_.value;T&&T.isAvailable()&&p.push(T)}}catch(k){o={error:k}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}},km.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},km.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},km);function km(n){this.initTransports_(n)}var qR=(Ir.prototype.start_=function(){var n=this,o=this.transportManager_.initialTransport();this.conn_=new o(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=o.responsesRequiredToBeHealthy||0;var a=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){n.conn_&&n.conn_.open(a,c)},Math.floor(0)),o=o.healthyTimeout||0,0<o&&(this.healthyTimeout_=i0(function(){n.healthyTimeout_=null,n.isHealthy_||(n.conn_&&102400<n.conn_.bytesReceived?(n.log_("Connection exceeded healthy timeout but has received "+n.conn_.bytesReceived+" bytes.  Marking connection healthy."),n.isHealthy_=!0,n.conn_.markConnectionHealthy()):n.conn_&&10240<n.conn_.bytesSent?n.log_("Connection exceeded healthy timeout but has sent "+n.conn_.bytesSent+" bytes.  Leaving connection alive."):(n.log_("Closing unhealthy connection after timeout."),n.close()))},Math.floor(o)))},Ir.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Ir.prototype.disconnReceiver_=function(n){var o=this;return function(a){n===o.conn_?o.onConnectionLost_(a):n===o.secondaryConn_?(o.log_("Secondary connection lost."),o.onSecondaryConnectionLost_()):o.log_("closing an old connection")}},Ir.prototype.connReceiver_=function(n){var o=this;return function(a){o.state_!==2&&(n===o.rx_?o.onPrimaryMessageReceived_(a):n===o.secondaryConn_?o.onSecondaryMessageReceived_(a):o.log_("message on old connection"))}},Ir.prototype.sendRequest=function(n){this.sendData_({t:"d",d:n})},Ir.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Ir.prototype.onSecondaryControl_=function(n){"t"in n&&((n=n.t)==="a"?this.upgradeIfSecondaryHealthy_():n==="r"?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):n==="o"&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Ir.prototype.onSecondaryMessageReceived_=function(a){var o=Gf("t",a),a=Gf("d",a);if(o==="c")this.onSecondaryControl_(a);else{if(o!=="d")throw new Error("Unknown protocol layer: "+o);this.pendingDataMessages.push(a)}},Ir.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Ir.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Ir.prototype.onPrimaryMessageReceived_=function(a){var o=Gf("t",a),a=Gf("d",a);o==="c"?this.onControl_(a):o==="d"&&this.onDataMessage_(a)},Ir.prototype.onDataMessage_=function(n){this.onPrimaryResponse_(),this.onMessage_(n)},Ir.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Ir.prototype.onControl_=function(n){var o=Gf("t",n);if("d"in n)if(n=n.d,o==="h")this.onHandshake_(n);else if(o==="n"){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else o==="s"?this.onConnectionShutdown_(n):o==="r"?this.onReset_(n):o==="e"?_m("Server Error: "+n):o==="o"?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_m("Unknown control packet command: "+o)},Ir.prototype.onHandshake_=function(n){var o=n.ts,a=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,o),a!=="5"&&_o("Protocol version mismatch detected"),this.tryStartUpgrade_())},Ir.prototype.tryStartUpgrade_=function(){var n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)},Ir.prototype.startUpgrade_=function(c){var o=this;this.secondaryConn_=new c(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=c.responsesRequiredToBeHealthy||0;var a=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,c),i0(function(){o.secondaryConn_&&(o.log_("Timed out trying to upgrade."),o.secondaryConn_.close())},Math.floor(6e4))},Ir.prototype.onReset_=function(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())},Ir.prototype.onConnectionEstablished_=function(n,o){var a=this;this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(o,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):i0(function(){a.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},Ir.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||this.state_!==1||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Ir.prototype.onSecondaryConnectionLost_=function(){var n=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==n&&this.rx_!==n||this.close()},Ir.prototype.onConnectionLost_=function(n){this.conn_=null,n||this.state_!==0?this.state_===1&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Ir.prototype.onConnectionShutdown_=function(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()},Ir.prototype.sendData_=function(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)},Ir.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Ir.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Ir);function Ir(n,o,a,c,f,p,b,_,T,k){this.id=n,this.repoInfo_=o,this.applicationId_=a,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=p,this.onReady_=b,this.onDisconnect_=_,this.onKill_=T,this.lastSessionId=k,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=n0("c:"+this.id+":"),this.transportManager_=new VR(o),this.log_("Connection created"),this.start_()}Us.prototype.put=function(n,o,a,c){},Us.prototype.merge=function(n,o,a,c){},Us.prototype.refreshAuthToken=function(n){},Us.prototype.refreshAppCheckToken=function(n){},Us.prototype.onDisconnectPut=function(n,o,a){},Us.prototype.onDisconnectMerge=function(n,o,a){},Us.prototype.onDisconnectCancel=function(n,o){},Us.prototype.reportStats=function(n){},ke=Us;function Us(){}var wi=(l0.prototype.trigger=function(n){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];if(Array.isArray(this.listeners_[n]))for(var c=an([],yo(this.listeners_[n])),f=0;f<c.length;f++)c[f].callback.apply(c[f].context,o)},l0.prototype.on=function(n,o,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:o,context:a}),n=this.getInitialEvent(n),n&&o.apply(a,n)},l0.prototype.off=function(n,o,a){this.validateEventType_(n);for(var c=this.listeners_[n]||[],f=0;f<c.length;f++)if(c[f].callback===o&&(!a||a===c[f].context))return void c.splice(f,1)},l0.prototype.validateEventType_=function(n){mt(this.allowedEvents_.find(function(o){return o===n}),"Unknown event: "+n)},l0);function l0(n){this.allowedEvents_=n,this.listeners_={},mt(Array.isArray(n)&&0<n.length,"Requires a non-empty array")}var BR,$s=(Ct(Zf,BR=wi),Zf.getInstance=function(){return new Zf},Zf.prototype.getInitialEvent=function(n){return mt(n==="online","Unknown event type: "+n),[this.online_]},Zf.prototype.currentlyOnline=function(){return this.online_},Zf);function Zf(){var n=BR.call(this,["online"])||this;return n.online_=!0,typeof window>"u"||window.addEventListener===void 0||Cp()||(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}var HR=32,zR=768,mr=(bC.prototype.toString=function(){for(var n="",o=this.pieceNum_;o<this.pieces_.length;o++)this.pieces_[o]!==""&&(n+="/"+this.pieces_[o]);return n||"/"},bC);function bC(n,o){if(o===void 0){this.pieces_=n.split("/");for(var a=0,c=0;c<this.pieces_.length;c++)0<this.pieces_[c].length&&(this.pieces_[a]=this.pieces_[c],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=o}function sr(){return new mr("")}function Dn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ll(n){return n.pieces_.length-n.pieceNum_}function _r(n){var o=n.pieceNum_;return o<n.pieces_.length&&o++,new mr(n.pieces_,o)}function d1(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Fp(n,o){return n.pieces_.slice(n.pieceNum_+(o=o===void 0?0:o))}function p1(n){if(n.pieceNum_>=n.pieces_.length)return null;for(var o=[],a=n.pieceNum_;a<n.pieces_.length-1;a++)o.push(n.pieces_[a]);return new mr(o,0)}function Fr(n,o){for(var a=[],c=n.pieceNum_;c<n.pieces_.length;c++)a.push(n.pieces_[c]);if(o instanceof mr)for(c=o.pieceNum_;c<o.pieces_.length;c++)a.push(o.pieces_[c]);else for(var f=o.split("/"),c=0;c<f.length;c++)0<f[c].length&&a.push(f[c]);return new mr(a,0)}function Nn(n){return n.pieceNum_>=n.pieces_.length}function Vs(n,o){var a=Dn(n),c=Dn(o);if(a===null)return o;if(a===c)return Vs(_r(n),_r(o));throw new Error("INTERNAL ERROR: innerPath ("+o+") is not within outerPath ("+n+")")}function JU(n,o){for(var a=Fp(n,0),c=Fp(o,0),f=0;f<a.length&&f<c.length;f++){var p=Dl(a[f],c[f]);if(p!==0)return p}return a.length===c.length?0:a.length<c.length?-1:1}function wC(n,o){if(Ll(n)!==Ll(o))return!1;for(var a=n.pieceNum_,c=o.pieceNum_;a<=n.pieces_.length;a++,c++)if(n.pieces_[a]!==o.pieces_[c])return!1;return!0}function Ku(n,o){var a=n.pieceNum_,c=o.pieceNum_;if(Ll(n)>Ll(o))return!1;for(;a<n.pieces_.length;){if(n.pieces_[a]!==o.pieces_[c])return!1;++a,++c}return!0}var ZU=function(n,o){this.errorPrefix_=o,this.parts_=Fp(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(var a=0;a<this.parts_.length;a++)this.byteLength_+=e0(this.parts_[a]);KR(this)};function KR(n){if(n.byteLength_>zR)throw new Error(n.errorPrefix_+"has a key path longer than "+zR+" bytes ("+n.byteLength_+").");if(n.parts_.length>HR)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+HR+") or object contains a cycle "+jp(n))}function jp(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var WR,e$=(Ct(h0,WR=wi),h0.getInstance=function(){return new h0},h0.prototype.getInitialEvent=function(n){return mt(n==="visible","Unknown event type: "+n),[this.visible_]},h0);function h0(){var n,o,a=WR.call(this,["visible"])||this;return typeof document<"u"&&document.addEventListener!==void 0&&(document.hidden!==void 0?(o="visibilitychange",n="hidden"):document.mozHidden!==void 0?(o="mozvisibilitychange",n="mozHidden"):document.msHidden!==void 0?(o="msvisibilitychange",n="msHidden"):document.webkitHidden!==void 0&&(o="webkitvisibilitychange",n="webkitHidden")),a.visible_=!0,o&&document.addEventListener(o,function(){var c=!document[n];c!==a.visible_&&(a.visible_=c,a.trigger("visible",c))},!1),a}var GR,f0=1e3,t$=3e5,Up=(Ct(un,GR=ke),un.prototype.sendRequest=function(n,f,a){var c=++this.requestNumber_,f={r:c,a:n,b:f};this.log_(Vi(f)),mt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[c]=a)},un.prototype.get=function(n){var o=this;this.initConnection_();var a=new to,c={p:n._path.toString(),q:n._queryObject},f={action:"g",request:c,onComplete:function(b){var _=b.d;b.s==="ok"?(o.onDataUpdate_(c.p,_,!1,null),a.resolve(_)):a.reject(_)}};this.outstandingGets_.push(f),this.outstandingGetCount_++;var p=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var b=o.outstandingGets_[p];b!==void 0&&f===b&&(delete o.outstandingGets_[p],o.outstandingGetCount_--,o.outstandingGetCount_===0&&(o.outstandingGets_=[]),o.log_("get "+p+" timed out on connection"),a.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),a.promise},un.prototype.listen=function(n,o,a,c){this.initConnection_();var f=n._queryIdentifier,p=n._path.toString();this.log_("Listen called for "+p+" "+f),this.listens.has(p)||this.listens.set(p,new Map),mt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),mt(!this.listens.get(p).has(f),"listen() called twice for same path/queryId."),a={onComplete:c,hashFn:o,query:n,tag:a},this.listens.get(p).set(f,a),this.connected_&&this.sendListen_(a)},un.prototype.sendGet_=function(n){var o=this,a=this.outstandingGets_[n];this.sendRequest("g",a.request,function(c){delete o.outstandingGets_[n],o.outstandingGetCount_--,o.outstandingGetCount_===0&&(o.outstandingGets_=[]),a.onComplete&&a.onComplete(c)})},un.prototype.sendListen_=function(n){var o=this,a=n.query,c=a._path.toString(),f=a._queryIdentifier;this.log_("Listen on "+c+" for "+f);var p={p:c};n.tag&&(p.q=a._queryObject,p.t=n.tag),p.h=n.hashFn(),this.sendRequest("q",p,function(b){var _=b.d,T=b.s;un.warnOnListenWarnings_(_,a),(o.listens.get(c)&&o.listens.get(c).get(f))===n&&(o.log_("listen response",b),T!=="ok"&&o.removeListen_(c,f),n.onComplete&&n.onComplete(T,_))})},un.warnOnListenWarnings_=function(n,o){n&&typeof n=="object"&&Sa(n,"w")&&(n=Hf(n,"w"),Array.isArray(n)&&~n.indexOf("no_index")&&(n='".indexOn": "'+o._queryParams.getIndex().toString()+'"',o=o._path.toString(),_o("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+n+" at "+o+" to your security rules for better performance.")))},un.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},un.prototype.reduceReconnectDelayIfAdminCredential_=function(n){(n&&n.length===40||function(o){return o=X_(o).claims,typeof o=="object"&&o.admin===!0}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},un.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},un.prototype.tryAuth=function(){var n,o,a,c=this;this.connected_&&this.authToken_&&(o=function(f){return f=X_(f).claims,!!f&&typeof f=="object"&&f.hasOwnProperty("iat")}(n=this.authToken_)?"auth":"gauth",a={cred:n},this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(o,a,function(b){var p=b.s,b=b.d||"error";c.authToken_===n&&(p==="ok"?c.invalidAuthTokenCount_=0:c.onAuthRevoked_(p,b))}))},un.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(c){var a=c.s,c=c.d||"error";a==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(a,c)})},un.prototype.unlisten=function(n,o){var a=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),mt(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,n._queryObject,o)},un.prototype.sendUnlisten_=function(n,o,a,c){this.log_("Unlisten on "+n+" for "+o),n={p:n},c&&(n.q=a,n.t=c),this.sendRequest("n",n)},un.prototype.onDisconnectPut=function(n,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,o,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:o,onComplete:a})},un.prototype.onDisconnectMerge=function(n,o,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,o,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:o,onComplete:a})},un.prototype.onDisconnectCancel=function(n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:o})},un.prototype.sendOnDisconnect_=function(n,o,a,c){a={p:o,d:a},this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(f){c&&setTimeout(function(){c(f.s,f.d)},Math.floor(0))})},un.prototype.put=function(n,o,a,c){this.putInternal("p",n,o,a,c)},un.prototype.merge=function(n,o,a,c){this.putInternal("m",n,o,a,c)},un.prototype.putInternal=function(n,o,a,c,f){this.initConnection_(),a={p:o,d:a},f!==void 0&&(a.h=f),this.outstandingPuts_.push({action:n,request:a,onComplete:c}),this.outstandingPutCount_++,c=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(c):this.log_("Buffering put: "+o)},un.prototype.sendPut_=function(n){var o=this,a=this.outstandingPuts_[n].action,c=this.outstandingPuts_[n].request,f=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,c,function(p){o.log_(a+" response",p),delete o.outstandingPuts_[n],o.outstandingPutCount_--,o.outstandingPutCount_===0&&(o.outstandingPuts_=[]),f&&f(p.s,p.d)})},un.prototype.reportStats=function(n){var o=this;this.connected_&&(this.log_("reportStats",n={c:n}),this.sendRequest("s",n,function(a){a.s!=="ok"&&(a=a.d,o.log_("reportStats","Error sending stats: "+a))}))},un.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Vi(n));var o=n.r,a=this.requestCBHash_[o];a&&(delete this.requestCBHash_[o],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},un.prototype.onDataPush_=function(n,o){this.log_("handleServerMessage",n,o),n==="d"?this.onDataUpdate_(o.p,o.d,!1,o.t):n==="m"?this.onDataUpdate_(o.p,o.d,!0,o.t):n==="c"?this.onListenRevoked_(o.p,o.q):n==="ac"?this.onAuthRevoked_(o.s,o.d):n==="apc"?this.onAppCheckRevoked_(o.s,o.d):n==="sd"?this.onSecurityDebugPacket_(o):_m("Unrecognized action received from server: "+Vi(n)+`
Are you using the latest client?`)},un.prototype.onReady_=function(n,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},un.prototype.scheduleConnect_=function(n){var o=this;mt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){o.establishConnectionTimer_=null,o.establishConnection_()},Math.floor(n))},un.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},un.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=f0,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},un.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=f0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},un.prototype.onRealtimeDisconnect_=function(){var n;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<new Date().getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=f0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime()),n=new Date().getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-n),n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},un.prototype.establishConnection_=function(){return me(this,void 0,void 0,function(){var n,o,a,c,f,p,b,_,T,k,N=this;return ve(this,function(j){switch(j.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),o=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+un.nextConnectionId_++,k=this.lastSessionId,f=!1,p=null,b=function(){p?p.close():(f=!0,a())},T=function(V){mt(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(V)},this.realtime_={close:b,sendRequest:T},_=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)])];case 2:return T=yo.apply(void 0,[j.sent(),2]),_=T[0],T=T[1],f?wo("getToken() completed but was canceled"):(wo("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=T&&T.token,p=new qR(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,o,a,function(V){_o(V+" ("+N.repoInfo_.toString()+")"),N.interrupt("server_kill")},k)),[3,4];case 3:return k=j.sent(),this.log_("Failed to get token: "+k),f||(this.repoInfo_.nodeAdmin&&_o(k),b()),[3,4];case 4:return[2]}})})},un.prototype.interrupt=function(n){wo("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},un.prototype.resume=function(n){wo("Resuming connection for reason: "+n),delete this.interruptReasons_[n],J_(this.interruptReasons_)&&(this.reconnectDelay_=f0,this.realtime_||this.scheduleConnect_(0))},un.prototype.handleTimestamp_=function(n){n-=new Date().getTime(),this.onServerInfoUpdate_({serverTimeOffset:n})},un.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var o=this.outstandingPuts_[n];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},un.prototype.onListenRevoked_=function(n,o){o=o?o.map(function(a){return l1(a)}).join("$"):"default",o=this.removeListen_(n,o),o&&o.onComplete&&o.onComplete("permission_denied")},un.prototype.removeListen_=function(n,o){var a,c=new mr(n).toString();return this.listens.has(c)?(a=(n=this.listens.get(c)).get(o),n.delete(o),n.size===0&&this.listens.delete(c)):a=void 0,a},un.prototype.onAuthRevoked_=function(n,o){wo("Auth token revoked: "+n+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),n!=="invalid_token"&&n!=="permission_denied"||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},un.prototype.onAppCheckRevoked_=function(n,o){wo("App check token revoked: "+n+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,n!=="invalid_token"&&n!=="permission_denied"||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},un.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},un.prototype.restoreState_=function(){var n,o,a,c;this.tryAuth(),this.tryAppCheck();try{for(var f=go(this.listens.values()),p=f.next();!p.done;p=f.next()){var b=p.value;try{for(var _=(a=void 0,go(b.values())),T=_.next();!T.done;T=_.next()){var k=T.value;this.sendListen_(k)}}catch(V){a={error:V}}finally{try{T&&!T.done&&(c=_.return)&&c.call(_)}finally{if(a)throw a.error}}}}catch(V){n={error:V}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}for(var N=0;N<this.outstandingPuts_.length;N++)this.outstandingPuts_[N]&&this.sendPut_(N);for(;this.onDisconnectRequestQueue_.length;){var j=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(j.action,j.pathString,j.data,j.onComplete)}for(N=0;N<this.outstandingGets_.length;N++)this.outstandingGets_[N]&&this.sendGet_(N)},un.prototype.sendConnectStats_=function(){var n={};n["sdk.js."+s1.replace(/\./g,"-")]=1,Cp()?n["framework.cordova"]=1:NR()&&(n["framework.reactnative"]=1),this.reportStats(n)},un.prototype.shouldReconnect_=function(){var n=$s.getInstance().currentlyOnline();return J_(this.interruptReasons_)&&n},un.nextPersistentConnectionId_=0,un.nextConnectionId_=0,un);function un(n,o,a,c,f,p,b,_){var T=GR.call(this)||this;if(T.repoInfo_=n,T.applicationId_=o,T.onDataUpdate_=a,T.onConnectStatus_=c,T.onServerInfoUpdate_=f,T.authTokenProvider_=p,T.appCheckTokenProvider_=b,T.authOverride_=_,T.id=un.nextPersistentConnectionId_++,T.log_=n0("p:"+T.id+":"),T.interruptReasons_={},T.listens=new Map,T.outstandingPuts_=[],T.outstandingGets_=[],T.outstandingPutCount_=0,T.outstandingGetCount_=0,T.onDisconnectRequestQueue_=[],T.connected_=!1,T.reconnectDelay_=f0,T.maxReconnectDelay_=t$,T.securityDebugCallback_=null,T.lastSessionId=null,T.establishConnectionTimer_=null,T.visible_=!1,T.requestCBHash_={},T.requestNumber_=0,T.realtime_=null,T.authToken_=null,T.appCheckToken_=null,T.forceTokenRefresh_=!1,T.invalidAuthTokenCount_=0,T.invalidAppCheckTokenCount_=0,T.firstConnection_=!0,T.lastConnectionAttemptTime_=null,T.lastConnectionEstablishedTime_=null,_&&!Xy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return e$.getInstance().on("visible",T.onVisible_,T),n.host.indexOf("fblocal")===-1&&$s.getInstance().on("online",T.onOnline_,T),T}var Vn=(_C.Wrap=function(n,o){return new _C(n,o)},_C);function _C(n,o){this.name=n,this.node=o}var v1,Xe=(m1.prototype.getCompare=function(){return this.compare.bind(this)},m1.prototype.indexedValueChanged=function(n,o){return n=new Vn(Rl,n),o=new Vn(Rl,o),this.compare(n,o)!==0},m1.prototype.minPost=function(){return Vn.MIN},m1);function m1(){}var g1,Qe=(Ct(Mc,g1=Xe),Object.defineProperty(Mc,"__EMPTY_NODE",{get:function(){return v1},set:function(n){v1=n},enumerable:!1,configurable:!0}),Mc.prototype.compare=function(n,o){return Dl(n.name,o.name)},Mc.prototype.isDefinedOn=function(n){throw Vf("KeyIndex.isDefinedOn not expected to be called.")},Mc.prototype.indexedValueChanged=function(n,o){return!1},Mc.prototype.minPost=function(){return Vn.MIN},Mc.prototype.maxPost=function(){return new Vn(Rc,v1)},Mc.prototype.makePost=function(n,o){return mt(typeof n=="string","KeyIndex indexValue must always be a string."),new Vn(n,v1)},Mc.prototype.toString=function(){return".key"},Mc);function Mc(){return g1!==null&&g1.apply(this,arguments)||this}var Ml=new Qe,y1=(b1.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var n=this.nodeStack_.pop(),o=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value};if(this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return o},b1.prototype.hasNext=function(){return 0<this.nodeStack_.length},b1.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}},b1);function b1(n,o,a,c,f){f===void 0&&(f=null),this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];for(var p=1;!n.isEmpty();)if(p=o?a(n.key,o):1,c&&(p*=-1),p<0)n=this.isReverse_?n.left:n.right;else{if(p===0){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}var Fc=(Pr.prototype.copy=function(n,o,a,c,f){return new Pr(n!=null?n:this.key,o!=null?o:this.value,a!=null?a:this.color,c!=null?c:this.left,f!=null?f:this.right)},Pr.prototype.count=function(){return this.left.count()+1+this.right.count()},Pr.prototype.isEmpty=function(){return!1},Pr.prototype.inorderTraversal=function(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)},Pr.prototype.reverseTraversal=function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)},Pr.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Pr.prototype.minKey=function(){return this.min_().key},Pr.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Pr.prototype.insert=function(n,o,a){var c=this,f=a(n,c.key);return(c=f<0?c.copy(null,null,null,c.left.insert(n,o,a),null):f===0?c.copy(null,o,null,null,null):c.copy(null,null,null,null,c.right.insert(n,o,a))).fixUp_()},Pr.prototype.removeMin_=function(){if(this.left.isEmpty())return Fl.EMPTY_NODE;var n=this;return(n=(n=!n.left.isRed_()&&!n.left.left.isRed_()?n.moveRedLeft_():n).copy(null,null,null,n.left.removeMin_(),null)).fixUp_()},Pr.prototype.remove=function(n,o){var a,c=this;if(o(n,c.key)<0)c=(c=c.left.isEmpty()||c.left.isRed_()||c.left.left.isRed_()?c:c.moveRedLeft_()).copy(null,null,null,c.left.remove(n,o),null);else{if(o(n,(c=(c=c.left.isRed_()?c.rotateRight_():c).right.isEmpty()||c.right.isRed_()||c.right.left.isRed_()?c:c.moveRedRight_()).key)===0){if(c.right.isEmpty())return Fl.EMPTY_NODE;a=c.right.min_(),c=c.copy(a.key,a.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(n,o))}return c.fixUp_()},Pr.prototype.isRed_=function(){return this.color},Pr.prototype.fixUp_=function(){var n=this;return n=(n=(n=n.right.isRed_()&&!n.left.isRed_()?n.rotateLeft_():n).left.isRed_()&&n.left.left.isRed_()?n.rotateRight_():n).left.isRed_()&&n.right.isRed_()?n.colorFlip_():n},Pr.prototype.moveRedLeft_=function(){var n=this.colorFlip_();return n=n.right.left.isRed_()?(n=(n=n.copy(null,null,null,null,n.right.rotateRight_())).rotateLeft_()).colorFlip_():n},Pr.prototype.moveRedRight_=function(){var n=this.colorFlip_();return n=n.left.left.isRed_()?(n=n.rotateRight_()).colorFlip_():n},Pr.prototype.rotateLeft_=function(){var n=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},Pr.prototype.rotateRight_=function(){var n=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},Pr.prototype.colorFlip_=function(){var n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)},Pr.prototype.checkMaxDepth_=function(){var n=this.check_();return Math.pow(2,n)<=this.count()+1},Pr.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)},Pr.RED=!0,Pr.BLACK=!1,Pr);function Pr(n,o,a,c,f){this.key=n,this.value=o,this.color=a!=null?a:Pr.RED,this.left=c!=null?c:Fl.EMPTY_NODE,this.right=f!=null?f:Fl.EMPTY_NODE}Wu.prototype.copy=function(n,o,a,c,f){return this},Wu.prototype.insert=function(n,o,a){return new Fc(n,o,null)},Wu.prototype.remove=function(n,o){return this},Wu.prototype.count=function(){return 0},Wu.prototype.isEmpty=function(){return!0},Wu.prototype.inorderTraversal=function(n){return!1},Wu.prototype.reverseTraversal=function(n){return!1},Wu.prototype.minKey=function(){return null},Wu.prototype.maxKey=function(){return null},Wu.prototype.check_=function(){return 0},Wu.prototype.isRed_=function(){return!1},wi=Wu;function Wu(){}var EC,Fl=(no.prototype.insert=function(n,o){return new no(this.comparator_,this.root_.insert(n,o,this.comparator_).copy(null,null,Fc.BLACK,null,null))},no.prototype.remove=function(n){return new no(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Fc.BLACK,null,null))},no.prototype.get=function(n){for(var o,a=this.root_;!a.isEmpty();){if((o=this.comparator_(n,a.key))===0)return a.value;o<0?a=a.left:0<o&&(a=a.right)}return null},no.prototype.getPredecessorKey=function(n){for(var o,a=this.root_,c=null;!a.isEmpty();){if((o=this.comparator_(n,a.key))===0){if(a.left.isEmpty())return c?c.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}o<0?a=a.left:0<o&&(a=(c=a).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},no.prototype.isEmpty=function(){return this.root_.isEmpty()},no.prototype.count=function(){return this.root_.count()},no.prototype.minKey=function(){return this.root_.minKey()},no.prototype.maxKey=function(){return this.root_.maxKey()},no.prototype.inorderTraversal=function(n){return this.root_.inorderTraversal(n)},no.prototype.reverseTraversal=function(n){return this.root_.reverseTraversal(n)},no.prototype.getIterator=function(n){return new y1(this.root_,null,this.comparator_,!1,n)},no.prototype.getIteratorFrom=function(n,o){return new y1(this.root_,n,this.comparator_,!1,o)},no.prototype.getReverseIteratorFrom=function(n,o){return new y1(this.root_,n,this.comparator_,!0,o)},no.prototype.getReverseIterator=function(n){return new y1(this.root_,null,this.comparator_,!0,n)},no.EMPTY_NODE=new wi,no);function no(n,o){o===void 0&&(o=no.EMPTY_NODE),this.comparator_=n,this.root_=o}function n$(n,o){return Dl(n.name,o.name)}function SC(n,o){return Dl(n,o)}function QR(n){return typeof n=="number"?"number:"+r0(n):"string:"+n}var Mn,TC,w1,IC,YR=function(n){var o;n.isLeafNode()?(o=n.val(),mt(typeof o=="string"||typeof o=="number"||typeof o=="object"&&Sa(o,".sv"),"Priority must be a string or number.")):mt(n===EC||n.isEmpty(),"priority of unexpected type."),mt(n===EC||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Am=(Object.defineProperty(nr,"__childrenNodeConstructor",{get:function(){return Mn},set:function(n){Mn=n},enumerable:!1,configurable:!0}),nr.prototype.isLeafNode=function(){return!0},nr.prototype.getPriority=function(){return this.priorityNode_},nr.prototype.updatePriority=function(n){return new nr(this.value_,n)},nr.prototype.getImmediateChild=function(n){return n===".priority"?this.priorityNode_:nr.__childrenNodeConstructor.EMPTY_NODE},nr.prototype.getChild=function(n){return Nn(n)?this:Dn(n)===".priority"?this.priorityNode_:nr.__childrenNodeConstructor.EMPTY_NODE},nr.prototype.hasChild=function(){return!1},nr.prototype.getPredecessorChildName=function(n,o){return null},nr.prototype.updateImmediateChild=function(n,o){return n===".priority"?this.updatePriority(o):o.isEmpty()&&n!==".priority"?this:nr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,o).updatePriority(this.priorityNode_)},nr.prototype.updateChild=function(n,o){var a=Dn(n);return a===null?o:o.isEmpty()&&a!==".priority"?this:(mt(a!==".priority"||Ll(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,nr.__childrenNodeConstructor.EMPTY_NODE.updateChild(_r(n),o)))},nr.prototype.isEmpty=function(){return!1},nr.prototype.numChildren=function(){return 0},nr.prototype.forEachChild=function(n,o){return!1},nr.prototype.val=function(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},nr.prototype.hash=function(){var n,o;return this.lazyHash_===null&&(n="",this.priorityNode_.isEmpty()||(n+="priority:"+QR(this.priorityNode_.val())+":"),n+=(o=typeof this.value_)+":",n+=o=="number"?r0(this.value_):this.value_,this.lazyHash_=pC(n)),this.lazyHash_},nr.prototype.getValue=function(){return this.value_},nr.prototype.compareTo=function(n){return n===nr.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof nr.__childrenNodeConstructor?-1:(mt(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))},nr.prototype.compareToLeafNode_=function(n){var o=typeof n.value_,a=typeof this.value_,c=nr.VALUE_TYPE_ORDER.indexOf(o),f=nr.VALUE_TYPE_ORDER.indexOf(a);return mt(0<=c,"Unknown leaf type: "+o),mt(0<=f,"Unknown leaf type: "+a),c===f?a=="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c},nr.prototype.withIndex=function(){return this},nr.prototype.isIndexed=function(){return!0},nr.prototype.equals=function(n){return n===this||!!n.isLeafNode()&&this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)},nr.VALUE_TYPE_ORDER=["object","boolean","number","string"],nr);function nr(n,o){o===void 0&&(o=nr.__childrenNodeConstructor.EMPTY_NODE),this.value_=n,this.priorityNode_=o,this.lazyHash_=null,mt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YR(this.priorityNode_)}function Fh(){return IC!==null&&IC.apply(this,arguments)||this}var jr=new(Ct(Fh,IC=Xe),Fh.prototype.compare=function(n,o){var a=n.node.getPriority(),c=o.node.getPriority(),c=a.compareTo(c);return c===0?Dl(n.name,o.name):c},Fh.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},Fh.prototype.indexedValueChanged=function(n,o){return!n.getPriority().equals(o.getPriority())},Fh.prototype.minPost=function(){return Vn.MIN},Fh.prototype.maxPost=function(){return new Vn(Rc,new Am("[PRIORITY-POST]",w1))},Fh.prototype.makePost=function(n,o){return n=TC(n),new Vn(o,new Am("[PRIORITY-POST]",n))},Fh.prototype.toString=function(){return".priority"},Fh),r$=Math.log(2),_1=(XR.prototype.nextBitIsOne=function(){var n=!(this.bits_&1<<this.current_);return this.current_--,n},XR);function XR(n){var o;this.count=(o=n+1,parseInt(Math.log(o)/r$,10)),this.current_=this.count-1;var a,c=(a=this.count,parseInt(Array(a+1).join("1"),2));this.bits_=n+1&c}var CC,$p,xm=function(n,o,a,c){n.sort(o);var f=function(k,N){var T=N-k;if(T==0)return null;if(T==1)return j=n[k],V=a?a(j):j,new Fc(V,j.node,Fc.BLACK,null,null);var T=parseInt(T/2,10)+k,k=f(k,T),N=f(T+1,N),j=n[T],V=a?a(j):j;return new Fc(V,j.node,Fc.BLACK,k,N)},p=function(b){for(var _=null,T=null,k=n.length,N=function(ne,ae){var Ce=k-ne,de=k;k-=ne,ne=f(1+Ce,de),de=n[Ce],Ce=a?a(de):de,j(new Fc(Ce,de.node,ae,null,ne))},j=function(ne){_=_?_.left=ne:T=ne},V=0;V<b.count;++V){var W=b.nextBitIsOne(),X=Math.pow(2,b.count-(V+1));W?N(X,Fc.BLACK):(N(X,Fc.BLACK),N(X,Fc.RED))}return T}(new _1(n.length));return new Fl(c||o,p)},Om={},d0=(Object.defineProperty(Gu,"Default",{get:function(){return mt(jr,"ChildrenNode.ts has not been loaded"),CC=CC||new Gu({".priority":Om},{".priority":jr})},enumerable:!1,configurable:!0}),Gu.prototype.get=function(n){var o=Hf(this.indexes_,n);if(!o)throw new Error("No index defined for "+n);return o instanceof Fl?o:null},Gu.prototype.hasIndex=function(n){return Sa(this.indexSet_,n.toString())},Gu.prototype.addIndex=function(n,o){mt(n!==Ml,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var a=[],c=!1,f=o.getIterator(Vn.Wrap),p=f.getNext();p;)c=c||n.isDefinedOn(p.node),a.push(p),p=f.getNext();var b=c?xm(a,n.getCompare()):Om,_=n.toString(),T=sn({},this.indexSet_);return T[_]=n,o=sn({},this.indexes_),o[_]=b,new Gu(o,T)},Gu.prototype.addToIndexes=function(n,o){var a=this;return new Gu(kp(this.indexes_,function(c,f){var p=Hf(a.indexSet_,f);if(mt(p,"Missing index implementation for "+f),c===Om){if(p.isDefinedOn(n.node)){for(var b=[],_=o.getIterator(Vn.Wrap),T=_.getNext();T;)T.name!==n.name&&b.push(T),T=_.getNext();return b.push(n),xm(b,p.getCompare())}return Om}return f=o.get(n.name),p=c,(p=f?c.remove(new Vn(n.name,f)):p).insert(n,n.node)}),this.indexSet_)},Gu.prototype.removeFromIndexes=function(n,o){return new Gu(kp(this.indexes_,function(a){if(a===Om)return a;var c=o.get(n.name);return c?a.remove(new Vn(n.name,c)):a}),this.indexSet_)},Gu);function Gu(n,o){this.indexes_=n,this.indexSet_=o}var kC,dn=(Object.defineProperty(Kn,"EMPTY_NODE",{get:function(){return $p=$p||new Kn(new Fl(SC),null,d0.Default)},enumerable:!1,configurable:!0}),Kn.prototype.isLeafNode=function(){return!1},Kn.prototype.getPriority=function(){return this.priorityNode_||$p},Kn.prototype.updatePriority=function(n){return this.children_.isEmpty()?this:new Kn(this.children_,n,this.indexMap_)},Kn.prototype.getImmediateChild=function(n){return n===".priority"?this.getPriority():(n=this.children_.get(n),n===null?$p:n)},Kn.prototype.getChild=function(n){var o=Dn(n);return o===null?this:this.getImmediateChild(o).getChild(_r(n))},Kn.prototype.hasChild=function(n){return this.children_.get(n)!==null},Kn.prototype.updateImmediateChild=function(n,o){if(mt(o,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(o);var f=new Vn(n,o),a=void 0,c=void 0,c=o.isEmpty()?(a=this.children_.remove(n),this.indexMap_.removeFromIndexes(f,this.children_)):(a=this.children_.insert(n,o),this.indexMap_.addToIndexes(f,this.children_)),f=a.isEmpty()?$p:this.priorityNode_;return new Kn(a,f,c)},Kn.prototype.updateChild=function(n,o){var a=Dn(n);return a===null?o:(mt(Dn(n)!==".priority"||Ll(n)===1,".priority must be the last token in a path"),o=this.getImmediateChild(a).updateChild(_r(n),o),this.updateImmediateChild(a,o))},Kn.prototype.isEmpty=function(){return this.children_.isEmpty()},Kn.prototype.numChildren=function(){return this.children_.count()},Kn.prototype.val=function(n){if(this.isEmpty())return null;var o={},a=0,c=0,f=!0;if(this.forEachChild(jr,function(_,T){o[_]=T.val(n),a++,f&&Kn.INTEGER_REGEXP_.test(_)?c=Math.max(c,Number(_)):f=!1}),!n&&f&&c<2*a){var p,b=[];for(p in o)b[p]=o[p];return b}return n&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o},Kn.prototype.hash=function(){var n;return this.lazyHash_===null&&(n="",this.getPriority().isEmpty()||(n+="priority:"+QR(this.getPriority().val())+":"),this.forEachChild(jr,function(o,a){a=a.hash(),a!==""&&(n+=":"+o+":"+a)}),this.lazyHash_=n===""?"":pC(n)),this.lazyHash_},Kn.prototype.getPredecessorChildName=function(n,o,a){return a=this.resolveIndex_(a),a?(o=a.getPredecessorKey(new Vn(n,o)),o?o.name:null):this.children_.getPredecessorKey(n)},Kn.prototype.getFirstChildName=function(n){return n=this.resolveIndex_(n),n?(n=n.minKey(),n&&n.name):this.children_.minKey()},Kn.prototype.getFirstChild=function(n){return n=this.getFirstChildName(n),n?new Vn(n,this.children_.get(n)):null},Kn.prototype.getLastChildName=function(n){return n=this.resolveIndex_(n),n?(n=n.maxKey(),n&&n.name):this.children_.maxKey()},Kn.prototype.getLastChild=function(n){return n=this.getLastChildName(n),n?new Vn(n,this.children_.get(n)):null},Kn.prototype.forEachChild=function(n,o){return n=this.resolveIndex_(n),n?n.inorderTraversal(function(a){return o(a.name,a.node)}):this.children_.inorderTraversal(o)},Kn.prototype.getIterator=function(n){return this.getIteratorFrom(n.minPost(),n)},Kn.prototype.getIteratorFrom=function(n,o){var a=this.resolveIndex_(o);if(a)return a.getIteratorFrom(n,function(p){return p});for(var c=this.children_.getIteratorFrom(n.name,Vn.Wrap),f=c.peek();f!=null&&o.compare(f,n)<0;)c.getNext(),f=c.peek();return c},Kn.prototype.getReverseIterator=function(n){return this.getReverseIteratorFrom(n.maxPost(),n)},Kn.prototype.getReverseIteratorFrom=function(n,o){var a=this.resolveIndex_(o);if(a)return a.getReverseIteratorFrom(n,function(p){return p});for(var c=this.children_.getReverseIteratorFrom(n.name,Vn.Wrap),f=c.peek();f!=null&&0<o.compare(f,n);)c.getNext(),f=c.peek();return c},Kn.prototype.compareTo=function(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===p0?-1:0},Kn.prototype.withIndex=function(n){return n===Ml||this.indexMap_.hasIndex(n)?this:(n=this.indexMap_.addIndex(n,this.children_),new Kn(this.children_,this.priorityNode_,n))},Kn.prototype.isIndexed=function(n){return n===Ml||this.indexMap_.hasIndex(n)},Kn.prototype.equals=function(n){if(n===this)return!0;if(n.isLeafNode())return!1;if(this.getPriority().equals(n.getPriority())){if(this.children_.count()!==n.children_.count())return!1;for(var o=this.getIterator(jr),a=n.getIterator(jr),c=o.getNext(),f=a.getNext();c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}return!1},Kn.prototype.resolveIndex_=function(n){return n===Ml?null:this.indexMap_.get(n.toString())},Kn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,Kn);function Kn(n,o,a){this.children_=n,this.priorityNode_=o,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&YR(this.priorityNode_),this.children_.isEmpty()&&mt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function Vp(){return kC.call(this,new Fl(SC),dn.EMPTY_NODE,d0.Default)||this}var p0=new(Ct(Vp,kC=dn),Vp.prototype.compareTo=function(n){return n===this?0:1},Vp.prototype.equals=function(n){return n===this},Vp.prototype.getPriority=function(){return this},Vp.prototype.getImmediateChild=function(n){return dn.EMPTY_NODE},Vp.prototype.isEmpty=function(){return!1},Vp);Object.defineProperties(Vn,{MIN:{value:new Vn(Rl,dn.EMPTY_NODE)},MAX:{value:new Vn(Rc,p0)}}),Qe.__EMPTY_NODE=dn.EMPTY_NODE,Am.__childrenNodeConstructor=dn,w1=EC=p0;var JR=!0;function Xr(n,o){if(o===void 0&&(o=null),n===null)return dn.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(o=n[".priority"]),mt(o===null||typeof o=="string"||typeof o=="number"||typeof o=="object"&&".sv"in o,"Invalid priority type found: "+typeof o),typeof(n=typeof n=="object"&&".value"in n&&n[".value"]!==null?n[".value"]:n)!="object"||".sv"in n)return new Am(n,Xr(o));if(n instanceof Array||!JR){var a=dn.EMPTY_NODE;return ai(n,function(_,T){Sa(n,_)&&_.substring(0,1)!=="."&&(!(T=Xr(T)).isLeafNode()&&T.isEmpty()||(a=a.updateImmediateChild(_,T)))}),a.updatePriority(Xr(o))}var c=[],f=!1;if(ai(n,function(_,T){_.substring(0,1)!=="."&&((T=Xr(T)).isEmpty()||(f=f||!T.getPriority().isEmpty(),c.push(new Vn(_,T))))}),c.length===0)return dn.EMPTY_NODE;var p=xm(c,n$,function(_){return _.name},SC);if(f){var b=xm(c,jr.getCompare());return new dn(p,Xr(o),new d0({".priority":b},{".priority":jr}))}return new dn(p,Xr(o),d0.Default)}TC=Xr;var ZR,E1,S1=(Ct(jh,ZR=Xe),jh.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},jh.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},jh.prototype.compare=function(n,o){var a=this.extractChild(n.node),c=this.extractChild(o.node),c=a.compareTo(c);return c===0?Dl(n.name,o.name):c},jh.prototype.makePost=function(n,o){return n=Xr(n),n=dn.EMPTY_NODE.updateChild(this.indexPath_,n),new Vn(o,n)},jh.prototype.maxPost=function(){var n=dn.EMPTY_NODE.updateChild(this.indexPath_,p0);return new Vn(Rc,n)},jh.prototype.toString=function(){return Fp(this.indexPath_,0).join("/")},jh);function jh(n){var o=ZR.call(this)||this;return o.indexPath_=n,mt(!Nn(n)&&Dn(n)!==".priority","Can't create PathIndex with empty path or .priority key"),o}function jl(){return E1!==null&&E1.apply(this,arguments)||this}function T1(n){if(n===""+Dp)return"-";var o=Lp(n);if(o!=null)return""+(o+1);for(var a=new Array(n.length),c=0;c<a.length;c++)a[c]=n.charAt(c);if(a.length<786)return a.push("-"),a.join("");for(var f=a.length-1;0<=f&&a[f]==="z";)f--;return f===-1?Rc:(o=a[f],o=ed.charAt(ed.indexOf(o)+1),a[f]=o,a.slice(0,f+1).join(""))}function AC(n){if(n===""+Yf)return Rl;var o=Lp(n);if(o!=null)return""+(o-1);for(var a=new Array(n.length),c=0;c<a.length;c++)a[c]=n.charAt(c);return a[a.length-1]==="-"?a.length===1?""+Dp:(delete a[a.length-1],a.join("")):(a[a.length-1]=ed.charAt(ed.indexOf(a[a.length-1])-1),a.join("")+"z".repeat(786-a.length))}var v0,Nm,I1=new(Ct(jl,E1=Xe),jl.prototype.compare=function(n,o){var a=n.node.compareTo(o.node);return a===0?Dl(n.name,o.name):a},jl.prototype.isDefinedOn=function(n){return!0},jl.prototype.indexedValueChanged=function(n,o){return!n.equals(o)},jl.prototype.minPost=function(){return Vn.MIN},jl.prototype.maxPost=function(){return Vn.MAX},jl.prototype.makePost=function(n,o){return n=Xr(n),new Vn(o,n)},jl.prototype.toString=function(){return".value"},jl),ed="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",C1=(v0=0,Nm=[],function(n){var o=n===v0;v0=n;for(var a=new Array(8),c=7;0<=c;c--)a[c]=ed.charAt(n%64),n=Math.floor(n/64);mt(n===0,"Cannot push at time == 0");var f=a.join("");if(o){for(c=11;0<=c&&Nm[c]===63;c--)Nm[c]=0;Nm[c]++}else for(c=0;c<12;c++)Nm[c]=Math.floor(64*Math.random());for(c=0;c<12;c++)f+=ed.charAt(Nm[c]);return mt(f.length===20,"nextPushId: Length should be 20."),f});function k1(n){return{type:"value",snapshotNode:n}}function Ul(n,o){return{type:"child_added",snapshotNode:o,childName:n}}function Uh(n,o){return{type:"child_removed",snapshotNode:o,childName:n}}function $l(n,o,a){return{type:"child_changed",snapshotNode:o,childName:n,oldSnap:a}}var A1=(td.prototype.updateChild=function(n,o,a,c,f,p){mt(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");var b=n.getImmediateChild(o);return b.getChild(c).equals(a.getChild(c))&&b.isEmpty()===a.isEmpty()?n:(p!=null&&(a.isEmpty()?n.hasChild(o)?p.trackChildChange(Uh(o,b)):mt(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):b.isEmpty()?p.trackChildChange(Ul(o,a)):p.trackChildChange($l(o,a,b))),n.isLeafNode()&&a.isEmpty()?n:n.updateImmediateChild(o,a).withIndex(this.index_))},td.prototype.updateFullNode=function(n,o,a){return a!=null&&(n.isLeafNode()||n.forEachChild(jr,function(c,f){o.hasChild(c)||a.trackChildChange(Uh(c,f))}),o.isLeafNode()||o.forEachChild(jr,function(c,f){var p;n.hasChild(c)?(p=n.getImmediateChild(c)).equals(f)||a.trackChildChange($l(c,f,p)):a.trackChildChange(Ul(c,f))})),o.withIndex(this.index_)},td.prototype.updatePriority=function(n,o){return n.isEmpty()?dn.EMPTY_NODE:n.updatePriority(o)},td.prototype.filtersNodes=function(){return!1},td.prototype.getIndexedFilter=function(){return this},td.prototype.getIndex=function(){return this.index_},td);function td(n){this.index_=n}var e2=(qs.prototype.getStartPost=function(){return this.startPost_},qs.prototype.getEndPost=function(){return this.endPost_},qs.prototype.matches=function(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0},qs.prototype.updateChild=function(n,o,a,c,f,p){return this.matches(new Vn(o,a))||(a=dn.EMPTY_NODE),this.indexedFilter_.updateChild(n,o,a,c,f,p)},qs.prototype.updateFullNode=function(n,o,a){o.isLeafNode()&&(o=dn.EMPTY_NODE);var c=(c=o.withIndex(this.index_)).updatePriority(dn.EMPTY_NODE),f=this;return o.forEachChild(jr,function(p,b){f.matches(new Vn(p,b))||(c=c.updateImmediateChild(p,dn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,a)},qs.prototype.updatePriority=function(n,o){return n},qs.prototype.filtersNodes=function(){return!0},qs.prototype.getIndexedFilter=function(){return this.indexedFilter_},qs.prototype.getIndex=function(){return this.index_},qs.getStartPost_=function(n){if(n.hasStart()){var o=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),o)}return n.getIndex().minPost()},qs.getEndPost_=function(n){if(n.hasEnd()){var o=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),o)}return n.getIndex().maxPost()},qs);function qs(n){this.indexedFilter_=new A1(n.getIndex()),this.index_=n.getIndex(),this.startPost_=qs.getStartPost_(n),this.endPost_=qs.getEndPost_(n)}var t2=(Qu.prototype.updateChild=function(n,o,a,c,f,p){return this.rangedFilter_.matches(new Vn(o,a))||(a=dn.EMPTY_NODE),n.getImmediateChild(o).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,o,a,c,f,p):this.fullLimitUpdateChild_(n,o,a,f,p)},Qu.prototype.updateFullNode=function(n,o,a){if(o.isLeafNode()||o.isEmpty())c=dn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<o.numChildren()&&o.isIndexed(this.index_)){var c=dn.EMPTY_NODE.withIndex(this.index_),f=void 0;f=this.reverse_?o.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var p=0;f.hasNext()&&p<this.limit_;){var b=f.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),b)<=0:this.index_.compare(b,this.rangedFilter_.getEndPost())<=0))break;c=c.updateImmediateChild(b.name,b.node),p++}}else{c=(c=o.withIndex(this.index_)).updatePriority(dn.EMPTY_NODE);var _,T=void 0,k=void 0,N=void 0,f=void 0;N=this.reverse_?(f=c.getReverseIterator(this.index_),T=this.rangedFilter_.getEndPost(),k=this.rangedFilter_.getStartPost(),_=this.index_.getCompare(),function(W,X){return _(X,W)}):(f=c.getIterator(this.index_),T=this.rangedFilter_.getStartPost(),k=this.rangedFilter_.getEndPost(),this.index_.getCompare());for(var p=0,j=!1;f.hasNext();)b=f.getNext(),(j=!j&&N(T,b)<=0?!0:j)&&p<this.limit_&&N(b,k)<=0?p++:c=c.updateImmediateChild(b.name,dn.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,a)},Qu.prototype.updatePriority=function(n,o){return n},Qu.prototype.filtersNodes=function(){return!0},Qu.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Qu.prototype.getIndex=function(){return this.index_},Qu.prototype.fullLimitUpdateChild_=function(n,o,a,c,f){var p,b;b=this.reverse_?(p=this.index_.getCompare(),function(X,ne){return p(ne,X)}):this.index_.getCompare();var _=n;mt(_.numChildren()===this.limit_,"");var T=new Vn(o,a),k=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),N=this.rangedFilter_.matches(T);if(_.hasChild(o)){for(var j=_.getImmediateChild(o),V=c.getChildAfterChild(this.index_,k,this.reverse_);V!=null&&(V.name===o||_.hasChild(V.name));)V=c.getChildAfterChild(this.index_,V,this.reverse_);var W=V==null?1:b(V,T);return N&&!a.isEmpty()&&0<=W?(f!=null&&f.trackChildChange($l(o,a,j)),_.updateImmediateChild(o,a)):(f!=null&&f.trackChildChange(Uh(o,j)),j=_.updateImmediateChild(o,dn.EMPTY_NODE),V!=null&&this.rangedFilter_.matches(V)?(f!=null&&f.trackChildChange(Ul(V.name,V.node)),j.updateImmediateChild(V.name,V.node)):j)}return!a.isEmpty()&&N&&0<=b(k,T)?(f!=null&&(f.trackChildChange(Uh(k.name,k.node)),f.trackChildChange(Ul(o,a))),_.updateImmediateChild(o,a).updateImmediateChild(k.name,dn.EMPTY_NODE)):n},Qu);function Qu(n){this.rangedFilter_=new e2(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}var m0=(ro.prototype.hasStart=function(){return this.startSet_},ro.prototype.hasStartAfter=function(){return this.startAfterSet_},ro.prototype.hasEndBefore=function(){return this.endBeforeSet_},ro.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},ro.prototype.getIndexStartValue=function(){return mt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},ro.prototype.getIndexStartName=function(){return mt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rl},ro.prototype.hasEnd=function(){return this.endSet_},ro.prototype.getIndexEndValue=function(){return mt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},ro.prototype.getIndexEndName=function(){return mt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rc},ro.prototype.hasLimit=function(){return this.limitSet_},ro.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},ro.prototype.getLimit=function(){return mt(this.limitSet_,"Only valid if limit has been set"),this.limit_},ro.prototype.getIndex=function(){return this.index_},ro.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},ro.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===jr},ro.prototype.copy=function(){var n=new ro;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n},ro);function ro(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jr}function xC(n,o,a){return n=n.copy(),n.startSet_=!0,n.indexStartValue_=o=o===void 0?null:o,a!=null?(n.startNameSet_=!0,n.indexStartName_=a):(n.startNameSet_=!1,n.indexStartName_=""),n}function g0(n,o,a){return n=n.copy(),n.endSet_=!0,n.indexEndValue_=o=o===void 0?null:o,a!==void 0?(n.endNameSet_=!0,n.indexEndName_=a):(n.endNameSet_=!1,n.indexEndName_=""),n}function Pm(n,o){return n=n.copy(),n.index_=o,n}function OC(n){var o,a={};return n.isDefault()||(o=n.index_===jr?"$priority":n.index_===I1?"$value":n.index_===Ml?"$key":(mt(n.index_ instanceof S1,"Unrecognized index type!"),n.index_.toString()),a.orderBy=Vi(o),n.startSet_&&(a.startAt=Vi(n.indexStartValue_),n.startNameSet_&&(a.startAt+=","+Vi(n.indexStartName_))),n.endSet_&&(a.endAt=Vi(n.indexEndValue_),n.endNameSet_&&(a.endAt+=","+Vi(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?a.limitToFirst=n.limit_:a.limitToLast=n.limit_)),a}function n2(n){var o,a={};return n.startSet_&&(a.sp=n.indexStartValue_,n.startNameSet_&&(a.sn=n.indexStartName_)),n.endSet_&&(a.ep=n.indexEndValue_,n.endNameSet_&&(a.en=n.indexEndName_)),n.limitSet_&&(a.l=n.limit_,(o=n.viewFrom_)===""&&(o=n.isViewFromLeft()?"l":"r"),a.vf=o),n.index_!==jr&&(a.i=n.index_.toString()),a}var r2,NC=(Ct(jc,r2=ke),jc.prototype.reportStats=function(n){throw new Error("Method not implemented.")},jc.getListenId_=function(n,o){return o!==void 0?"tag$"+o:(mt(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},jc.prototype.listen=function(n,o,a,c){var f=this,p=n._path.toString();this.log_("Listen called for "+p+" "+n._queryIdentifier);var b=jc.getListenId_(n,a),_={};this.listens_[b]=_,n=OC(n._queryParams),this.restRequest_(p+".json",n,function(T,k){(T=T===404?k=null:T)===null&&f.onDataUpdate_(p,k,!1,a),Hf(f.listens_,b)===_&&c(T?T===401?"permission_denied":"rest_error:"+T:"ok",null)})},jc.prototype.unlisten=function(n,o){o=jc.getListenId_(n,o),delete this.listens_[o]},jc.prototype.get=function(n){var o=this,a=OC(n._queryParams),c=n._path.toString(),f=new to;return this.restRequest_(c+".json",a,function(p,b){(p=p===404?b=null:p)===null?(o.onDataUpdate_(c,b,!1,null),f.resolve(b)):f.reject(new Error(b))}),f.promise},jc.prototype.refreshAuthToken=function(n){},jc.prototype.restRequest_=function(n,o,a){var c=this;return(o=o===void 0?{}:o).format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(p){var b=yo(p,2),p=b[0],b=b[1];p&&p.accessToken&&(o.auth=p.accessToken),b&&b.token&&(o.ac=b.token);var _=(c.repoInfo_.secure?"https://":"http://")+c.repoInfo_.host+n+"?ns="+c.repoInfo_.namespace+Zy(o);c.log_("Sending REST request for "+_);var T=new XMLHttpRequest;T.onreadystatechange=function(){if(a&&T.readyState===4){c.log_("REST Response for "+_+" received. status:",T.status,"response:",T.responseText);var k=null;if(200<=T.status&&T.status<300){try{k=Ea(T.responseText)}catch{_o("Failed to parse JSON response for "+_+": "+T.responseText)}a(null,k)}else T.status!==401&&T.status!==404&&_o("Got unsuccessful REST response for "+_+" Status: "+T.status),a(T.status);a=null}},T.open("GET",_,!0),T.send()})},jc);function jc(n,o,a,c){var f=r2.call(this)||this;return f.repoInfo_=n,f.onDataUpdate_=o,f.authTokenProvider_=a,f.appCheckTokenProvider_=c,f.log_=n0("p:rest:"),f.listens_={},f}var i$=(PC.prototype.getNode=function(n){return this.rootNode_.getChild(n)},PC.prototype.updateSnapshot=function(n,o){this.rootNode_=this.rootNode_.updateChild(n,o)},PC);function PC(){this.rootNode_=dn.EMPTY_NODE}function x1(){return{value:null,children:new Map}}function Uc(n,o,a){var c;Nn(o)?(n.value=a,n.children.clear()):n.value!==null?n.value=n.value.updateChild(o,a):(c=Dn(o),n.children.has(c)||n.children.set(c,x1()),Uc(n.children.get(c),o=_r(o),a))}function RC(n,o,a){var c;n.value!==null?a(o,n.value):(c=function(f,p){RC(p,new mr(o.toString()+"/"+f),a)},n.children.forEach(function(f,p){c(p,f)}))}var DC=(O1.prototype.get=function(){var n=this.collection_.get(),o=sn({},n);return this.last_&&ai(this.last_,function(a,c){o[a]=o[a]-c}),this.last_=n,o},O1);function O1(n){this.collection_=n,this.last_=null}var Bs,qp=(Bp.prototype.reportStats_=function(){var n=this,o=this.statsListener_.get(),a={},c=!1;ai(o,function(f,p){0<p&&Sa(n.statsToReport_,f)&&(a[f]=p,c=!0)}),c&&this.server_.reportStats(a),i0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Bp);function Bp(n,o){this.server_=o,this.statsToReport_={},this.statsListener_=new DC(n),n=1e4+2e4*Math.random(),i0(this.reportStats_.bind(this),Math.floor(n))}function LC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function MC(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}(wi=Bs=Bs||{})[wi.OVERWRITE=0]="OVERWRITE",wi[wi.MERGE=1]="MERGE",wi[wi.ACK_USER_WRITE=2]="ACK_USER_WRITE",wi[wi.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var FC=(N1.prototype.operationForChild=function(n){if(Nn(this.path)){if(this.affectedTree.value!=null)return mt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var o=this.affectedTree.subtree(new mr(n));return new N1(sr(),o,this.revert)}return mt(Dn(this.path)===n,"operationForChild called for unrelated child."),new N1(_r(this.path),this.affectedTree,this.revert)},N1);function N1(n,o,a){this.path=n,this.affectedTree=o,this.revert=a,this.type=Bs.ACK_USER_WRITE,this.source=LC()}var P1=(R1.prototype.operationForChild=function(n){return Nn(this.path)?new R1(this.source,sr()):new R1(this.source,_r(this.path))},R1);function R1(n,o){this.source=n,this.path=o,this.type=Bs.LISTEN_COMPLETE}var D1=(L1.prototype.operationForChild=function(n){return Nn(this.path)?new L1(this.source,sr(),this.snap.getImmediateChild(n)):new L1(this.source,_r(this.path),this.snap)},L1);function L1(n,o,a){this.source=n,this.path=o,this.snap=a,this.type=Bs.OVERWRITE}var Rm=(rd.prototype.operationForChild=function(n){if(Nn(this.path)){var o=this.children.subtree(new mr(n));return o.isEmpty()?null:o.value?new D1(this.source,sr(),o.value):new rd(this.source,sr(),o)}return mt(Dn(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new rd(this.source,_r(this.path),this.children)},rd.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},rd);function rd(n,o,a){this.source=n,this.path=o,this.children=a,this.type=Bs.MERGE}var $h=(Dm.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Dm.prototype.isFiltered=function(){return this.filtered_},Dm.prototype.isCompleteForPath=function(n){return Nn(n)?this.isFullyInitialized()&&!this.filtered_:(n=Dn(n),this.isCompleteForChild(n))},Dm.prototype.isCompleteForChild=function(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)},Dm.prototype.getNode=function(){return this.node_},Dm);function Dm(n,o,a){this.node_=n,this.fullyInitialized_=o,this.filtered_=a}var jC,UC=function(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()};function i2(n,o,a,c){var f=[],p=[];return o.forEach(function(b){var _;b.type==="child_changed"&&n.index_.indexedValueChanged(b.oldSnap,b.snapshotNode)&&p.push((_=b.childName,{type:"child_moved",snapshotNode:b.snapshotNode,childName:_}))}),Hp(n,f,"child_removed",o,c,a),Hp(n,f,"child_added",o,c,a),Hp(n,f,"child_moved",p,c,a),Hp(n,f,"child_changed",o,c,a),Hp(n,f,"value",o,c,a),f}function Hp(n,o,a,c,f,p){c=c.filter(function(b){return b.type===a}),c.sort(function(b,_){return function(T,k,N){if(k.childName==null||N.childName==null)throw Vf("Should only compare child_ events.");return k=new Vn(k.childName,k.snapshotNode),N=new Vn(N.childName,N.snapshotNode),T.index_.compare(k,N)}(n,b,_)}),c.forEach(function(b){var _,T,k,N=(_=n,k=p,(T=b).type==="value"||T.type==="child_removed"||(T.prevName=k.getPredecessorChildName(T.childName,T.snapshotNode,_.index_)),T);f.forEach(function(j){j.respondsTo(b.type)&&o.push(j.createEvent(N,n.query_))})})}function Lm(n,o){return{eventCache:n,serverCache:o}}function Mm(n,o,a,c){return Lm(new $h(o,a,c),n.serverCache)}function $C(n,o,a,c){return Lm(n.eventCache,new $h(o,a,c))}function M1(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function id(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var as=(lr.fromObject=function(n){var o=new lr(null);return ai(n,function(a,c){o=o.set(new mr(a),c)}),o},lr.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},lr.prototype.findRootMostMatchingPathAndValue=function(n,o){if(this.value!=null&&o(this.value))return{path:sr(),value:this.value};if(Nn(n))return null;var a=Dn(n),c=this.children.get(a);return c===null?null:(o=c.findRootMostMatchingPathAndValue(_r(n),o),o==null?null:{path:Fr(new mr(a),o.path),value:o.value})},lr.prototype.findRootMostValueAndPath=function(n){return this.findRootMostMatchingPathAndValue(n,function(){return!0})},lr.prototype.subtree=function(n){if(Nn(n))return this;var o=Dn(n),o=this.children.get(o);return o!==null?o.subtree(_r(n)):new lr(null)},lr.prototype.set=function(n,c){if(Nn(n))return new lr(c,this.children);var a=Dn(n),c=(this.children.get(a)||new lr(null)).set(_r(n),c),c=this.children.insert(a,c);return new lr(this.value,c)},lr.prototype.remove=function(n){if(Nn(n))return this.children.isEmpty()?new lr(null):new lr(null,this.children);var o=Dn(n),a=this.children.get(o);return a?(a=a.remove(_r(n)),n=void 0,n=a.isEmpty()?this.children.remove(o):this.children.insert(o,a),this.value===null&&n.isEmpty()?new lr(null):new lr(this.value,n)):this},lr.prototype.get=function(n){if(Nn(n))return this.value;var o=Dn(n),o=this.children.get(o);return o?o.get(_r(n)):null},lr.prototype.setTree=function(c,f){if(Nn(c))return f;var a=Dn(c),c=(this.children.get(a)||new lr(null)).setTree(_r(c),f),f=void 0,f=c.isEmpty()?this.children.remove(a):this.children.insert(a,c);return new lr(this.value,f)},lr.prototype.fold=function(n){return this.fold_(sr(),n)},lr.prototype.fold_=function(n,o){var a={};return this.children.inorderTraversal(function(c,f){a[c]=f.fold_(Fr(n,c),o)}),o(n,this.value,a)},lr.prototype.findOnPath=function(n,o){return this.findOnPath_(n,sr(),o)},lr.prototype.findOnPath_=function(n,o,a){var f=!!this.value&&a(o,this.value);if(f)return f;if(Nn(n))return null;var c=Dn(n),f=this.children.get(c);return f?f.findOnPath_(_r(n),Fr(o,c),a):null},lr.prototype.foreachOnPath=function(n,o){return this.foreachOnPath_(n,sr(),o)},lr.prototype.foreachOnPath_=function(n,o,a){if(Nn(n))return this;this.value&&a(o,this.value);var c=Dn(n),f=this.children.get(c);return f?f.foreachOnPath_(_r(n),Fr(o,c),a):new lr(null)},lr.prototype.foreach=function(n){this.foreach_(sr(),n)},lr.prototype.foreach_=function(n,o){this.children.inorderTraversal(function(a,c){c.foreach_(Fr(n,a),o)}),this.value&&o(n,this.value)},lr.prototype.foreachChild=function(n){this.children.inorderTraversal(function(o,a){a.value&&n(o,a.value)})},lr);function lr(n,o){o===void 0&&(o=jC=jC||new Fl(zu)),this.value=n,this.children=o}var od=(VC.empty=function(){return new VC(new as(null))},VC);function VC(n){this.writeTree_=n}function Fm(n,o,a){if(Nn(o))return new od(new as(a));var c=n.writeTree_.findRootMostValueAndPath(o);if(c!=null){var f=c.path,p=c.value,c=Vs(f,o),p=p.updateChild(c,a);return new od(n.writeTree_.set(f,p))}return a=new as(a),a=n.writeTree_.setTree(o,a),new od(a)}function F1(n,o,a){var c=n;return ai(a,function(f,p){c=Fm(c,Fr(o,f),p)}),c}function j1(n,o){return Nn(o)?od.empty():(o=n.writeTree_.setTree(o,new as(null)),new od(o))}function qC(n,o){return zp(n,o)!=null}function zp(n,o){var a=n.writeTree_.findRootMostValueAndPath(o);return a!=null?n.writeTree_.get(a.path).getChild(Vs(a.path,o)):null}function U1(n){var o=[],a=n.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(jr,function(c,f){o.push(new Vn(c,f))}):n.writeTree_.children.inorderTraversal(function(c,f){f.value!=null&&o.push(new Vn(c,f.value))}),o}function sd(n,o){if(Nn(o))return n;var a=zp(n,o);return new od(a!=null?new as(a):n.writeTree_.subtree(o))}function y0(n){return n.writeTree_.isEmpty()}function jm(n,o){return function a(c,f,p){{if(f.value!=null)return p.updateChild(c,f.value);var b=null;return f.children.inorderTraversal(function(_,T){_===".priority"?(mt(T.value!==null,"Priority writes must always be leaf nodes"),b=T.value):p=a(Fr(c,_),T,p)}),p=!p.getChild(c).isEmpty()&&b!==null?p.updateChild(Fr(c,".priority"),b):p}}(sr(),n.writeTree_,o)}function Kp(n,o){return V1(o,n)}function o2(n,o){var a=n.allWrites.findIndex(function(k){return k.writeId===o});mt(0<=a,"removeWrite called with nonexistent writeId.");var c=n.allWrites[a];n.allWrites.splice(a,1);for(var f,p=c.visible,b=!1,_=n.allWrites.length-1;p&&0<=_;){var T=n.allWrites[_];T.visible&&(a<=_&&function(k,N){{if(k.snap)return Ku(k.path,N);for(var j in k.children)if(k.children.hasOwnProperty(j)&&Ku(Fr(k.path,j),N))return!0;return!1}}(T,c.path)?p=!1:Ku(c.path,T.path)&&(b=!0)),_--}return!!p&&(b?((f=n).visibleWrites=BC(f.allWrites,s2,sr()),0<f.allWrites.length?f.lastWriteId=f.allWrites[f.allWrites.length-1].writeId:f.lastWriteId=-1):c.snap?n.visibleWrites=j1(n.visibleWrites,c.path):ai(c.children,function(k){n.visibleWrites=j1(n.visibleWrites,Fr(c.path,k))}),!0)}function s2(n){return n.visible}function BC(n,o,a){for(var c=od.empty(),f=0;f<n.length;++f){var p=n[f];if(o(p)){var b=p.path,_=void 0;if(p.snap)Ku(a,b)?c=Fm(c,_=Vs(a,b),p.snap):Ku(b,a)&&(_=Vs(b,a),c=Fm(c,sr(),p.snap.getChild(_)));else{if(!p.children)throw Vf("WriteRecord should have .snap or .children");Ku(a,b)?c=F1(c,_=Vs(a,b),p.children):Ku(b,a)&&(Nn(_=Vs(b,a))?c=F1(c,sr(),p.children):(p=Hf(p.children,Dn(_)))&&(_=p.getChild(_r(_)),c=Fm(c,sr(),_)))}}}return c}function b0(n,o,a,c,f){if(c||f){var p=sd(n.visibleWrites,o);return!f&&y0(p)?a:f||a!=null||qC(p,sr())?jm(BC(n.allWrites,function(b){return(b.visible||f)&&(!c||!~c.indexOf(b.writeId))&&(Ku(b.path,o)||Ku(o,b.path))},o),a||dn.EMPTY_NODE):null}return p=zp(n.visibleWrites,o),p!=null?p:(n=sd(n.visibleWrites,o),y0(n)?a:a!=null||qC(n,sr())?jm(n,a||dn.EMPTY_NODE):null)}function Um(n,o,a,c){return b0(n.writeTree,n.treePath,o,a,c)}function HC(n,o){return function(a,c,f){var p=dn.EMPTY_NODE,b=zp(a.visibleWrites,c);if(b)return b.isLeafNode()||b.forEachChild(jr,function(T,k){p=p.updateImmediateChild(T,k)}),p;if(f){var _=sd(a.visibleWrites,c);return f.forEachChild(jr,function(T,k){k=jm(sd(_,new mr(T)),k),p=p.updateImmediateChild(T,k)}),U1(_).forEach(function(T){p=p.updateImmediateChild(T.name,T.node)}),p}return U1(sd(a.visibleWrites,c)).forEach(function(T){p=p.updateImmediateChild(T.name,T.node)}),p}(n.writeTree,n.treePath,o)}function a2(n,o,a,c){return f=n.writeTree,n=n.treePath,o=o,c=c,mt(a||c,"Either existingEventSnap or existingServerSnap must exist"),n=Fr(n,o),qC(f.visibleWrites,n)?null:y0(n=sd(f.visibleWrites,n))?c.getChild(o):jm(n,c.getChild(o));var f}function w0(n,o){return a=n.writeTree,o=Fr(n.treePath,o),zp(a.visibleWrites,o);var a}function zC(n,o,a,c,f,p){return function(X,_,T,k,N,j,V){var W,X=sd(X.visibleWrites,_);if((_=zp(X,sr()))!=null)W=_;else{if(T==null)return[];W=jm(X,T)}if((W=W.withIndex(V)).isEmpty()||W.isLeafNode())return[];for(var ne=[],ae=V.getCompare(),Ce=j?W.getReverseIteratorFrom(k,V):W.getIteratorFrom(k,V),de=Ce.getNext();de&&ne.length<N;)ae(de,k)!==0&&ne.push(de),de=Ce.getNext();return ne}(n.writeTree,n.treePath,o,a,c,f,p)}function $1(n,o,a){return c=n.writeTree,f=n.treePath,n=a,o=Fr(f,a=o),(f=zp(c.visibleWrites,o))!=null?f:n.isCompleteForChild(a)?jm(sd(c.visibleWrites,o),n.getNode().getImmediateChild(a)):null;var c,f}function KC(n,o){return V1(Fr(n.treePath,o),n.writeTree)}function V1(n,o){return{treePath:n,writeTree:o}}var u2=(_0.prototype.trackChildChange=function(n){var o=n.type,a=n.childName;mt(o==="child_added"||o==="child_changed"||o==="child_removed","Only child changes supported for tracking"),mt(a!==".priority","Only non-priority child changes can be tracked.");var c=this.changeMap.get(a);if(c){var f=c.type;if(o==="child_added"&&f==="child_removed")this.changeMap.set(a,$l(a,n.snapshotNode,c.snapshotNode));else if(o==="child_removed"&&f==="child_added")this.changeMap.delete(a);else if(o==="child_removed"&&f==="child_changed")this.changeMap.set(a,Uh(a,c.oldSnap));else if(o==="child_changed"&&f==="child_added")this.changeMap.set(a,Ul(a,n.snapshotNode));else{if(o!=="child_changed"||f!=="child_changed")throw Vf("Illegal combination of changes: "+n+" occurred after "+c);this.changeMap.set(a,$l(a,n.snapshotNode,c.oldSnap))}}else this.changeMap.set(a,n)},_0.prototype.getChanges=function(){return Array.from(this.changeMap.values())},_0);function _0(){this.changeMap=new Map}function $m(){}var WC=new($m.prototype.getCompleteChild=function(n){return null},$m.prototype.getChildAfterChild=function(n,o,a){return null},$m),Vm=(GC.prototype.getCompleteChild=function(n){var o=this.viewCache_.eventCache;return o.isCompleteForChild(n)?o.getNode().getImmediateChild(n):(o=this.optCompleteServerCache_!=null?new $h(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,$1(this.writes_,n,o))},GC.prototype.getChildAfterChild=function(f,o,a){var c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:id(this.viewCache_),f=zC(this.writes_,c,o,1,a,f);return f.length===0?null:f[0]},GC);function GC(n,o,a){a===void 0&&(a=null),this.writes_=n,this.viewCache_=o,this.optCompleteServerCache_=a}function o$(n,o,a,c,f){var p,b,_,T,k,N,j,V,W=new u2;if(a.type===Bs.OVERWRITE)var X=a,ne=X.source.fromUser?YC(n,o,X.path,X.snap,c,f,W):(mt(X.source.fromServer,"Unknown source."),p=X.source.tagged||o.serverCache.isFiltered()&&!Nn(X.path),Vl(n,o,X.path,X.snap,c,f,p,W));else if(a.type===Bs.MERGE){var ae=a;ne=ae.source.fromUser?(b=n,_=o,T=ae.path,X=ae.children,k=c,N=f,j=W,V=_,X.foreach(function(de,Je){de=Fr(T,de),XC(_,Dn(de))&&(V=YC(b,V,de,Je,k,N,j))}),X.foreach(function(de,Je){de=Fr(T,de),XC(_,Dn(de))||(V=YC(b,V,de,Je,k,N,j))}),V):(mt(ae.source.fromServer,"Unknown source."),p=ae.source.tagged||o.serverCache.isFiltered(),q1(n,o,ae.path,ae.children,c,f,p,W))}else if(a.type===Bs.ACK_USER_WRITE){var Ce=a;ne=Ce.revert?function(de,Je,Ke,wt,le,De){var lt;{if(w0(wt,Ke)!=null)return Je;var Ft,Fn,Cr=new Vm(wt,Je,le),Tn=Je.eventCache.getNode(),le=void 0;return Nn(Ke)||Dn(Ke)===".priority"?(Fn=void 0,Fn=Je.serverCache.isFullyInitialized()?Um(wt,id(Je)):(Ft=Je.serverCache.getNode(),mt(Ft instanceof dn,"serverChildren would be complete if leaf node"),HC(wt,Ft)),le=de.filter.updateFullNode(Tn,Fn,De)):(Ft=Dn(Ke),(Fn=$1(wt,Ft,Je.serverCache))==null&&Je.serverCache.isCompleteForChild(Ft)&&(Fn=Tn.getImmediateChild(Ft)),(le=Fn!=null?de.filter.updateChild(Tn,Ft,Fn,_r(Ke),Cr,De):Je.eventCache.getNode().hasChild(Ft)?de.filter.updateChild(Tn,Ft,dn.EMPTY_NODE,_r(Ke),Cr,De):Tn).isEmpty()&&Je.serverCache.isFullyInitialized()&&(lt=Um(wt,id(Je))).isLeafNode()&&(le=de.filter.updateFullNode(le,lt,De))),lt=Je.serverCache.isFullyInitialized()||w0(wt,sr())!=null,Mm(Je,le,lt,de.filter.filtersNodes())}}(n,o,Ce.path,c,f,W):function(de,Je,Ke,wt,le,De,lt){if(w0(le,Ke)!=null)return Je;var Ft=Je.serverCache.isFiltered(),Fn=Je.serverCache;{if(wt.value!=null){if(Nn(Ke)&&Fn.isFullyInitialized()||Fn.isCompleteForPath(Ke))return Vl(de,Je,Ke,Fn.getNode().getChild(Ke),le,De,Ft,lt);if(Nn(Ke)){var Cr=new as(null);return Fn.getNode().forEachChild(Ml,function(so,Si){Cr=Cr.set(new mr(so),Si)}),q1(de,Je,Ke,Cr,le,De,Ft,lt)}return Je}var Tn=new as(null);return wt.foreach(function(so,Si){var Nd=Fr(Ke,so);Fn.isCompleteForPath(Nd)&&(Tn=Tn.set(so,Fn.getNode().getChild(Nd)))}),q1(de,Je,Ke,Tn,le,De,Ft,lt)}}(n,o,Ce.path,Ce.affectedTree,c,f,W)}else{if(a.type!==Bs.LISTEN_COMPLETE)throw Vf("Unknown operation type: "+a.type);Ce=n,f=a.path,n=c,a=W,c=$C(o,(c=o.serverCache).getNode(),c.isFullyInitialized()||Nn(f),c.isFiltered()),ne=QC(Ce,c,f,n,WC,a)}return W=W.getChanges(),function(de,Je,Ke){var wt=Je.eventCache;{var le,De;wt.isFullyInitialized()&&(le=wt.getNode().isLeafNode()||wt.getNode().isEmpty(),De=M1(de),(0<Ke.length||!de.eventCache.isFullyInitialized()||le&&!wt.getNode().equals(De)||!wt.getNode().getPriority().equals(De.getPriority()))&&Ke.push(k1(M1(Je))))}}(o,ne,W),{viewCache:ne,changes:W}}function QC(n,o,a,c,f,p){var b=o.eventCache;if(w0(c,a)!=null)return o;var _,T,k,N,j=void 0,V=void 0;return j=Nn(a)?(mt(o.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),o.serverCache.isFiltered()?(_=HC(c,(_=id(o))instanceof dn?_:dn.EMPTY_NODE),n.filter.updateFullNode(o.eventCache.getNode(),_,p)):(T=Um(c,id(o)),n.filter.updateFullNode(o.eventCache.getNode(),T,p))):(T=Dn(a))===".priority"?(mt(Ll(a)===1,"Can't have a priority with additional path components"),(N=a2(c,a,k=b.getNode(),V=o.serverCache.getNode()))!=null?n.filter.updatePriority(k,N):b.getNode()):(k=_r(a),N=void 0,(N=b.isCompleteForChild(T)?(V=o.serverCache.getNode(),(V=a2(c,a,b.getNode(),V))!=null?b.getNode().getImmediateChild(T).updateChild(k,V):b.getNode().getImmediateChild(T)):$1(c,T,o.serverCache))!=null?n.filter.updateChild(b.getNode(),T,N,k,f,p):b.getNode()),Mm(o,j,b.isFullyInitialized()||Nn(a),n.filter.filtersNodes())}function Vl(n,o,a,c,f,p,b,_){var T=o.serverCache,k=b?n.filter:n.filter.getIndexedFilter();if(Nn(a))j=k.updateFullNode(T.getNode(),c,null);else if(k.filtersNodes()&&!T.isFiltered())var N=T.getNode().updateChild(a,c),j=k.updateFullNode(T.getNode(),N,null);else{if(b=Dn(a),!T.isCompleteForPath(a)&&1<Ll(a))return o;N=_r(a),c=T.getNode().getImmediateChild(b).updateChild(N,c),j=b===".priority"?k.updatePriority(T.getNode(),c):k.updateChild(T.getNode(),b,c,N,WC,null)}return k=$C(o,j,T.isFullyInitialized()||Nn(a),k.filtersNodes()),QC(n,k,a,f,new Vm(f,k,p),_)}function YC(n,o,a,c,f,p,b){var _,T,k=o.eventCache,N=new Vm(f,o,p);return Nn(a)?(T=n.filter.updateFullNode(o.eventCache.getNode(),c,b),Mm(o,T,!0,n.filter.filtersNodes())):(_=Dn(a))===".priority"?(T=n.filter.updatePriority(o.eventCache.getNode(),c),Mm(o,T,k.isFullyInitialized(),k.isFiltered())):(f=_r(a),p=k.getNode().getImmediateChild(_),T=void 0,T=Nn(f)?c:(a=N.getCompleteChild(_))!=null?d1(f)===".priority"&&a.getChild(p1(f)).isEmpty()?a:a.updateChild(f,c):dn.EMPTY_NODE,p.equals(T)?o:Mm(o,n.filter.updateChild(k.getNode(),_,T,f,N,b),k.isFullyInitialized(),n.filter.filtersNodes()))}function XC(n,o){return n.eventCache.isCompleteForChild(o)}function c2(n,o,a){return a.foreach(function(c,f){o=o.updateChild(c,f)}),o}function q1(n,o,a,k,f,p,b,_){if(o.serverCache.getNode().isEmpty()&&!o.serverCache.isFullyInitialized())return o;var T=o,k=Nn(a)?k:new as(null).setTree(a,k),N=o.serverCache.getNode();return k.children.inorderTraversal(function(j,V){N.hasChild(j)&&(V=c2(0,o.serverCache.getNode().getImmediateChild(j),V),T=Vl(n,T,new mr(j),V,f,p,b,_))}),k.children.inorderTraversal(function(j,V){var W=!o.serverCache.isCompleteForChild(j)&&V.value===void 0;N.hasChild(j)||W||(V=c2(0,o.serverCache.getNode().getImmediateChild(j),V),T=Vl(n,T,new mr(j),V,f,p,b,_))}),T}var qm,JC=(Object.defineProperty(l2.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),l2);function l2(a,p){this.query_=a,this.eventRegistrations_=[];var c=this.query_._queryParams,b=new A1(c.getIndex()),_=(f=c).loadsAllData()?new A1(f.getIndex()):new(f.hasLimit()?t2:e2)(f);this.processor_={filter:_};var a=p.serverCache,c=p.eventCache,f=b.updateFullNode(dn.EMPTY_NODE,a.getNode(),null),p=_.updateFullNode(dn.EMPTY_NODE,c.getNode(),null),b=new $h(f,a.isFullyInitialized(),b.filtersNodes()),_=new $h(p,c.isFullyInitialized(),_.filtersNodes());this.viewCache_=Lm(_,b),this.eventGenerator_=new UC(this.query_)}function B1(n){return n.eventRegistrations_.length===0}function ZC(n,o,a){var c,f=[];if(a&&(mt(o==null,"A cancel should cancel all event registrations."),c=n.query._path,n.eventRegistrations_.forEach(function(T){T=T.createCancelEvent(a,c),T&&f.push(T)})),o){for(var p=[],b=0;b<n.eventRegistrations_.length;++b){var _=n.eventRegistrations_[b];if(_.matches(o)){if(o.hasAnyCallback()){p=p.concat(n.eventRegistrations_.slice(b+1));break}}else p.push(_)}n.eventRegistrations_=p}else n.eventRegistrations_=[];return f}function ek(n,p,a,c){p.type===Bs.MERGE&&p.source.queryId!==null&&(mt(id(n.viewCache_),"We should always have a full cache before handling merges"),mt(M1(n.viewCache_),"Missing event cache, even though we have a server cache"));var f=n.viewCache_,p=o$(n.processor_,f,p,a,c);return a=n.processor_,c=p.viewCache,mt(c.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),mt(c.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),mt(p.viewCache.serverCache.isFullyInitialized()||!f.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=p.viewCache,H1(n,p.changes,p.viewCache.eventCache.getNode(),null)}function H1(n,o,a,c){return c=c?[c]:n.eventRegistrations_,i2(n.eventGenerator_,o,a,c)}var E0,tk=function(){this.views=new Map};function nk(n,o,a,c){var f,p,b=o.source.queryId;if(b!==null){var _=n.views.get(b);return mt(_!=null,"SyncTree gave us an op for an invalid query."),ek(_,o,a,c)}var T=[];try{for(var k=go(n.views.values()),N=k.next();!N.done;N=k.next())_=N.value,T=T.concat(ek(_,o,a,c))}catch(j){f={error:j}}finally{try{N&&!N.done&&(p=k.return)&&p.call(k)}finally{if(f)throw f.error}}return T}function h2(b,o,a,c,f){var p=o._queryIdentifier,b=b.views.get(p);return b||(p=Um(a,f?c:null),b=!1,b=!!p||(p=c instanceof dn?HC(a,c):dn.EMPTY_NODE,!1),f=Lm(new $h(p,b,!1),new $h(c,f,!1)),new JC(o,f))}function rk(n,o,a,c,f,_){var b,_=h2(n,o,c,f,_);return n.views.has(o._queryIdentifier)||n.views.set(o._queryIdentifier,_),_.eventRegistrations_.push(a),o=a,_=(a=_).viewCache_.eventCache,b=[],_.getNode().isLeafNode()||_.getNode().forEachChild(jr,function(T,k){b.push(Ul(T,k))}),_.isFullyInitialized()&&b.push(k1(_.getNode())),H1(a,b,_.getNode(),o)}function f2(n,o,a,c){var f,p,b=o._queryIdentifier,_=[],T=[],k=Bl(n);if(b==="default")try{for(var N=go(n.views.entries()),j=N.next();!j.done;j=N.next()){var V=yo(j.value,2),W=V[0],X=V[1],T=T.concat(ZC(X,a,c));B1(X)&&(n.views.delete(W),X.query._queryParams.loadsAllData()||_.push(X.query))}}catch(ne){f={error:ne}}finally{try{j&&!j.done&&(p=N.return)&&p.call(N)}finally{if(f)throw f.error}}else(X=n.views.get(b))&&(T=T.concat(ZC(X,a,c)),B1(X)&&(n.views.delete(b),X.query._queryParams.loadsAllData()||_.push(X.query)));return k&&!Bl(n)&&_.push((mt(qm,"Reference.ts has not been loaded"),new qm(o._repo,o._path))),{removed:_,events:T}}function Wp(n){var o,a,c=[];try{for(var f=go(n.views.values()),p=f.next();!p.done;p=f.next()){var b=p.value;b.query._queryParams.loadsAllData()||c.push(b)}}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return c}function ql(n,o){var a,c,f,p,b,_=null;try{for(var T=go(n.views.values()),k=T.next();!k.done;k=T.next())var N=k.value,_=_||(p=o,b=void 0,(b=id((f=N).viewCache_))&&(f.query._queryParams.loadsAllData()||!Nn(p)&&!b.getImmediateChild(Dn(p)).isEmpty())?b.getChild(p):null)}catch(j){a={error:j}}finally{try{k&&!k.done&&(c=T.return)&&c.call(T)}finally{if(a)throw a.error}}return _}function d2(n,o){return o._queryParams.loadsAllData()?z1(n):(o=o._queryIdentifier,n.views.get(o))}function S0(n,o){return d2(n,o)!=null}function Bl(n){return z1(n)!=null}function z1(n){var o,a;try{for(var c=go(n.views.values()),f=c.next();!f.done;f=c.next()){var p=f.value;if(p.query._queryParams.loadsAllData())return p}}catch(b){o={error:b}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return null}var ik=1,K1=function(n){this.listenProvider_=n,this.syncPointTree_=new as(null),this.pendingWriteTree_={visibleWrites:od.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function W1(n,o,a,c,f){var p,b,_,T;return p=n.pendingWriteTree_,b=o,_=a,T=f,mt((c=c)>p.lastWriteId,"Stacking an older write on top of newer ones"),p.allWrites.push({path:b,snap:_,writeId:c,visible:T=T===void 0?!0:T}),T&&(p.visibleWrites=Fm(p.visibleWrites,b,_)),p.lastWriteId=c,f?ud(n,new D1(LC(),o,a)):[]}function p2(n,o,a,c){var f,p,b;return f=n.pendingWriteTree_,p=o,b=a,mt((c=c)>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:p,children:b,writeId:c,visible:!0}),f.visibleWrites=F1(f.visibleWrites,p,b),f.lastWriteId=c,a=as.fromObject(a),ud(n,new Rm(LC(),o,a))}function ad(n,o,a){a===void 0&&(a=!1);var c=function(p,b){for(var _=0;_<p.allWrites.length;_++){var T=p.allWrites[_];if(T.writeId===b)return T}return null}(n.pendingWriteTree_,o);if(o2(n.pendingWriteTree_,o)){var f=new as(null);return c.snap!=null?f=f.set(sr(),!0):ai(c.children,function(p){f=f.set(new mr(p),!0)}),ud(n,new FC(c.path,f,a))}return[]}function T0(n,o,a){return ud(n,new D1(nd(),o,a))}function Bm(n,o,a,c){var f=o._path,p=n.syncPointTree_.get(f),b=[];if(p&&(o._queryIdentifier==="default"||S0(p,o))){var _=f2(p,o,a,c);if(p.views.size===0&&(n.syncPointTree_=n.syncPointTree_.remove(f)),a=_.removed,b=_.events,p=a.findIndex(function(V){return V._queryParams.loadsAllData()})!==-1,_=n.syncPointTree_.findOnPath(f,function(V,W){return Bl(W)}),p&&!_&&(f=n.syncPointTree_.subtree(f),!f.isEmpty()))for(var T=f.fold(function(V,W,X){if(W&&Bl(W))return[z1(W)];var ne=[];return W&&(ne=Wp(W)),ai(X,function(ae,Ce){ne=ne.concat(Ce)}),ne}),k=0;k<T.length;++k){var j=T[k],N=j.query,j=Y1(n,j);n.listenProvider_.startListening(Gp(N),cd(n,N),j.hashFn,j.onComplete)}!_&&0<a.length&&!c&&(p?n.listenProvider_.stopListening(Gp(o),null):a.forEach(function(V){var W=n.queryToTagMap.get(Hm(V));n.listenProvider_.stopListening(Gp(V),W)})),function(V,W){for(var X=0;X<W.length;++X){var ne,ae=W[X];ae._queryParams.loadsAllData()||(ne=Hm(ae),ae=V.queryToTagMap.get(ne),V.queryToTagMap.delete(ne),V.tagToQueryMap.delete(ae))}}(n,a)}return b}function v2(n,o,a){var c=o._path,f=null,p=!1;n.syncPointTree_.foreachOnPath(c,function(j,V){j=Vs(j,c),f=f||ql(V,j),p=p||Bl(V)});var b=n.syncPointTree_.get(c);b?(p=p||Bl(b),f=f||ql(b,sr())):(b=new tk,n.syncPointTree_=n.syncPointTree_.set(c,b)),f!=null?N=!0:(N=!1,f=dn.EMPTY_NODE,n.syncPointTree_.subtree(c).foreachChild(function(j,V){V=ql(V,sr()),V&&(f=f.updateImmediateChild(j,V))}));var _,T,k=S0(b,o);k||o._queryParams.loadsAllData()||(_=Hm(o),mt(!n.queryToTagMap.has(_),"View does not exist, but we have a tag"),T=ik++,n.queryToTagMap.set(_,T),n.tagToQueryMap.set(T,_));var N=rk(b,o,a,Kp(n.pendingWriteTree_,c),f,N);return k||p||(b=d2(b,o),N=N.concat(function(j,V,ne){var ae=V._path,X=cd(j,V),ne=Y1(j,ne),ne=j.listenProvider_.startListening(Gp(V),X,ne.hashFn,ne.onComplete),ae=j.syncPointTree_.subtree(ae);if(X)mt(!Bl(ae.value),"If we're adding a query, it shouldn't be shadowed");else for(var Ce=ae.fold(function(Ke,wt,le){if(!Nn(Ke)&&wt&&Bl(wt))return[z1(wt).query];var De=[];return wt&&(De=De.concat(Wp(wt).map(function(lt){return lt.query}))),ai(le,function(lt,Ft){De=De.concat(Ft)}),De}),de=0;de<Ce.length;++de){var Je=Ce[de];j.listenProvider_.stopListening(Gp(Je),cd(j,Je))}return ne}(n,o,b))),N}function G1(f,o,a){var c=f.pendingWriteTree_,f=f.syncPointTree_.findOnPath(o,function(p,b){if(p=ql(b,Vs(p,o)),p)return p});return b0(c,o,f,a,!0)}function uu(n,o){var a=o._path,c=null;n.syncPointTree_.foreachOnPath(a,function(_,T){_=Vs(_,a),c=c||ql(T,_)});var f=n.syncPointTree_.get(a);f?c=c||ql(f,sr()):(f=new tk,n.syncPointTree_=n.syncPointTree_.set(a,f));var p=c!=null,b=p?new $h(c,!0,!1):null;return M1(h2(f,o,Kp(n.pendingWriteTree_,o._path),p?b.getNode():dn.EMPTY_NODE,p).viewCache_)}function ud(n,o){return function a(c,f,p,b){{if(Nn(c.path))return Q1(c,f,p,b);var _=f.get(sr());p==null&&_!=null&&(p=ql(_,sr()));var T=[],k=Dn(c.path),N=c.operationForChild(k),j=f.children.get(k);return j&&N&&(f=p?p.getImmediateChild(k):null,k=KC(b,k),T=T.concat(a(N,j,f,k))),T=_?T.concat(nk(_,c,b,p)):T}}(o,n.syncPointTree_,null,Kp(n.pendingWriteTree_,sr()))}function Q1(n,o,a,c){var f=o.get(sr());a==null&&f!=null&&(a=ql(f,sr()));var p=[];return o.children.inorderTraversal(function(N,_){var T=a?a.getImmediateChild(N):null,k=KC(c,N),N=n.operationForChild(N);N&&(p=p.concat(Q1(N,_,T,k)))}),p=f?p.concat(nk(f,n,c,a)):p}function Y1(n,o){var a=o.query,c=cd(n,a);return{hashFn:function(){return(o.viewCache_.serverCache.getNode()||dn.EMPTY_NODE).hash()},onComplete:function(f){if(f==="ok")return c?function(b,_,T){var k=I0(b,T);return k?(T=ok(k),k=T.path,T=T.queryId,_=Vs(k,_),X1(b,k,new P1(MC(T),_))):[]}(n,a._path,c):(p=a._path,ud(n,new P1(nd(),p)));var p,p=(p="Unknown Error",(f=f)==="too_big"?p="The data requested exceeds the maximum size that can be accessed with a single request.":f==="permission_denied"?p="Client doesn't have permission to access the desired data.":f==="unavailable"&&(p="The service is unavailable"),(p=new Error(f+" at "+a._path.toString()+": "+p)).code=f.toUpperCase(),p);return Bm(n,a,null,p)}}}function cd(n,o){return o=Hm(o),n.queryToTagMap.get(o)}function Hm(n){return n._path.toString()+"$"+n._queryIdentifier}function I0(n,o){return n.tagToQueryMap.get(o)}function ok(n){var o=n.indexOf("$");return mt(o!==-1&&o<n.length-1,"Bad queryKey."),{queryId:n.substr(o+1),path:new mr(n.substr(0,o))}}function X1(n,o,a){var c=n.syncPointTree_.get(o);return mt(c,"Missing sync point for query tag that we're tracking"),nk(c,a,Kp(n.pendingWriteTree_,o),null)}function Gp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?(mt(E0,"Reference.ts has not been loaded"),new E0(n._repo,n._path)):n}var sk=(J1.prototype.getImmediateChild=function(n){return new J1(this.node_.getImmediateChild(n))},J1.prototype.node=function(){return this.node_},J1);function J1(n){this.node_=n}var Qp=(ld.prototype.getImmediateChild=function(n){return n=Fr(this.path_,n),new ld(this.syncTree_,n)},ld.prototype.node=function(){return G1(this.syncTree_,this.path_)},ld);function ld(n,o){this.syncTree_=n,this.path_=o}var m2=function(n){return(n=n||{}).timestamp=n.timestamp||new Date().getTime(),n},ak=function(n,o,a){return n&&typeof n=="object"?(mt(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string"?uk(n[".sv"],o,a):typeof n[".sv"]=="object"?ck(n[".sv"],o):void mt(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},uk=function(n,o,a){if(n==="timestamp")return a.timestamp;mt(!1,"Unexpected server value: "+n)},ck=function(n,o,a){return n.hasOwnProperty("increment")||mt(!1,"Unexpected server value: "+JSON.stringify(n,null,2)),n=n.increment,typeof n!="number"&&mt(!1,"Unexpected increment value: "+n),o=o.node(),mt(o!=null,"Expected ChildrenNode.EMPTY_NODE for nulls"),o.isLeafNode()?(o=o.getValue(),typeof o!="number"?n:o+n):n},Z1=function(n,o,a,c){return Hl(o,new Qp(a,n),c)},eE=function(n,o,a){return Hl(n,new sk(o),a)};function Hl(b,o,a){var c=b.getPriority().val(),f=ak(c,o.getImmediateChild(".priority"),a);if(b.isLeafNode()){var p=b,c=ak(p.getValue(),o,a);return c!==p.getValue()||f!==p.getPriority().val()?new Am(c,Xr(f)):b}var b=b,_=b;return f!==b.getPriority().val()&&(_=_.updatePriority(new Am(f))),b.forEachChild(jr,function(T,k){var N=Hl(k,o.getImmediateChild(T),a);N!==k&&(_=_.updateImmediateChild(T,N))}),_}var zm=function(n,o,a){o===void 0&&(o=null),a===void 0&&(a={children:{},childCount:0}),this.name=n=n===void 0?"":n,this.parent=o,this.node=a};function Km(n,o){for(var a=o instanceof mr?o:new mr(o),f=n,p=Dn(a);p!==null;)var c=Hf(f.node.children,p)||{children:{},childCount:0},f=new zm(p,f,c),p=Dn(a=_r(a));return f}function us(n){return n.node.value}function lk(n,o){n.node.value=o,tE(n)}function g2(n){return 0<n.node.childCount}function Yp(n,o){ai(n.node.children,function(a,c){o(new zm(a,n,c))})}function Vh(n){return new mr(n.parent===null?n.name:Vh(n.parent)+"/"+n.name)}function tE(n){var o,a,c,f;n.parent!==null&&(o=n.parent,a=n.name,f=function(p){return us(p)===void 0&&!g2(p)}(c=n),n=Sa(o.node.children,a),f&&n?(delete o.node.children[a],o.node.childCount--,tE(o)):f||n||(o.node.children[a]=c.node,o.node.childCount++,tE(o)))}function C0(n){return typeof n=="string"&&n.length!==0&&!y2.test(n)}function hk(n){return typeof n=="string"&&n.length!==0&&!s$.test(n)}function fk(n,o,a,c){if(!c||o!==void 0){var f=os(n,"values");if(!o||typeof o!="object"||Array.isArray(o))throw new Error(f+" must be an object containing the children to replace.");var p=[];ai(o,function(b,_){if(b=new mr(b),Wm(f,_,Fr(a,b)),d1(b)===".priority"&&!A0(_))throw new Error(f+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(b)}),function(b,_){for(var T=0;T<_.length;T++)for(var k,N=Fp(k=_[T]),j=0;j<N.length;j++)if((N[j]!==".priority"||j!==N.length-1)&&!C0(N[j]))throw new Error(b+"contains an invalid key ("+N[j]+") in path "+k.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_.sort(JU);var V=null;for(T=0;T<_.length;T++){if(k=_[T],V!==null&&Ku(V,k))throw new Error(b+"contains a path "+V.toString()+" that is ancestor of another path "+k.toString());V=k}}(f,p)}}function Pi(n,o,a){if(!a||o!==void 0){if(Em(o))throw new Error(os(n,"priority")+"is "+o.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!A0(o))throw new Error(os(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function k0(n,o,a,c){if(!(c&&a===void 0||C0(a)))throw new Error(os(n,o)+'was an invalid key = "'+a+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)}var y2=/[\[\].#$\/\u0000-\u001F\u007F]/,s$=/[\[\].#$\u0000-\u001F\u007F]/,dk=10485760,A0=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Em(n)||n&&typeof n=="object"&&Sa(n,".sv")},Yu=function(n,o,a,c){c&&o===void 0||Wm(os(n,"value"),o,a)},Wm=function(n,o,a){var c=a instanceof mr?new ZU(a,n):a;if(o===void 0)throw new Error(n+"contains undefined "+jp(c));if(typeof o=="function")throw new Error(n+"contains a function "+jp(c)+" with contents = "+o.toString());if(Em(o))throw new Error(n+"contains "+o.toString()+" "+jp(c));if(typeof o=="string"&&o.length>dk/3&&e0(o)>dk)throw new Error(n+"contains a string greater than "+dk+" utf8 bytes "+jp(c)+" ('"+o.substring(0,50)+"...')");if(o&&typeof o=="object"){var f=!1,p=!1;if(ai(o,function(b,_){if(b===".value")f=!0;else if(b!==".priority"&&b!==".sv"&&(p=!0,!C0(b)))throw new Error(n+" contains an invalid key ("+b+") "+jp(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);var T;T=b,0<(b=c).parts_.length&&(b.byteLength_+=1),b.parts_.push(T),b.byteLength_+=e0(T),KR(b),Wm(n,_,c),_=(b=c).parts_.pop(),b.byteLength_-=e0(_),0<b.parts_.length&&--b.byteLength_}),f&&p)throw new Error(n+' contains ".value" child '+jp(c)+" in addition to actual children.")}},x0=function(n,o,a,c){if(!(c&&a===void 0||hk(a)))throw new Error(os(n,o)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pk=function(n,o,a,c){a=a&&a.replace(/^\/*\.info(\/|$)/,"/"),x0(n,o,a,c)},Ta=function(n,o){if(Dn(o)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},b2=function(n,o){var a=o.path.toString();if(typeof o.repoInfo.host!="string"||o.repoInfo.host.length===0||!C0(o.repoInfo.namespace)&&o.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&(a=(a=a)&&a.replace(/^\/*\.info(\/|$)/,"/"),!hk(a)))throw new Error(os(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},vk=function(){this.eventLists_=[],this.recursionDepth_=0};function cu(n,o){for(var a=null,c=0;c<o.length;c++){var f=o[c],p=f.getPath();a===null||wC(p,a.path)||(n.eventLists_.push(a),a=null),(a=a===null?{events:[],path:p}:a).events.push(f)}a&&n.eventLists_.push(a)}function mk(n,o,a){cu(n,a),gk(n,function(c){return wC(c,o)})}function lu(n,o,a){cu(n,a),gk(n,function(c){return Ku(c,o)||Ku(o,c)})}function gk(n,o){n.recursionDepth_++;for(var a=!0,c=0;c<n.eventLists_.length;c++){var f=n.eventLists_[c];f&&(o(f.path)?(function(p){for(var b=0;b<p.events.length;b++){var _,T=p.events[b];T!==null&&(p.events[b]=null,_=T.getEventRunner(),Rp&&wo("event: "+T.toString()),Im(_))}}(n.eventLists_[c]),n.eventLists_[c]=null):a=!1)}a&&(n.eventLists_=[]),n.recursionDepth_--}var yk="repo_interrupt",Gm=25,$c=(bk.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},bk);function bk(n,o,a,c){this.repoInfo_=n,this.forceRestClient_=o,this.authTokenProvider_=a,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x1(),this.transactionQueueTree_=new zm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function w2(n,o,a){if(n.stats_=u0(n.repoInfo_),n.forceRestClient_||0<=(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))n.server_=new NC(n.repoInfo_,function(c,f,p,b){_2(n,c,f,p,b)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(function(){return nE(n,!0)},0);else{if(a!=null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vi(a)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}n.persistentConnection_=new Up(n.repoInfo_,o,function(c,f,p,b){_2(n,c,f,p,b)},function(c){nE(n,c)},function(c){var f;f=n,ai(c,function(p,b){_k(f,p,b)})},n.authTokenProvider_,n.appCheckProvider_,a),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(function(c){n.server_.refreshAuthToken(c)}),n.appCheckProvider_.addTokenChangeListener(function(c){n.server_.refreshAppCheckToken(c.token)}),n.statsReporter_=(o=n.repoInfo_,a=function(){return new qp(n.stats_,n.server_)},o=o.toString(),au[o]||(au[o]=a()),au[o]),n.infoData_=new i$,n.infoSyncTree_=new K1({startListening:function(c,f,p,b){var _=[],T=n.infoData_.getNode(c._path);return T.isEmpty()||(_=T0(n.infoSyncTree_,c._path,T),setTimeout(function(){b("ok")},0)),_},stopListening:function(){}}),_k(n,"connected",!1),n.serverSyncTree_=new K1({startListening:function(c,f,p,b){return n.server_.listen(c,p,f,function(_,T){T=b(_,T),lu(n.eventQueue_,c._path,T)}),[]},stopListening:function(c,f){n.server_.unlisten(c,f)}})}function wk(n){return n=n.infoData_.getNode(new mr(".info/serverTimeOffset")).val()||0,new Date().getTime()+n}function O0(n){return m2({timestamp:wk(n)})}function _2(n,j,a,c,f){n.dataUpdateCount++;var p=new mr(j);a=n.interceptServerDataCallback_?n.interceptServerDataCallback_(j,a):a;var b,_,T,k,N=[],j=p;0<(N=f?c?(b=kp(a,function(V){return Xr(V)}),function(V,W,X,ne){var ae=I0(V,ne);return ae?(ne=ok(ae),ae=ne.path,ne=ne.queryId,W=Vs(ae,W),X=as.fromObject(X),X1(V,ae,new Rm(MC(ne),W,X))):[]}(n.serverSyncTree_,p,b,f)):(k=Xr(a),b=n.serverSyncTree_,_=p,T=k,(f=I0(b,k=f))==null?[]:(k=ok(f),f=k.path,k=k.queryId,_=Vs(f,_),X1(b,f,new D1(MC(k),_,T)))):c?(k=kp(a,function(V){return Xr(V)}),_=n.serverSyncTree_,T=p,c=k,c=as.fromObject(k),ud(_,new Rm(nd(),T,c))):(a=Xr(a),T0(n.serverSyncTree_,p,a))).length&&(j=zl(n,p)),lu(n.eventQueue_,j,N)}function nE(n,o){_k(n,"connected",o),o===!1&&function(a){Xu(a,"onDisconnectEvents");var c=O0(a),f=x1();RC(a.onDisconnect_,sr(),function(b,_){_=Z1(b,_,a.serverSyncTree_,c),Uc(f,b,_)});var p=[];RC(f,sr(),function(b,_){p=p.concat(T0(a.serverSyncTree_,b,_)),b=fd(a,b),zl(a,b)}),a.onDisconnect_=x1(),lu(a.eventQueue_,sr(),p)}(n)}function _k(n,o,a){o=new mr("/.info/"+o),a=Xr(a),n.infoData_.updateSnapshot(o,a),a=T0(n.infoSyncTree_,o,a),lu(n.eventQueue_,o,a)}function N0(n){return n.nextWriteId_++}function Ek(n,o,p,b,f){Xu(n,"set",{path:o.toString(),value:p,priority:b});var T=O0(n),p=Xr(p,b),b=G1(n.serverSyncTree_,o),T=eE(p,b,T),_=N0(n),T=W1(n.serverSyncTree_,o,T,_,!0);cu(n.eventQueue_,T),n.server_.put(o.toString(),p.val(!0),function(k,N){var j=k==="ok";j||_o("set at "+o+" failed: "+k),j=ad(n.serverSyncTree_,_,!j),lu(n.eventQueue_,o,j),Wn(0,f,k,N)}),p=fd(n,o),zl(n,p),lu(n.eventQueue_,p,[])}function Qm(n,o,a){n.server_.onDisconnectCancel(o.toString(),function(c,f){c==="ok"&&function p(b,_){if(Nn(_))return b.value=null,b.children.clear(),!0;if(b.value!==null){if(b.value.isLeafNode())return!1;var T=b.value;return b.value=null,T.forEachChild(jr,function(k,N){Uc(b,new mr(k),N)}),p(b,_)}return 0<b.children.size?(T=Dn(_),_=_r(_),b.children.has(T)&&p(b.children.get(T),_)&&b.children.delete(T),b.children.size===0):!0}(n.onDisconnect_,o),Wn(0,a,c,f)})}function E2(n,o,a,c){var f=Xr(a);n.server_.onDisconnectPut(o.toString(),f.val(!0),function(p,b){p==="ok"&&Uc(n.onDisconnect_,o,f),Wn(0,c,p,b)})}function Sk(n,o,a){a=Dn(o._path)===".info"?Bm(n.infoSyncTree_,o,a):Bm(n.serverSyncTree_,o,a),mk(n.eventQueue_,o._path,a)}function S2(n){n.persistentConnection_&&n.persistentConnection_.interrupt(yk)}function Xu(n){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var c="";n.persistentConnection_&&(c=n.persistentConnection_.id+":"),wo.apply(void 0,an([c],yo(o)))}function Wn(n,o,a,c){o&&Im(function(){var f,p;a==="ok"?o(null):(p=f=(a||"error").toUpperCase(),c&&(p+=": "+c),(p=new Error(p)).code=f,o(p))})}function Cn(n,o,a){return G1(n.serverSyncTree_,o,a)||dn.EMPTY_NODE}function Xp(n,o){var a;(o=o===void 0?n.transactionQueueTree_:o)||hd(n,o),us(o)?(a=ci(n,o),mt(0<a.length,"Sending zero length transaction queue"),a.every(function(c){return c.status===0})&&function(c,f,p){for(var _=p.map(function(X){return X.currentWriteId}),j=Cn(c,f,_),b=j,_=j.hash(),T=0;T<p.length;T++){var k=p[T];mt(k.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),k.status=1,k.retryCount++;var N=Vs(f,k.path);b=b.updateChild(N,k.currentOutputSnapshotRaw)}var j=b.val(!0),V=f;c.server_.put(V.toString(),j,function(W){Xu(c,"transaction put response",{path:V.toString(),status:W});var X=[];if(W==="ok"){for(var ne=[],ae=0;ae<p.length;ae++)(function(Ce){p[Ce].status=2,X=X.concat(ad(c.serverSyncTree_,p[Ce].currentWriteId)),p[Ce].onComplete&&ne.push(function(){return p[Ce].onComplete(null,!0,p[Ce].currentOutputSnapshotResolved)}),p[Ce].unwatcher()})(ae);for(hd(c,Km(c.transactionQueueTree_,f)),Xp(c,c.transactionQueueTree_),lu(c.eventQueue_,f,X),ae=0;ae<ne.length;ae++)Im(ne[ae])}else{if(W==="datastale")for(ae=0;ae<p.length;ae++)p[ae].status===3?p[ae].status=4:p[ae].status=0;else for(_o("transaction at "+V.toString()+" failed: "+W),ae=0;ae<p.length;ae++)p[ae].status=4,p[ae].abortReason=W;zl(c,f)}},_)}(n,Vh(o),a)):g2(o)&&Yp(o,function(c){Xp(n,c)})}function zl(n,c){var a=T2(n,c),c=Vh(a);return function(f,p,b){if(p.length!==0){for(var _=[],T=[],k=p.filter(function(j){return j.status===0}).map(function(j){return j.currentWriteId}),N=0;N<p.length;N++)(function(j){var V,W,X,ne,ae=p[j],Ce=Vs(b,ae.path),de=!1;mt(Ce!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),ae.status===4?(V=ae.abortReason,T=T.concat(ad(f.serverSyncTree_,ae.currentWriteId,de=!0))):ae.status===0&&(T=ae.retryCount>=Gm?(V="maxretry",T.concat(ad(f.serverSyncTree_,ae.currentWriteId,de=!0))):(W=Cn(f,ae.path,k),ae.currentInputSnapshot=W,(ne=p[j].update(W.val()))!==void 0?(Wm("transaction failed: Data returned ",ne,ae.path),X=Xr(ne),typeof ne=="object"&&ne!=null&&Sa(ne,".priority")||(X=X.updatePriority(W.getPriority())),Ce=ae.currentWriteId,ne=O0(f),ne=eE(X,W,ne),ae.currentOutputSnapshotRaw=X,ae.currentOutputSnapshotResolved=ne,ae.currentWriteId=N0(f),k.splice(k.indexOf(Ce),1),(T=T.concat(W1(f.serverSyncTree_,ae.path,ne,ae.currentWriteId,ae.applyLocally))).concat(ad(f.serverSyncTree_,Ce,!0))):(V="nodata",T.concat(ad(f.serverSyncTree_,ae.currentWriteId,de=!0))))),lu(f.eventQueue_,b,T),T=[],de&&(p[j].status=2,de=p[j].unwatcher,setTimeout(de,Math.floor(0)),p[j].onComplete&&(V==="nodata"?_.push(function(){return p[j].onComplete(null,!1,p[j].currentInputSnapshot)}):_.push(function(){return p[j].onComplete(new Error(V),!1,null)})))})(N);for(hd(f,f.transactionQueueTree_),N=0;N<_.length;N++)Im(_[N]);Xp(f,f.transactionQueueTree_)}}(n,ci(n,a),c),c}function T2(n,o){for(var a=n.transactionQueueTree_,c=Dn(o);c!==null&&us(a)===void 0;)a=Km(a,c),c=Dn(o=_r(o));return a}function ci(n,o){var a=[];return function c(f,p,b){var _=us(p);if(_)for(var T=0;T<_.length;T++)b.push(_[T]);Yp(p,function(k){c(f,k,b)})}(n,o,a),a.sort(function(c,f){return c.order-f.order}),a}function hd(n,o){var a=us(o);if(a){for(var c=0,f=0;f<a.length;f++)a[f].status!==2&&(a[c]=a[f],c++);a.length=c,lk(o,0<a.length?a:void 0)}Yp(o,function(p){hd(n,p)})}function fd(n,c){var a=Vh(T2(n,c)),c=Km(n.transactionQueueTree_,c);return function(f,p,b){for(var _=b?f:f.parent;_!==null;){if(p(_))return;_=_.parent}}(c,function(f){P0(n,f)}),P0(n,c),function f(p,b,_,T){_&&!T&&b(p),Yp(p,function(k){f(k,b,!0,T)}),_&&T&&b(p)}(c,function(f){P0(n,f)}),a}function P0(n,o){var a=us(o);if(a){for(var c=[],f=[],p=-1,b=0;b<a.length;b++)a[b].status===3||(a[b].status===1?(mt(p===b-1,"All SENT items should be at beginning of queue."),a[p=b].status=3,a[b].abortReason="set"):(mt(a[b].status===0,"Unexpected transaction status in abort"),a[b].unwatcher(),f=f.concat(ad(n.serverSyncTree_,a[b].currentWriteId,!0)),a[b].onComplete&&c.push(a[b].onComplete.bind(null,new Error("set"),!1,null))));for(p===-1?lk(o,void 0):a.length=p+1,lu(n.eventQueue_,Vh(o),f),b=0;b<c.length;b++)Im(c[b])}}var R0=function(n,o){var a=I2(n),c=a.namespace;return a.domain==="firebase.com"&&Pl(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),c&&c!=="undefined"||a.domain==="localhost"||Pl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_o("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=a.scheme==="ws"||a.scheme==="wss",{repoInfo:new mC(a.host,a.secure,c,o,n,"",c!==a.subdomain),path:new mr(a.pathString)}},I2=function(n){var o,a,c,f="",p="",b="",_="",T="",k=!0,N="https",j=443;return typeof n=="string"&&(0<=(c=n.indexOf("//"))&&(N=n.substring(0,c-1),n=n.substring(c+2)),(o=n.indexOf("/"))===-1&&(o=n.length),(a=n.indexOf("?"))===-1&&(a=n.length),f=n.substring(0,Math.min(o,a)),o<a&&(_=function(V){for(var W="",X=V.split("/"),ne=0;ne<X.length;ne++)if(0<X[ne].length){var ae=X[ne];try{ae=decodeURIComponent(ae.replace(/\+/g," "))}catch{}W+="/"+ae}return W}(n.substring(o,a))),a=function(V){var W,X,ne={};V.charAt(0)==="?"&&(V=V.substring(1));try{for(var ae=go(V.split("&")),Ce=ae.next();!Ce.done;Ce=ae.next()){var de,Je=Ce.value;Je.length!==0&&((de=Je.split("=")).length===2?ne[decodeURIComponent(de[0])]=decodeURIComponent(de[1]):_o("Invalid query segment '"+Je+"' in query '"+V+"'"))}}catch(Ke){W={error:Ke}}finally{try{Ce&&!Ce.done&&(X=ae.return)&&X.call(ae)}finally{if(W)throw W.error}}return ne}(n.substring(Math.min(n.length,a))),0<=(c=f.indexOf(":"))?(k=N==="https"||N==="wss",j=parseInt(f.substring(c+1),10)):c=f.length,(c=f.slice(0,c)).toLowerCase()==="localhost"?p="localhost":c.split(".").length<=2?p=c:(c=f.indexOf("."),b=f.substring(0,c).toLowerCase(),p=f.substring(c+1),T=b),"ns"in a&&(T=a.ns)),{host:f,port:j,domain:p,subdomain:b,secure:k,scheme:N,pathString:_,namespace:T}},D0=(Jp.prototype.getPath=function(){var n=this.snapshot.ref;return(this.eventType==="value"?n:n.parent)._path},Jp.prototype.getEventType=function(){return this.eventType},Jp.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Jp.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Vi(this.snapshot.exportVal())},Jp);function Jp(n,o,a,c){this.eventType=n,this.eventRegistration=o,this.snapshot=a,this.prevName=c}var rE=(Zp.prototype.getPath=function(){return this.path},Zp.prototype.getEventType=function(){return"cancel"},Zp.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Zp.prototype.toString=function(){return this.path.toString()+":cancel"},Zp);function Zp(n,o,a){this.eventRegistration=n,this.error=o,this.path=a}var iE=(ev.prototype.onValue=function(n,o){this.snapshotCallback.call(null,n,o)},ev.prototype.onCancel=function(n){return mt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)},Object.defineProperty(ev.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),ev.prototype.matches=function(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context},ev);function ev(n,o){this.snapshotCallback=n,this.cancelCallback=o}var a$=(Ym.prototype.cancel=function(){var n=new to;return Qm(this._repo,this._path,n.wrapCallback(function(){})),n.promise},Ym.prototype.remove=function(){Ta("OnDisconnect.remove",this._path);var n=new to;return E2(this._repo,this._path,null,n.wrapCallback(function(){})),n.promise},Ym.prototype.set=function(n){Ta("OnDisconnect.set",this._path),Yu("OnDisconnect.set",n,this._path,!1);var o=new to;return E2(this._repo,this._path,n,o.wrapCallback(function(){})),o.promise},Ym.prototype.setWithPriority=function(n,o){Ta("OnDisconnect.setWithPriority",this._path),Yu("OnDisconnect.setWithPriority",n,this._path,!1),Pi("OnDisconnect.setWithPriority",o,!1);var a,c,f,p,b=new to;return a=this._repo,c=this._path,n=n,o=o,f=b.wrapCallback(function(){}),p=Xr(n,o),a.server_.onDisconnectPut(c.toString(),p.val(!0),function(_,T){_==="ok"&&Uc(a.onDisconnect_,c,p),Wn(0,f,_,T)}),b.promise},Ym.prototype.update=function(n){Ta("OnDisconnect.update",this._path),fk("OnDisconnect.update",n,this._path,!1);var o=new to;return function(a,c,f,p){if(J_(f))return wo("onDisconnect().update() called with empty data.  Don't do anything."),Wn(0,p,"ok",void 0);a.server_.onDisconnectMerge(c.toString(),f,function(b,_){b==="ok"&&ai(f,function(T,k){k=Xr(k),Uc(a.onDisconnect_,Fr(c,T),k)}),Wn(0,p,b,_)})}(this._repo,this._path,n,o.wrapCallback(function(){})),o.promise},Ym);function Ym(n,o){this._repo=n,this._path=o}var Ia=(Object.defineProperty(Vc.prototype,"key",{get:function(){return Nn(this._path)?null:d1(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"ref",{get:function(){return new qc(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"_queryIdentifier",{get:function(){var n=n2(this._queryParams),n=l1(n);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(Vc.prototype,"_queryObject",{get:function(){return n2(this._queryParams)},enumerable:!1,configurable:!0}),Vc.prototype.isEqual=function(c){if(!((c=fn(c))instanceof Vc))return!1;var o=this._repo===c._repo,a=wC(this._path,c._path),c=this._queryIdentifier===c._queryIdentifier;return o&&a&&c},Vc.prototype.toJSON=function(){return this.toString()},Vc.prototype.toString=function(){return this._repo.toString()+function(n){for(var o="",a=n.pieceNum_;a<n.pieces_.length;a++)n.pieces_[a]!==""&&(o+="/"+encodeURIComponent(String(n.pieces_[a])));return o||"/"}(this._path)},Vc);function Vc(n,o,a,c){this._repo=n,this._path=o,this._queryParams=a,this._orderByCalled=c}function L0(n,o){if(n._orderByCalled===!0)throw new Error(o+": You can't combine multiple orderBy calls.")}function qh(n){var o=null,a=null;if(n.hasStart()&&(o=n.getIndexStartValue()),n.hasEnd()&&(a=n.getIndexEndValue()),n.getIndex()===Ml){var c="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",f="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Rl)throw new Error(c);if(typeof o!="string")throw new Error(f)}if(n.hasEnd()){if(n.getIndexEndName()!==Rc)throw new Error(c);if(typeof a!="string")throw new Error(f)}}else if(n.getIndex()===jr){if(o!=null&&!A0(o)||a!=null&&!A0(a))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(mt(n.getIndex()instanceof S1||n.getIndex()===I1,"unknown index type."),o!=null&&typeof o=="object"||a!=null&&typeof a=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function M0(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var C2,qc=(Ct(F0,C2=Ia),Object.defineProperty(F0.prototype,"parent",{get:function(){var n=p1(this._path);return n===null?null:new F0(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(F0.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),F0);function F0(n,o){return C2.call(this,n,o,new m0,!1)||this}var Xm=(Object.defineProperty(Bo.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(Bo.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(Bo.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),Bo.prototype.child=function(a){var o=new mr(a),a=dd(this.ref,a);return new Bo(this._node.getChild(o),a,jr)},Bo.prototype.exists=function(){return!this._node.isEmpty()},Bo.prototype.exportVal=function(){return this._node.val(!0)},Bo.prototype.forEach=function(n){var o=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(a,c){return n(new Bo(c,dd(o.ref,a),jr))})},Bo.prototype.hasChild=function(n){return n=new mr(n),!this._node.getChild(n).isEmpty()},Bo.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},Bo.prototype.toJSON=function(){return this.exportVal()},Bo.prototype.val=function(){return this._node.val()},Bo);function Bo(n,o,a){this._node=n,this.ref=o,this._index=a}function oE(n,o){return(n=fn(n))._checkNotDeleted("ref"),o!==void 0?dd(n._root,o):n._root}function Tk(n,o){(n=fn(n))._checkNotDeleted("refFromURL");var a=R0(o,n._repo.repoInfo_.nodeAdmin);return b2("refFromURL",a),o=a.repoInfo,n._repo.repoInfo_.isCustomHost()||o.host===n._repo.repoInfo_.host||Pl("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+n._repo.repoInfo_.host+")"),oE(n,a.path.toString())}function dd(n,o){return(Dn((n=fn(n))._path)===null?pk:x0)("child","path",o,!1),new qc(n._repo,Fr(n._path,o))}function Lt(n,o){n=fn(n),Ta("set",n._path),Yu("set",o,n._path,!1);var a=new to;return Ek(n._repo,n._path,o,null,a.wrapCallback(function(){})),a.promise}function Ik(n,o){fk("update",o,n._path,!1);var a=new to;return function(c,f,p,b){Xu(c,"update",{path:f.toString(),value:p});var _,T,k=!0,N=O0(c),j={};ai(p,function(V,W){k=!1,j[V]=Z1(Fr(f,V),Xr(W),c.serverSyncTree_,N)}),k?(wo("update() called with empty data.  Don't do anything."),Wn(0,b,"ok",void 0)):(_=N0(c),T=p2(c.serverSyncTree_,f,j,_),cu(c.eventQueue_,T),c.server_.merge(f.toString(),p,function(V,W){var ne=V==="ok";ne||_o("update at "+f+" failed: "+V);var X=ad(c.serverSyncTree_,_,!ne),ne=0<X.length?zl(c,f):f;lu(c.eventQueue_,ne,X),Wn(0,b,V,W)}),ai(p,function(V){V=fd(c,Fr(f,V)),zl(c,V)}),lu(c.eventQueue_,f,[]))}(n._repo,n._path,o,a.wrapCallback(function(){})),a.promise}function qi(n){return n=fn(n),o=n._repo,a=n,((c=uu(o.serverSyncTree_,a))!=null?Promise.resolve(c):o.server_.get(a).then(function(b){var p=Xr(b).withIndex(a._queryParams.getIndex()),b=T0(o.serverSyncTree_,a._path,p);return mk(o.eventQueue_,a._path,b),Promise.resolve(p)},function(f){return Xu(o,"get for query "+Vi(a)+" failed: "+f),Promise.reject(new Error(f))})).then(function(f){return new Xm(f,new qc(n._repo,n._path),n._queryParams.getIndex())});var o,a,c}var tv=(Ho.prototype.respondsTo=function(n){return n==="value"},Ho.prototype.createEvent=function(n,o){var a=o._queryParams.getIndex();return new D0("value",this,new Xm(n.snapshotNode,new qc(o._repo,o._path),a))},Ho.prototype.getEventRunner=function(n){var o=this;return n.getEventType()==="cancel"?function(){return o.callbackContext.onCancel(n.error)}:function(){return o.callbackContext.onValue(n.snapshot,null)}},Ho.prototype.createCancelEvent=function(n,o){return this.callbackContext.hasCancelCallback?new rE(this,n,o):null},Ho.prototype.matches=function(n){return n instanceof Ho&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))},Ho.prototype.hasAnyCallback=function(){return this.callbackContext!==null},Ho);function Ho(n){this.callbackContext=n}var k2=(pd.prototype.respondsTo=function(n){return n=n==="children_added"?"child_added":n,this.eventType===(n=n==="children_removed"?"child_removed":n)},pd.prototype.createCancelEvent=function(n,o){return this.callbackContext.hasCancelCallback?new rE(this,n,o):null},pd.prototype.createEvent=function(n,c){mt(n.childName!=null,"Child events should have a childName.");var a=dd(new qc(c._repo,c._path),n.childName),c=c._queryParams.getIndex();return new D0(n.type,this,new Xm(n.snapshotNode,a,c),n.prevName)},pd.prototype.getEventRunner=function(n){var o=this;return n.getEventType()==="cancel"?function(){return o.callbackContext.onCancel(n.error)}:function(){return o.callbackContext.onValue(n.snapshot,n.prevName)}},pd.prototype.matches=function(n){return n instanceof pd&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))},pd.prototype.hasAnyCallback=function(){return!!this.callbackContext},pd);function pd(n,o){this.eventType=n,this.callbackContext=o}function j0(n,o,_,c,f){var p;typeof c=="object"&&(b=void 0,f=c),typeof c=="function"&&(b=c),f&&f.onlyOnce&&((f=function(k,N){Sk(n._repo,n,T),p(k,N)}).userCallback=(p=_).userCallback,f.context=_.context,_=f);var b,_=new iE(_,b||void 0),T=o==="value"?new tv(_):new k2(o,_);return b=n._repo,o=T,o=Dn((_=n)._path)===".info"?v2(b.infoSyncTree_,_,o):v2(b.serverSyncTree_,_,o),mk(b.eventQueue_,_._path,o),function(){return Sk(n._repo,n,T)}}function Kl(n,o,a,c){return j0(n,"value",o,a,c)}function Ck(n,o,a,c){return j0(n,"child_added",o,a,c)}function nv(n,o,a,c){return j0(n,"child_changed",o,a,c)}function sE(n,o,a,c){return j0(n,"child_moved",o,a,c)}function kk(n,o,a,c){return j0(n,"child_removed",o,a,c)}function U0(n,o,f){var c=null,f=f?new iE(f):null;o==="value"?c=new tv(f):o&&(c=new k2(o,f)),Sk(n._repo,n,c)}var _i,Qe=function(){},Ak=(Ct(li,_i=Qe),li.prototype._apply=function(n){Yu("endAt",this._value,n._path,!0);var o=g0(n._queryParams,this._value,this._key);if(M0(o),qh(o),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ia(n._repo,n._path,o,n._orderByCalled)},li);function li(n,o){var a=_i.call(this)||this;return a._value=n,a._key=o,a}var xk,u$=(Ct(l,xk=Qe),l.prototype._apply=function(n){Yu("endBefore",this._value,n._path,!1);var o,a,c,c=(o=n._queryParams,a=this._value,c=this._key,(c=o.index_===Ml?g0(o,a=typeof a=="string"?AC(a):a,c):g0(o,a,c==null?Rl:AC(c))).endBeforeSet_=!0,c);if(M0(c),qh(c),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ia(n._repo,n._path,c,n._orderByCalled)},l);function l(n,o){var a=xk.call(this)||this;return a._value=n,a._key=o,a}var m,E=(Ct(O,m=Qe),O.prototype._apply=function(n){Yu("startAt",this._value,n._path,!0);var o=xC(n._queryParams,this._value,this._key);if(M0(o),qh(o),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ia(n._repo,n._path,o,n._orderByCalled)},O);function O(n,o){var a=m.call(this)||this;return a._value=n,a._key=o,a}var F,z=(Ct(Q,F=Qe),Q.prototype._apply=function(n){Yu("startAfter",this._value,n._path,!1);var o,a,c,c=(o=n._queryParams,a=this._value,c=this._key,(c=o.index_===Ml?xC(o,a=typeof a=="string"?T1(a):a,c):xC(o,a,c==null?Rc:T1(c))).startAfterSet_=!0,c);if(M0(c),qh(c),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ia(n._repo,n._path,c,n._orderByCalled)},Q);function Q(n,o){var a=F.call(this)||this;return a._value=n,a._key=o,a}var ue,We=(Ct(at,ue=Qe),at.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ia(n._repo,n._path,(o=n._queryParams,a=this._limit,(o=o.copy()).limitSet_=!0,o.limit_=a,o.viewFrom_="l",o),n._orderByCalled);var o,a},at);function at(n){var o=ue.call(this)||this;return o._limit=n,o}var pn,Er=(Ct(Qn,pn=Qe),Qn.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ia(n._repo,n._path,(o=n._queryParams,a=this._limit,(o=o.copy()).limitSet_=!0,o.limit_=a,o.viewFrom_="r",o),n._orderByCalled);var o,a},Qn);function Qn(n){var o=pn.call(this)||this;return o._limit=n,o}var io,Bh=(Ct($0,io=Qe),$0.prototype._apply=function(n){L0(n,"orderByChild");var o=new mr(this._path);if(Nn(o))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return o=new S1(o),o=Pm(n._queryParams,o),qh(o),new Ia(n._repo,n._path,o,!0)},$0);function $0(n){var o=io.call(this)||this;return o._path=n,o}var c$,tTe=(Ct(l$,c$=Qe),l$.prototype._apply=function(n){L0(n,"orderByKey");var o=Pm(n._queryParams,Ml);return qh(o),new Ia(n._repo,n._path,o,!0)},l$);function l$(){return c$!==null&&c$.apply(this,arguments)||this}var h$,nTe=(Ct(f$,h$=Qe),f$.prototype._apply=function(n){L0(n,"orderByPriority");var o=Pm(n._queryParams,jr);return qh(o),new Ia(n._repo,n._path,o,!0)},f$);function f$(){return h$!==null&&h$.apply(this,arguments)||this}var d$,rTe=(Ct(p$,d$=Qe),p$.prototype._apply=function(n){L0(n,"orderByValue");var o=Pm(n._queryParams,I1);return qh(o),new Ia(n._repo,n._path,o,!0)},p$);function p$(){return d$!==null&&d$.apply(this,arguments)||this}var nY,rY,iY,iTe=(Ct(v$,nY=Qe),v$.prototype._apply=function(n){if(Yu("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ak(this._value,this._key)._apply(new E(this._value,this._key)._apply(n))},v$);function v$(n,o){var a=nY.call(this)||this;return a._value=n,a._key=o,a}function Hh(n){for(var o,a,c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];var p=fn(n);try{for(var b=go(c),_=b.next();!_.done;_=b.next())p=_.value._apply(p)}catch(T){o={error:T}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}return p}rY=qc,mt(!qm,"__referenceConstructor has already been defined"),qm=rY,iY=qc,mt(!E0,"__referenceConstructor has already been defined"),E0=iY;var oTe="FIREBASE_DATABASE_EMULATOR_HOST",m$={},oY=!1;function sY(n,o,a,k,f){var p=k||n.options.databaseURL;p===void 0&&(n.options.projectId||Pl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wo("Using default host for project ",n.options.projectId),p=n.options.projectId+"-default-rtdb.firebaseio.com");var b,_=R0(p,f),T=_.repoInfo,k=void 0;return(k=typeof process<"u"?process.env[oTe]:k)?(b=!0,p="http://"+k+"?ns="+T.namespace,T=(_=R0(p,f)).repoInfo):b=!_.repoInfo.secure,o=f&&b?new Lh(Lh.OWNER):new jR(n.name,n.options,o),b2("Invalid Firebase Database URL",_),Nn(_.path)||Pl("Database URL must point to the root of a Firebase Database (not including a child path)."),a=function(N,j,V,W){var X=m$[j.name];return X||(X={},m$[j.name]=X),(j=X[N.toURLString()])&&Pl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),j=new $c(N,oY,V,W),X[N.toURLString()]=j}(T,n,o,new vC(n.name,a)),new sTe(a,n)}var sTe=(Object.defineProperty(Ok.prototype,"_repo",{get:function(){return this._instanceStarted||(w2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(Ok.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new qc(this._repo,sr())),this._rootInternal},enumerable:!1,configurable:!0}),Ok.prototype._delete=function(){var n,o,a;return this._rootInternal!==null&&(n=this._repo,o=this.app.name,(a=m$[o])&&a[n.key]===n||Pl("Database "+o+"("+n.repoInfo_+") has already been deleted."),S2(n),delete a[n.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},Ok.prototype._checkNotDeleted=function(n){this._rootInternal===null&&Pl("Cannot call "+n+" on a deleted database.")},Ok);function Ok(n,o){this._repoInternal=n,this.app=o,this.type="database",this._instanceStarted=!1}function aTe(n,o,a,c){c===void 0&&(c={}),(n=fn(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pl("Cannot call useEmulator() after instance has already been initialized.");var f=n._repoInternal,p=void 0;f.repoInfo_.nodeAdmin?(c.mockUserToken&&Pl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new Lh(Lh.OWNER)):c.mockUserToken&&(n=typeof c.mockUserToken=="string"?c.mockUserToken:vm(c.mockUserToken,n.app.options.projectId),p=new Lh(n)),p=p,(f=f).repoInfo_=new mC(o+":"+a,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams),p&&(f.authTokenProvider_=p)}function uTe(n){(n=fn(n))._checkNotDeleted("goOnline"),(n=n._repo).persistentConnection_&&n.persistentConnection_.resume(yk)}var cTe={".sv":"timestamp"},lTe=(aY.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},aY);function aY(n,o){this.committed=n,this.snapshot=o}function hTe(n,o,c){if(n=fn(n),Ta("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";var c=(p=c==null?void 0:c.applyLocally)===null||p===void 0||p,f=new to,p=Kl(n,function(){});return function(b,_,W,k,N,j){Xu(b,"transaction on "+_);var V={path:_,update:W,onComplete:k,status:null,order:Sm(),applyLocally:j,retryCount:0,unwatcher:N,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},W=Cn(b,_,void 0);V.currentInputSnapshot=W,(k=V.update(W.val()))===void 0?(V.unwatcher(),V.currentOutputSnapshotRaw=null,V.currentOutputSnapshotResolved=null,V.onComplete&&V.onComplete(null,!1,V.currentInputSnapshot)):(Wm("transaction failed: Data returned ",k,V.path),V.status=0,(N=us(j=Km(b.transactionQueueTree_,_))||[]).push(V),lk(j,N),j=void 0,typeof k=="object"&&k!==null&&Sa(k,".priority")?(j=Hf(k,".priority"),mt(A0(j),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):j=(G1(b.serverSyncTree_,_)||dn.EMPTY_NODE).getPriority().val(),N=O0(b),j=Xr(k,j),N=eE(j,W,N),V.currentOutputSnapshotRaw=j,V.currentOutputSnapshotResolved=N,V.currentWriteId=N0(b),V=W1(b.serverSyncTree_,_,N,V.currentWriteId,V.applyLocally),lu(b.eventQueue_,_,V),Xp(b,b.transactionQueueTree_))}(n._repo,n._path,o,function(b,_,T){var k;b?f.reject(b):(k=new Xm(T,new qc(n._repo,n._path),jr),f.resolve(new lTe(_,k)))},p,c),f.promise}var fTe=(aE.prototype.cancel=function(n){Gt("OnDisconnect.cancel",0,1,arguments.length),bo("OnDisconnect.cancel","onComplete",n,!0);var o=this._delegate.cancel();return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},aE.prototype.remove=function(n){Gt("OnDisconnect.remove",0,1,arguments.length),bo("OnDisconnect.remove","onComplete",n,!0);var o=this._delegate.remove();return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},aE.prototype.set=function(n,o){return Gt("OnDisconnect.set",1,2,arguments.length),bo("OnDisconnect.set","onComplete",o,!0),n=this._delegate.set(n),o&&n.then(function(){return o(null)},function(a){return o(a)}),n},aE.prototype.setWithPriority=function(n,o,a){return Gt("OnDisconnect.setWithPriority",2,3,arguments.length),bo("OnDisconnect.setWithPriority","onComplete",a,!0),o=this._delegate.setWithPriority(n,o),a&&o.then(function(){return a(null)},function(c){return a(c)}),o},aE.prototype.update=function(n,o){if(Gt("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){for(var a={},c=0;c<n.length;++c)a[""+c]=n[c];n=a,_o("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bo("OnDisconnect.update","onComplete",o,!0);var f=this._delegate.update(n);return o&&f.then(function(){return o(null)},function(p){return o(p)}),f},aE);function aE(n){this._delegate=n}var dTe=(uY.prototype.toJSON=function(){return Gt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},uY);function uY(n,o){this.committed=n,this.snapshot=o}var Nk=(Ca.prototype.val=function(){return Gt("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},Ca.prototype.exportVal=function(){return Gt("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},Ca.prototype.toJSON=function(){return Gt("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},Ca.prototype.exists=function(){return Gt("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},Ca.prototype.child=function(n){return Gt("DataSnapshot.child",0,1,arguments.length),n=String(n),x0("DataSnapshot.child","path",n,!1),new Ca(this._database,this._delegate.child(n))},Ca.prototype.hasChild=function(n){return Gt("DataSnapshot.hasChild",1,1,arguments.length),x0("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)},Ca.prototype.getPriority=function(){return Gt("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},Ca.prototype.forEach=function(n){var o=this;return Gt("DataSnapshot.forEach",1,1,arguments.length),bo("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(function(a){return n(new Ca(o._database,a))})},Ca.prototype.hasChildren=function(){return Gt("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(Ca.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),Ca.prototype.numChildren=function(){return Gt("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},Ca.prototype.getRef=function(){return Gt("DataSnapshot.ref",0,0,arguments.length),new V0(this._database,this._delegate.ref)},Object.defineProperty(Ca.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Ca);function Ca(n,o){this._database=n,this._delegate=o}var cY=(rr.prototype.on=function(n,o,a,c){var f=this;Gt("Query.on",2,4,arguments.length),bo("Query.on","callback",o,!1);function p(T,k){o.call(b.context,new Nk(f.database,T),k)}var b=rr.getCancelAndContextArgs_("Query.on",a,c);p.userCallback=o,p.context=b.context;var _=(c=b.cancel)===null||c===void 0?void 0:c.bind(b.context);switch(n){case"value":return Kl(this._delegate,p,_),o;case"child_added":return Ck(this._delegate,p,_),o;case"child_removed":return kk(this._delegate,p,_),o;case"child_changed":return nv(this._delegate,p,_),o;case"child_moved":return sE(this._delegate,p,_),o;default:throw new Error(os("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},rr.prototype.off=function(n,o,a){var c;Gt("Query.off",0,3,arguments.length),function(f,p,b){if(!b||p!==void 0)switch(p){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(os(f,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",n,!0),bo("Query.off","callback",o,!0),zf("Query.off","context",a,!0),o?((c=function(){}).userCallback=o,c.context=a,U0(this._delegate,n,c)):U0(this._delegate,n)},rr.prototype.get=function(){var n=this;return qi(this._delegate).then(function(o){return new Nk(n.database,o)})},rr.prototype.once=function(n,o,a,c){var f=this;Gt("Query.once",1,4,arguments.length),bo("Query.once","callback",o,!0);function p(k,N){k=new Nk(f.database,k),o&&o.call(b.context,k,N),_.resolve(k)}var b=rr.getCancelAndContextArgs_("Query.once",a,c),_=new to;p.userCallback=o,p.context=b.context;function T(k){b.cancel&&b.cancel.call(b.context,k),_.reject(k)}switch(n){case"value":Kl(this._delegate,p,T,{onlyOnce:!0});break;case"child_added":Ck(this._delegate,p,T,{onlyOnce:!0});break;case"child_removed":kk(this._delegate,p,T,{onlyOnce:!0});break;case"child_changed":nv(this._delegate,p,T,{onlyOnce:!0});break;case"child_moved":sE(this._delegate,p,T,{onlyOnce:!0});break;default:throw new Error(os("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return _.promise},rr.prototype.limitToFirst=function(n){return Gt("Query.limitToFirst",1,1,arguments.length),new rr(this.database,Hh(this._delegate,function(o){if(typeof o!="number"||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new We(o)}(n)))},rr.prototype.limitToLast=function(n){return Gt("Query.limitToLast",1,1,arguments.length),new rr(this.database,Hh(this._delegate,function(o){if(typeof o!="number"||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Er(o)}(n)))},rr.prototype.orderByChild=function(n){return Gt("Query.orderByChild",1,1,arguments.length),new rr(this.database,Hh(this._delegate,function(o){if(o==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(o==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(o==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return x0("orderByChild","path",o,!1),new Bh(o)}(n)))},rr.prototype.orderByKey=function(){return Gt("Query.orderByKey",0,0,arguments.length),new rr(this.database,Hh(this._delegate,new tTe))},rr.prototype.orderByPriority=function(){return Gt("Query.orderByPriority",0,0,arguments.length),new rr(this.database,Hh(this._delegate,new nTe))},rr.prototype.orderByValue=function(){return Gt("Query.orderByValue",0,0,arguments.length),new rr(this.database,Hh(this._delegate,new rTe))},rr.prototype.startAt=function(n,o){return n===void 0&&(n=null),Gt("Query.startAt",0,2,arguments.length),new rr(this.database,Hh(this._delegate,((n=n)===void 0&&(n=null),k0("startAt","key",o=o,!0),new E(n,o))))},rr.prototype.startAfter=function(n,o){return n===void 0&&(n=null),Gt("Query.startAfter",0,2,arguments.length),new rr(this.database,Hh(this._delegate,(n=n,k0("startAfter","key",o=o,!0),new z(n,o))))},rr.prototype.endAt=function(n,o){return n===void 0&&(n=null),Gt("Query.endAt",0,2,arguments.length),new rr(this.database,Hh(this._delegate,(n=n,k0("endAt","key",o=o,!0),new Ak(n,o))))},rr.prototype.endBefore=function(n,o){return n===void 0&&(n=null),Gt("Query.endBefore",0,2,arguments.length),new rr(this.database,Hh(this._delegate,(n=n,k0("endBefore","key",o=o,!0),new u$(n,o))))},rr.prototype.equalTo=function(n,o){return Gt("Query.equalTo",1,2,arguments.length),new rr(this.database,Hh(this._delegate,(n=n,k0("equalTo","key",o=o,!0),new iTe(n,o))))},rr.prototype.toString=function(){return Gt("Query.toString",0,0,arguments.length),this._delegate.toString()},rr.prototype.toJSON=function(){return Gt("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},rr.prototype.isEqual=function(n){if(Gt("Query.isEqual",1,1,arguments.length),n instanceof rr)return this._delegate.isEqual(n._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},rr.getCancelAndContextArgs_=function(n,o,a){var c={cancel:void 0,context:void 0};if(o&&a)c.cancel=o,bo(n,"cancel",c.cancel,!0),c.context=a,zf(n,"context",c.context,!0);else if(o)if(typeof o=="object"&&o!==null)c.context=o;else{if(typeof o!="function")throw new Error(os(n,"cancelOrContext")+" must either be a cancel callback or a context object.");c.cancel=o}return c},Object.defineProperty(rr.prototype,"ref",{get:function(){return new V0(this.database,new qc(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),rr);function rr(n,o){this.database=n,this._delegate=o}var lY,V0=(Ct(Bi,lY=cY),Bi.prototype.getKey=function(){return Gt("Reference.key",0,0,arguments.length),this._delegate.key},Bi.prototype.child=function(n){return Gt("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new Bi(this.database,dd(this._delegate,n))},Bi.prototype.getParent=function(){Gt("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new Bi(this.database,n):null},Bi.prototype.getRoot=function(){return Gt("Reference.root",0,0,arguments.length),new Bi(this.database,this._delegate.root)},Bi.prototype.set=function(n,o){return Gt("Reference.set",1,2,arguments.length),bo("Reference.set","onComplete",o,!0),n=Lt(this._delegate,n),o&&n.then(function(){return o(null)},function(a){return o(a)}),n},Bi.prototype.update=function(n,o){if(Gt("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var a={},c=0;c<n.length;++c)a[""+c]=n[c];n=a,_o("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ta("Reference.update",this._delegate._path),bo("Reference.update","onComplete",o,!0);var f=Ik(this._delegate,n);return o&&f.then(function(){return o(null)},function(p){return o(p)}),f},Bi.prototype.setWithPriority=function(n,o,a){return Gt("Reference.setWithPriority",2,3,arguments.length),bo("Reference.setWithPriority","onComplete",a,!0),o=function(c,f,p){if(Ta("setWithPriority",c._path),Yu("setWithPriority",f,c._path,!1),Pi("setWithPriority",p,!1),c.key===".length"||c.key===".keys")throw"setWithPriority failed: "+c.key+" is a read-only object.";var b=new to;return Ek(c._repo,c._path,f,p,b.wrapCallback(function(){})),b.promise}(this._delegate,n,o),a&&o.then(function(){return a(null)},function(c){return a(c)}),o},Bi.prototype.remove=function(n){Gt("Reference.remove",0,1,arguments.length),bo("Reference.remove","onComplete",n,!0);var o,o=(o=this._delegate,Ta("remove",o._path),Lt(o,null));return n&&o.then(function(){return n(null)},function(a){return n(a)}),o},Bi.prototype.transaction=function(n,o,a){var c=this;return Gt("Reference.transaction",1,3,arguments.length),bo("Reference.transaction","transactionUpdate",n,!1),bo("Reference.transaction","onComplete",o,!0),function(f,p,b,_){if((!_||b!==void 0)&&typeof b!="boolean")throw new Error(os(f,p)+"must be a boolean.")}("Reference.transaction","applyLocally",a,!0),a=hTe(this._delegate,n,{applyLocally:a}).then(function(f){return new dTe(f.committed,new Nk(c.database,f.snapshot))}),o&&a.then(function(f){return o(null,f.committed,f.snapshot)},function(f){return o(f,!1,null)}),a},Bi.prototype.setPriority=function(n,o){return Gt("Reference.setPriority",1,2,arguments.length),bo("Reference.setPriority","onComplete",o,!0),n=function(a,c){a=fn(a),Ta("setPriority",a._path),Pi("setPriority",c,!1);var f=new to;return Ek(a._repo,Fr(a._path,".priority"),c,null,f.wrapCallback(function(){})),f.promise}(this._delegate,n),o&&n.then(function(){return o(null)},function(a){return o(a)}),n},Bi.prototype.push=function(f,o){var a=this;Gt("Reference.push",0,2,arguments.length),bo("Reference.push","onComplete",o,!0);var c=function(p,N){p=fn(p),Ta("push",p._path),Yu("push",N,p._path,!0);var T=wk(p._repo),_=C1(T),T=dd(p,_),k=dd(p,_),N=N!=null?Lt(k,N).then(function(){return k}):Promise.resolve(k);return T.then=N.then.bind(N),T.catch=N.then.bind(N,void 0),T}(this._delegate,f),f=c.then(function(p){return new Bi(a.database,p)});return o&&f.then(function(){return o(null)},function(p){return o(p)}),c=new Bi(this.database,c),c.then=f.then.bind(f),c.catch=f.catch.bind(f,void 0),c},Bi.prototype.onDisconnect=function(){return Ta("Reference.onDisconnect",this._delegate._path),new fTe(new a$(this._delegate._repo,this._delegate._path))},Object.defineProperty(Bi.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Bi.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Bi.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Bi);function Bi(n,o){var a=lY.call(this,n,new Ia(o._repo,o._path,new m0,!1))||this;return a.database=n,a._delegate=o,a}var A2=(q0.prototype.useEmulator=function(n,o,a){aTe(this._delegate,n,o,a=a===void 0?{}:a)},q0.prototype.ref=function(n){if(Gt("database.ref",0,1,arguments.length),n instanceof V0){var o=Tk(this._delegate,n.toString());return new V0(this,o)}return o=oE(this._delegate,n),new V0(this,o)},q0.prototype.refFromURL=function(n){return Gt("database.refFromURL",1,1,arguments.length),n=Tk(this._delegate,n),new V0(this,n)},q0.prototype.goOffline=function(){var n;Gt("database.goOffline",0,0,arguments.length),(n=fn(n=this._delegate))._checkNotDeleted("goOffline"),S2(n._repo)},q0.prototype.goOnline=function(){return Gt("database.goOnline",0,0,arguments.length),uTe(this._delegate)},q0.ServerValue={TIMESTAMP:cTe,increment:function(n){return{".sv":{increment:n}}}},q0);function q0(n,o){var a=this;this._delegate=n,this.app=o,this.INTERNAL={delete:function(){return a._delegate._delete()}}}var pTe=Object.freeze({__proto__:null,forceLongPolling:function(){Jf.forceDisallow(),yC.forceAllow()},forceWebSockets:function(){yC.forceDisallow()},isWebSocketsAvailable:function(){return Jf.isAvailable()},setSecurityDebugCallback:function(n,o){n._delegate._repo.persistentConnection_.securityDebugCallback_=o},stats:function(n,o){var a;n=n._delegate._repo,(o=o)===void 0&&(o=!1),typeof console<"u"&&(n=o?(n.statsListener_||(n.statsListener_=new DC(n.stats_)),n.statsListener_.get()):n.stats_.get(),a=Object.keys(n).reduce(function(c,f){return Math.max(f.length,c)},0),ai(n,function(c,f){for(var p=c,b=c.length;b<a+2;b++)p+=" ";console.log(p+f)}))},statsIncrementCounter:function(n,o){n=n._delegate._repo,o=o,n.stats_.incrementCounter(o),n.statsReporter_.statsToReport_[o]=!0},dataUpdateCount:function(n){return n._delegate._repo.dataUpdateCount},interceptServerData:function(n,o){n._delegate._repo.interceptServerDataCallback_=o},initStandalone:function(b){var o=b.app,a=b.url,c=b.version,f=b.customAuthImpl,p=b.namespace,b=(b=b.nodeAdmin)!==void 0&&b;return wm(c),(c=new Nh("auth-internal",new su("database-standalone"))).setComponent(new qo("auth-internal",function(){return f},"PRIVATE")),{instance:new A2(sY(o,c,void 0,a,b),o),namespace:p}}}),Xe=Up;Up.prototype.simpleListen=function(n,o){this.sendRequest("q",{p:n},o)},Up.prototype.echo=function(n,o){this.sendRequest("echo",{d:n},o)};var g$,vTe=Object.freeze({__proto__:null,DataConnection:Xe,RealTimeConnection:qR,hijackHash:function(n){var o=Up.prototype.put;return Up.prototype.put=function(a,c,f,p){p!==void 0&&(p=n()),o.call(this,a,c,f,p)},function(){Up.prototype.put=o}},ConnectionTarget:mC,queryIdentifier:function(n){return n._delegate._queryIdentifier},forceRestClient:function(n){oY=n}}),mTe=A2.ServerValue;wm((g$=Ht).SDK_VERSION),g$.INTERNAL.registerComponent(new qo("database",function(p,f){var a=f.instanceIdentifier,c=p.getProvider("app").getImmediate(),f=p.getProvider("auth-internal"),p=p.getProvider("app-check-internal");return new A2(sY(c,f,p,a),c)},"PUBLIC").setServiceProps({Reference:V0,Query:cY,Database:A2,DataSnapshot:Nk,enableLogging:u1,INTERNAL:pTe,ServerValue:mTe,TEST_ACCESS:vTe}).setMultipleInstances(!0)),g$.registerVersion("@firebase/database","0.11.0");var hY=function(n,o){return(hY=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])})(n,o)};function fY(n){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&n[o],c=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return{value:(n=n&&c>=n.length?void 0:n)&&n[c++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}var ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof $r<"u"?$r:typeof self<"u"?self:{},dY={},kn=ke||self;function x2(){}function y$(n){var o=typeof n;return(o=o!="object"?o:n?Array.isArray(n)?"array":o:"null")=="array"||o=="object"&&typeof n.length=="number"}function Pk(n){var o=typeof n;return o=="object"&&n!=null||o=="function"}var zut="closure_uid_"+(1e9*Math.random()>>>0),Kut=0;function gTe(n,o,a){return n.call.apply(n.bind,arguments)}function yTe(n,o,a){if(!n)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),n.apply(o,f)}}return function(){return n.apply(o,arguments)}}function hu(n,o,a){return(hu=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gTe:yTe).apply(null,arguments)}function O2(n){var o=Array.prototype.slice.call(arguments,1);return function(){var a=o.slice();return a.push.apply(a,arguments),n.apply(this,a)}}function Hs(n,o){function a(){}a.prototype=o.prototype,n.Z=o.prototype,n.prototype=new a,(n.prototype.constructor=n).Vb=function(c,f,p){for(var b=Array(arguments.length-2),_=2;_<arguments.length;_++)b[_-2]=arguments[_];return o.prototype[f].apply(c,b)}}function Jm(){this.s=this.s,this.o=this.o}var Wut={};Jm.prototype.s=!1,Jm.prototype.na=function(){var n;!this.s&&(this.s=!0,this.M())},Jm.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pY=Array.prototype.indexOf?function(n,o){return Array.prototype.indexOf.call(n,o,void 0)}:function(n,o){if(typeof n=="string")return typeof o!="string"||o.length!=1?-1:n.indexOf(o,0);for(var a=0;a<n.length;a++)if(a in n&&n[a]===o)return a;return-1},vY=Array.prototype.forEach?function(n,o,a){Array.prototype.forEach.call(n,o,a)}:function(n,o,a){for(var c=n.length,f=typeof n=="string"?n.split(""):n,p=0;p<c;p++)p in f&&o.call(a,f[p],p,n)};function mY(){return Array.prototype.concat.apply([],arguments)}function b$(n){var o=n.length;if(0<o){for(var a=Array(o),c=0;c<o;c++)a[c]=n[c];return a}return[]}function N2(n){return/^[\s\xa0]*$/.test(n)}var fu,gY=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function du(n,o){return n.indexOf(o)!=-1}function w$(n,o){return n<o?-1:o<n?1:0}e:{var Rk=kn.navigator;if(Rk&&(Rk=Rk.userAgent,Rk)){fu=Rk;break e}fu=""}function _$(n,o,a){for(var c in n)o.call(a,n[c],c,n)}function yY(n){var o,a={};for(o in n)a[o]=n[o];return a}var bY="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wY(n){for(var o,a,c=1;c<arguments.length;c++){for(o in a=arguments[c])n[o]=a[o];for(var f=0;f<bY.length;f++)o=bY[f],Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}}function E$(n){return E$[" "](n),n}E$[" "]=x2;var P2,bTe=du(fu,"Opera"),uE=du(fu,"Trident")||du(fu,"MSIE"),_Y=du(fu,"Edge"),S$=_Y||uE,EY=du(fu,"Gecko")&&!(du(fu.toLowerCase(),"webkit")&&!du(fu,"Edge"))&&!(du(fu,"Trident")||du(fu,"MSIE"))&&!du(fu,"Edge"),wTe=du(fu.toLowerCase(),"webkit")&&!du(fu,"Edge");function SY(){var n=kn.document;return n?n.documentMode:void 0}e:{var T$="",Bc=(Bc=fu,EY?/rv:([^\);]+)(\)|;)/.exec(Bc):_Y?/Edge\/([\d\.]+)/.exec(Bc):uE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bc):wTe?/WebKit\/(\S+)/.exec(Bc):bTe?/(?:Version)[ \/]?(\S+)/.exec(Bc):void 0);if(Bc&&(T$=Bc?Bc[1]:""),uE&&(Bc=SY(),Bc!=null&&Bc>parseFloat(T$))){P2=String(Bc);break e}P2=T$}var _Te={};function ETe(){return n=function(){for(var a=0,c=gY(String(P2)).split("."),f=gY("9").split("."),p=Math.max(c.length,f.length),b=0;a==0&&b<p;b++)for(var _=c[b]||"",T=f[b]||"";_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],(_[0].length!=0||T[0].length!=0)&&(a=w$(_[1].length==0?0:parseInt(_[1],10),T[1].length==0?0:parseInt(T[1],10))||w$(_[2].length==0,T[2].length==0)||w$(_[2],T[2]),_=_[3],T=T[3],a==0););return 0<=a},o=_Te,Object.prototype.hasOwnProperty.call(o,9)?o[9]:o[9]=n(9);var n,o}var STe=kn.document&&uE&&(SY()||parseInt(P2,10))||void 0,TTe=function(){if(!kn.addEventListener||!Object.defineProperty)return!1;var n=!1,o=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kn.addEventListener("test",x2,o),kn.removeEventListener("test",x2,o)}catch{}return n}();function ka(n,o){this.type=n,this.g=this.target=o,this.defaultPrevented=!1}function Dk(n,o){if(ka.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var a=this.type=n.type,c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=o,o=n.relatedTarget){if(EY){e:{try{E$(o.nodeName);var f=!0;break e}catch{}f=!1}f||(o=null)}}else a=="mouseover"?o=n.fromElement:a=="mouseout"&&(o=n.toElement);this.relatedTarget=o,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:ITe[n.pointerType]||"",this.state=n.state,(this.i=n).defaultPrevented&&Dk.Z.h.call(this)}}ka.prototype.h=function(){this.defaultPrevented=!0},Hs(Dk,ka);var ITe={2:"touch",3:"pen",4:"mouse"};Dk.prototype.h=function(){Dk.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lk="closure_listenable_"+(1e6*Math.random()|0),CTe=0;function kTe(n,o,a,c,f){this.listener=n,this.proxy=null,this.src=o,this.type=a,this.capture=!!c,this.ia=f,this.key=++CTe,this.ca=this.fa=!1}function R2(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function D2(n){this.src=n,this.g={},this.h=0}function I$(n,o){var a,c,f,p=o.type;p in n.g&&(a=n.g[p],(f=0<=(c=pY(a,o)))&&Array.prototype.splice.call(a,c,1),f&&(R2(o),n.g[p].length==0&&(delete n.g[p],n.h--)))}function C$(n,o,a,c){for(var f=0;f<n.length;++f){var p=n[f];if(!p.ca&&p.listener==o&&p.capture==!!a&&p.ia==c)return f}return-1}D2.prototype.add=function(n,o,a,c,f){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var b=C$(n,o,c,f);return-1<b?(o=n[b],a||(o.fa=!1)):((o=new kTe(o,this.src,p,!!c,f)).fa=a,n.push(o)),o};var k$="closure_lm_"+(1e6*Math.random()|0),A$={};function TY(n,o,a,c,f){if(c&&c.once)return function b(_,T,k,N,j){if(Array.isArray(T)){for(var V=0;V<T.length;V++)b(_,T[V],k,N,j);return null}return k=P$(k),_&&_[Lk]?_.O(T,k,Pk(N)?!!N.capture:!!N,j):IY(_,T,k,!0,N,j)}(n,o,a,c,f);if(Array.isArray(o)){for(var p=0;p<o.length;p++)TY(n,o[p],a,c,f);return null}return a=P$(a),n&&n[Lk]?n.N(o,a,Pk(c)?!!c.capture:!!c,f):IY(n,o,a,!1,c,f)}function IY(n,o,a,c,f,p){if(!o)throw Error("Invalid event type");var b,_=Pk(f)?!!f.capture:!!f,T=O$(n);if(T||(n[k$]=T=new D2(n)),(a=T.add(o,a,c,_,p)).proxy)return a;if(b=ATe,(a.proxy=c=function k(N){return b.call(k.src,k.listener,N)}).src=n,c.listener=a,n.addEventListener)(f=TTe?f:_)===void 0&&(f=!1),n.addEventListener(o.toString(),c,f);else if(n.attachEvent)n.attachEvent(CY(o.toString()),c);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(c)}return a}function x$(n){var o,a,c;typeof n!="number"&&n&&!n.ca&&((o=n.src)&&o[Lk]?I$(o.i,n):(a=n.type,c=n.proxy,o.removeEventListener?o.removeEventListener(a,c,n.capture):o.detachEvent?o.detachEvent(CY(a),c):o.addListener&&o.removeListener&&o.removeListener(c),(a=O$(o))?(I$(a,n),a.h==0&&(a.src=null,o[k$]=null)):R2(n)))}function CY(n){return n in A$?A$[n]:A$[n]="on"+n}function ATe(n,o){var a,c;return n=!!n.ca||(o=new Dk(o,this),a=n.listener,c=n.ia||n.src,n.fa&&x$(n),a.call(c,o))}function O$(n){return(n=n[k$])instanceof D2?n:null}var N$="__closure_events_fn_"+(1e9*Math.random()>>>0);function P$(n){return typeof n=="function"?n:(n[N$]||(n[N$]=function(o){return n.handleEvent(o)}),n[N$])}function cs(){Jm.call(this),this.i=new D2(this),(this.P=this).I=null}function zs(n,o){var a,c=n.I;if(c)for(a=[];c;c=c.I)a.push(c);if(n=n.P,c=o.type||o,typeof o=="string"?o=new ka(o,n):o instanceof ka?o.target=o.target||n:(b=o,wY(o=new ka(c,n),b)),b=!0,a)for(var f=a.length-1;0<=f;f--)var p=o.g=a[f],b=L2(p,c,!0,o)&&b;if(b=L2(p=o.g=n,c,!0,o)&&b,b=L2(p,c,!1,o)&&b,a)for(f=0;f<a.length;f++)b=L2(p=o.g=a[f],c,!1,o)&&b}function L2(n,o,a,c){if(!(o=n.i.g[String(o)]))return!0;o=o.concat();for(var f=!0,p=0;p<o.length;++p){var b,_,T=o[p];T&&!T.ca&&T.capture==a&&(b=T.listener,_=T.ia||T.src,T.fa&&I$(n.i,T),f=b.call(_,c)!==!1&&f)}return f&&!c.defaultPrevented}Hs(cs,Jm),cs.prototype[Lk]=!0,cs.prototype.removeEventListener=function(n,o,a,c){(function f(p,b,_,T,k){if(Array.isArray(b))for(var N=0;N<b.length;N++)f(p,b[N],_,T,k);else T=Pk(T)?!!T.capture:!!T,_=P$(_),p&&p[Lk]?(p=p.i,(b=String(b).toString())in p.g&&-1<(_=C$(N=p.g[b],_,T,k))&&(R2(N[_]),Array.prototype.splice.call(N,_,1),N.length==0&&(delete p.g[b],p.h--))):(p=p&&O$(p))&&(b=p.g[b.toString()],(_=(p=-1)<(p=b?C$(b,_,T,k):p)?b[p]:null)&&x$(_))})(this,n,o,a,c)},cs.prototype.M=function(){if(cs.Z.M.call(this),this.i){var n,o=this.i;for(n in o.g){for(var a=o.g[n],c=0;c<a.length;c++)R2(a[c]);delete o.g[n],o.h--}}this.I=null},cs.prototype.N=function(n,o,a,c){return this.i.add(String(n),o,!1,a,c)},cs.prototype.O=function(n,o,a,c){return this.i.add(String(n),o,!0,a,c)};var R$=kn.JSON.stringify;kY.prototype.add=function(n,o){var a=AY.get();a.set(n,o),this.h?this.h.next=a:this.g=a,this.h=a},wi=kY;function kY(){this.h=this.g=null}var AY=(xY.prototype.get=function(){var n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n},new xY(function(){return new xTe},function(n){return n.reset()}));function xY(n,o){this.i=n,this.j=o,this.h=0,this.g=null}var D$,xTe=(L$.prototype.set=function(n,o){this.h=n,this.g=o,this.next=null},L$.prototype.reset=function(){this.next=this.g=this.h=null},L$);function L$(){this.next=this.g=this.h=null}function M$(n,o){var a;D$||(a=kn.Promise.resolve(void 0),D$=function(){a.then(OTe)}),F$||(D$(),F$=!0),OY.add(n,o)}var F$=!1,OY=new wi;function OTe(){for(var n;o=n=void 0,o=null,(n=OY).g&&(o=n.g,n.g=n.g.next,n.g||(n.h=null),o.next=null),n=o;){try{n.h.call(n.g)}catch(a){(function(c){kn.setTimeout(function(){throw c},0)})(a)}var o=AY;o.j(n),o.h<100&&(o.h++,n.next=o.g,o.g=n)}F$=!1}function M2(n,o){cs.call(this),this.h=n||1,this.g=o||kn,this.j=hu(this.kb,this),this.l=Date.now()}function j$(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function U$(n,o,a){if(typeof n=="function")a&&(n=hu(n,a));else{if(!n||typeof n.handleEvent!="function")throw Error("Invalid listener argument");n=hu(n.handleEvent,n)}return 2147483647<Number(o)?-1:kn.setTimeout(n,o||0)}Hs(M2,cs),(Qe=M2.prototype).da=!1,Qe.S=null,Qe.kb=function(){var n;this.da&&(0<(n=Date.now()-this.l)&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zs(this,"tick"),this.da&&(j$(this),this.start())))},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){M2.Z.M.call(this),j$(this),delete this.g};var $$,NTe=(function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=n}hY(n,o),n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}(F2,$$=Jm),F2.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:function o(a){a.g=U$(function(){a.g=null,a.i&&(a.i=!1,o(a))},a.j);var c=a.h;a.h=null,a.m.apply(null,c)}(this)},F2.prototype.M=function(){$$.prototype.M.call(this),this.g&&(kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},F2);function F2(n,o){var a=$$.call(this)||this;return a.m=n,a.j=o,a.h=null,a.i=!1,a.g=null,a}function Mk(n){Jm.call(this),this.h=n,this.g={}}Hs(Mk,Jm);var NY=[];function PY(n,o,a,c){Array.isArray(a)||(a&&(NY[0]=a.toString()),a=NY);for(var f=0;f<a.length;f++){var p=TY(o,a[f],c||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function RY(n){_$(n.g,function(o,a){this.g.hasOwnProperty(a)&&x$(o)},n),n.g={}}function j2(){this.g=!0}function cE(n,o,a,c){n.info(function(){return"XMLHTTP TEXT ("+o+"): "+function(f,p){if(!f.g)return p;if(!p)return null;try{var b=JSON.parse(p);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var _=b[f];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(var N=1;N<T.length;N++)T[N]=""}}}}return R$(b)}catch{return p}}(n,a)+(c?" "+c:"")})}Mk.prototype.M=function(){Mk.Z.M.call(this),RY(this)},Mk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},j2.prototype.Aa=function(){this.g=!1},j2.prototype.info=function(){};var B0={},DY=null;function U2(){return DY=DY||new cs}function LY(n){ka.call(this,B0.Ma,n)}function $2(){var n=U2();zs(n,new LY(n))}function MY(n,o){ka.call(this,B0.STAT_EVENT,n),this.stat=o}function pu(n){var o=U2();zs(o,new MY(o,n))}function FY(n,o){ka.call(this,B0.Na,n),this.size=o}function Fk(n,o){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return kn.setTimeout(function(){n()},o)}B0.Ma="serverreachability",Hs(LY,ka),B0.STAT_EVENT="statevent",Hs(MY,ka),B0.Na="timingevent",Hs(FY,ka),Xe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ke={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function V$(){}function jY(n){return n.h||(n.h=n.i())}function UY(){}V$.prototype.h=null,wi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function q$(){ka.call(this,"d")}function B$(){ka.call(this,"c")}function V2(){}function jk(n,o,a,c){this.l=n,this.j=o,this.m=a,this.X=c||1,this.V=new Mk(this),this.P=PTe,this.W=new M2(n=S$?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $Y}function $Y(){this.i=null,this.g="",this.h=!1}Hs(q$,ka),Hs(B$,ka),Hs(V2,V$),V2.prototype.g=function(){return new XMLHttpRequest},V2.prototype.i=function(){return{}};var VY=new V2,PTe=45e3,H$={},q2={};function z$(n,o,a){n.K=1,n.v=W2(rv(o)),n.s=a,n.U=!0,qY(n,null)}function qY(n,o){n.F=Date.now(),Uk(n),n.A=rv(n.v);var a,c,f,p,b,_,T=n.A,k=n.X;Array.isArray(k)||(k=[String(k)]),XY(T.h,"t",k),n.C=0,T=n.l.H,n.h=new $Y,n.g=_X(n.l,T?o:null,!n.s),0<n.O&&(n.L=new NTe(hu(n.Ia,n,n.g),n.O)),PY(n.V,n.g,"readystatechange",n.gb),o=n.H?yY(n.H):{},n.s?(n.u||(n.u="POST"),o["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,o)):(n.u="GET",n.g.ea(n.A,n.u,null,o)),$2(),a=n.j,c=n.u,f=n.A,p=n.m,b=n.X,_=n.s,a.info(function(){if(a.g)if(_)for(var N="",j=_.split("&"),V=0;V<j.length;V++){var W,X,ne=j[V].split("=");1<ne.length&&(W=ne[0],ne=ne[1],N=2<=(X=W.split("_")).length&&X[1]=="type"?N+(W+"=")+ne+"&":N+(W+"=redacted&"))}else N=null;else N=_;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+c+`
`+f+`
`+N})}function BY(n){return n.g&&n.u=="GET"&&n.K!=2&&n.l.Ba}function HY(n,o,a){for(var c,f,p,b,_,T=!0;!n.I&&n.C<a.length;){if(p=a,_=b=void 0,b=(f=n).C,(c=(_=p.indexOf(`
`,b))==-1?q2:(b=Number(p.substring(b,_)),isNaN(b)?H$:(_+=1)+b>p.length?q2:(p=p.substr(_,b),f.C=_+b,p)))==q2){o==4&&(n.o=4,pu(14),T=!1),cE(n.j,n.m,null,"[Incomplete Response]");break}if(c==H$){n.o=4,pu(15),cE(n.j,n.m,a,"[Invalid Chunk]"),T=!1;break}cE(n.j,n.m,c,null),K$(n,c)}BY(n)&&c!=q2&&c!=H$&&(n.h.g="",n.C=0),o!=4||a.length!=0||n.h.h||(n.o=1,pu(16),T=!1),n.i=n.i&&T,T?0<a.length&&!n.aa&&(n.aa=!0,(o=n.l).g==n&&o.$&&!o.L&&(o.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),r6(o),o.L=!0,pu(11))):(cE(n.j,n.m,a,"[Invalid Chunked Response]"),H0(n),$k(n))}function Uk(n){n.Y=Date.now()+n.P,zY(n,n.P)}function zY(n,o){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Fk(hu(n.eb,n),o)}function B2(n){n.B&&(kn.clearTimeout(n.B),n.B=null)}function $k(n){n.l.G==0||n.I||gX(n.l,n)}function H0(n){B2(n);var o=n.L;o&&typeof o.na=="function"&&o.na(),n.L=null,j$(n.W),RY(n.V),n.g&&(o=n.g,n.g=null,o.abort(),o.na())}function K$(n,o){try{var a=n.l;if(a.G!=0&&(a.g==n||Q$(a.i,n))){if(a.I=n.N,!n.J&&Q$(a.i,n)&&a.G==3){try{var c=a.Ca.g.parse(o)}catch{c=null}if(Array.isArray(c)&&c.length==3){var f=c;if(f[0]==0){e:if(!a.u){if(a.g){if(!(a.g.F+3e3<n.F))break e;Z2(a),X2(a)}n6(a),pu(18)}}else a.ta=f[1],0<a.ta-a.U&&f[2]<37500&&a.N&&a.A==0&&!a.v&&(a.v=Fk(hu(a.ab,a),6e3));if(tX(a.i)<=1&&a.ka){try{a.ka()}catch{}a.ka=void 0}}else W0(a,11)}else if(!n.J&&a.g!=n||Z2(a),!N2(o))for(f=a.Ca.g.parse(o),o=0;o<f.length;o++){var p,b,_,T,k,N,j,V,W,X,ne=f[o];a.U=ne[0],ne=ne[1],a.G==2?ne[0]=="c"?(a.J=ne[1],a.la=ne[2],(p=ne[3])!=null&&(a.ma=p,a.h.info("VER="+a.ma)),(b=ne[4])!=null&&(a.za=b,a.h.info("SVER="+a.za)),(_=ne[5])!=null&&typeof _=="number"&&0<_&&(c=1.5*_,a.K=c,a.h.info("backChannelRequestTimeoutMs_="+c)),c=a,(T=n.g)&&(!(k=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(N=c.i).g&&(du(k,"spdy")||du(k,"quic")||du(k,"h2"))&&(N.j=N.l,N.g=new Set,N.h&&(Y$(N,N.h),N.h=null)),!c.D||(j=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(c.sa=j,Ei(c.F,c.D,j))),a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-n.F,a.h.info("Handshake RTT: "+a.O+"ms")),V=n,(c=a).oa=wX(c,c.H?c.la:null,c.W),V.J?(nX(c.i,V),W=V,(X=c.K)&&W.setTimeout(X),W.B&&(B2(W),Uk(W)),c.g=V):vX(c),0<a.l.length&&J2(a)):ne[0]!="stop"&&ne[0]!="close"||W0(a,7):a.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?W0(a,7):e6(a):ne[0]!="noop"&&a.j&&a.j.wa(ne),a.A=0)}}$2()}catch{}}function W$(n,o){if(n.forEach&&typeof n.forEach=="function")n.forEach(o,void 0);else if(y$(n)||typeof n=="string")vY(n,o,void 0);else{if(n.T&&typeof n.T=="function")var a=n.T();else if(n.R&&typeof n.R=="function")a=void 0;else if(y$(n)||typeof n=="string")for(var a=[],c=n.length,f=0;f<c;f++)a.push(f);else for(f in a=[],c=0,n)a[c++]=f;for(var f=(c=function(_){if(_.R&&typeof _.R=="function")return _.R();if(typeof _=="string")return _.split("");if(y$(_)){for(var T=[],k=_.length,N=0;N<k;N++)T.push(_[N]);return T}for(N in T=[],k=0,_)T[k++]=_[N];return T}(n)).length,p=0;p<f;p++)o.call(void 0,c[p],a&&a[p],n)}}function lE(n,o){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(n)if(n instanceof lE)for(a=n.T(),c=0;c<a.length;c++)this.set(a[c],n.get(a[c]));else for(c in n)this.set(c,n[c])}function G$(n){if(n.i!=n.g.length){for(var o=0,a=0;o<n.g.length;){var c=n.g[o];z0(n.h,c)&&(n.g[a++]=c),o++}n.g.length=a}if(n.i!=n.g.length){for(var f={},a=o=0;o<n.g.length;)z0(f,c=n.g[o])||(f[n.g[a++]=c]=1),o++;n.g.length=a}}function z0(n,o){return Object.prototype.hasOwnProperty.call(n,o)}(Qe=jk.prototype).setTimeout=function(n){this.P=n},Qe.gb=function(n){n=n.target;var o=this.L;o&&iv(n)==3?o.l():this.Ia(n)},Qe.Ia=function(n){try{if(n==this.g)e:{var o=iv(this.g),a=this.g.Da();if(this.g.ba(),!(o<3)&&(o!=3||S$||this.g&&(this.h.h||this.g.ga()||lX(this.g)))){this.I||o!=4||a==7||$2(),B2(this);var c=this.g.ba();this.N=c;t:if(BY(this)){var f=lX(this.g);n="";var p=f.length,b=iv(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){H0(this),$k(this);var _="";break t}this.h.i=new kn.TextDecoder}for(a=0;a<p;a++)this.h.h=!0,n+=this.h.i.decode(f[a],{stream:b&&a==p-1});f.splice(0,p),this.h.g+=n,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=c==200,j=this.j,V=this.u,W=this.A,X=this.m,ne=this.X,ae=o,Ce=c,j.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+ne+"]: "+V+`
`+W+`
`+ae+" "+Ce}),this.i){if(this.$&&!this.J){t:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N2(T)){var N=T;break t}}N=null}if(!(c=N)){this.i=!1,this.o=3,pu(12),H0(this),$k(this);break e}cE(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,K$(this,c)}this.U?(HY(this,o,_),S$&&this.i&&o==3&&(PY(this.V,this.W,"tick",this.fb),this.W.start())):(cE(this.j,this.m,_,null),K$(this,_)),o==4&&H0(this),this.i&&!this.I&&(o==4?gX(this.l,this):(this.i=!1,Uk(this)))}else c==400&&0<_.indexOf("Unknown SID")?(this.o=3,pu(12)):(this.o=0,pu(13)),H0(this),$k(this)}}}catch{}var j,V,W,X,ne,ae,Ce},Qe.fb=function(){var n,o;this.g&&(n=iv(this.g),o=this.g.ga(),this.C<o.length&&(B2(this),HY(this,n,o),this.i&&n!=4&&Uk(this)))},Qe.cancel=function(){this.I=!0,H0(this)},Qe.eb=function(){this.B=null;var n,o,a=Date.now();0<=a-this.Y?(n=this.j,o=this.A,n.info(function(){return"TIMEOUT: "+o}),this.K!=2&&($2(),pu(17)),H0(this),this.o=2,$k(this)):zY(this,this.Y-a)},(Qe=lE.prototype).R=function(){G$(this);for(var n=[],o=0;o<this.g.length;o++)n.push(this.h[this.g[o]]);return n},Qe.T=function(){return G$(this),this.g.concat()},Qe.get=function(n,o){return z0(this.h,n)?this.h[n]:o},Qe.set=function(n,o){z0(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=o},Qe.forEach=function(n,o){for(var a=this.T(),c=0;c<a.length;c++){var f=a[c],p=this.get(f);n.call(o,p,f,this)}};var KY=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function K0(n,o){var a;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof K0?(this.g=o!==void 0?o:n.g,H2(this,n.j),this.s=n.s,z2(this,n.i),K2(this,n.m),this.l=n.l,o=n.h,(a=new Bk).i=o.i,o.g&&(a.g=new lE(o.g),a.h=o.h),WY(this,a),this.o=n.o):n&&(a=String(n).match(KY))?(this.g=!!o,H2(this,a[1]||"",!0),this.s=Vk(a[2]||""),z2(this,a[3]||"",!0),K2(this,a[4]),this.l=Vk(a[5]||"",!0),WY(this,a[6]||"",!0),this.o=Vk(a[7]||"")):(this.g=!!o,this.h=new Bk(null,this.g))}function rv(n){return new K0(n)}function H2(n,o,a){n.j=a?Vk(o,!0):o,n.j&&(n.j=n.j.replace(/:$/,""))}function z2(n,o,a){n.i=a?Vk(o,!0):o}function K2(n,o){if(o){if(o=Number(o),isNaN(o)||o<0)throw Error("Bad port number "+o);n.m=o}else n.m=null}function WY(n,o,a){var c,f;o instanceof Bk?(n.h=o,c=n.h,(f=n.g)&&!c.j&&(Zm(c),c.i=null,c.g.forEach(function(p,b){var _=b.toLowerCase();b!=_&&(QY(this,b),XY(this,_,p))},c)),c.j=f):(a||(o=qk(o,MTe)),n.h=new Bk(o,n.g))}function Ei(n,o,a){n.h.set(o,a)}function W2(n){return Ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vk(n,o){return n?o?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qk(n,o,a){return typeof n=="string"?(n=encodeURI(n).replace(o,RTe),n=a?n.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):n):null}function RTe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}K0.prototype.toString=function(){var n=[],o=this.j;o&&n.push(qk(o,GY,!0),":");var a=this.i;return!a&&o!="file"||(n.push("//"),(o=this.s)&&n.push(qk(o,GY,!0),"@"),n.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),(a=this.m)!=null&&n.push(":",String(a))),(a=this.l)&&(this.i&&a.charAt(0)!="/"&&n.push("/"),n.push(qk(a,a.charAt(0)=="/"?LTe:DTe,!0))),(a=this.h.toString())&&n.push("?",a),(a=this.o)&&n.push("#",qk(a,FTe)),n.join("")};var GY=/[#\/\?@]/g,DTe=/[#\?:]/g,LTe=/[#\?]/g,MTe=/[#\?@]/g,FTe=/#/g;function Bk(n,o){this.h=this.g=null,this.i=n||null,this.j=!!o}function Zm(n){n.g||(n.g=new lE,n.h=0,n.i&&function(o,a){if(o){o=o.split("&");for(var c=0;c<o.length;c++){var f,p=o[c].indexOf("="),b=null;0<=p?(f=o[c].substring(0,p),b=o[c].substring(p+1)):f=o[c],a(f,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}(n.i,function(o,a){n.add(decodeURIComponent(o.replace(/\+/g," ")),a)}))}function QY(n,o){Zm(n),o=hE(n,o),z0(n.g.h,o)&&(n.i=null,n.h-=n.g.get(o).length,z0((n=n.g).h,o)&&(delete n.h[o],n.i--,n.g.length>2*n.i&&G$(n)))}function YY(n,o){return Zm(n),o=hE(n,o),z0(n.g.h,o)}function XY(n,o,a){QY(n,o),0<a.length&&(n.i=null,n.g.set(hE(n,o),b$(a)),n.h+=a.length)}function hE(n,o){return o=String(o),o=n.j?o.toLowerCase():o}(Qe=Bk.prototype).add=function(n,o){Zm(this),this.i=null,n=hE(this,n);var a=this.g.get(n);return a||this.g.set(n,a=[]),a.push(o),this.h+=1,this},Qe.forEach=function(n,o){Zm(this),this.g.forEach(function(a,c){vY(a,function(f){n.call(o,f,c,this)},this)},this)},Qe.T=function(){Zm(this);for(var n=this.g.R(),o=this.g.T(),a=[],c=0;c<o.length;c++)for(var f=n[c],p=0;p<f.length;p++)a.push(o[c]);return a},Qe.R=function(n){Zm(this);var o=[];if(typeof n=="string")YY(this,n)&&(o=mY(o,this.g.get(hE(this,n))));else{n=this.g.R();for(var a=0;a<n.length;a++)o=mY(o,n[a])}return o},Qe.set=function(n,o){return Zm(this),this.i=null,YY(this,n=hE(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[o]),this.h+=1,this},Qe.get=function(n,o){return n&&0<(n=this.R(n)).length?String(n[0]):o},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],o=this.g.T(),a=0;a<o.length;a++)for(var f=o[a],c=encodeURIComponent(String(f)),f=this.R(f),p=0;p<f.length;p++){var b=c;f[p]!==""&&(b+="="+encodeURIComponent(String(f[p]))),n.push(b)}return this.i=n.join("&")};var jTe=function(n,o){this.h=n,this.g=o};function JY(n){this.l=n||UTe,n=kn.PerformanceNavigationTiming?0<(n=kn.performance.getEntriesByType("navigation")).length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2"):!!(kn.g&&kn.g.Ea&&kn.g.Ea()&&kn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ZY,UTe=10;function eX(n){return n.h||n.g&&n.g.size>=n.j}function tX(n){return n.h?1:n.g?n.g.size:0}function Q$(n,o){return n.h?n.h==o:n.g&&n.g.has(o)}function Y$(n,o){n.g?n.g.add(o):n.h=o}function nX(n,o){n.h&&n.h==o?n.h=null:n.g&&n.g.has(o)&&n.g.delete(o)}function rX(n){var o,a;if(n.h!=null)return n.i.concat(n.h.D);if(n.g==null||n.g.size===0)return b$(n.i);var c=n.i;try{for(var f=fY(n.g.values()),p=f.next();!p.done;p=f.next())var b=p.value,c=c.concat(b.D)}catch(_){o={error:_}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return c}function X$(){}function $Te(){this.g=new X$}function G2(n,o,a,c,f){try{o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null,f(c)}catch{}}function Hk(n){this.l=n.$b||null,this.j=n.ib||!1}function Q2(n,o){cs.call(this),this.D=n,this.u=o,this.m=void 0,this.readyState=J$,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}JY.prototype.cancel=function(){var n,o;if(this.i=rX(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var a=fY(this.g.values()),c=a.next();!c.done;c=a.next())c.value.cancel()}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}this.g.clear()}},X$.prototype.stringify=function(n){return kn.JSON.stringify(n,void 0)},X$.prototype.parse=function(n){return kn.JSON.parse(n,void 0)},Hs(Hk,V$),Hk.prototype.g=function(){return new Q2(this.l,this.j)},Hk.prototype.i=(ZY={},function(){return ZY}),Hs(Q2,cs);var J$=0;function iX(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zk(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kk(n)}function Kk(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Q2.prototype).open=function(n,o){if(this.readyState!=J$)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=o,this.readyState=1,Kk(this)},Qe.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var o={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(o.body=n),(this.D||kn).fetch(new Request(this.B,o)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zk(this)),this.readyState=J$},Qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kk(this)),this.g&&(this.readyState=3,Kk(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(kn.ReadableStream!==void 0&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iX(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(n){var o;this.g&&(this.u&&n.value?this.response.push(n.value):this.u||(o=n.value||new Uint8Array(0),(o=this.A.decode(o,{stream:!n.done}))&&(this.response=this.responseText+=o)),(n.done?zk:Kk)(this),this.readyState==3&&iX(this))},Qe.Ua=function(n){this.g&&(this.response=this.responseText=n,zk(this))},Qe.Ta=function(n){this.g&&(this.response=n,zk(this))},Qe.ha=function(){this.g&&zk(this)},Qe.setRequestHeader=function(n,o){this.v.append(n,o)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";for(var n=[],o=this.h.entries(),a=o.next();!a.done;)a=a.value,n.push(a[0]+": "+a[1]),a=o.next();return n.join(`\r
`)},Object.defineProperty(Q2.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var VTe=kn.JSON.parse;function So(n){cs.call(this),this.headers=new lE,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oX,this.K=this.L=!1}Hs(So,cs);var oX="",qTe=/^https?$/i,BTe=["POST","PUT"];function HTe(n){return n.toLowerCase()=="content-type"}function sX(n,o){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=o,n.m=5,aX(n),Y2(n)}function aX(n){n.D||(n.D=!0,zs(n,"complete"),zs(n,"error"))}function uX(n){if(n.h&&dY!==void 0&&(!n.C[1]||iv(n)!=4||n.ba()!=2)){if(n.v&&iv(n)==4)U$(n.Fa,0,n);else if(zs(n,"readystatechange"),iv(n)==4){n.h=!1;try{var o,a,c,f,p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}if((o=b)||((a=p===0)&&(!(f=String(n.H).match(KY)[1]||null)&&kn.self&&kn.self.location&&(f=(c=kn.self.location.protocol).substr(0,c.length-1)),a=!qTe.test(f?f.toLowerCase():"")),o=a),o)zs(n,"complete"),zs(n,"success");else{n.m=6;try{var _=2<iv(n)?n.g.statusText:""}catch{_=""}n.j=_+" ["+n.ba()+"]",aX(n)}}finally{Y2(n)}}}}function Y2(n,o){if(n.g){cX(n);var a=n.g,c=n.C[0]?x2:null;n.g=null,n.C=null,o||zs(n,"ready");try{a.onreadystatechange=c}catch{}}}function cX(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kn.clearTimeout(n.A),n.A=null)}function iv(n){return n.g?n.g.readyState:0}function lX(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case oX:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Z$(n,o,a){e:{for(c in a){var c=!1;break e}c=!0}var f;c||(f="",_$(a,function(p,b){f+=b,f+=":",f+=p,f+=`\r
`}),a=f,typeof n=="string"?a!=null&&encodeURIComponent(String(a)):Ei(n,o,a))}function Wk(n,o,a){return a&&a.internalChannelParams&&a.internalChannelParams[n]||o}function hX(n){this.za=0,this.l=[],this.h=new j2,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wk("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wk("baseRetryDelayMs",5e3,n),this.$a=Wk("retryDelaySeedMs",1e4,n),this.Ya=Wk("forwardChannelMaxRetries",2,n),this.ra=Wk("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new JY(n&&n.concurrentRequestLimit),this.Ca=new $Te,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||n.Xb!==!1}function e6(n){var o,a;fX(n),n.G==3&&(o=n.V++,Ei(a=rv(n.F),"SID",n.J),Ei(a,"RID",o),Ei(a,"TYPE","terminate"),Gk(n,a),(o=new jk(n,n.h,o,void 0)).K=2,o.v=W2(rv(a)),a=!1,!(a=kn.navigator&&kn.navigator.sendBeacon?kn.navigator.sendBeacon(o.v.toString(),""):a)&&kn.Image&&(new Image().src=o.v,a=!0),a||(o.g=_X(o.l,null),o.g.ea(o.v)),o.F=Date.now(),Uk(o)),bX(n)}function X2(n){n.g&&(r6(n),n.g.cancel(),n.g=null)}function fX(n){X2(n),n.u&&(kn.clearTimeout(n.u),n.u=null),Z2(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&kn.clearTimeout(n.m),n.m=null)}function t6(n,o){n.l.push(new jTe(n.Za++,o)),n.G==3&&J2(n)}function J2(n){eX(n.i)||n.m||(n.m=!0,M$(n.Ha,n),n.C=0)}function dX(n,o){var a=o?o.m:n.V++,c=rv(n.F);Ei(c,"SID",n.J),Ei(c,"RID",a),Ei(c,"AID",n.U),Gk(n,c),n.o&&n.s&&Z$(c,n.o,n.s),a=new jk(n,n.h,a,n.C+1),n.o===null&&(a.H=n.s),o&&(n.l=o.D.concat(n.l)),o=pX(n,a,1e3),a.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Y$(n.i,a),z$(a,c,o)}function Gk(n,o){n.j&&W$({},function(a,c){Ei(o,c,a)})}function pX(n,o,a){a=Math.min(n.l.length,a);var c=n.j?hu(n.j.Oa,n.j,n):null;e:for(var f=n.l,p=-1;;){var b=["count="+a];p==-1?0<a?(p=f[0].h,b.push("ofs="+p)):p=0:b.push("ofs="+p);for(var _=!0,T=0;T<a;T++){var k=f[T].h,N=f[T].g;if((k-=p)<0)p=Math.max(0,f[T].h-100),_=!1;else try{(function(j,V,W){var X=W||"";try{W$(j,function(ne,ae){var Ce=ne;Pk(ne)&&(Ce=R$(ne)),V.push(X+ae+"="+encodeURIComponent(Ce))})}catch(ne){throw V.push(X+"type="+encodeURIComponent("_badmap")),ne}})(N,b,"req"+k+"_")}catch{c&&c(N)}}if(_){c=b.join("&");break e}}return n=n.l.splice(0,a),o.D=n,c}function vX(n){n.g||n.u||(n.Y=1,M$(n.Ga,n),n.A=0)}function n6(n){return!(n.g||n.u||3<=n.A)&&(n.Y++,n.u=Fk(hu(n.Ga,n),yX(n,n.A)),n.A++,1)}function r6(n){n.B!=null&&(kn.clearTimeout(n.B),n.B=null)}function mX(n){n.g=new jk(n,n.h,"rpc",n.Y),n.o===null&&(n.g.H=n.s),n.g.O=0;var o=rv(n.oa);Ei(o,"RID","rpc"),Ei(o,"SID",n.J),Ei(o,"CI",n.N?"0":"1"),Ei(o,"AID",n.U),Gk(n,o),Ei(o,"TYPE","xmlhttp"),n.o&&n.s&&Z$(o,n.o,n.s),n.K&&n.g.setTimeout(n.K);var a=n.g;n=n.la,a.K=1,a.v=W2(rv(o)),a.s=null,a.U=!0,qY(a,n)}function Z2(n){n.v!=null&&(kn.clearTimeout(n.v),n.v=null)}function gX(n,o){var a,c,f,p=null;if(n.g==o){Z2(n),r6(n),n.g=null;var b=2}else{if(!Q$(n.i,o))return;p=o.D,nX(n.i,o),b=1}if(n.I=o.N,n.G!=0){if(o.i)b==1?(p=o.s?o.s.length:0,o=Date.now()-o.F,a=n.C,zs(b=U2(),new FY(b,p)),J2(n)):vX(n);else if((a=o.o)==3||a==0&&0<n.I||(b!=1||(f=o,tX((c=n).i)>=c.i.j-(c.m?1:0)||(c.m?(c.l=f.D.concat(c.l),0):c.G==1||c.G==2||c.C>=(c.Xa?0:c.Ya)||(c.m=Fk(hu(c.Ha,c,f),yX(c,c.C)),c.C++,0))))&&(b!=2||!n6(n)))switch(p&&0<p.length&&(o=n.i,o.i=o.i.concat(p)),a){case 1:W0(n,5);break;case 4:W0(n,10);break;case 3:W0(n,6);break;default:W0(n,2)}}}function yX(n,o){var a=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(a*=2),a*o}function W0(n,o){var a,c,f,p;n.h.info("Error code "+o),o==2?(c=null,n.j&&(c=null),p=hu(n.jb,n),c||(c=new K0("//www.google.com/images/cleardot.gif"),kn.location&&kn.location.protocol=="http"||H2(c,"https"),W2(c)),a=c.toString(),c=p,p=new j2,kn.Image?((f=new Image).onload=O2(G2,p,f,"TestLoadImage: loaded",!0,c),f.onerror=O2(G2,p,f,"TestLoadImage: error",!1,c),f.onabort=O2(G2,p,f,"TestLoadImage: abort",!1,c),f.ontimeout=O2(G2,p,f,"TestLoadImage: timeout",!1,c),kn.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=a):c(!1)):pu(2),n.G=0,n.j&&n.j.va(o),bX(n),fX(n)}function bX(n){n.G=0,n.I=-1,n.j&&(rX(n.i).length==0&&n.l.length==0||(n.i.i.length=0,b$(n.l),n.l.length=0),n.j.ua())}function wX(n,o,a){var c,f,p,b,_,T=(b=a)instanceof K0?rv(b):new K0(b,void 0);return T.i!=""?(o&&z2(T,o+"."+T.i),K2(T,T.m)):(_=kn.location,c=_.protocol,f=o?o+"."+_.hostname:_.hostname,p=+_.port,b=a,_=new K0(null,void 0),c&&H2(_,c),f&&z2(_,f),p&&K2(_,p),b&&(_.l=b),T=_),n.aa&&_$(n.aa,function(k,N){Ei(T,N,k)}),o=n.D,a=n.sa,o&&a&&Ei(T,o,a),Ei(T,"VER",n.ma),Gk(n,T),T}function _X(n,o,a){if(o&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(o=a&&n.Ba&&!n.qa?new So(new Hk({ib:!0})):new So(n.qa)).L=n.H,o}function EX(){}function eD(){if(uE&&!(10<=Number(STe)))throw Error("Environmental error: no available transport.")}function zh(n,o){cs.call(this),this.g=new hX(o),this.l=n,this.h=o&&o.messageUrlParams||null,n=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(n?n["X-WebChannel-Content-Type"]=o.messageContentType:n={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.ya&&(n?n["X-WebChannel-Client-Profile"]=o.ya:n={"X-WebChannel-Client-Profile":o.ya}),this.g.P=n,(n=o&&o.httpHeadersOverwriteParam)&&!N2(n)&&(this.g.o=n),this.A=o&&o.supportsCrossDomainXhr||!1,this.v=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!N2(o)&&(this.g.D=o,(n=this.h)!==null&&o in n&&o in(n=this.h)&&delete n[o]),this.j=new fE(this)}function SX(n){q$.call(this);var o=n.__sm__;if(o){e:{for(var a in o){n=a;break e}n=void 0}(this.i=n)&&(n=this.i,o=o!==null&&n in o?o[n]:void 0),this.data=o}else this.data=n}function TX(){B$.call(this),this.status=1}function fE(n){this.g=n}(Qe=So.prototype).ea=function(n,o,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);o=o?o.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||VY).g(),this.C=this.u?jY(this.u):jY(VY),this.g.onreadystatechange=hu(this.Fa,this);try{this.F=!0,this.g.open(o,String(n),!0),this.F=!1}catch(b){return void sX(this,b)}n=a||"";var f,p=new lE(this.headers);c&&W$(c,function(b,_){p.set(_,b)}),c=function(b){e:{for(var _=HTe,T=b.length,k=typeof b=="string"?b.split(""):b,N=0;N<T;N++)if(N in k&&_.call(void 0,k[N],N,b)){_=N;break e}_=-1}return _<0?null:typeof b=="string"?b.charAt(_):b[_]}(p.T()),a=kn.FormData&&n instanceof kn.FormData,0<=pY(BTe,o)&&!c&&!a&&p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),p.forEach(function(b,_){this.g.setRequestHeader(_,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cX(this),0<this.B&&((this.K=(f=this.g,uE&&ETe()&&typeof f.timeout=="number"&&f.ontimeout!==void 0))?(this.g.timeout=this.B,this.g.ontimeout=hu(this.pa,this)):this.A=U$(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(b){sX(this,b)}},Qe.pa=function(){dY!==void 0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zs(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zs(this,"complete"),zs(this,"abort"),Y2(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Y2(this,!0)),So.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?uX(this):this.cb())},Qe.cb=function(){uX(this)},Qe.ba=function(){try{return 2<iv(this)?this.g.status:-1}catch{return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Qa=function(n){if(this.g){var o=this.g.responseText;return n&&o.indexOf(n)==0&&(o=o.substring(n.length)),VTe(o)}},Qe.Da=function(){return this.m},Qe.La=function(){return typeof this.j=="string"?this.j:String(this.j)},(Qe=hX.prototype).ma=8,Qe.G=1,Qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Qe.Ha=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;var o=new jk(this,this.h,n,void 0),a=this.s;if(this.P&&(a?wY(a=yY(a),this.P):a=this.P),this.o===null&&(o.H=a),this.ja)e:{for(var c=0,f=0;f<this.l.length;f++){var p=this.l[f];if("__data__"in p.g&&typeof(p=p.g.__data__)=="string"?p=p.length:p=void 0,p===void 0)break;if(4096<(c+=p)){c=f;break e}if(c===4096||f===this.l.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=pX(this,o,c),Ei(f=rv(this.F),"RID",n),Ei(f,"CVER",22),this.D&&Ei(f,"X-HTTP-Session-Id",this.D),Gk(this,f),this.o&&a&&Z$(f,this.o,a),Y$(this.i,o),this.Ra&&Ei(f,"TYPE","init"),this.ja?(Ei(f,"$req",c),Ei(f,"SID","null"),o.$=!0,z$(o,f,null)):z$(o,f,c),this.G=2}}else this.G==3&&(n?dX(this,n):this.l.length==0||eX(this.i)||dX(this))},Qe.Ga=function(){var n;this.u=null,mX(this),this.$&&!(this.L||this.g==null||this.O<=0)&&(n=2*this.O,this.h.info("BP detection timer enabled: "+n),this.B=Fk(hu(this.bb,this),n))},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pu(10),X2(this),mX(this))},Qe.ab=function(){this.v!=null&&(this.v=null,X2(this),n6(this),pu(19))},Qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),pu(2)):(this.h.info("Failed to ping google.com"),pu(1))},(Qe=EX.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},eD.prototype.g=function(n,o){return new zh(n,o)},Hs(zh,cs),zh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,o=this.l,a=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),M$(hu(n.hb,n,o))),pu(0),n.W=o,n.aa=a||{},n.N=n.X,n.F=wX(n,null,n.W),J2(n)},zh.prototype.close=function(){e6(this.g)},zh.prototype.u=function(n){var o;typeof n=="string"?((o={}).__data__=n,t6(this.g,o)):this.v?((o={}).__data__=R$(n),t6(this.g,o)):t6(this.g,n)},zh.prototype.M=function(){this.g.j=null,delete this.j,e6(this.g),delete this.g,zh.Z.M.call(this)},Hs(SX,q$),Hs(TX,B$),Hs(fE,EX),fE.prototype.xa=function(){zs(this.g,"a")},fE.prototype.wa=function(n){zs(this.g,new SX(n))},fE.prototype.va=function(n){zs(this.g,new TX)},fE.prototype.ua=function(){zs(this.g,"b")},eD.prototype.createWebChannel=eD.prototype.g,zh.prototype.send=zh.prototype.u,zh.prototype.open=zh.prototype.m,Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,ke.COMPLETE="complete",(UY.EventType=wi).OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",cs.prototype.listen=cs.prototype.N,So.prototype.listenOnce=So.prototype.O,So.prototype.getLastError=So.prototype.La,So.prototype.getLastErrorCode=So.prototype.Da,So.prototype.getStatus=So.prototype.ba,So.prototype.getResponseJson=So.prototype.Qa,So.prototype.getResponseText=So.prototype.ga,So.prototype.send=So.prototype.ea;var zTe=U2,i6=Xe,KTe=ke,WTe=B0,GTe=10,QTe=11,YTe=Hk,tD=UY,XTe=So,Hc=(o6.prototype.t=function(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue},o6.prototype.next=function(){var n=++this.previousValue;return this.i&&this.i(n),n},o6);function o6(n,o){var a=this;this.previousValue=n,o&&(o.sequenceNumberHandler=function(c){return a.t(c)},this.i=function(c){return o.writeSequenceNumber(c)})}Hc.o=-1;var IX,$e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dt=(Ct(CX,IX=Error),CX),Kh=new Rh("@firebase/firestore");function CX(n,o){var a=this;return(a=IX.call(this,o)||this).code=n,a.message=o,a.name="FirebaseError",a.toString=function(){return a.name+": [code="+a.code+"]: "+a.message},a}function s6(){return Kh.logLevel}function Tt(n){for(var o,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];Kh.logLevel<=Pn.DEBUG&&(o=a.map(a6),Kh.debug.apply(Kh,an(["Firestore (8.10.1): "+n],o)))}function To(n){for(var o,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];Kh.logLevel<=Pn.ERROR&&(o=a.map(a6),Kh.error.apply(Kh,an(["Firestore (8.10.1): "+n],o)))}function Qk(n){for(var o,a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];Kh.logLevel<=Pn.WARN&&(o=a.map(a6),Kh.warn.apply(Kh,an(["Firestore (8.10.1): "+n],o)))}function a6(n){if(typeof n=="string")return n;try{return JSON.stringify(n)}catch{return n}}function Qt(n){throw n="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+(n=n===void 0?"Unexpected state":n),To(n),new Error(n)}function bn(n){n||Qt()}var kX=(AX.u=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length,a="";a.length<20;)for(var c=function(p){var b=typeof self<"u"&&(self.crypto||self.msCrypto),_=new Uint8Array(p);if(b&&typeof b.getRandomValues=="function")b.getRandomValues(_);else for(var T=0;T<p;T++)_[T]=Math.floor(256*Math.random());return _}(40),f=0;f<c.length;++f)a.length<20&&c[f]<o&&(a+=n.charAt(c[f]%n.length));return a},AX);function AX(){}function Yn(n,o){return n<o?-1:o<n?1:0}function dE(n,o,a){return n.length===o.length&&n.every(function(c,f){return a(c,o[f])})}function xX(n){return n+"\0"}var Ju=(Zu.now=function(){return Zu.fromMillis(Date.now())},Zu.fromDate=function(n){return Zu.fromMillis(n.getTime())},Zu.fromMillis=function(n){var o=Math.floor(n/1e3);return new Zu(o,Math.floor(1e6*(n-1e3*o)))},Zu.prototype.toDate=function(){return new Date(this.toMillis())},Zu.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Zu.prototype._compareTo=function(n){return this.seconds===n.seconds?Yn(this.nanoseconds,n.nanoseconds):Yn(this.seconds,n.seconds)},Zu.prototype.isEqual=function(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds},Zu.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Zu.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Zu.prototype.valueOf=function(){var n=this.seconds- -62135596800;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Zu),qn=(vd.fromTimestamp=function(n){return new vd(n)},vd.min=function(){return new vd(new Ju(0,0))},vd.prototype.compareTo=function(n){return this.timestamp._compareTo(n.timestamp)},vd.prototype.isEqual=function(n){return this.timestamp.isEqual(n.timestamp)},vd.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},vd.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},vd.prototype.toTimestamp=function(){return this.timestamp},vd);function vd(n){this.timestamp=n}function Zu(n,o){if(this.seconds=n,(this.nanoseconds=o)<0)throw new dt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(1e9<=o)throw new dt($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new dt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(253402300800<=n)throw new dt($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}function OX(n){var o,a=0;for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&a++;return a}function G0(n,o){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&o(a,n[a])}function NX(n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o))return!1;return!0}var u6,c6,Xe=(Object.defineProperty(ls.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),ls.prototype.isEqual=function(n){return ls.comparator(this,n)===0},ls.prototype.child=function(n){var o=this.segments.slice(this.offset,this.limit());return n instanceof ls?n.forEach(function(a){o.push(a)}):o.push(n),this.construct(o)},ls.prototype.limit=function(){return this.offset+this.length},ls.prototype.popFirst=function(n){return this.construct(this.segments,this.offset+(n=n===void 0?1:n),this.length-n)},ls.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},ls.prototype.firstSegment=function(){return this.segments[this.offset]},ls.prototype.lastSegment=function(){return this.get(this.length-1)},ls.prototype.get=function(n){return this.segments[this.offset+n]},ls.prototype.isEmpty=function(){return this.length===0},ls.prototype.isPrefixOf=function(n){if(n.length<this.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0},ls.prototype.isImmediateParentOf=function(n){if(this.length+1!==n.length)return!1;for(var o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0},ls.prototype.forEach=function(n){for(var o=this.offset,a=this.limit();o<a;o++)n(this.segments[o])},ls.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},ls.comparator=function(n,o){for(var a=Math.min(n.length,o.length),c=0;c<a;c++){var f=n.get(c),p=o.get(c);if(f<p)return-1;if(p<f)return 1}return n.length<o.length?-1:n.length>o.length?1:0},ls),gr=(Ct(gd,c6=Xe),gd.prototype.construct=function(n,o,a){return new gd(n,o,a)},gd.prototype.canonicalString=function(){return this.toArray().join("/")},gd.prototype.toString=function(){return this.canonicalString()},gd.fromString=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var a=[],c=0,f=n;c<f.length;c++){var p=f[c];if(0<=p.indexOf("//"))throw new dt($e.INVALID_ARGUMENT,"Invalid segment ("+p+"). Paths must not contain // in them.");a.push.apply(a,p.split("/").filter(function(b){return 0<b.length}))}return new gd(a)},gd.emptyPath=function(){return new gd([])},gd),JTe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wh=(Ct(mu,u6=Xe),mu.prototype.construct=function(n,o,a){return new mu(n,o,a)},mu.isValidIdentifier=function(n){return JTe.test(n)},mu.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n=mu.isValidIdentifier(n)?n:"`"+n+"`"}).join(".")},mu.prototype.toString=function(){return this.canonicalString()},mu.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},mu.keyField=function(){return new mu(["__name__"])},mu.fromServerFormat=function(n){for(var o=[],a="",c=0,f=function(){if(a.length===0)throw new dt($e.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(a),a=""},p=!1;c<n.length;){var b=n[c];if(b==="\\"){if(c+1===n.length)throw new dt($e.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var _=n[c+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new dt($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=_,c+=2}else b==="`"?p=!p:b!=="."||p?a+=b:f(),c++}if(f(),p)throw new dt($e.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new mu(o)},mu.emptyPath=function(){return new mu([])},mu),pE=(l6.prototype.covers=function(n){for(var o=0,a=this.fields;o<a.length;o++)if(a[o].isPrefixOf(n))return!0;return!1},l6.prototype.isEqual=function(n){return dE(this.fields,n.fields,function(o,a){return o.isEqual(a)})},l6),vu=(md.fromBase64String=function(n){return new md(atob(n))},md.fromUint8Array=function(n){return new md(function(o){for(var a="",c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(n))},md.prototype.toBase64=function(){return n=this.binaryString,btoa(n);var n},md.prototype.toUint8Array=function(){return function(n){for(var o=new Uint8Array(n.length),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);return o}(this.binaryString)},md.prototype.approximateByteSize=function(){return 2*this.binaryString.length},md.prototype.compareTo=function(n){return Yn(this.binaryString,n.binaryString)},md.prototype.isEqual=function(n){return this.binaryString===n.binaryString},md);function md(n){this.binaryString=n}function l6(n){(this.fields=n).sort(Wh.comparator)}function mu(){return u6!==null&&u6.apply(this,arguments)||this}function gd(){return c6!==null&&c6.apply(this,arguments)||this}function ls(n,o,a){o===void 0?o=0:o>n.length&&Qt(),a===void 0?a=n.length-o:a>n.length-o&&Qt(),this.segments=n,this.offset=o,this.len=a}vu.EMPTY_BYTE_STRING=new vu("");var ZTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eg(n){if(bn(!!n),typeof n!="string")return{seconds:Io(n.seconds),nanos:Io(n.nanos)};var o=0,a=ZTe.exec(n);return bn(!!a),a[1]&&(a=((a=a[1])+"000000000").substr(0,9),o=Number(a)),n=new Date(n),{seconds:Math.floor(n.getTime()/1e3),nanos:o}}function Io(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vE(n){return typeof n=="string"?vu.fromBase64String(n):vu.fromUint8Array(n)}function h6(n){return((n=(((n=n==null?void 0:n.mapValue)===null||n===void 0?void 0:n.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yk(n){return n=eg(n.mapValue.fields.__local_write_time__.timestampValue),new Ju(n.seconds,n.nanos)}function Q0(n){return n==null}function nD(n){return n===0&&1/n==-1/0}function PX(n){return typeof n=="number"&&Number.isInteger(n)&&!nD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Zt=(Wl.fromPath=function(n){return new Wl(gr.fromString(n))},Wl.fromName=function(n){return new Wl(gr.fromString(n).popFirst(5))},Wl.prototype.hasCollectionId=function(n){return 2<=this.path.length&&this.path.get(this.path.length-2)===n},Wl.prototype.isEqual=function(n){return n!==null&&gr.comparator(this.path,n.path)===0},Wl.prototype.toString=function(){return this.path.toString()},Wl.comparator=function(n,o){return gr.comparator(n.path,o.path)},Wl.isDocumentKey=function(n){return n.length%2==0},Wl.fromSegments=function(n){return new Wl(new gr(n.slice()))},Wl);function Wl(n){this.path=n}function Y0(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?h6(n)?4:10:Qt()}function yd(n,o){var a,c,f=Y0(n);if(f!==Y0(o))return!1;switch(f){case 0:return!0;case 1:return n.booleanValue===o.booleanValue;case 4:return Yk(n).isEqual(Yk(o));case 3:return function(_){if(typeof n.timestampValue=="string"&&typeof _.timestampValue=="string"&&n.timestampValue.length===_.timestampValue.length)return n.timestampValue===_.timestampValue;var b=eg(n.timestampValue),_=eg(_.timestampValue);return b.seconds===_.seconds&&b.nanos===_.nanos}(o);case 5:return n.stringValue===o.stringValue;case 6:return c=o,vE(n.bytesValue).isEqual(vE(c.bytesValue));case 7:return n.referenceValue===o.referenceValue;case 8:return a=o,Io((c=n).geoPointValue.latitude)===Io(a.geoPointValue.latitude)&&Io(c.geoPointValue.longitude)===Io(a.geoPointValue.longitude);case 2:return function(p,b){return"integerValue"in p&&"integerValue"in b?Io(p.integerValue)===Io(b.integerValue):"doubleValue"in p&&"doubleValue"in b?(p=Io(p.doubleValue),b=Io(b.doubleValue),p===b?nD(p)===nD(b):isNaN(p)&&isNaN(b)):!1}(n,o);case 9:return dE(n.arrayValue.values||[],o.arrayValue.values||[],yd);case 10:return function(){var p,b=n.mapValue.fields||{},_=o.mapValue.fields||{};if(OX(b)!==OX(_))return!1;for(p in b)if(b.hasOwnProperty(p)&&(_[p]===void 0||!yd(b[p],_[p])))return!1;return!0}();default:return Qt()}}function Xk(n,o){return(n.values||[]).find(function(a){return yd(a,o)})!==void 0}function mE(n,o){var a,c,f,p=Y0(n),b=Y0(o);if(p!==b)return Yn(p,b);switch(p){case 0:return 0;case 1:return Yn(n.booleanValue,o.booleanValue);case 2:return c=o,f=Io(n.integerValue||n.doubleValue),c=Io(c.integerValue||c.doubleValue),f<c?-1:c<f?1:f===c?0:isNaN(f)?isNaN(c)?0:-1:1;case 3:return RX(n.timestampValue,o.timestampValue);case 4:return RX(Yk(n),Yk(o));case 5:return Yn(n.stringValue,o.stringValue);case 6:return function(_,T){return _=vE(_),T=vE(T),_.compareTo(T)}(n.bytesValue,o.bytesValue);case 7:return function(_,T){for(var k=_.split("/"),N=T.split("/"),j=0;j<k.length&&j<N.length;j++){var V=Yn(k[j],N[j]);if(V!==0)return V}return Yn(k.length,N.length)}(n.referenceValue,o.referenceValue);case 8:return a=n.geoPointValue,f=o.geoPointValue,(c=Yn(Io(a.latitude),Io(f.latitude)))!==0?c:Yn(Io(a.longitude),Io(f.longitude));case 9:return function(_,T){for(var k=_.values||[],N=T.values||[],j=0;j<k.length&&j<N.length;++j){var V=mE(k[j],N[j]);if(V)return V}return Yn(k.length,N.length)}(n.arrayValue,o.arrayValue);case 10:return function(_,T){var k=_.fields||{},N=Object.keys(k),j=T.fields||{},V=Object.keys(j);N.sort(),V.sort();for(var W=0;W<N.length&&W<V.length;++W){var X=Yn(N[W],V[W]);if(X!==0||(X=mE(k[N[W]],j[V[W]]),X!==0))return X}return Yn(N.length,V.length)}(n.mapValue,o.mapValue);default:throw Qt()}}function RX(c,f){if(typeof c=="string"&&typeof f=="string"&&c.length===f.length)return Yn(c,f);var a=eg(c),c=eg(f),f=Yn(a.seconds,c.seconds);return f!==0?f:Yn(a.nanos,c.nanos)}function f6(n){return function o(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(f){return f=eg(f),"time("+f.seconds+","+f.nanos+")"}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?vE(a.bytesValue).toBase64():"referenceValue"in a?(c=a.referenceValue,Zt.fromName(c).toString()):"geoPointValue"in a?"geo("+(c=a.geoPointValue).latitude+","+c.longitude+")":"arrayValue"in a?function(f){for(var p="[",b=!0,_=0,T=f.values||[];_<T.length;_++)b?b=!1:p+=",",p+=o(T[_]);return p+"]"}(a.arrayValue):"mapValue"in a?function(f){for(var p="{",b=!0,_=0,T=Object.keys(f.fields||{}).sort();_<T.length;_++){var k=T[_];b?b=!1:p+=",",p+=k+":"+o(f.fields[k])}return p+"}"}(a.mapValue):Qt();var c}(n)}function rD(n,o){return{referenceValue:"projects/"+n.projectId+"/databases/"+n.database+"/documents/"+o.path.canonicalString()}}function d6(n){return n&&"integerValue"in n}function p6(n){return!!n&&"arrayValue"in n}function DX(n){return n&&"nullValue"in n}function LX(n){return n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iD(n){return n&&"mapValue"in n}function Jk(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){var o={mapValue:{fields:{}}};return G0(n.mapValue.fields,function(f,p){return o.mapValue.fields[f]=Jk(p)}),o}if(n.arrayValue){for(var a={arrayValue:{values:[]}},c=0;c<(n.arrayValue.values||[]).length;++c)a.arrayValue.values[c]=Jk(n.arrayValue.values[c]);return a}return Object.assign({},n)}var zc=(Gl.empty=function(){return new Gl({mapValue:{}})},Gl.prototype.field=function(n){if(n.isEmpty())return this.value;for(var o=this.value,a=0;a<n.length-1;++a)if(!iD(o=(o.mapValue.fields||{})[n.get(a)]))return null;return(o=(o.mapValue.fields||{})[n.lastSegment()])||null},Gl.prototype.set=function(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=Jk(o)},Gl.prototype.setAll=function(n){var o=this,a=Wh.emptyPath(),c={},f=[];n.forEach(function(p,b){var _;a.isImmediateParentOf(b)||(_=o.getFieldsMap(a),o.applyChanges(_,c,f),c={},f=[],a=b.popLast()),p?c[b.lastSegment()]=Jk(p):f.push(b.lastSegment())}),n=this.getFieldsMap(a),this.applyChanges(n,c,f)},Gl.prototype.delete=function(n){var o=this.field(n.popLast());iD(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]},Gl.prototype.isEqual=function(n){return yd(this.value,n.value)},Gl.prototype.getFieldsMap=function(n){var o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(var a=0;a<n.length;++a){var c=o.mapValue.fields[n.get(a)];iD(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},o.mapValue.fields[n.get(a)]=c),o=c}return o.mapValue.fields},Gl.prototype.applyChanges=function(n,o,a){G0(o,function(b,_){return n[b]=_});for(var c=0,f=a;c<f.length;c++){var p=f[c];delete n[p]}},Gl.prototype.clone=function(){return new Gl(Jk(this.value))},Gl);function Gl(n){this.value=n}var Ks=(Jr.newInvalidDocument=function(n){return new Jr(n,0,qn.min(),zc.empty(),0)},Jr.newFoundDocument=function(n,o,a){return new Jr(n,1,o,a,0)},Jr.newNoDocument=function(n,o){return new Jr(n,2,o,zc.empty(),0)},Jr.newUnknownDocument=function(n,o){return new Jr(n,3,o,zc.empty(),2)},Jr.prototype.convertToFoundDocument=function(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this},Jr.prototype.convertToNoDocument=function(n){return this.version=n,this.documentType=2,this.data=zc.empty(),this.documentState=0,this},Jr.prototype.convertToUnknownDocument=function(n){return this.version=n,this.documentType=3,this.data=zc.empty(),this.documentState=2,this},Jr.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Jr.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Jr.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(Jr.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(Jr.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Jr.prototype.isValidDocument=function(){return this.documentType!==0},Jr.prototype.isFoundDocument=function(){return this.documentType===1},Jr.prototype.isNoDocument=function(){return this.documentType===2},Jr.prototype.isUnknownDocument=function(){return this.documentType===3},Jr.prototype.isEqual=function(n){return n instanceof Jr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)},Jr.prototype.clone=function(){return new Jr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Jr.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},Jr),eIe=function(n,o,a,c,f,p,b){o===void 0&&(o=null),a===void 0&&(a=[]),c===void 0&&(c=[]),f===void 0&&(f=null),p===void 0&&(p=null),b===void 0&&(b=null),this.path=n,this.collectionGroup=o,this.orderBy=a,this.filters=c,this.limit=f,this.startAt=p,this.endAt=b,this.h=null};function Jr(n,o,a,c,f){this.key=n,this.documentType=o,this.version=a,this.data=c,this.documentState=f}function MX(n,o,a,c,f,p,b){return new eIe(n,o=o===void 0?null:o,a=a===void 0?[]:a,c=c===void 0?[]:c,f=f===void 0?null:f,p=p===void 0?null:p,b=b===void 0?null:b)}function Zk(n){var o=n;return o.h===null&&(n=o.path.canonicalString(),o.collectionGroup!==null&&(n+="|cg:"+o.collectionGroup),n+="|f:",n+=o.filters.map(function(a){return(a=a).field.canonicalString()+a.op.toString()+f6(a.value)}).join(","),n+="|ob:",n+=o.orderBy.map(function(a){return(a=a).field.canonicalString()+a.dir}).join(","),Q0(o.limit)||(n+="|l:",n+=o.limit),o.startAt&&(n+="|lb:",n+=aD(o.startAt)),o.endAt&&(n+="|ub:",n+=aD(o.endAt)),o.h=n),o.h}function oD(n,o){if(n.limit!==o.limit||n.orderBy.length!==o.orderBy.length)return!1;for(var a,c,f=0;f<n.orderBy.length;f++)if(a=n.orderBy[f],c=o.orderBy[f],a.dir!==c.dir||!a.field.isEqual(c.field))return!1;if(n.filters.length!==o.filters.length)return!1;for(var p,b,_=0;_<n.filters.length;_++)if(p=n.filters[_],b=o.filters[_],p.op!==b.op||!p.field.isEqual(b.field)||!yd(p.value,b.value))return!1;return n.collectionGroup===o.collectionGroup&&!!n.path.isEqual(o.path)&&!!WX(n.startAt,o.startAt)&&WX(n.endAt,o.endAt)}function sD(n){return Zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var FX,Kc=(Ct(tg,FX=function(){}),tg.create=function(n,o,a){return n.isKeyField()?o==="in"||o==="not-in"?this.l(n,o,a):new tIe(n,o,a):o==="array-contains"?new iIe(n,a):o==="in"?new oIe(n,a):o==="not-in"?new sIe(n,a):o==="array-contains-any"?new aIe(n,a):new tg(n,o,a)},tg.l=function(n,o,a){return new(o==="in"?nIe:rIe)(n,a)},tg.prototype.matches=function(n){return n=n.data.field(this.field),this.op==="!="?n!==null&&this.m(mE(n,this.value)):n!==null&&Y0(this.value)===Y0(n)&&this.m(mE(n,this.value))},tg.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return 0<n;case">=":return 0<=n;default:return Qt()}},tg.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},tg);function tg(n,o,a){var c=this;return(c=FX.call(this)||this).field=n,c.op=o,c.value=a,c}var jX,UX,$X,tIe=(Ct(g6,$X=Kc),g6.prototype.matches=function(n){return n=Zt.comparator(n.key,this.key),this.m(n)},g6),nIe=(Ct(m6,UX=Kc),m6.prototype.matches=function(n){return this.keys.some(function(o){return o.isEqual(n.key)})},m6),rIe=(Ct(v6,jX=Kc),v6.prototype.matches=function(n){return!this.keys.some(function(o){return o.isEqual(n.key)})},v6);function v6(n,o){var a=this;return(a=jX.call(this,n,"not-in",o)||this).keys=VX(0,o),a}function m6(n,o){var a=this;return(a=UX.call(this,n,"in",o)||this).keys=VX(0,o),a}function g6(n,o,a){var c=this;return(c=$X.call(this,n,o,a)||this).key=Zt.fromName(a.referenceValue),c}function VX(n,o){return(((o=o.arrayValue)===null||o===void 0?void 0:o.values)||[]).map(function(a){return Zt.fromName(a.referenceValue)})}var qX,BX,HX,zX,iIe=(Ct(_6,zX=Kc),_6.prototype.matches=function(n){return n=n.data.field(this.field),p6(n)&&Xk(n.arrayValue,this.value)},_6),oIe=(Ct(w6,HX=Kc),w6.prototype.matches=function(n){return n=n.data.field(this.field),n!==null&&Xk(this.value.arrayValue,n)},w6),sIe=(Ct(b6,BX=Kc),b6.prototype.matches=function(n){return Xk(this.value.arrayValue,{nullValue:"NULL_VALUE"})?!1:(n=n.data.field(this.field),n!==null&&!Xk(this.value.arrayValue,n))},b6),aIe=(Ct(y6,qX=Kc),y6.prototype.matches=function(a){var o=this,a=a.data.field(this.field);return!(!p6(a)||!a.arrayValue.values)&&a.arrayValue.values.some(function(c){return Xk(o.value.arrayValue,c)})},y6),eA=function(n,o){this.position=n,this.before=o};function y6(n,o){return qX.call(this,n,"array-contains-any",o)||this}function b6(n,o){return BX.call(this,n,"not-in",o)||this}function w6(n,o){return HX.call(this,n,"in",o)||this}function _6(n,o){return zX.call(this,n,"array-contains",o)||this}function aD(n){return(n.before?"b":"a")+":"+n.position.map(f6).join(",")}var gE=function(n,o){o===void 0&&(o="asc"),this.field=n,this.dir=o};function KX(n,o,a){for(var c=0,f=0;f<n.position.length;f++){var p=o[f],b=n.position[f],c=p.field.isKeyField()?Zt.comparator(Zt.fromName(b.referenceValue),a.key):mE(b,a.data.field(p.field));if(p.dir==="desc"&&(c*=-1),c!==0)break}return n.before?c<=0:c<0}function WX(n,o){if(n===null)return o===null;if(o===null||n.before!==o.before||n.position.length!==o.position.length)return!1;for(var a=0;a<n.position.length;a++)if(!yd(n.position[a],o.position[a]))return!1;return!0}var ov=function(n,o,a,c,f,p,b,_){o===void 0&&(o=null),a===void 0&&(a=[]),c===void 0&&(c=[]),f===void 0&&(f=null),p===void 0&&(p="F"),b===void 0&&(b=null),_===void 0&&(_=null),this.path=n,this.collectionGroup=o,this.explicitOrderBy=a,this.filters=c,this.limit=f,this.limitType=p,this.startAt=b,this.endAt=_,this.p=null,this.T=null,this.startAt,this.endAt};function GX(n,o,a,c,f,p,b,_){return new ov(n,o,a,c,f,p,b,_)}function yE(n){return new ov(n)}function uD(n){return!Q0(n.limit)&&n.limitType==="F"}function cD(n){return!Q0(n.limit)&&n.limitType==="L"}function E6(n){return 0<n.explicitOrderBy.length?n.explicitOrderBy[0].field:null}function S6(n){for(var o=0,a=n.filters;o<a.length;o++){var c=a[o];if(c.g())return c.field}return null}function T6(n){return n.collectionGroup!==null}function bE(n){var o=n;if(o.p===null){o.p=[];var a=S6(o),n=E6(o);if(a!==null&&n===null)a.isKeyField()||o.p.push(new gE(a)),o.p.push(new gE(Wh.keyField(),"asc"));else{for(var c=!1,f=0,p=o.explicitOrderBy;f<p.length;f++){var b=p[f];o.p.push(b),b.field.isKeyField()&&(c=!0)}c||(a=0<o.explicitOrderBy.length?o.explicitOrderBy[o.explicitOrderBy.length-1].dir:"asc",o.p.push(new gE(Wh.keyField(),a)))}}return o.p}function Ql(n){var o=n;if(!o.T)if(o.limitType==="F")o.T=MX(o.path,o.collectionGroup,bE(o),o.filters,o.limit,o.startAt,o.endAt);else{for(var a=[],c=0,f=bE(o);c<f.length;c++){var p=f[c],b=p.dir==="desc"?"asc":"desc";a.push(new gE(p.field,b))}var _=o.endAt?new eA(o.endAt.position,!o.endAt.before):null,n=o.startAt?new eA(o.startAt.position,!o.startAt.before):null;o.T=MX(o.path,o.collectionGroup,a,o.filters,o.limit,_,n)}return o.T}function QX(n,o,a){return new ov(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),o,a,n.startAt,n.endAt)}function tA(n,o){return oD(Ql(n),Ql(o))&&n.limitType===o.limitType}function YX(n){return Zk(Ql(n))+"|lt:"+n.limitType}function I6(n){return"Query(target="+(o=Ql(n),a=o.path.canonicalString(),o.collectionGroup!==null&&(a+=" collectionGroup="+o.collectionGroup),0<o.filters.length&&(a+=", filters: ["+o.filters.map(function(c){return(c=c).field.canonicalString()+" "+c.op+" "+f6(c.value)}).join(", ")+"]"),Q0(o.limit)||(a+=", limit: "+o.limit),0<o.orderBy.length&&(a+=", orderBy: ["+o.orderBy.map(function(c){return(c=c).field.canonicalString()+" ("+c.dir+")"}).join(", ")+"]"),o.startAt&&(a+=", startAt: "+aD(o.startAt)),o.endAt&&(a+=", endAt: "+aD(o.endAt)),"Target("+a+")")+"; limitType="+n.limitType+")";var o,a}function nA(n,o){return o.isFoundDocument()&&(a=n,c=o.key.path,a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Zt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c))&&function(f){for(var p=0,b=n.explicitOrderBy;p<b.length;p++){var _=b[p];if(!_.field.isKeyField()&&f.data.field(_.field)===null)return}return 1}(o)&&function(f){for(var p=0,b=n.filters;p<b.length;p++)if(!b[p].matches(f))return;return 1}(o)&&(c=o,(!(o=n).startAt||KX(o.startAt,bE(o),c))&&(!o.endAt||!KX(o.endAt,bE(o),c)));var a,c}function XX(n){return function(o,a){for(var c=!1,f=0,p=bE(n);f<p.length;f++){var b=p[f],_=function(T,k,N){var j=T.field.isKeyField()?Zt.comparator(k.key,N.key):function(ne,W){var X=k.data.field(ne),ne=W.data.field(ne);return X!==null&&ne!==null?mE(X,ne):Qt()}(T.field,N);switch(T.dir){case"asc":return j;case"desc":return-1*j;default:return Qt()}}(b,o,a);if(_!==0)return _;c=c||b.field.isKeyField()}return 0}}function JX(n,o){if(n.I){if(isNaN(o))return{doubleValue:"NaN"};if(o===1/0)return{doubleValue:"Infinity"};if(o===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nD(o)?"-0":o}}function ZX(n){return{integerValue:""+n}}function eJ(n,o){return PX(o)?ZX(o):JX(n,o)}ke=function(){this._=void 0};function tJ(n,o){return n instanceof _E?d6(n=o)||n&&"doubleValue"in n?o:{integerValue:0}:null}var nJ,C6,wE=(Ct(iJ,C6=ke),iJ),X0=(Ct(rJ,nJ=ke),rJ);function rJ(n){var o=this;return(o=nJ.call(this)||this).elements=n,o}function iJ(){return C6!==null&&C6.apply(this,arguments)||this}function oJ(n,o){for(var a=fJ(o),c=0,f=n.elements;c<f.length;c++)(function(p){a.some(function(b){return yd(b,p)})||a.push(p)})(f[c]);return{arrayValue:{values:a}}}var sJ,J0=(Ct(aJ,sJ=ke),aJ);function aJ(n){var o=this;return(o=sJ.call(this)||this).elements=n,o}function uJ(n,o){for(var a=fJ(o),c=0,f=n.elements;c<f.length;c++)(function(p){a=a.filter(function(b){return!yd(b,p)})})(f[c]);return{arrayValue:{values:a}}}var cJ,_E=(Ct(lJ,cJ=ke),lJ);function lJ(n,o){var a=this;return(a=cJ.call(this)||this).R=n,a.A=o,a}function hJ(n){return Io(n.integerValue||n.doubleValue)}function fJ(n){return p6(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uIe(n,o){this.version=n,this.transformResults=o}var rA=function(n,o){this.field=n,this.transform=o},Aa=(sv.none=function(){return new sv},sv.exists=function(n){return new sv(void 0,n)},sv.updateTime=function(n){return new sv(n)},Object.defineProperty(sv.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),sv.prototype.isEqual=function(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)},sv);function sv(n,o){this.updateTime=n,this.exists=o}function lD(n,o){return n.updateTime!==void 0?o.isFoundDocument()&&o.version.isEqual(n.updateTime):n.exists===void 0||n.exists===o.isFoundDocument()}Xe=function(){};function k6(n,o,a){var c,f,p,b;n instanceof iA?(f=o,p=a,lD((c=n).precondition,f)&&(b=c.value.clone(),p=_J(c.fieldTransforms,p,f),b.setAll(p),f.convertToFoundDocument(pJ(f),b).setHasLocalMutations())):n instanceof ng?(p=o,f=a,lD((b=n).precondition,p)&&(a=_J(b.fieldTransforms,f,p),(f=p.data).setAll(bJ(b)),f.setAll(a),p.convertToFoundDocument(pJ(p),f).setHasLocalMutations())):(o=o,lD(n.precondition,o)&&o.convertToNoDocument(qn.min()))}function dJ(n,o){return n.type===o.type&&!!n.key.isEqual(o.key)&&!!n.precondition.isEqual(o.precondition)&&(a=n.fieldTransforms,c=o.fieldTransforms,!!(a===void 0&&c===void 0||a&&c&&dE(a,c,function(f,p){return p=p,(f=f).field.isEqual(p.field)&&(f=f.transform,p=p.transform,f instanceof X0&&p instanceof X0||f instanceof J0&&p instanceof J0?dE(f.elements,p.elements,yd):f instanceof _E&&p instanceof _E?yd(f.A,p.A):f instanceof wE&&p instanceof wE)})))&&(n.type===0?n.value.isEqual(o.value):n.type!==1||n.data.isEqual(o.data)&&n.fieldMask.isEqual(o.fieldMask));var a,c}function pJ(n){return n.isFoundDocument()?n.version:qn.min()}var vJ,mJ,iA=(Ct(yJ,mJ=Xe),yJ),ng=(Ct(gJ,vJ=Xe),gJ);function gJ(n,o,a,c,f){f===void 0&&(f=[]);var p=this;return(p=vJ.call(this)||this).key=n,p.data=o,p.fieldMask=a,p.precondition=c,p.fieldTransforms=f,p.type=1,p}function yJ(n,o,a,c){c===void 0&&(c=[]);var f=this;return(f=mJ.call(this)||this).key=n,f.value=o,f.precondition=a,f.fieldTransforms=c,f.type=0,f}function bJ(n){var o=new Map;return n.fieldMask.fields.forEach(function(a){var c;a.isEmpty()||(c=n.data.field(a),o.set(a,c))}),o}function wJ(n,o,a){var c=new Map;bn(n.length===a.length);for(var f=0;f<a.length;f++){var p=n[f],b=p.transform,_=o.data.field(p.field);c.set(p.field,(p=b,b=_,_=a[f],p instanceof X0?oJ(p,b):p instanceof J0?uJ(p,b):_))}return c}function _J(n,o,a){for(var c,f=new Map,p=0,b=n;p<b.length;p++){var _=b[p],T=_.transform,k=a.data.field(_.field);f.set(_.field,(c=k,_=o,k=void 0,(T=T)instanceof wE?(k={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:_.seconds,nanos:_.nanoseconds}}}},c&&(k.fields.__previous_value__=c),{mapValue:k}):T instanceof X0?oJ(T,c):T instanceof J0?uJ(T,c):(T=tJ(k=T,c),c=hJ(T)+hJ(k.A),d6(T)&&d6(k.A)?ZX(c):JX(k.R,c))))}return f}function cIe(n){this.count=n}var Co,EJ,SJ,oA=(Ct(IJ,SJ=Xe),IJ),A6=(Ct(TJ,EJ=Xe),TJ);function TJ(n,o){var a=this;return(a=EJ.call(this)||this).key=n,a.precondition=o,a.type=3,a.fieldTransforms=[],a}function IJ(n,o){var a=this;return(a=SJ.call(this)||this).key=n,a.precondition=o,a.type=2,a.fieldTransforms=[],a}function CJ(n){switch(n){case $e.OK:return Qt(),0;case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return 1;default:return Qt(),0}}function kJ(n){if(n===void 0)return To("GRPC error has no .code"),$e.UNKNOWN;switch(n){case Co.OK:return $e.OK;case Co.CANCELLED:return $e.CANCELLED;case Co.UNKNOWN:return $e.UNKNOWN;case Co.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case Co.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case Co.INTERNAL:return $e.INTERNAL;case Co.UNAVAILABLE:return $e.UNAVAILABLE;case Co.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case Co.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case Co.NOT_FOUND:return $e.NOT_FOUND;case Co.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case Co.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case Co.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case Co.ABORTED:return $e.ABORTED;case Co.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case Co.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case Co.DATA_LOSS:return $e.DATA_LOSS;default:return Qt()}}(ke=Co=Co||{})[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";var xa=(zo.prototype.insert=function(n,o){return new zo(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,rg.BLACK,null,null))},zo.prototype.remove=function(n){return new zo(this.comparator,this.root.remove(n,this.comparator).copy(null,null,rg.BLACK,null,null))},zo.prototype.get=function(n){for(var o=this.root;!o.isEmpty();){var a=this.comparator(n,o.key);if(a===0)return o.value;a<0?o=o.left:0<a&&(o=o.right)}return null},zo.prototype.indexOf=function(n){for(var o=0,a=this.root;!a.isEmpty();){var c=this.comparator(n,a.key);if(c===0)return o+a.left.size;a=c<0?a.left:(o+=a.left.size+1,a.right)}return-1},zo.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(zo.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),zo.prototype.minKey=function(){return this.root.minKey()},zo.prototype.maxKey=function(){return this.root.maxKey()},zo.prototype.inorderTraversal=function(n){return this.root.inorderTraversal(n)},zo.prototype.forEach=function(n){this.inorderTraversal(function(o,a){return n(o,a),!1})},zo.prototype.toString=function(){var n=[];return this.inorderTraversal(function(o,a){return n.push(o+":"+a),!1}),"{"+n.join(", ")+"}"},zo.prototype.reverseTraversal=function(n){return this.root.reverseTraversal(n)},zo.prototype.getIterator=function(){return new hD(this.root,null,this.comparator,!1)},zo.prototype.getIteratorFrom=function(n){return new hD(this.root,n,this.comparator,!1)},zo.prototype.getReverseIterator=function(){return new hD(this.root,null,this.comparator,!0)},zo.prototype.getReverseIteratorFrom=function(n){return new hD(this.root,n,this.comparator,!0)},zo),hD=(fD.prototype.getNext=function(){var n=this.nodeStack.pop(),o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o},fD.prototype.hasNext=function(){return 0<this.nodeStack.length},fD.prototype.peek=function(){if(this.nodeStack.length===0)return null;var n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}},fD),rg=(Ur.prototype.copy=function(n,o,a,c,f){return new Ur(n!=null?n:this.key,o!=null?o:this.value,a!=null?a:this.color,c!=null?c:this.left,f!=null?f:this.right)},Ur.prototype.isEmpty=function(){return!1},Ur.prototype.inorderTraversal=function(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)},Ur.prototype.reverseTraversal=function(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)},Ur.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},Ur.prototype.minKey=function(){return this.min().key},Ur.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Ur.prototype.insert=function(n,o,a){var c=this,f=a(n,c.key);return(c=f<0?c.copy(null,null,null,c.left.insert(n,o,a),null):f===0?c.copy(null,o,null,null,null):c.copy(null,null,null,null,c.right.insert(n,o,a))).fixUp()},Ur.prototype.removeMin=function(){if(this.left.isEmpty())return Ur.EMPTY;var n=this;return(n=(n=!n.left.isRed()&&!n.left.left.isRed()?n.moveRedLeft():n).copy(null,null,null,n.left.removeMin(),null)).fixUp()},Ur.prototype.remove=function(n,o){var a,c=this;if(o(n,c.key)<0)c=(c=c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()?c:c.moveRedLeft()).copy(null,null,null,c.left.remove(n,o),null);else{if(o(n,(c=(c=c.left.isRed()?c.rotateRight():c).right.isEmpty()||c.right.isRed()||c.right.left.isRed()?c:c.moveRedRight()).key)===0){if(c.right.isEmpty())return Ur.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,o))}return c.fixUp()},Ur.prototype.isRed=function(){return this.color},Ur.prototype.fixUp=function(){var n=this;return n=(n=(n=n.right.isRed()&&!n.left.isRed()?n.rotateLeft():n).left.isRed()&&n.left.left.isRed()?n.rotateRight():n).left.isRed()&&n.right.isRed()?n.colorFlip():n},Ur.prototype.moveRedLeft=function(){var n=this.colorFlip();return n=n.right.left.isRed()?(n=(n=n.copy(null,null,null,null,n.right.rotateRight())).rotateLeft()).colorFlip():n},Ur.prototype.moveRedRight=function(){var n=this.colorFlip();return n=n.left.left.isRed()?(n=n.rotateRight()).colorFlip():n},Ur.prototype.rotateLeft=function(){var n=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)},Ur.prototype.rotateRight=function(){var n=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)},Ur.prototype.colorFlip=function(){var n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)},Ur.prototype.checkMaxDepth=function(){var n=this.check();return Math.pow(2,n)<=this.size+1},Ur.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qt();var n=this.left.check();if(n!==this.right.check())throw Qt();return n+(this.isRed()?0:1)},Ur);function Ur(n,o,a,c,f){this.key=n,this.value=o,this.color=a!=null?a:Ur.RED,this.left=c!=null?c:Ur.EMPTY,this.right=f!=null?f:Ur.EMPTY,this.size=this.left.size+1+this.right.size}function fD(n,o,a,c){this.isReverse=c,this.nodeStack=[];for(var f=1;!n.isEmpty();)if(f=o?a(n.key,o):1,c&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}function zo(n,o){this.comparator=n,this.root=o||rg.EMPTY}function Ws(){this.size=0}rg.EMPTY=null,rg.RED=!0,rg.BLACK=!1,rg.EMPTY=(Object.defineProperty(Ws.prototype,"key",{get:function(){throw Qt()},enumerable:!1,configurable:!0}),Object.defineProperty(Ws.prototype,"value",{get:function(){throw Qt()},enumerable:!1,configurable:!0}),Object.defineProperty(Ws.prototype,"color",{get:function(){throw Qt()},enumerable:!1,configurable:!0}),Object.defineProperty(Ws.prototype,"left",{get:function(){throw Qt()},enumerable:!1,configurable:!0}),Object.defineProperty(Ws.prototype,"right",{get:function(){throw Qt()},enumerable:!1,configurable:!0}),Ws.prototype.copy=function(n,o,a,c,f){return this},Ws.prototype.insert=function(n,o,a){return new rg(n,o)},Ws.prototype.remove=function(n,o){return this},Ws.prototype.isEmpty=function(){return!0},Ws.prototype.inorderTraversal=function(n){return!1},Ws.prototype.reverseTraversal=function(n){return!1},Ws.prototype.minKey=function(){return null},Ws.prototype.maxKey=function(){return null},Ws.prototype.isRed=function(){return!1},Ws.prototype.checkMaxDepth=function(){return!0},Ws.prototype.check=function(){return 0},new Ws);var Ko=(Hi.prototype.has=function(n){return this.data.get(n)!==null},Hi.prototype.first=function(){return this.data.minKey()},Hi.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Hi.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Hi.prototype.indexOf=function(n){return this.data.indexOf(n)},Hi.prototype.forEach=function(n){this.data.inorderTraversal(function(o,a){return n(o),!1})},Hi.prototype.forEachInRange=function(n,o){for(var a=this.data.getIteratorFrom(n[0]);a.hasNext();){var c=a.getNext();if(0<=this.comparator(c.key,n[1]))return;o(c.key)}},Hi.prototype.forEachWhile=function(n,o){for(var a=o!==void 0?this.data.getIteratorFrom(o):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return},Hi.prototype.firstAfterOrEqual=function(n){return n=this.data.getIteratorFrom(n),n.hasNext()?n.getNext().key:null},Hi.prototype.getIterator=function(){return new AJ(this.data.getIterator())},Hi.prototype.getIteratorFrom=function(n){return new AJ(this.data.getIteratorFrom(n))},Hi.prototype.add=function(n){return this.copy(this.data.remove(n).insert(n,!0))},Hi.prototype.delete=function(n){return this.has(n)?this.copy(this.data.remove(n)):this},Hi.prototype.isEmpty=function(){return this.data.isEmpty()},Hi.prototype.unionWith=function(n){var o=this;return o.size<n.size&&(o=n,n=this),n.forEach(function(a){o=o.add(a)}),o},Hi.prototype.isEqual=function(n){if(!(n instanceof Hi)||this.size!==n.size)return!1;for(var o=this.data.getIterator(),a=n.data.getIterator();o.hasNext();){var c=o.getNext().key,f=a.getNext().key;if(this.comparator(c,f)!==0)return!1}return!0},Hi.prototype.toArray=function(){var n=[];return this.forEach(function(o){n.push(o)}),n},Hi.prototype.toString=function(){var n=[];return this.forEach(function(o){return n.push(o)}),"SortedSet("+n.toString()+")"},Hi.prototype.copy=function(n){var o=new Hi(this.comparator);return o.data=n,o},Hi),AJ=(x6.prototype.getNext=function(){return this.iter.getNext().key},x6.prototype.hasNext=function(){return this.iter.hasNext()},x6),Yl=new xa(Zt.comparator);function x6(n){this.iter=n}function Hi(n){this.comparator=n,this.data=new xa(this.comparator)}var O6=new xa(Zt.comparator),xJ=new xa(Zt.comparator),lIe=new Ko(Zt.comparator);function Rr(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var p=lIe,a=0,c=n;a<c.length;a++)var f=c[a],p=p.add(f);return p}var dD=new Ko(Yn),N6=(D6.createSynthesizedRemoteEventForCurrentChange=function(n,o){var a=new Map;return a.set(n,P6.createSynthesizedTargetChangeForCurrentChange(n,o)),new D6(qn.min(),a,dD,Yl,Rr())},D6),P6=(R6.createSynthesizedTargetChangeForCurrentChange=function(n,o){return new R6(vu.EMPTY_BYTE_STRING,o,Rr(),Rr(),Rr())},R6),pD=function(n,o,a,c){this.v=n,this.removedTargetIds=o,this.key=a,this.P=c},OJ=function(n,o){this.targetId=n,this.V=o},NJ=function(n,o,a,c){a===void 0&&(a=vu.EMPTY_BYTE_STRING),c===void 0&&(c=null),this.state=n,this.targetIds=o,this.resumeToken=a,this.cause=c},PJ=(Object.defineProperty(Wc.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(Wc.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(Wc.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(Wc.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),Wc.prototype.O=function(n){0<n.approximateByteSize()&&(this.k=!0,this.C=n)},Wc.prototype.M=function(){var n=Rr(),o=Rr(),a=Rr();return this.D.forEach(function(c,f){switch(f){case 0:n=n.add(c);break;case 2:o=o.add(c);break;case 1:a=a.add(c);break;default:Qt()}}),new P6(this.C,this.N,n,o,a)},Wc.prototype.L=function(){this.k=!1,this.D=DJ()},Wc.prototype.B=function(n,o){this.k=!0,this.D=this.D.insert(n,o)},Wc.prototype.q=function(n){this.k=!0,this.D=this.D.remove(n)},Wc.prototype.U=function(){this.S+=1},Wc.prototype.K=function(){--this.S},Wc.prototype.j=function(){this.k=!0,this.N=!0},Wc),hIe=(Gs.prototype.X=function(n){for(var o=0,a=n.v;o<a.length;o++){var c=a[o];n.P&&n.P.isFoundDocument()?this.Z(c,n.P):this.tt(c,n.key,n.P)}for(var f=0,p=n.removedTargetIds;f<p.length;f++)c=p[f],this.tt(c,n.key,n.P)},Gs.prototype.et=function(n){var o=this;this.forEachTarget(n,function(a){var c=o.nt(a);switch(n.state){case 0:o.st(a)&&c.O(n.resumeToken);break;case 1:c.K(),c.F||c.L(),c.O(n.resumeToken);break;case 2:c.K(),c.F||o.removeTarget(a);break;case 3:o.st(a)&&(c.j(),c.O(n.resumeToken));break;case 4:o.st(a)&&(o.it(a),c.O(n.resumeToken));break;default:Qt()}})},Gs.prototype.forEachTarget=function(n,o){var a=this;0<n.targetIds.length?n.targetIds.forEach(o):this.G.forEach(function(c,f){a.st(f)&&o(f)})},Gs.prototype.rt=function(c){var o=c.targetId,a=c.V.count,c=this.ot(o);c&&(sD(c=c.target)?a===0?(c=new Zt(c.path),this.tt(o,c,Ks.newNoDocument(c,qn.min()))):bn(a===1):this.ct(o)!==a&&(this.it(o),this.Y=this.Y.add(o)))},Gs.prototype.ut=function(n){var o=this,a=new Map;this.G.forEach(function(p,b){var _=o.ot(b);_&&(p.current&&sD(_.target)&&(_=new Zt(_.target.path),o.H.get(_)!==null||o.at(b,_)||o.tt(b,_,Ks.newNoDocument(_,n))),p.$&&(a.set(b,p.M()),p.L()))});var c=Rr();this.J.forEach(function(p,b){var _=!0;b.forEachWhile(function(T){return T=o.ot(T),!T||T.purpose===2||(_=!1)}),_&&(c=c.add(p))});var f=new N6(n,a,this.Y,this.H,c);return this.H=Yl,this.J=RJ(),this.Y=new Ko(Yn),f},Gs.prototype.Z=function(n,o){var a;this.st(n)&&(a=this.at(n,o.key)?2:0,this.nt(n).B(o.key,a),this.H=this.H.insert(o.key,o),this.J=this.J.insert(o.key,this.ht(o.key).add(n)))},Gs.prototype.tt=function(n,o,a){var c;this.st(n)&&(c=this.nt(n),this.at(n,o)?c.B(o,1):c.q(o),this.J=this.J.insert(o,this.ht(o).delete(n)),a&&(this.H=this.H.insert(o,a)))},Gs.prototype.removeTarget=function(n){this.G.delete(n)},Gs.prototype.ct=function(n){var o=this.nt(n).M();return this.W.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size},Gs.prototype.U=function(n){this.nt(n).U()},Gs.prototype.nt=function(n){var o=this.G.get(n);return o||(o=new PJ,this.G.set(n,o)),o},Gs.prototype.ht=function(n){var o=this.J.get(n);return o||(o=new Ko(Yn),this.J=this.J.insert(n,o)),o},Gs.prototype.st=function(n){var o=this.ot(n)!==null;return o||Tt("WatchChangeAggregator","Detected inactive target",n),o},Gs.prototype.ot=function(n){var o=this.G.get(n);return o&&o.F?null:this.W.lt(n)},Gs.prototype.it=function(n){var o=this;this.G.set(n,new PJ),this.W.getRemoteKeysForTarget(n).forEach(function(a){o.tt(n,a,null)})},Gs.prototype.at=function(n,o){return this.W.getRemoteKeysForTarget(n).has(o)},Gs);function Gs(n){this.W=n,this.G=new Map,this.H=Yl,this.J=RJ(),this.Y=new Ko(Yn)}function Wc(){this.S=0,this.D=DJ(),this.C=vu.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}function R6(n,o,a,c,f){this.resumeToken=n,this.current=o,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=f}function D6(n,o,a,c,f){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=f}function RJ(){return new xa(Zt.comparator)}function DJ(){return new xa(Zt.comparator)}var fIe={asc:"ASCENDING",desc:"DESCENDING"},dIe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pIe=function(n,o){this.databaseId=n,this.I=o};function sA(n,o){return n.I?new Date(1e3*o.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+o.nanoseconds).slice(-9)+"Z":{seconds:""+o.seconds,nanos:o.nanoseconds}}function LJ(n,o){return n.I?o.toBase64():o.toUint8Array()}function hs(n){return bn(!!n),qn.fromTimestamp((n=eg(n),new Ju(n.seconds,n.nanos)))}function L6(n,o){return new gr(["projects",n.projectId,"databases",n.database]).child("documents").child(o).canonicalString()}function MJ(n){return n=gr.fromString(n),bn(WJ(n)),n}function aA(n,o){return L6(n.databaseId,o.path)}function bd(n,o){if(o=MJ(o),o.get(1)!==n.databaseId.projectId)throw new dt($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+n.databaseId.projectId);if(o.get(3)!==n.databaseId.database)throw new dt($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+n.databaseId.database);return new Zt(jJ(o))}function M6(n,o){return L6(n.databaseId,o)}function FJ(n){return n=MJ(n),n.length===4?gr.emptyPath():jJ(n)}function uA(n){return new gr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jJ(n){return bn(4<n.length&&n.get(4)==="documents"),n.popFirst(5)}function UJ(n,o,a){return{name:aA(n,o),fields:a.value.mapValue.fields}}function $J(f,p,a){var c=bd(f,p.name),f=hs(p.updateTime),p=new zc({mapValue:{fields:p.fields}}),p=Ks.newFoundDocument(c,f,p);return a&&p.setHasCommittedMutations(),a?p.setHasCommittedMutations():p}function vD(n,o){var a,c,f;if(o instanceof iA)a={update:UJ(n,o.key,o.value)};else if(o instanceof oA)a={delete:aA(n,o.key)};else if(o instanceof ng)a={update:UJ(n,o.key,o.data),updateMask:(c=o.fieldMask,f=[],c.fields.forEach(function(p){return f.push(p.canonicalString())}),{fieldPaths:f})};else{if(!(o instanceof A6))return Qt();a={verify:aA(n,o.key)}}return 0<o.fieldTransforms.length&&(a.updateTransforms=o.fieldTransforms.map(function(p){var b=p.transform;if(b instanceof wE)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof X0)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof J0)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof _E)return{fieldPath:p.field.canonicalString(),increment:b.A};throw Qt()})),o.precondition.isNone||(a.currentDocument=(o=o.precondition).updateTime!==void 0?{updateTime:sA(n,o.updateTime.toTimestamp())}:o.exists!==void 0?{exists:o.exists}:Qt()),a}function VJ(n,o){var a=o.currentDocument?(b=o.currentDocument).updateTime!==void 0?Aa.updateTime(hs(b.updateTime)):b.exists!==void 0?Aa.exists(b.exists):Aa.none():Aa.none(),c=o.updateTransforms?o.updateTransforms.map(function(_){return function(T,k){var N,j=null;return"setToServerValue"in k?(bn(k.setToServerValue==="REQUEST_TIME"),j=new wE):"appendMissingElements"in k?(N=k.appendMissingElements.values||[],j=new X0(N)):"removeAllFromArray"in k?(N=k.removeAllFromArray.values||[],j=new J0(N)):"increment"in k?j=new _E(T,k.increment):Qt(),k=Wh.fromServerFormat(k.fieldPath),new rA(k,j)}(n,_)}):[];if(o.update){o.update.name;var f=bd(n,o.update.name),p=new zc({mapValue:{fields:o.update.fields}});if(o.updateMask){var b=(b=o.updateMask.fieldPaths||[],new pE(b.map(function(_){return Wh.fromServerFormat(_)})));return new ng(f,p,b,a,c)}return new iA(f,p,a,c)}return o.delete?(c=bd(n,o.delete),new oA(c,a)):o.verify?(o=bd(n,o.verify),new A6(o,a)):Qt()}function qJ(n,o){return{documents:[M6(n,o.path)]}}function BJ(n,o){var a={structuredQuery:{}},c=o.path;return o.collectionGroup!==null?(a.parent=M6(n,c),a.structuredQuery.from=[{collectionId:o.collectionGroup,allDescendants:!0}]):(a.parent=M6(n,c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]),c=function(f){if(f.length!==0)return f=f.map(function(p){if(p.op==="=="){if(LX(p.value))return{unaryFilter:{field:EE(p.field),op:"IS_NAN"}};if(DX(p.value))return{unaryFilter:{field:EE(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(LX(p.value))return{unaryFilter:{field:EE(p.field),op:"IS_NOT_NAN"}};if(DX(p.value))return{unaryFilter:{field:EE(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:EE(p.field),op:(b=p.op,dIe[b]),value:p.value}};var b}),f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}(o.filters),c&&(a.structuredQuery.where=c),c=function(f){if(f.length!==0)return f.map(function(p){return{field:EE((p=p).field),direction:(p=p.dir,fIe[p])}})}(o.orderBy),c&&(a.structuredQuery.orderBy=c),c=o.limit,c=n.I||Q0(c)?c:{value:c},c!==null&&(a.structuredQuery.limit=c),o.startAt&&(a.structuredQuery.startAt=zJ(o.startAt)),o.endAt&&(a.structuredQuery.endAt=zJ(o.endAt)),a}function HJ(b){var o=FJ(b.parent),a=b.structuredQuery,_=a.from?a.from.length:0,c=null;0<_&&(bn(_===1),(T=a.from[0]).allDescendants?c=T.collectionId:o=o.child(T.collectionId));var f=[];a.where&&(f=function k(N){return N?N.unaryFilter!==void 0?[mIe(N)]:N.fieldFilter!==void 0?[vIe(N)]:N.compositeFilter!==void 0?N.compositeFilter.filters.map(function(j){return k(j)}).reduce(function(j,V){return j.concat(V)}):Qt():[]}(a.where));var p=[],b=null,_=null,T=null;return GX(o,c,p=a.orderBy?a.orderBy.map(function(k){return new gE(SE((N=k).field),function(){switch(N.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var N}):p,f,b=a.limit?Q0(f=typeof(f=a.limit)=="object"?f.value:f)?null:f:b,"F",_=a.startAt?KJ(a.startAt):_,T=a.endAt?KJ(a.endAt):T)}function zJ(n){return{before:n.before,values:n.position}}function KJ(a){var o=!!a.before,a=a.values||[];return new eA(a,o)}function EE(n){return{fieldPath:n.canonicalString()}}function SE(n){return Wh.fromServerFormat(n.fieldPath)}function vIe(n){return Kc.create(SE(n.fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Qt()}}(),n.fieldFilter.value)}function mIe(n){switch(n.unaryFilter.op){case"IS_NAN":var o=SE(n.unaryFilter.field);return Kc.create(o,"==",{doubleValue:NaN});case"IS_NULL":return o=SE(n.unaryFilter.field),Kc.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var a=SE(n.unaryFilter.field);return Kc.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return a=SE(n.unaryFilter.field),Kc.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Qt()}}function WJ(n){return 4<=n.length&&n.get(0)==="projects"&&n.get(2)==="databases"}function Gh(n){for(var o="",a=0;a<n.length;a++)0<o.length&&(o=GJ(o)),o=function(c,f){for(var p=f,b=c.length,_=0;_<b;_++){var T=c.charAt(_);switch(T){case"\0":p+="";break;case"":p+="";break;default:p+=T}}return p}(n.get(a),o);return GJ(o)}function GJ(n){return n+""}function av(n){var o=n.length;if(bn(2<=o),o===2)return bn(n.charAt(0)===""&&n.charAt(1)===""),gr.emptyPath();for(var a=o-2,c=[],f="",p=0;p<o;){var b=n.indexOf("",p);switch((b<0||a<b)&&Qt(),n.charAt(b+1)){case"":var _=n.substring(p,b),T=void 0;f.length===0?T=_:(T=f+=_,f=""),c.push(T);break;case"":f+=n.substring(p,b),f+="\0";break;case"":f+=n.substring(p,b+1);break;default:Qt()}p=b+2}return new gr(c)}function Gc(n,o,a){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=a}var gIe=function(n,o){this.seconds=n,this.nanoseconds=o};Gc.store="owner",Gc.key="owner";function ig(n,o,a){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=a}ig.store="mutationQueues",ig.keyPath="userId";function hi(n,o,a,c,f){this.userId=n,this.batchId=o,this.localWriteTimeMs=a,this.baseMutations=c,this.mutations=f}hi.store="mutations",hi.keyPath="batchId",hi.userMutationsIndex="userMutationsIndex",hi.userMutationsKeyPath=["userId","batchId"];var Oa=(mD.prefixForUser=function(n){return[n]},mD.prefixForPath=function(n,o){return[n,Gh(o)]},mD.key=function(n,o,a){return[n,Gh(o),a]},mD);function mD(){}Oa.store="documentMutations",Oa.PLACEHOLDER=new Oa;function yIe(n,o){this.path=n,this.readTime=o}function bIe(n,o){this.path=n,this.version=o}var zi=function(n,o,a,c,f,p){this.unknownDocument=n,this.noDocument=o,this.document=a,this.hasCommittedMutations=c,this.readTime=f,this.parentPath=p};zi.store="remoteDocuments",zi.readTimeIndex="readTimeIndex",zi.readTimeIndexPath="readTime",zi.collectionReadTimeIndex="collectionReadTimeIndex",zi.collectionReadTimeIndexPath=["parentPath","readTime"];function wd(n){this.byteSize=n}wd.store="remoteDocumentGlobal",wd.key="remoteDocumentGlobalKey";function ec(n,o,a,c,f,p,b){this.targetId=n,this.canonicalId=o,this.readTime=a,this.resumeToken=c,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=p,this.query=b}ec.store="targets",ec.keyPath="targetId",ec.queryTargetsIndexName="queryTargetsIndex",ec.queryTargetsKeyPath=["canonicalId","targetId"];var Qs=function(n,o,a){this.targetId=n,this.path=o,this.sequenceNumber=a};Qs.store="targetDocuments",Qs.keyPath=["targetId","path"],Qs.documentTargetsIndex="documentTargetsIndex",Qs.documentTargetsKeyPath=["path","targetId"];function Qc(n,o,a,c){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=a,this.targetCount=c}Qc.key="targetGlobalKey",Qc.store="targetGlobal";function Z0(n,o){this.collectionId=n,this.parent=o}Z0.store="collectionParents",Z0.keyPath=["collectionId","parent"];function uv(n,o,a,c){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=a,this.inForeground=c}uv.store="clientMetadata",uv.keyPath="clientId";function TE(n,o,a){this.bundleId=n,this.createTime=o,this.version=a}TE.store="bundles",TE.keyPath="bundleId";function IE(n,o,a){this.name=n,this.readTime=o,this.bundledQuery=a}IE.store="namedQueries",IE.keyPath="name";var QJ,wIe=an(an([],an(an([],an(an([],an(an([],[ig.store,hi.store,Oa.store,zi.store,ec.store,Gc.store,Qc.store,Qs.store]),[uv.store])),[wd.store])),[Z0.store])),[TE.store,IE.store]),YJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xe=(F6.prototype.addOnCommittedListener=function(n){this.onCommittedListeners.push(n)},F6.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(n){return n()})},F6),Na=function(){var n=this;this.promise=new Promise(function(o,a){n.resolve=o,n.reject=a})},gt=(Ri.prototype.catch=function(n){return this.next(void 0,n)},Ri.prototype.next=function(n,o){var a=this;return this.callbackAttached&&Qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new Ri(function(c,f){a.nextCallback=function(p){a.wrapSuccess(n,p).next(c,f)},a.catchCallback=function(p){a.wrapFailure(o,p).next(c,f)}})},Ri.prototype.toPromise=function(){var n=this;return new Promise(function(o,a){n.next(o,a)})},Ri.prototype.wrapUserFunction=function(n){try{var o=n();return o instanceof Ri?o:Ri.resolve(o)}catch(a){return Ri.reject(a)}},Ri.prototype.wrapSuccess=function(n,o){return n?this.wrapUserFunction(function(){return n(o)}):Ri.resolve(o)},Ri.prototype.wrapFailure=function(n,o){return n?this.wrapUserFunction(function(){return n(o)}):Ri.reject(o)},Ri.resolve=function(n){return new Ri(function(o,a){o(n)})},Ri.reject=function(n){return new Ri(function(o,a){a(n)})},Ri.waitFor=function(n){return new Ri(function(o,a){var c=0,f=0,p=!1;n.forEach(function(b){++c,b.next(function(){++f,p&&f===c&&o()},function(_){return a(_)})}),p=!0,f===c&&o()})},Ri.or=function(n){for(var o=Ri.resolve(!1),a=0,c=n;a<c.length;a++)(function(f){o=o.next(function(p){return p?Ri.resolve(p):f()})})(c[a]);return o},Ri.forEach=function(n,o){var a=this,c=[];return n.forEach(function(f,p){c.push(o.call(a,f,p))}),this.waitFor(c)},Ri),XJ=(kE.open=function(n,o,a,c){try{return new kE(o,n.transaction(c,a))}catch(f){throw new cA(o,f)}},Object.defineProperty(kE.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),kE.prototype.abort=function(n){n&&this.ft.reject(n),this.aborted||(Tt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},kE.prototype.store=function(n){return n=this.transaction.objectStore(n),new EIe(n)},kE),CE=(gu.delete=function(n){return Tt("SimpleDb","Removing database:",n),nb(window.indexedDB.deleteDatabase(n)).toPromise()},gu.yt=function(){if(typeof indexedDB>"u")return!1;if(gu.gt())return!0;var n=Ip(),a=gu._t(n),o=0<a&&a<10,a=gu.Et(n),a=0<a&&a<4.5;return!(0<n.indexOf("MSIE ")||0<n.indexOf("Trident/")||0<n.indexOf("Edge/")||o||a)},gu.gt=function(){var n;return typeof process<"u"&&((n=process.env)===null||n===void 0?void 0:n.Tt)==="YES"},gu.It=function(n,o){return n.store(o)},gu._t=function(n){return n=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=n?n[1].split("_").slice(0,2).join("."):"-1",Number(n)},gu.Et=function(n){return n=n.match(/Android ([\d.]+)/i),n=n?n[1].split(".").slice(0,2).join("."):"-1",Number(n)},gu.prototype.At=function(n){return me(this,void 0,void 0,function(){var o,a=this;return ve(this,function(c){switch(c.label){case 0:return this.db?[3,2]:(Tt("SimpleDb","Opening database:",this.name),o=this,[4,new Promise(function(f,p){var b=indexedDB.open(a.name,a.version);b.onsuccess=function(_){_=_.target.result,f(_)},b.onblocked=function(){p(new cA(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},b.onerror=function(_){_=_.target.error,_.name==="VersionError"?p(new dt($e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):p(new cA(n,_))},b.onupgradeneeded=function(_){Tt("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',_.oldVersion);var T=_.target.result;a.wt.Rt(T,b.transaction,_.oldVersion,a.version).next(function(){Tt("SimpleDb","Database upgrade to version "+a.version+" complete")})}})]);case 1:o.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return a.bt(f)}),this.db)]}})})},gu.prototype.vt=function(n){this.bt=n,this.db&&(this.db.onversionchange=function(o){return n(o)})},gu.prototype.runTransaction=function(n,o,a,c){return me(this,void 0,void 0,function(){var f,p,b,_;return ve(this,function(T){switch(T.label){case 0:f=o==="readonly",p=0,_=function(){var k,N,j;return ve(this,function(V){switch(V.label){case 0:++p,V.label=1;case 1:return V.trys.push([1,4,,5]),[4,b.At(n)];case 2:return b.db=V.sent(),k=XJ.open(b.db,n,f?"readonly":"readwrite",a),N=c(k).catch(function(W){return k.abort(W),gt.reject(W)}).toPromise(),j={},N.catch(function(){}),[4,k.dt];case 3:return[2,(j.value=(V.sent(),N),j)];case 4:return N=V.sent(),j=N.name!=="FirebaseError"&&p<3,Tt("SimpleDb","Transaction failed with error:",N.message,"Retrying:",j),b.close(),j?[3,5]:[2,{value:Promise.reject(N)}];case 5:return[2]}})},b=this,T.label=1;case 1:return[5,_()];case 2:if(typeof(_=T.sent())=="object")return[2,_.value];T.label=3;case 3:return[3,1];case 4:return[2]}})})},gu.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},gu),_Ie=(Object.defineProperty(eb.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(eb.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(eb.prototype,"cursor",{set:function(n){this.Pt=n},enumerable:!1,configurable:!0}),eb.prototype.done=function(){this.Vt=!0},eb.prototype.Ct=function(n){this.St=n},eb.prototype.delete=function(){return nb(this.Pt.delete())},eb),cA=(Ct(JJ,QJ=dt),JJ);function JJ(n,o){var a=this;return(a=QJ.call(this,$e.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+o)||this).name="IndexedDbTransactionError",a}function eb(n){this.Pt=n,this.Vt=!1,this.St=null}function gu(n,o,a){this.name=n,this.version=o,this.wt=a,gu._t(Ip())===12.2&&To("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function kE(n,o){var a=this;this.action=n,this.transaction=o,this.aborted=!1,this.ft=new Na,this.transaction.oncomplete=function(){a.ft.resolve()},this.transaction.onabort=function(){o.error?a.ft.reject(new cA(n,o.error)):a.ft.resolve()},this.transaction.onerror=function(c){c=j6(c.target.error),a.ft.reject(new cA(n,c))}}function Ri(n){var o=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(function(a){o.isDone=!0,o.result=a,o.nextCallback&&o.nextCallback(a)},function(a){o.isDone=!0,o.error=a,o.catchCallback&&o.catchCallback(a)})}function F6(){this.onCommittedListeners=[]}function tb(n){return n.name==="IndexedDbTransactionError"}var EIe=(Yc.prototype.put=function(n,o){return n=o!==void 0?(Tt("SimpleDb","PUT",this.store.name,n,o),this.store.put(o,n)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",n),this.store.put(n)),nb(n)},Yc.prototype.add=function(n){return Tt("SimpleDb","ADD",this.store.name,n,n),nb(this.store.add(n))},Yc.prototype.get=function(n){var o=this;return nb(this.store.get(n)).next(function(a){return Tt("SimpleDb","GET",o.store.name,n,a=a===void 0?null:a),a})},Yc.prototype.delete=function(n){return Tt("SimpleDb","DELETE",this.store.name,n),nb(this.store.delete(n))},Yc.prototype.count=function(){return Tt("SimpleDb","COUNT",this.store.name),nb(this.store.count())},Yc.prototype.Nt=function(n,a){var a=this.cursor(this.options(n,a)),c=[];return this.xt(a,function(f,p){c.push(p)}).next(function(){return c})},Yc.prototype.kt=function(n,o){return Tt("SimpleDb","DELETE ALL",this.store.name),o=this.options(n,o),o.Ft=!1,o=this.cursor(o),this.xt(o,function(a,c,f){return f.delete()})},Yc.prototype.$t=function(n,o){o?a=n:(a={},o=n);var a=this.cursor(a);return this.xt(a,o)},Yc.prototype.Ot=function(n){var o=this.cursor({});return new gt(function(a,c){o.onerror=function(f){f=j6(f.target.error),c(f)},o.onsuccess=function(f){var p=f.target.result;p?n(p.primaryKey,p.value).next(function(b){b?p.continue():a()}):a()}})},Yc.prototype.xt=function(n,o){var a=[];return new gt(function(c,f){n.onerror=function(p){f(p.target.error)},n.onsuccess=function(p){var b,_=p.target.result;_?(b=new _Ie(_),(p=o(_.primaryKey,_.value,b))instanceof gt&&(p=p.catch(function(T){return b.done(),gt.reject(T)}),a.push(p)),b.isDone?c():b.Dt===null?_.continue():_.continue(b.Dt)):c()}}).next(function(){return gt.waitFor(a)})},Yc.prototype.options=function(n,o){var a;return n!==void 0&&(typeof n=="string"?a=n:o=n),{index:a,range:o}},Yc.prototype.cursor=function(n){var o="next";if(n.reverse&&(o="prev"),n.index){var a=this.store.index(n.index);return n.Ft?a.openKeyCursor(n.range,o):a.openCursor(n.range,o)}return this.store.openCursor(n.range,o)},Yc);function Yc(n){this.store=n}function nb(n){return new gt(function(o,a){n.onsuccess=function(c){c=c.target.result,o(c)},n.onerror=function(c){c=j6(c.target.error),a(c)}})}var ZJ=!1;function j6(n){var o=CE._t(Ip());if(12.2<=o&&o<13&&(o="An internal error was encountered in the Indexed Database server",0<=n.message.indexOf(o))){var a=new dt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+o+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ZJ||(ZJ=!0,setTimeout(function(){throw a},0)),a}return n}var eZ,tZ=(Ct(nZ,eZ=Xe),nZ);function nZ(n,o){var a=this;return(a=eZ.call(this)||this).Mt=n,a.currentSequenceNumber=o,a}function tc(n,o){return CE.It(n.Mt,o)}var U6=(AE.prototype.applyToRemoteDocument=function(n,o){for(var a,c,f,p,b,_,T=o.mutationResults,k=0;k<this.mutations.length;k++){var N=this.mutations[k];N.key.isEqual(n.key)&&(a=N,c=n,f=T[k],N=_=b=p=void 0,a instanceof iA?(b=c,_=f,N=(p=a).value.clone(),p=wJ(p.fieldTransforms,b,_.transformResults),N.setAll(p),b.convertToFoundDocument(_.version,N).setHasCommittedMutations()):a instanceof ng?(p=c,b=f,lD((_=a).precondition,p)?(N=wJ(_.fieldTransforms,p,b.transformResults),(a=p.data).setAll(bJ(_)),a.setAll(N),p.convertToFoundDocument(b.version,a).setHasCommittedMutations()):p.convertToUnknownDocument(b.version)):c.convertToNoDocument(f.version).setHasCommittedMutations())}},AE.prototype.applyToLocalView=function(n){for(var o=0,a=this.baseMutations;o<a.length;o++)(c=a[o]).key.isEqual(n.key)&&k6(c,n,this.localWriteTime);for(var c,f=0,p=this.mutations;f<p.length;f++)(c=p[f]).key.isEqual(n.key)&&k6(c,n,this.localWriteTime)},AE.prototype.applyToLocalDocumentSet=function(n){var o=this;this.mutations.forEach(function(f){var c=n.get(f.key),f=c;o.applyToLocalView(f),c.isValidDocument()||f.convertToNoDocument(qn.min())})},AE.prototype.keys=function(){return this.mutations.reduce(function(n,o){return n.add(o.key)},Rr())},AE.prototype.isEqual=function(n){return this.batchId===n.batchId&&dE(this.mutations,n.mutations,dJ)&&dE(this.baseMutations,n.baseMutations,dJ)},AE),SIe=($6.from=function(n,o,a){bn(n.mutations.length===a.length);for(var c=xJ,f=n.mutations,p=0;p<f.length;p++)c=c.insert(f[p].key,a[p].version);return new $6(n,o,a,c)},$6),gD=(rb.prototype.withSequenceNumber=function(n){return new rb(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},rb.prototype.withResumeToken=function(n,o){return new rb(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)},rb.prototype.withLastLimboFreeSnapshotVersion=function(n){return new rb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)},rb),rZ=function(n){this.Lt=n};function rb(n,o,a,c,f,p,b){f===void 0&&(f=qn.min()),p===void 0&&(p=qn.min()),b===void 0&&(b=vu.EMPTY_BYTE_STRING),this.target=n,this.targetId=o,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b}function $6(n,o,a,c){this.batch=n,this.commitVersion=o,this.mutationResults=a,this.docVersions=c}function AE(n,o,a,c){this.batchId=n,this.localWriteTime=o,this.baseMutations=a,this.mutations=c}function V6(n,o){if(o.document)return $J(n.Lt,o.document,!!o.hasCommittedMutations);if(o.noDocument){var c=Zt.fromSegments(o.noDocument.path),a=OE(o.noDocument.readTime),c=Ks.newNoDocument(c,a);return o.hasCommittedMutations?c.setHasCommittedMutations():c}return o.unknownDocument?(c=Zt.fromSegments(o.unknownDocument.path),a=OE(o.unknownDocument.version),Ks.newUnknownDocument(c,a)):Qt()}function iZ(n,o,f){var c=q6(f),f=o.key.path.popLast().toArray();if(o.isFoundDocument()){var p={name:aA(b=n.Lt,(_=o).key),fields:_.data.value.mapValue.fields,updateTime:sA(b,_.version.toTimestamp())},b=o.hasCommittedMutations;return new zi(null,null,p,b,c,f)}if(o.isNoDocument()){var _=o.key.path.toArray(),p=xE(o.version),b=o.hasCommittedMutations;return new zi(null,new yIe(_,p),null,b,c,f)}return o.isUnknownDocument()?(b=o.key.path.toArray(),o=xE(o.version),new zi(new bIe(b,o),null,null,!0,c,f)):Qt()}function q6(n){return n=n.toTimestamp(),[n.seconds,n.nanoseconds]}function oZ(n){return n=new Ju(n[0],n[1]),qn.fromTimestamp(n)}function xE(n){return n=n.toTimestamp(),new gIe(n.seconds,n.nanoseconds)}function OE(n){return n=new Ju(n.seconds,n.nanoseconds),qn.fromTimestamp(n)}function NE(n,o){for(var a=(o.baseMutations||[]).map(function(T){return VJ(n.Lt,T)}),c=0;c<o.mutations.length-1;++c){var f,p=o.mutations[c];c+1<o.mutations.length&&o.mutations[c+1].transform!==void 0&&(f=o.mutations[c+1],p.updateTransforms=f.transform.fieldTransforms,o.mutations.splice(c+1,1),++c)}var b=o.mutations.map(function(T){return VJ(n.Lt,T)}),_=Ju.fromMillis(o.localWriteTimeMs);return new U6(o.batchId,_,a,b)}function lA(n){var o=OE(n.readTime),a=n.lastLimboFreeSnapshotVersion!==void 0?OE(n.lastLimboFreeSnapshotVersion):qn.min(),c=n.query.documents!==void 0?(bn((c=n.query).documents.length===1),Ql(yE(FJ(c.documents[0])))):Ql(HJ(n.query));return new gD(c,n.targetId,0,n.lastListenSequenceNumber,o,a,vu.fromBase64String(n.resumeToken))}function sZ(p,o){var a=xE(o.snapshotVersion),c=xE(o.lastLimboFreeSnapshotVersion),f=(sD(o.target)?qJ:BJ)(p.Lt,o.target),p=o.resumeToken.toBase64();return new ec(o.targetId,Zk(o.target),a,p,o.sequenceNumber,c,f)}function B6(n){var o=HJ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?QX(o,o.limit,"L"):o}var TIe=(hA.prototype.getBundleMetadata=function(n,o){return aZ(n).get(o).next(function(a){if(a)return{id:(a=a).bundleId,createTime:OE(a.createTime),version:a.version}})},hA.prototype.saveBundleMetadata=function(n,o){return aZ(n).put({bundleId:(o=o).id,createTime:xE(hs(o.createTime)),version:o.version})},hA.prototype.getNamedQuery=function(n,o){return uZ(n).get(o).next(function(a){if(a)return{name:(a=a).name,query:B6(a.bundledQuery),readTime:OE(a.readTime)}})},hA.prototype.saveNamedQuery=function(n,o){return uZ(n).put({name:(o=o).name,readTime:xE(hs(o.readTime)),bundledQuery:o.bundledQuery})},hA);function hA(){}function aZ(n){return tc(n,TE.store)}function uZ(n){return tc(n,IE.store)}var IIe=(K6.prototype.addToCollectionParentIndex=function(n,o){return this.Bt.add(o),gt.resolve()},K6.prototype.getCollectionParents=function(n,o){return gt.resolve(this.Bt.getEntries(o))},K6),H6=(yD.prototype.add=function(f){var o=f.lastSegment(),a=f.popLast(),c=this.index[o]||new Ko(gr.comparator),f=!c.has(a);return this.index[o]=c.add(a),f},yD.prototype.has=function(o){var a=o.lastSegment(),o=o.popLast(),a=this.index[a];return a&&a.has(o)},yD.prototype.getEntries=function(n){return(this.index[n]||new Ko(gr.comparator)).toArray()},yD),CIe=(z6.prototype.addToCollectionParentIndex=function(n,o){var a=this;if(this.qt.has(o))return gt.resolve();var c=o.lastSegment(),f=o.popLast();return n.addOnCommittedListener(function(){a.qt.add(o)}),f={collectionId:c,parent:Gh(f)},cZ(n).put(f)},z6.prototype.getCollectionParents=function(n,o){var a=[],c=IDBKeyRange.bound([o,""],[xX(o),""],!1,!0);return cZ(n).Nt(c).next(function(f){for(var p=0,b=f;p<b.length;p++){var _=b[p];if(_.collectionId!==o)break;a.push(av(_.parent))}return a})},z6);function z6(){this.qt=new H6}function yD(){this.index={}}function K6(){this.Bt=new H6}function cZ(n){return tc(n,Z0.store)}var lZ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_d=(fA.withCacheSize=function(n){return new fA(n,fA.DEFAULT_COLLECTION_PERCENTILE,fA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},fA);function fA(n,o,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=a}function hZ(_,o,a){var c=_.store(hi.store),f=_.store(Oa.store),p=[],_=IDBKeyRange.only(a.batchId),b=0,_=c.$t({range:_},function(W,X,ne){return b++,ne.delete()});p.push(_.next(function(){bn(b===1)}));for(var T=[],k=0,N=a.mutations;k<N.length;k++){var j=N[k],V=Oa.key(o,j.key.path,a.batchId);p.push(f.delete(V)),T.push(j.key)}return gt.waitFor(p).next(function(){return T})}function bD(n){if(!n)return 0;var o;if(n.document)o=n.document;else if(n.unknownDocument)o=n.unknownDocument;else{if(!n.noDocument)throw Qt();o=n.noDocument}return JSON.stringify(o).length}_d.DEFAULT_COLLECTION_PERCENTILE=10,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_d.DEFAULT=new _d(41943040,_d.DEFAULT_COLLECTION_PERCENTILE,_d.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_d.DISABLED=new _d(-1,0,0);var kIe=(Wo.Qt=function(n,o,a,c){return bn(n.uid!==""),new Wo(n.isAuthenticated()?n.uid:"",o,a,c)},Wo.prototype.checkEmpty=function(n){var o=!0,a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return og(n).$t({index:hi.userMutationsIndex,range:a},function(c,f,p){o=!1,p.done()}).next(function(){return o})},Wo.prototype.addMutationBatch=function(n,o,a,c){var f=this,p=PE(n),b=og(n);return b.add({}).next(function(_){bn(typeof _=="number");for(var T,k,N,j,V,W=new U6(_,o,a,c),X=(T=f.R,k=f.userId,j=(N=W).baseMutations.map(function(wt){return vD(T.Lt,wt)}),V=N.mutations.map(function(wt){return vD(T.Lt,wt)}),new hi(k,N.batchId,N.localWriteTime.toMillis(),j,V)),ne=[],ae=new Ko(function(wt,le){return Yn(wt.canonicalString(),le.canonicalString())}),Ce=0,de=c;Ce<de.length;Ce++){var Je=de[Ce],Ke=Oa.key(f.userId,Je.key.path,_),ae=ae.add(Je.key.path.popLast());ne.push(b.put(X)),ne.push(p.put(Ke,Oa.PLACEHOLDER))}return ae.forEach(function(wt){ne.push(f.Ut.addToCollectionParentIndex(n,wt))}),n.addOnCommittedListener(function(){f.Kt[_]=W.keys()}),gt.waitFor(ne).next(function(){return W})})},Wo.prototype.lookupMutationBatch=function(n,o){var a=this;return og(n).get(o).next(function(c){return c?(bn(c.userId===a.userId),NE(a.R,c)):null})},Wo.prototype.jt=function(n,o){var a=this;return this.Kt[o]?gt.resolve(this.Kt[o]):this.lookupMutationBatch(n,o).next(function(c){return c?(c=c.keys(),a.Kt[o]=c):null})},Wo.prototype.getNextMutationBatchAfterBatchId=function(n,f){var a=this,c=f+1,f=IDBKeyRange.lowerBound([this.userId,c]),p=null;return og(n).$t({index:hi.userMutationsIndex,range:f},function(b,_,T){_.userId===a.userId&&(bn(_.batchId>=c),p=NE(a.R,_)),T.done()}).next(function(){return p})},Wo.prototype.getHighestUnacknowledgedBatchId=function(n){var o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),a=-1;return og(n).$t({index:hi.userMutationsIndex,range:o,reverse:!0},function(c,f,p){a=f.batchId,p.done()}).next(function(){return a})},Wo.prototype.getAllMutationBatches=function(n){var o=this,a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return og(n).Nt(hi.userMutationsIndex,a).next(function(c){return c.map(function(f){return NE(o.R,f)})})},Wo.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,o){var a=this,c=Oa.prefixForPath(this.userId,o.path),c=IDBKeyRange.lowerBound(c),f=[];return PE(n).$t({range:c},function(k,b,_){var T=k[0],N=k[1],k=k[2],N=av(N);if(T===a.userId&&o.path.isEqual(N))return og(n).get(k).next(function(j){if(!j)throw Qt();bn(j.userId===a.userId),f.push(NE(a.R,j))});_.done()}).next(function(){return f})},Wo.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,o){var a=this,c=new Ko(Yn),f=[];return o.forEach(function(p){var b=Oa.prefixForPath(a.userId,p.path),b=IDBKeyRange.lowerBound(b),b=PE(n).$t({range:b},function(j,T,k){var N=j[0],V=j[1],j=j[2],V=av(V);N===a.userId&&p.path.isEqual(V)?c=c.add(j):k.done()});f.push(b)}),gt.waitFor(f).next(function(){return a.Wt(n,c)})},Wo.prototype.getAllMutationBatchesAffectingQuery=function(n,p){var a=this,c=p.path,f=c.length+1,p=Oa.prefixForPath(this.userId,c),p=IDBKeyRange.lowerBound(p),b=new Ko(Yn);return PE(n).$t({range:p},function(j,T,k){var N=j[0],V=j[1],j=j[2],V=av(V);N===a.userId&&c.isPrefixOf(V)?V.length===f&&(b=b.add(j)):k.done()}).next(function(){return a.Wt(n,b)})},Wo.prototype.Wt=function(n,o){var a=this,c=[],f=[];return o.forEach(function(p){f.push(og(n).get(p).next(function(b){if(b===null)throw Qt();bn(b.userId===a.userId),c.push(NE(a.R,b))}))}),gt.waitFor(f).next(function(){return c})},Wo.prototype.removeMutationBatch=function(n,o){var a=this;return hZ(n.Mt,this.userId,o).next(function(c){return n.addOnCommittedListener(function(){a.Gt(o.batchId)}),gt.forEach(c,function(f){return a.referenceDelegate.markPotentiallyOrphaned(n,f)})})},Wo.prototype.Gt=function(n){delete this.Kt[n]},Wo.prototype.performConsistencyCheck=function(n){var o=this;return this.checkEmpty(n).next(function(c){if(!c)return gt.resolve();var c=IDBKeyRange.lowerBound(Oa.prefixForUser(o.userId)),f=[];return PE(n).$t({range:c},function(p,b,_){p[0]===o.userId?(p=av(p[1]),f.push(p)):_.done()}).next(function(){bn(f.length===0)})})},Wo.prototype.containsKey=function(n,o){return fZ(n,this.userId,o)},Wo.prototype.zt=function(n){var o=this;return dZ(n).get(this.userId).next(function(a){return a||new ig(o.userId,-1,"")})},Wo);function Wo(n,o,a,c){this.userId=n,this.R=o,this.Ut=a,this.referenceDelegate=c,this.Kt={}}function fZ(n,o,f){var f=Oa.prefixForPath(o,f.path),c=f[1],f=IDBKeyRange.lowerBound(f),p=!1;return PE(n).$t({range:f,Ft:!0},function(b,_,T){var k=b[0],N=b[1];b[2],k===o&&N===c&&(p=!0),T.done()}).next(function(){return p})}function og(n){return tc(n,hi.store)}function PE(n){return tc(n,Oa.store)}function dZ(n){return tc(n,ig.store)}var wD=(RE.prototype.next=function(){return this.Ht+=2,this.Ht},RE.Jt=function(){return new RE(0)},RE.Yt=function(){return new RE(-1)},RE),AIe=(Ki.prototype.allocateTargetId=function(n){var o=this;return this.Xt(n).next(function(a){var c=new wD(a.highestTargetId);return a.highestTargetId=c.next(),o.Zt(n,a).next(function(){return a.highestTargetId})})},Ki.prototype.getLastRemoteSnapshotVersion=function(n){return this.Xt(n).next(function(o){return qn.fromTimestamp(new Ju(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds))})},Ki.prototype.getHighestSequenceNumber=function(n){return this.Xt(n).next(function(o){return o.highestListenSequenceNumber})},Ki.prototype.setTargetsMetadata=function(n,o,a){var c=this;return this.Xt(n).next(function(f){return f.highestListenSequenceNumber=o,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),o>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=o),c.Zt(n,f)})},Ki.prototype.addTargetData=function(n,o){var a=this;return this.te(n,o).next(function(){return a.Xt(n).next(function(c){return c.targetCount+=1,a.ee(o,c),a.Zt(n,c)})})},Ki.prototype.updateTargetData=function(n,o){return this.te(n,o)},Ki.prototype.removeTargetData=function(n,o){var a=this;return this.removeMatchingKeysForTargetId(n,o.targetId).next(function(){return DE(n).delete(o.targetId)}).next(function(){return a.Xt(n)}).next(function(c){return bn(0<c.targetCount),--c.targetCount,a.Zt(n,c)})},Ki.prototype.removeTargets=function(n,o,a){var c=this,f=0,p=[];return DE(n).$t(function(b,_){_=lA(_),_.sequenceNumber<=o&&a.get(_.targetId)===null&&(f++,p.push(c.removeTargetData(n,_)))}).next(function(){return gt.waitFor(p)}).next(function(){return f})},Ki.prototype.forEachTarget=function(n,o){return DE(n).$t(function(a,c){c=lA(c),o(c)})},Ki.prototype.Xt=function(n){return pZ(n).get(Qc.key).next(function(o){return bn(o!==null),o})},Ki.prototype.Zt=function(n,o){return pZ(n).put(Qc.key,o)},Ki.prototype.te=function(n,o){return DE(n).put(sZ(this.R,o))},Ki.prototype.ee=function(n,o){var a=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,a=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,a=!0),a},Ki.prototype.getTargetCount=function(n){return this.Xt(n).next(function(o){return o.targetCount})},Ki.prototype.getTargetData=function(n,o){var a=Zk(o),a=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]),c=null;return DE(n).$t({range:a,index:ec.queryTargetsIndexName},function(f,p,b){p=lA(p),oD(o,p.target)&&(c=p,b.done())}).next(function(){return c})},Ki.prototype.addMatchingKeys=function(n,o,a){var c=this,f=[],p=sg(n);return o.forEach(function(b){var _=Gh(b.path);f.push(p.put(new Qs(a,_))),f.push(c.referenceDelegate.addReference(n,a,b))}),gt.waitFor(f)},Ki.prototype.removeMatchingKeys=function(n,o,a){var c=this,f=sg(n);return gt.forEach(o,function(p){var b=Gh(p.path);return gt.waitFor([f.delete([a,b]),c.referenceDelegate.removeReference(n,a,p)])})},Ki.prototype.removeMatchingKeysForTargetId=function(n,o){return n=sg(n),o=IDBKeyRange.bound([o],[o+1],!1,!0),n.delete(o)},Ki.prototype.getMatchingKeysForTargetId=function(c,a){var a=IDBKeyRange.bound([a],[a+1],!1,!0),c=sg(c),f=Rr();return c.$t({range:a,Ft:!0},function(p,b,_){p=av(p[1]),p=new Zt(p),f=f.add(p)}).next(function(){return f})},Ki.prototype.containsKey=function(n,a){var a=Gh(a.path),a=IDBKeyRange.bound([a],[xX(a)],!1,!0),c=0;return sg(n).$t({index:Qs.documentTargetsIndex,Ft:!0,range:a},function(f,p,b){var _=f[0];f[1],_!==0&&(c++,b.done())}).next(function(){return 0<c})},Ki.prototype.lt=function(n,o){return DE(n).get(o).next(function(a){return a?lA(a):null})},Ki);function Ki(n,o){this.referenceDelegate=n,this.R=o}function RE(n){this.Ht=n}function DE(n){return tc(n,ec.store)}function pZ(n){return tc(n,Qc.store)}function sg(n){return tc(n,Qs.store)}function ib(n){return me(this,void 0,void 0,function(){return ve(this,function(o){if(n.code!==$e.FAILED_PRECONDITION||n.message!==YJ)throw n;return Tt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function vZ(p,f){var a=p[0],c=p[1],p=f[0],f=f[1],p=Yn(a,p);return p===0?Yn(c,f):p}var xIe=(_D.prototype.ie=function(){return++this.se},_D.prototype.re=function(n){var o=[n,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(o):vZ(o,n=this.buffer.last())<0&&(this.buffer=this.buffer.delete(n).add(o))},Object.defineProperty(_D.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),_D),OIe=(dA.prototype.start=function(n){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(n)},dA.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(dA.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),dA.prototype.ue=function(n){var o=this,a=this.oe?3e5:6e4;Tt("LruGarbageCollector","Garbage collection scheduled in "+a+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,function(){return me(o,void 0,void 0,function(){var c;return ve(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,n.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return tb(c=f.sent())?(Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,ib(c)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(n)];case 8:return f.sent(),[2]}})})})},dA),NIe=(ag.prototype.calculateTargetCount=function(n,o){return this.ae.he(n).next(function(a){return Math.floor(o/100*a)})},ag.prototype.nthSequenceNumber=function(n,o){var a=this;if(o===0)return gt.resolve(Hc.o);var c=new xIe(o);return this.ae.forEachTarget(n,function(f){return c.re(f.sequenceNumber)}).next(function(){return a.ae.le(n,function(f){return c.re(f)})}).next(function(){return c.maxValue})},ag.prototype.removeTargets=function(n,o,a){return this.ae.removeTargets(n,o,a)},ag.prototype.removeOrphanedDocuments=function(n,o){return this.ae.removeOrphanedDocuments(n,o)},ag.prototype.collect=function(n,o){var a=this;return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(lZ)):this.getCacheSize(n).next(function(c){return c<a.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+a.params.cacheSizeCollectionThreshold),lZ):a.fe(n,o)})},ag.prototype.getCacheSize=function(n){return this.ae.getCacheSize(n)},ag.prototype.fe=function(n,o){var a,c,f,p,b,_,T,k=this,N=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(function(j){return c=j>k.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+k.params.maximumSequenceNumbersToCollect+" from "+j),k.params.maximumSequenceNumbersToCollect):j,p=Date.now(),k.nthSequenceNumber(n,c)}).next(function(j){return a=j,b=Date.now(),k.removeTargets(n,a,o)}).next(function(j){return f=j,_=Date.now(),k.removeOrphanedDocuments(n,a)}).next(function(j){return T=Date.now(),s6()<=Pn.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(p-N)+`ms
	Determined least recently used `+c+" in "+(b-p)+`ms
	Removed `+f+" targets in "+(_-b)+`ms
	Removed `+j+" documents in "+(T-_)+`ms
Total Duration: `+(T-N)+"ms"),gt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:j})})},ag),PIe=(yu.prototype.he=function(n){var o=this.de(n);return this.db.getTargetCache().getTargetCount(n).next(function(a){return o.next(function(c){return a+c})})},yu.prototype.de=function(n){var o=0;return this.le(n,function(a){o++}).next(function(){return o})},yu.prototype.forEachTarget=function(n,o){return this.db.getTargetCache().forEachTarget(n,o)},yu.prototype.le=function(n,o){return this.we(n,function(a,c){return o(c)})},yu.prototype.addReference=function(n,o,a){return ED(n,a)},yu.prototype.removeReference=function(n,o,a){return ED(n,a)},yu.prototype.removeTargets=function(n,o,a){return this.db.getTargetCache().removeTargets(n,o,a)},yu.prototype.markPotentiallyOrphaned=ED,yu.prototype._e=function(n,o){return c=o,f=!1,dZ(a=n).Ot(function(p){return fZ(a,p,c).next(function(b){return b&&(f=!0),gt.resolve(!b)})}).next(function(){return f});var a,c,f},yu.prototype.removeOrphanedDocuments=function(n,o){var a=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],p=0;return this.we(n,function(b,_){_<=o&&(_=a._e(n,b).next(function(T){if(!T)return p++,c.getEntry(n,b).next(function(){return c.removeEntry(b),sg(n).delete([0,Gh(b.path)])})}),f.push(_))}).next(function(){return gt.waitFor(f)}).next(function(){return c.apply(n)}).next(function(){return p})},yu.prototype.removeTarget=function(n,o){return o=o.withSequenceNumber(n.currentSequenceNumber),this.db.getTargetCache().updateTargetData(n,o)},yu.prototype.updateLimboDocument=ED,yu.prototype.we=function(c,o){var a,c=sg(c),f=Hc.o;return c.$t({index:Qs.documentTargetsIndex},function(p,b){var _=p[0];p[1],p=b.path,b=b.sequenceNumber,_===0?(f!==Hc.o&&o(new Zt(av(a)),f),f=b,a=p):f=Hc.o}).next(function(){f!==Hc.o&&o(new Zt(av(a)),f)})},yu.prototype.getCacheSize=function(n){return this.db.getRemoteDocumentCache().getSize(n)},yu);function yu(n,o){this.db=n,this.garbageCollector=new NIe(this,o)}function ag(n,o){this.ae=n,this.params=o}function dA(n,o){this.garbageCollector=n,this.asyncQueue=o,this.oe=!1,this.ce=null}function _D(n){this.ne=n,this.buffer=new Ko(vZ),this.se=0}function ED(n,o){return sg(n).put((n=n.currentSequenceNumber,new Qs(0,Gh(o.path),n)))}var mZ,LE=(ob.prototype.get=function(n){var o=this.mapKeyFn(n),o=this.inner[o];if(o!==void 0)for(var a=0,c=o;a<c.length;a++){var p=c[a],f=p[0],p=p[1];if(this.equalsFn(f,n))return p}},ob.prototype.has=function(n){return this.get(n)!==void 0},ob.prototype.set=function(n,o){var a=this.mapKeyFn(n),c=this.inner[a];if(c!==void 0){for(var f=0;f<c.length;f++)if(this.equalsFn(c[f][0],n))return void(c[f]=[n,o]);c.push([n,o])}else this.inner[a]=[[n,o]]},ob.prototype.delete=function(n){var o=this.mapKeyFn(n),a=this.inner[o];if(a===void 0)return!1;for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],n))return a.length===1?delete this.inner[o]:a.splice(c,1),!0;return!1},ob.prototype.forEach=function(n){G0(this.inner,function(o,a){for(var c=0,f=a;c<f.length;c++){var b=f[c],p=b[0],b=b[1];n(p,b)}})},ob.prototype.isEmpty=function(){return NX(this.inner)},ob),ke=(ug.prototype.getReadTime=function(n){return n=this.changes.get(n),n?n.readTime:qn.min()},ug.prototype.addEntry=function(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})},ug.prototype.removeEntry=function(n,o){o===void 0&&(o=null),this.assertNotApplied(),this.changes.set(n,{document:Ks.newInvalidDocument(n),readTime:o})},ug.prototype.getEntry=function(n,o){this.assertNotApplied();var a=this.changes.get(o);return a!==void 0?gt.resolve(a.document):this.getFromCache(n,o)},ug.prototype.getEntries=function(n,o){return this.getAllFromCache(n,o)},ug.prototype.apply=function(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)},ug.prototype.assertNotApplied=function(){},ug),RIe=(bu.prototype.addEntry=function(n,o,a){return cg(n).put(SD(o),a)},bu.prototype.removeEntry=function(n,o){return n=cg(n),o=SD(o),n.delete(o)},bu.prototype.updateMetadata=function(n,o){var a=this;return this.getMetadata(n).next(function(c){return c.byteSize+=o,a.me(n,c)})},bu.prototype.getEntry=function(n,o){var a=this;return cg(n).get(SD(o)).next(function(c){return a.ye(o,c)})},bu.prototype.ge=function(n,o){var a=this;return cg(n).get(SD(o)).next(function(c){return{document:a.ye(o,c),size:bD(c)}})},bu.prototype.getEntries=function(n,o){var a=this,c=Yl;return this.pe(n,o,function(f,p){p=a.ye(f,p),c=c.insert(f,p)}).next(function(){return c})},bu.prototype.Ee=function(n,o){var a=this,c=Yl,f=new xa(Zt.comparator);return this.pe(n,o,function(p,b){var _=a.ye(p,b);c=c.insert(p,_),f=f.insert(p,bD(b))}).next(function(){return{documents:c,Te:f}})},bu.prototype.pe=function(n,o,a){if(o.isEmpty())return gt.resolve();var c=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),f=o.getIterator(),p=f.getNext();return cg(n).$t({range:c},function(b,_,T){for(var k=Zt.fromSegments(b);p&&Zt.comparator(p,k)<0;)a(p,null),p=f.getNext();p&&p.isEqual(k)&&(a(p,_),p=f.hasNext()?f.getNext():null),p?T.Ct(p.path.toArray()):T.done()}).next(function(){for(;p;)a(p,null),p=f.hasNext()?f.getNext():null})},bu.prototype.getDocumentsMatchingQuery=function(n,o,a){var c,f=this,p=Yl,b=o.path.length+1,_={};return a.isEqual(qn.min())?(c=o.path.toArray(),_.range=IDBKeyRange.lowerBound(c)):(c=o.path.toArray(),a=q6(a),_.range=IDBKeyRange.lowerBound([c,a],!0),_.index=zi.collectionReadTimeIndex),cg(n).$t(_,function(T,k,N){T.length===b&&(k=V6(f.R,k),o.path.isPrefixOf(k.key.path)?nA(o,k)&&(p=p.insert(k.key,k)):N.done())}).next(function(){return p})},bu.prototype.newChangeBuffer=function(n){return new DIe(this,!!n&&n.trackRemovals)},bu.prototype.getSize=function(n){return this.getMetadata(n).next(function(o){return o.byteSize})},bu.prototype.getMetadata=function(n){return gZ(n).get(wd.key).next(function(o){return bn(!!o),o})},bu.prototype.me=function(n,o){return gZ(n).put(wd.key,o)},bu.prototype.ye=function(n,o){return o&&(o=V6(this.R,o),!o.isNoDocument()||!o.version.isEqual(qn.min()))?o:Ks.newInvalidDocument(n)},bu),DIe=(Ct(pA,mZ=ke),pA.prototype.applyChanges=function(n){var o=this,a=[],c=0,f=new Ko(function(p,b){return Yn(p.canonicalString(),b.canonicalString())});return this.changes.forEach(function(p,b){var _,T=o.Ae.get(p);b.document.isValidDocument()?(_=iZ(o.Ie.R,b.document,o.getReadTime(p)),f=f.add(p.path.popLast()),b=bD(_),c+=b-T,a.push(o.Ie.addEntry(n,p,_))):(c-=T,o.trackRemovals?(T=iZ(o.Ie.R,Ks.newNoDocument(p,qn.min()),o.getReadTime(p)),a.push(o.Ie.addEntry(n,p,T))):a.push(o.Ie.removeEntry(n,p)))}),f.forEach(function(p){a.push(o.Ie.Ut.addToCollectionParentIndex(n,p))}),a.push(this.Ie.updateMetadata(n,c)),gt.waitFor(a)},pA.prototype.getFromCache=function(n,o){var a=this;return this.Ie.ge(n,o).next(function(c){return a.Ae.set(o,c.size),c.document})},pA.prototype.getAllFromCache=function(n,o){var a=this;return this.Ie.Ee(n,o).next(function(c){var f=c.documents;return c.Te.forEach(function(p,b){a.Ae.set(p,b)}),f})},pA);function pA(n,o){var a=this;return(a=mZ.call(this)||this).Ie=n,a.trackRemovals=o,a.Ae=new LE(function(c){return c.toString()},function(c,f){return c.isEqual(f)}),a}function bu(n,o){this.R=n,this.Ut=o}function ug(){this.changes=new LE(function(n){return n.toString()},function(n,o){return n.isEqual(o)}),this.changesApplied=!1}function ob(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}function gZ(n){return tc(n,wd.store)}function cg(n){return tc(n,zi.store)}function SD(n){return n.path.toArray()}var LIe=(sb.prototype.Rt=function(n,o,a,c){var f=this;bn(a<c&&0<=a&&c<=11);var p=new XJ("createOrUpgrade",o);a<1&&1<=c&&(n.createObjectStore(Gc.store),(b=n).createObjectStore(ig.store,{keyPath:ig.keyPath}),b.createObjectStore(hi.store,{keyPath:hi.keyPath,autoIncrement:!0}).createIndex(hi.userMutationsIndex,hi.userMutationsKeyPath,{unique:!0}),b.createObjectStore(Oa.store),yZ(n),n.createObjectStore(zi.store));var b,_=gt.resolve();return a<3&&3<=c&&(a!==0&&((b=n).deleteObjectStore(Qs.store),b.deleteObjectStore(ec.store),b.deleteObjectStore(Qc.store),yZ(n)),_=_.next(function(){return T=p.store(Qc.store),k=new Qc(0,0,qn.min().toTimestamp(),0),T.put(Qc.key,k);var T,k})),a<4&&4<=c&&(_=(_=a!==0?_.next(function(){return T=n,(k=p).store(hi.store).Nt().next(function(V){T.deleteObjectStore(hi.store),T.createObjectStore(hi.store,{keyPath:hi.keyPath,autoIncrement:!0}).createIndex(hi.userMutationsIndex,hi.userMutationsKeyPath,{unique:!0});var j=k.store(hi.store),V=V.map(function(W){return j.put(W)});return gt.waitFor(V)});var T,k}):_).next(function(){n.createObjectStore(uv.store,{keyPath:uv.keyPath})})),a<5&&5<=c&&(_=_.next(function(){return f.Re(p)})),a<6&&6<=c&&(_=_.next(function(){return n.createObjectStore(wd.store),f.be(p)})),a<7&&7<=c&&(_=_.next(function(){return f.ve(p)})),a<8&&8<=c&&(_=_.next(function(){return f.Pe(n,p)})),a<9&&9<=c&&(_=_.next(function(){var T;(T=n).objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges"),(T=o.objectStore(zi.store)).createIndex(zi.readTimeIndex,zi.readTimeIndexPath,{unique:!1}),T.createIndex(zi.collectionReadTimeIndex,zi.collectionReadTimeIndexPath,{unique:!1})})),a<10&&10<=c&&(_=_.next(function(){return f.Ve(p)})),_=a<11&&11<=c?_.next(function(){n.createObjectStore(TE.store,{keyPath:TE.keyPath}),n.createObjectStore(IE.store,{keyPath:IE.keyPath})}):_},sb.prototype.be=function(n){var o=0;return n.store(zi.store).$t(function(a,c){o+=bD(c)}).next(function(){var a=new wd(o);return n.store(wd.store).put(wd.key,a)})},sb.prototype.Re=function(n){var o=this,a=n.store(ig.store),c=n.store(hi.store);return a.Nt().next(function(f){return gt.forEach(f,function(p){var b=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return c.Nt(hi.userMutationsIndex,b).next(function(_){return gt.forEach(_,function(T){return bn(T.userId===p.userId),T=NE(o.R,T),hZ(n,p.userId,T).next(function(){})})})})})},sb.prototype.ve=function(n){var o=n.store(Qs.store),a=n.store(zi.store);return n.store(Qc.store).get(Qc.key).next(function(c){var f=[];return a.$t(function(T,b){var _=new gr(T),T=[0,Gh(_)];f.push(o.get(T).next(function(k){return k?gt.resolve():o.put(new Qs(0,Gh(_),c.highestListenSequenceNumber))}))}).next(function(){return gt.waitFor(f)})})},sb.prototype.Pe=function(n,o){n.createObjectStore(Z0.store,{keyPath:Z0.keyPath});function a(p){if(f.add(p)){var b=p.lastSegment(),p=p.popLast();return c.put({collectionId:b,parent:Gh(p)})}}var c=o.store(Z0.store),f=new H6;return o.store(zi.store).$t({Ft:!0},function(p,b){return p=new gr(p),a(p.popLast())}).next(function(){return o.store(Oa.store).$t({Ft:!0},function(p,b){p[0];var _=p[1];return p[2],_=av(_),a(_.popLast())})})},sb.prototype.Ve=function(n){var o=this,a=n.store(ec.store);return a.$t(function(c,f){return f=lA(f),f=sZ(o.R,f),a.put(f)})},sb);function sb(n){this.R=n}function yZ(n){n.createObjectStore(Qs.store,{keyPath:Qs.keyPath}).createIndex(Qs.documentTargetsIndex,Qs.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ec.store,{keyPath:ec.keyPath}).createIndex(ec.queryTargetsIndexName,ec.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Qc.store)}var W6="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",MIe=(Xn.prototype.start=function(){var n=this;return this.je().then(function(){if(!n.isPrimary&&!n.allowTabSynchronization)throw new dt($e.FAILED_PRECONDITION,W6);return n.We(),n.Ge(),n.ze(),n.runTransaction("getHighestListenSequenceNumber","readonly",function(o){return n.qe.getHighestSequenceNumber(o)})}).then(function(o){n.Ne=new Hc(o,n.De)}).then(function(){n.xe=!0}).catch(function(o){return n.Be&&n.Be.close(),Promise.reject(o)})},Xn.prototype.He=function(n){var o=this;return this.Me=function(a){return me(o,void 0,void 0,function(){return ve(this,function(c){return this.started?[2,n(a)]:[2]})})},n(this.isPrimary)},Xn.prototype.setDatabaseDeletedListener=function(n){var o=this;this.Be.vt(function(a){return me(o,void 0,void 0,function(){return ve(this,function(c){switch(c.label){case 0:return a.newVersion===null?[4,n()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},Xn.prototype.setNetworkEnabled=function(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Se.enqueueAndForget(function(){return me(o,void 0,void 0,function(){return ve(this,function(a){switch(a.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},Xn.prototype.je=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(o){return TD(o).put(new uv(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.Je(o).next(function(a){a||(n.isPrimary=!1,n.Se.enqueueRetryable(function(){return n.Me(!1)}))})}).next(function(){return n.Ye(o)}).next(function(a){return n.isPrimary&&!a?n.Xe(o).next(function(){return!1}):!!a&&n.Ze(o).next(function(){return!0})})}).catch(function(o){if(tb(o))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",o),n.isPrimary;if(!n.allowTabSynchronization)throw o;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",o),!1}).then(function(o){n.isPrimary!==o&&n.Se.enqueueRetryable(function(){return n.Me(o)}),n.isPrimary=o})},Xn.prototype.Je=function(n){var o=this;return vA(n).get(Gc.key).next(function(a){return gt.resolve(o.tn(a))})},Xn.prototype.en=function(n){return TD(n).delete(this.clientId)},Xn.prototype.nn=function(){return me(this,void 0,void 0,function(){var n,o,a,c,f=this;return ve(this,function(p){switch(p.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(b){var _=tc(b,uv.store);return _.Nt().next(function(T){var k=f.rn(T,18e5),N=T.filter(function(j){return k.indexOf(j)===-1});return gt.forEach(N,function(j){return _.delete(j.clientId)}).next(function(){return N})})}).catch(function(){return[]})]);case 1:if(n=p.sent(),this.Qe)for(o=0,a=n;o<a.length;o++)c=a[o],this.Qe.removeItem(this.on(c.clientId));p.label=2;case 2:return[2]}})})},Xn.prototype.ze=function(){var n=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return n.je().then(function(){return n.nn()}).then(function(){return n.ze()})})},Xn.prototype.tn=function(n){return!!n&&n.ownerId===this.clientId},Xn.prototype.Ye=function(n){var o=this;return this.Ce?gt.resolve(!0):vA(n).get(Gc.key).next(function(a){if(a!==null&&o.sn(a.leaseTimestampMs,5e3)&&!o.cn(a.ownerId)){if(o.tn(a)&&o.networkEnabled)return!0;if(!o.tn(a)){if(!a.allowTabSynchronization)throw new dt($e.FAILED_PRECONDITION,W6);return!1}}return!(!o.networkEnabled||!o.inForeground)||TD(n).Nt().next(function(c){return o.rn(c,5e3).find(function(f){if(o.clientId!==f.clientId){var p=!o.networkEnabled&&f.networkEnabled,b=!o.inForeground&&f.inForeground,f=o.networkEnabled===f.networkEnabled;if(p||b&&f)return!0}return!1})===void 0})}).next(function(a){return o.isPrimary!==a&&Tt("IndexedDbPersistence","Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},Xn.prototype.shutdown=function(){return me(this,void 0,void 0,function(){var n=this;return ve(this,function(o){switch(o.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gc.store,uv.store],function(a){var c=new tZ(a,Hc.o);return n.Xe(c).next(function(){return n.en(c)})})];case 1:return o.sent(),this.Be.close(),this.ln(),[2]}})})},Xn.prototype.rn=function(n,o){var a=this;return n.filter(function(c){return a.sn(c.updateTimeMs,o)&&!a.cn(c.clientId)})},Xn.prototype.fn=function(){var n=this;return this.runTransaction("getActiveClients","readonly",function(o){return TD(o).Nt().next(function(a){return n.rn(a,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(Xn.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Xn.prototype.getMutationQueue=function(n){return kIe.Qt(n,this.R,this.Ut,this.referenceDelegate)},Xn.prototype.getTargetCache=function(){return this.qe},Xn.prototype.getRemoteDocumentCache=function(){return this.Ue},Xn.prototype.getIndexManager=function(){return this.Ut},Xn.prototype.getBundleCache=function(){return this.Ke},Xn.prototype.runTransaction=function(n,o,a){var c,f=this;return Tt("IndexedDbPersistence","Starting transaction:",n),this.Be.runTransaction(n,o==="readonly"?"readonly":"readwrite",wIe,function(p){return c=new tZ(p,f.Ne?f.Ne.next():Hc.o),o==="readwrite-primary"?f.Je(c).next(function(b){return!!b||f.Ye(c)}).next(function(b){if(!b)throw To("Failed to obtain primary lease for action '"+n+"'."),f.isPrimary=!1,f.Se.enqueueRetryable(function(){return f.Me(!1)}),new dt($e.FAILED_PRECONDITION,YJ);return a(c)}).next(function(b){return f.Ze(c).next(function(){return b})}):f.dn(c).next(function(){return a(c)})}).then(function(p){return c.raiseOnCommittedEvent(),p})},Xn.prototype.dn=function(n){var o=this;return vA(n).get(Gc.key).next(function(a){if(a!==null&&o.sn(a.leaseTimestampMs,5e3)&&!o.cn(a.ownerId)&&!o.tn(a)&&!(o.Ce||o.allowTabSynchronization&&a.allowTabSynchronization))throw new dt($e.FAILED_PRECONDITION,W6)})},Xn.prototype.Ze=function(n){var o=new Gc(this.clientId,this.allowTabSynchronization,Date.now());return vA(n).put(Gc.key,o)},Xn.yt=function(){return CE.yt()},Xn.prototype.Xe=function(n){var o=this,a=vA(n);return a.get(Gc.key).next(function(c){return o.tn(c)?(Tt("IndexedDbPersistence","Releasing primary lease."),a.delete(Gc.key)):gt.resolve()})},Xn.prototype.sn=function(n,o){var a=Date.now();return!(n<a-o||a<n&&(To("Detected an update time that is in the future: "+n+" > "+a),1))},Xn.prototype.We=function(){var n=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){n.Se.enqueueAndForget(function(){return n.inForeground=n.document.visibilityState==="visible",n.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},Xn.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},Xn.prototype.Ge=function(){var n,o=this;typeof((n=this.window)===null||n===void 0?void 0:n.addEventListener)=="function"&&(this.ke=function(){o.un(),!OR()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&o.Se.enterRestrictedMode(!0),o.Se.enqueueAndForget(function(){return o.shutdown()})},this.window.addEventListener("pagehide",this.ke))},Xn.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},Xn.prototype.cn=function(n){var o;try{var a=((o=this.Qe)===null||o===void 0?void 0:o.getItem(this.on(n)))!==null;return Tt("IndexedDbPersistence","Client '"+n+"' "+(a?"is":"is not")+" zombied in LocalStorage"),a}catch(c){return To("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},Xn.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(n){To("Failed to set zombie client id.",n)}},Xn.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},Xn.prototype.on=function(n){return"firestore_zombie_"+this.persistenceKey+"_"+n},Xn);function Xn(n,o,a,c,f,p,b,_,T,k){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=a,this.Se=f,this.window=p,this.document=b,this.De=T,this.Ce=k,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(N){return Promise.resolve()},!Xn.yt())throw new dt($e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new PIe(this,c),this.Le=o+"main",this.R=new rZ(_),this.Be=new CE(this.Le,11,new LIe(this.R)),this.qe=new AIe(this.referenceDelegate,this.R),this.Ut=new CIe,this.Ue=(o=this.R,_=this.Ut,new RIe(o,_)),this.Ke=new TIe,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,k===!1&&To("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function vA(n){return tc(n,Gc.store)}function TD(n){return tc(n,uv.store)}function G6(n,o){var a=n.projectId;return n.isDefaultDatabase||(a+="."+n.database),"firestore/"+o+"/"+a+"/"}function FIe(n,o){this.progress=n,this.wn=o}var bZ=(Qh.prototype.mn=function(n,o){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKey(n,o).next(function(c){return a.yn(n,o,c)})},Qh.prototype.yn=function(n,o,a){return this.Ue.getEntry(n,o).next(function(c){for(var f=0,p=a;f<p.length;f++)p[f].applyToLocalView(c);return c})},Qh.prototype.gn=function(n,o){n.forEach(function(a,c){for(var f=0,p=o;f<p.length;f++)p[f].applyToLocalView(c)})},Qh.prototype.pn=function(n,o){var a=this;return this.Ue.getEntries(n,o).next(function(c){return a.En(n,c).next(function(){return c})})},Qh.prototype.En=function(n,o){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(n,o).next(function(c){return a.gn(o,c)})},Qh.prototype.getDocumentsMatchingQuery=function(n,o,a){return c=o,Zt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0?this.Tn(n,o.path):T6(o)?this.In(n,o,a):this.An(n,o,a);var c},Qh.prototype.Tn=function(n,o){return this.mn(n,new Zt(o)).next(function(a){var c=O6;return c=a.isFoundDocument()?c.insert(a.key,a):c})},Qh.prototype.In=function(n,o,a){var c=this,f=o.collectionGroup,p=O6;return this.Ut.getCollectionParents(n,f).next(function(b){return gt.forEach(b,function(_){var T,T=(T=o,_=_.child(f),new ov(_,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));return c.An(n,T,a).next(function(k){k.forEach(function(N,j){p=p.insert(N,j)})})}).next(function(){return p})})},Qh.prototype.An=function(n,o,a){var c,f,p=this;return this.Ue.getDocumentsMatchingQuery(n,o,a).next(function(b){return c=b,p._n.getAllMutationBatchesAffectingQuery(n,o)}).next(function(b){return f=b,p.Rn(n,f,c).next(function(_){c=_;for(var T=0,k=f;T<k.length;T++)for(var N=k[T],j=0,V=N.mutations;j<V.length;j++){var W=V[j],X=W.key,ne=c.get(X);ne==null&&(ne=Ks.newInvalidDocument(X),c=c.insert(X,ne)),k6(W,ne,N.localWriteTime),ne.isFoundDocument()||(c=c.remove(X))}})}).next(function(){return c.forEach(function(b,_){nA(o,_)||(c=c.remove(b))}),c})},Qh.prototype.Rn=function(n,o,a){for(var c=Rr(),f=0,p=o;f<p.length;f++)for(var b=0,_=p[f].mutations;b<_.length;b++){var T=_[b];T instanceof ng&&a.get(T.key)===null&&(c=c.add(T.key))}var k=a;return this.Ue.getEntries(n,c).next(function(N){return N.forEach(function(j,V){V.isFoundDocument()&&(k=k.insert(j,V))}),k})},Qh),jIe=(Q6.Pn=function(n,o){for(var a=Rr(),c=Rr(),f=0,p=o.docChanges;f<p.length;f++){var b=p[f];switch(b.type){case 0:a=a.add(b.doc.key);break;case 1:c=c.add(b.doc.key)}}return new Q6(n,o.fromCache,a,c)},Q6),wZ=(ME.prototype.Vn=function(n){this.Sn=n},ME.prototype.getDocumentsMatchingQuery=function(n,o,a,c){var f=this;return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())||a.isEqual(qn.min())?this.Dn(n,o):this.Sn.pn(n,c).next(function(p){var b=f.Cn(o,p);return(uD(o)||cD(o))&&f.Nn(o.limitType,b,c,a)?f.Dn(n,o):(s6()<=Pn.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),I6(o)),f.Sn.getDocumentsMatchingQuery(n,o,a).next(function(_){return b.forEach(function(T){_=_.insert(T.key,T)}),_}))})},ME.prototype.Cn=function(n,o){var a=new Ko(XX(n));return o.forEach(function(c,f){nA(n,f)&&(a=a.add(f))}),a},ME.prototype.Nn=function(n,o,a,c){return a.size!==o.size?!0:(o=n==="F"?o.last():o.first(),!!o&&(o.hasPendingWrites||0<o.version.compareTo(c)))},ME.prototype.Dn=function(n,o){return s6()<=Pn.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",I6(o)),this.Sn.getDocumentsMatchingQuery(n,o,qn.min())},ME),UIe=(_Z.prototype.collectGarbage=function(n){var o=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(a){return n.collect(a,o.kn)})},_Z);function _Z(n,o,a,c){this.persistence=n,this.xn=o,this.R=c,this.kn=new xa(Yn),this.Fn=new LE(Zk,oD),this.$n=qn.min(),this._n=n.getMutationQueue(a),this.On=n.getRemoteDocumentCache(),this.qe=n.getTargetCache(),this.Mn=new bZ(this.On,this._n,this.persistence.getIndexManager()),this.Ke=n.getBundleCache(),this.xn.Vn(this.Mn)}function ME(){}function Q6(n,o,a,c){this.targetId=n,this.fromCache=o,this.bn=a,this.vn=c}function Qh(n,o,a){this.Ue=n,this._n=o,this.Ut=a}function EZ(n,o,a,c){return new UIe(n,o,a,c)}function SZ(n,o){return me(this,void 0,void 0,function(){var a,c,f,p;return ve(this,function(b){switch(b.label){case 0:return c=(a=n)._n,f=a.Mn,[4,a.persistence.runTransaction("Handle user change","readonly",function(_){var T;return a._n.getAllMutationBatches(_).next(function(k){return T=k,c=a.persistence.getMutationQueue(o),f=new bZ(a.On,c,a.persistence.getIndexManager()),c.getAllMutationBatches(_)}).next(function(k){for(var N=[],j=[],V=Rr(),W=0,X=T;W<X.length;W++){var ne=X[W];N.push(ne.batchId);for(var ae=0,Ce=ne.mutations;ae<Ce.length;ae++)var de=Ce[ae],V=V.add(de.key)}for(var Je=0,Ke=k;Je<Ke.length;Je++){var wt=Ke[Je];j.push(wt.batchId);for(var le=0,De=wt.mutations;le<De.length;le++){var lt=De[le];V=V.add(lt.key)}}return f.pn(_,V).next(function(Ft){return{Ln:Ft,removedBatchIds:N,addedBatchIds:j}})})})];case 1:return p=b.sent(),[2,(a._n=c,a.Mn=f,a.xn.Vn(a.Mn),p)]}})})}function $Ie(n,o){var a=n;return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(c){var f,p,b,_,T,k,N,j=o.batch.keys(),V=a.On.newChangeBuffer({trackRemovals:!0});return f=a,p=c,_=V,T=(b=o).batch,k=T.keys(),N=gt.resolve(),k.forEach(function(W){N=N.next(function(){return _.getEntry(p,W)}).next(function(X){var ne=b.docVersions.get(W);bn(ne!==null),X.version.compareTo(ne)<0&&(T.applyToRemoteDocument(X,b),X.isValidDocument()&&_.addEntry(X,b.commitVersion))})}),N.next(function(){return f._n.removeMutationBatch(p,T)}).next(function(){return V.apply(c)}).next(function(){return a._n.performConsistencyCheck(c)}).next(function(){return a.Mn.pn(c,j)})})}function TZ(n){var o=n;return o.persistence.runTransaction("Get last remote snapshot version","readonly",function(a){return o.qe.getLastRemoteSnapshotVersion(a)})}function VIe(n,o){var a=n,c=o.snapshotVersion,f=a.kn;return a.persistence.runTransaction("Apply remote event","readwrite-primary",function(p){var b=a.On.newChangeBuffer({trackRemovals:!0});f=a.kn;var _=[];o.targetChanges.forEach(function(N,j){var V,W,X,ne=f.get(j);ne&&(_.push(a.qe.removeMatchingKeys(p,N.removedDocuments,j).next(function(){return a.qe.addMatchingKeys(p,N.addedDocuments,j)})),0<(X=N.resumeToken).approximateByteSize()&&(V=ne.withResumeToken(X,c).withSequenceNumber(p.currentSequenceNumber),f=f.insert(j,V),W=ne,X=N,bn(0<(ne=V).resumeToken.approximateByteSize()),(W.resumeToken.approximateByteSize()===0||3e8<=ne.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()||0<X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size)&&_.push(a.qe.updateTargetData(p,V))))});var T,k=Yl;return o.documentUpdates.forEach(function(N,j){o.resolvedLimboDocuments.has(N)&&_.push(a.persistence.referenceDelegate.updateLimboDocument(p,N))}),_.push(IZ(p,b,o.documentUpdates,c,void 0).next(function(N){k=N})),c.isEqual(qn.min())||(T=a.qe.getLastRemoteSnapshotVersion(p).next(function(N){return a.qe.setTargetsMetadata(p,p.currentSequenceNumber,c)}),_.push(T)),gt.waitFor(_).next(function(){return b.apply(p)}).next(function(){return a.Mn.En(p,k)}).next(function(){return k})}).then(function(p){return a.kn=f,p})}function IZ(n,o,a,c,f){var p=Rr();return a.forEach(function(b){return p=p.add(b)}),o.getEntries(n,p).next(function(b){var _=Yl;return a.forEach(function(T,k){var N=b.get(T),j=(f==null?void 0:f.get(T))||c;k.isNoDocument()&&k.version.isEqual(qn.min())?(o.removeEntry(T,j),_=_.insert(T,k)):!N.isValidDocument()||0<k.version.compareTo(N.version)||k.version.compareTo(N.version)===0&&N.hasPendingWrites?(o.addEntry(k,j),_=_.insert(T,k)):Tt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",N.version," Watch version:",k.version)}),_})}function FE(n,o){var a=n;return a.persistence.runTransaction("Allocate target","readwrite",function(c){var f;return a.qe.getTargetData(c,o).next(function(p){return p?(f=p,gt.resolve(f)):a.qe.allocateTargetId(c).next(function(b){return f=new gD(o,b,0,c.currentSequenceNumber),a.qe.addTargetData(c,f).next(function(){return f})})})}).then(function(c){var f=a.kn.get(c.targetId);return(f===null||0<c.snapshotVersion.compareTo(f.snapshotVersion))&&(a.kn=a.kn.insert(c.targetId,c),a.Fn.set(o,c.targetId)),c})}function jE(n,o,a){return me(this,void 0,void 0,function(){var c,f,p;return ve(this,function(b){switch(b.label){case 0:f=(c=n).kn.get(o),p=a?"readwrite":"readwrite-primary",b.label=1;case 1:return b.trys.push([1,4,,5]),a?[3,3]:[4,c.persistence.runTransaction("Release target",p,function(_){return c.persistence.referenceDelegate.removeTarget(_,f)})];case 2:b.sent(),b.label=3;case 3:return[3,5];case 4:if(!tb(p=b.sent()))throw p;return Tt("LocalStore","Failed to update sequence numbers for target "+o+": "+p),[3,5];case 5:return c.kn=c.kn.remove(o),c.Fn.delete(f.target),[2]}})})}function ID(n,o,a){var c=n,f=qn.min(),p=Rr();return c.persistence.runTransaction("Execute query","readonly",function(b){return _=c,T=b,k=Ql(o),((_=(N=_).Fn.get(k))!==void 0?gt.resolve(N.kn.get(_)):N.qe.getTargetData(T,k)).next(function(j){if(j)return f=j.lastLimboFreeSnapshotVersion,c.qe.getMatchingKeysForTargetId(b,j.targetId).next(function(V){p=V})}).next(function(){return c.xn.getDocumentsMatchingQuery(b,o,a?f:qn.min(),a?p:Rr())}).next(function(j){return{documents:j,Bn:p}});var _,T,k,N})}function CZ(f,o){var a=f,c=a.qe,f=a.kn.get(o);return f?Promise.resolve(f.target):a.persistence.runTransaction("Get target data","readonly",function(p){return c.lt(p,o).next(function(b){return b?b.target:null})})}function kZ(n){var o=n;return o.persistence.runTransaction("Get new document changes","readonly",function(a){return c=o.On,f=a,a=o.$n,p=c,b=Yl,_=q6(a),a=cg(f),f=IDBKeyRange.lowerBound(_,!0),a.$t({index:zi.readTimeIndex,range:f},function(T,k){var N=V6(p.R,k);b=b.insert(N.key,N),_=k.readTime}).next(function(){return{wn:b,readTime:oZ(_)}});var c,f,p,b,_}).then(function(f){var c=f.wn,f=f.readTime;return o.$n=f,c})}function qIe(n){return me(this,void 0,void 0,function(){var o;return ve(this,function(a){return[2,(o=n).persistence.runTransaction("Synchronize last document change read time","readonly",function(c){return c=cg(c),f=qn.min(),c.$t({index:zi.readTimeIndex,reverse:!0},function(p,b,_){b.readTime&&(f=oZ(b.readTime)),_.done()}).next(function(){return f});var f}).then(function(c){o.$n=c})]})})}var AZ,xZ,BIe=(gA.prototype.getBundleMetadata=function(n,o){return gt.resolve(this.Qn.get(o))},gA.prototype.saveBundleMetadata=function(n,o){return this.Qn.set(o.id,{id:o.id,version:o.version,createTime:hs(o.createTime)}),gt.resolve()},gA.prototype.getNamedQuery=function(n,o){return gt.resolve(this.jn.get(o))},gA.prototype.saveNamedQuery=function(n,o){return this.jn.set(o.name,{name:(o=o).name,query:B6(o.bundledQuery),readTime:hs(o.readTime)}),gt.resolve()},gA),Y6=(Yh.prototype.isEmpty=function(){return this.Wn.isEmpty()},Yh.prototype.addReference=function(n,o){o=new fs(n,o),this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},Yh.prototype.Jn=function(n,o){var a=this;n.forEach(function(c){return a.addReference(c,o)})},Yh.prototype.removeReference=function(n,o){this.Yn(new fs(n,o))},Yh.prototype.Xn=function(n,o){var a=this;n.forEach(function(c){return a.removeReference(c,o)})},Yh.prototype.Zn=function(f){var o=this,a=new Zt(new gr([])),c=new fs(a,f),f=new fs(a,f+1),p=[];return this.zn.forEachInRange([c,f],function(b){o.Yn(b),p.push(b.key)}),p},Yh.prototype.ts=function(){var n=this;this.Wn.forEach(function(o){return n.Yn(o)})},Yh.prototype.Yn=function(n){this.Wn=this.Wn.delete(n),this.zn=this.zn.delete(n)},Yh.prototype.es=function(c){var o=new Zt(new gr([])),a=new fs(o,c),c=new fs(o,c+1),f=Rr();return this.zn.forEachInRange([a,c],function(p){f=f.add(p.key)}),f},Yh.prototype.containsKey=function(n){var o=new fs(n,0),o=this.Wn.firstAfterOrEqual(o);return o!==null&&n.isEqual(o.key)},Yh),fs=(X6.Gn=function(n,o){return Zt.comparator(n.key,o.key)||Yn(n.ns,o.ns)},X6.Hn=function(n,o){return Yn(n.ns,o.ns)||Zt.comparator(n.key,o.key)},X6),HIe=(ps.prototype.checkEmpty=function(n){return gt.resolve(this._n.length===0)},ps.prototype.addMutationBatch=function(n,o,a,c){var f=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],a=new U6(f,o,a,c),this._n.push(a);for(var p=0,b=c;p<b.length;p++){var _=b[p];this.rs=this.rs.add(new fs(_.key,f)),this.Ut.addToCollectionParentIndex(n,_.key.path.popLast())}return gt.resolve(a)},ps.prototype.lookupMutationBatch=function(n,o){return gt.resolve(this.os(o))},ps.prototype.getNextMutationBatchAfterBatchId=function(n,o){return o=this.cs(o+1),o=o<0?0:o,gt.resolve(this._n.length>o?this._n[o]:null)},ps.prototype.getHighestUnacknowledgedBatchId=function(){return gt.resolve(this._n.length===0?-1:this.ss-1)},ps.prototype.getAllMutationBatches=function(n){return gt.resolve(this._n.slice())},ps.prototype.getAllMutationBatchesAffectingDocumentKey=function(n,f){var a=this,c=new fs(f,0),f=new fs(f,Number.POSITIVE_INFINITY),p=[];return this.rs.forEachInRange([c,f],function(b){b=a.os(b.ns),p.push(b)}),gt.resolve(p)},ps.prototype.getAllMutationBatchesAffectingDocumentKeys=function(n,o){var a=this,c=new Ko(Yn);return o.forEach(function(b){var p=new fs(b,0),b=new fs(b,Number.POSITIVE_INFINITY);a.rs.forEachInRange([p,b],function(_){c=c.add(_.ns)})}),gt.resolve(this.us(c))},ps.prototype.getAllMutationBatchesAffectingQuery=function(n,f){var a=f.path,c=a.length+1,f=a;Zt.isDocumentKey(f)||(f=f.child(""));var f=new fs(new Zt(f),0),p=new Ko(Yn);return this.rs.forEachWhile(function(b){var _=b.key.path;return!!a.isPrefixOf(_)&&(_.length===c&&(p=p.add(b.ns)),!0)},f),gt.resolve(this.us(p))},ps.prototype.us=function(n){var o=this,a=[];return n.forEach(function(c){c=o.os(c),c!==null&&a.push(c)}),a},ps.prototype.removeMutationBatch=function(n,o){var a=this;bn(this.hs(o.batchId,"removed")===0),this._n.shift();var c=this.rs;return gt.forEach(o.mutations,function(f){var p=new fs(f.key,o.batchId);return c=c.delete(p),a.referenceDelegate.markPotentiallyOrphaned(n,f.key)}).next(function(){a.rs=c})},ps.prototype.Gt=function(n){},ps.prototype.containsKey=function(n,o){var a=new fs(o,0),a=this.rs.firstAfterOrEqual(a);return gt.resolve(o.isEqual(a&&a.key))},ps.prototype.performConsistencyCheck=function(n){return this._n.length,gt.resolve()},ps.prototype.hs=function(n,o){return this.cs(n)},ps.prototype.cs=function(n){return this._n.length===0?0:n-this._n[0].batchId},ps.prototype.os=function(n){return n=this.cs(n),n<0||n>=this._n.length?null:this._n[n]},ps),zIe=(cv.prototype.addEntry=function(n,o,a){var c=o.key,p=this.docs.get(c),f=p?p.size:0,p=this.ls(o);return this.docs=this.docs.insert(c,{document:o.clone(),size:p,readTime:a}),this.size+=p-f,this.Ut.addToCollectionParentIndex(n,c.path.popLast())},cv.prototype.removeEntry=function(n){var o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)},cv.prototype.getEntry=function(n,o){var a=this.docs.get(o);return gt.resolve(a?a.document.clone():Ks.newInvalidDocument(o))},cv.prototype.getEntries=function(n,o){var a=this,c=Yl;return o.forEach(function(f){var p=a.docs.get(f);c=c.insert(f,p?p.document.clone():Ks.newInvalidDocument(f))}),gt.resolve(c)},cv.prototype.getDocumentsMatchingQuery=function(n,o,a){for(var c=Yl,f=new Zt(o.path.child("")),p=this.docs.getIteratorFrom(f);p.hasNext();){var _=p.getNext(),b=_.key,T=_.value,_=T.document,T=T.readTime;if(!o.path.isPrefixOf(b.path))break;T.compareTo(a)<=0||nA(o,_)&&(c=c.insert(_.key,_.clone()))}return gt.resolve(c)},cv.prototype.fs=function(n,o){return gt.forEach(this.docs,function(a){return o(a)})},cv.prototype.newChangeBuffer=function(n){return new KIe(this)},cv.prototype.getSize=function(n){return gt.resolve(this.size)},cv),KIe=(Ct(mA,xZ=ke),mA.prototype.applyChanges=function(n){var o=this,a=[];return this.changes.forEach(function(c,f){f.document.isValidDocument()?a.push(o.Ie.addEntry(n,f.document,o.getReadTime(c))):o.Ie.removeEntry(c)}),gt.waitFor(a)},mA.prototype.getFromCache=function(n,o){return this.Ie.getEntry(n,o)},mA.prototype.getAllFromCache=function(n,o){return this.Ie.getEntries(n,o)},mA),WIe=(ds.prototype.forEachTarget=function(n,o){return this.ds.forEach(function(a,c){return o(c)}),gt.resolve()},ds.prototype.getLastRemoteSnapshotVersion=function(n){return gt.resolve(this.lastRemoteSnapshotVersion)},ds.prototype.getHighestSequenceNumber=function(n){return gt.resolve(this.ws)},ds.prototype.allocateTargetId=function(n){return this.highestTargetId=this.ys.next(),gt.resolve(this.highestTargetId)},ds.prototype.setTargetsMetadata=function(n,o,a){return a&&(this.lastRemoteSnapshotVersion=a),o>this.ws&&(this.ws=o),gt.resolve()},ds.prototype.te=function(n){this.ds.set(n.target,n);var o=n.targetId;o>this.highestTargetId&&(this.ys=new wD(o),this.highestTargetId=o),n.sequenceNumber>this.ws&&(this.ws=n.sequenceNumber)},ds.prototype.addTargetData=function(n,o){return this.te(o),this.targetCount+=1,gt.resolve()},ds.prototype.updateTargetData=function(n,o){return this.te(o),gt.resolve()},ds.prototype.removeTargetData=function(n,o){return this.ds.delete(o.target),this._s.Zn(o.targetId),--this.targetCount,gt.resolve()},ds.prototype.removeTargets=function(n,o,a){var c=this,f=0,p=[];return this.ds.forEach(function(b,_){_.sequenceNumber<=o&&a.get(_.targetId)===null&&(c.ds.delete(b),p.push(c.removeMatchingKeysForTargetId(n,_.targetId)),f++)}),gt.waitFor(p).next(function(){return f})},ds.prototype.getTargetCount=function(n){return gt.resolve(this.targetCount)},ds.prototype.getTargetData=function(n,o){return o=this.ds.get(o)||null,gt.resolve(o)},ds.prototype.addMatchingKeys=function(n,o,a){return this._s.Jn(o,a),gt.resolve()},ds.prototype.removeMatchingKeys=function(n,o,a){this._s.Xn(o,a);var c=this.persistence.referenceDelegate,f=[];return c&&o.forEach(function(p){f.push(c.markPotentiallyOrphaned(n,p))}),gt.waitFor(f)},ds.prototype.removeMatchingKeysForTargetId=function(n,o){return this._s.Zn(o),gt.resolve()},ds.prototype.getMatchingKeysForTargetId=function(n,o){return o=this._s.es(o),gt.resolve(o)},ds.prototype.containsKey=function(n,o){return gt.resolve(this._s.containsKey(o))},ds),GIe=(Jc.prototype.start=function(){return Promise.resolve()},Jc.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(Jc.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Jc.prototype.setDatabaseDeletedListener=function(){},Jc.prototype.setNetworkEnabled=function(){},Jc.prototype.getIndexManager=function(){return this.Ut},Jc.prototype.getMutationQueue=function(n){var o=this.gs[n.toKey()];return o||(o=new HIe(this.Ut,this.referenceDelegate),this.gs[n.toKey()]=o),o},Jc.prototype.getTargetCache=function(){return this.qe},Jc.prototype.getRemoteDocumentCache=function(){return this.Ue},Jc.prototype.getBundleCache=function(){return this.Ke},Jc.prototype.runTransaction=function(n,o,a){var c=this;Tt("MemoryPersistence","Starting transaction:",n);var f=new QIe(this.Ne.next());return this.referenceDelegate.Es(),a(f).next(function(p){return c.referenceDelegate.Ts(f).next(function(){return p})}).toPromise().then(function(p){return f.raiseOnCommittedEvent(),p})},Jc.prototype.Is=function(n,o){return gt.or(Object.values(this.gs).map(function(a){return function(){return a.containsKey(n,o)}}))},Jc),QIe=(Ct(OZ,AZ=Xe),OZ),YIe=(Xc.bs=function(n){return new Xc(n)},Object.defineProperty(Xc.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Qt()},enumerable:!1,configurable:!0}),Xc.prototype.addReference=function(n,o,a){return this.As.addReference(a,o),this.vs.delete(a.toString()),gt.resolve()},Xc.prototype.removeReference=function(n,o,a){return this.As.removeReference(a,o),this.vs.add(a.toString()),gt.resolve()},Xc.prototype.markPotentiallyOrphaned=function(n,o){return this.vs.add(o.toString()),gt.resolve()},Xc.prototype.removeTarget=function(n,o){var a=this;this.As.Zn(o.targetId).forEach(function(f){return a.vs.add(f.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(n,o.targetId).next(function(f){f.forEach(function(p){return a.vs.add(p.toString())})}).next(function(){return c.removeTargetData(n,o)})},Xc.prototype.Es=function(){this.Rs=new Set},Xc.prototype.Ts=function(n){var o=this,a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.vs,function(c){var f=Zt.fromPath(c);return o.Ps(n,f).next(function(p){p||a.removeEntry(f)})}).next(function(){return o.Rs=null,a.apply(n)})},Xc.prototype.updateLimboDocument=function(n,o){var a=this;return this.Ps(n,o).next(function(c){c?a.vs.delete(o.toString()):a.vs.add(o.toString())})},Xc.prototype.ps=function(n){return 0},Xc.prototype.Ps=function(n,o){var a=this;return gt.or([function(){return gt.resolve(a.As.containsKey(o))},function(){return a.persistence.getTargetCache().containsKey(n,o)},function(){return a.persistence.Is(n,o)}])},Xc),Ys=(CD.prototype.isAuthenticated=function(){return this.uid!=null},CD.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},CD.prototype.isEqual=function(n){return n.uid===this.uid},CD);function CD(n){this.uid=n}function Xc(n){this.persistence=n,this.As=new Y6,this.Rs=null}function OZ(n){var o=this;return(o=AZ.call(this)||this).currentSequenceNumber=n,o}function Jc(n,o){var a=this;this.gs={},this.Ne=new Hc(0),this.xe=!1,this.xe=!0,this.referenceDelegate=n(this),this.qe=new WIe(this),this.Ut=new IIe,this.Ue=(n=this.Ut,new zIe(n,function(c){return a.referenceDelegate.ps(c)})),this.R=new rZ(o),this.Ke=new BIe(this.R)}function ds(n){this.persistence=n,this.ds=new LE(Zk,oD),this.lastRemoteSnapshotVersion=qn.min(),this.highestTargetId=0,this.ws=0,this._s=new Y6,this.targetCount=0,this.ys=wD.Jt()}function mA(n){var o=this;return(o=xZ.call(this)||this).Ie=n,o}function cv(n,o){this.Ut=n,this.ls=o,this.docs=new xa(Zt.comparator),this.size=0}function ps(n,o){this.Ut=n,this.referenceDelegate=o,this._n=[],this.ss=1,this.rs=new Ko(fs.Gn)}function X6(n,o){this.key=n,this.ns=o}function Yh(){this.Wn=new Ko(fs.Gn),this.zn=new Ko(fs.Hn)}function gA(n){this.R=n,this.Qn=new Map,this.jn=new Map}function NZ(n,o){return"firestore_clients_"+n+"_"+o}function PZ(n,o,a){return a="firestore_mutations_"+n+"_"+a,o.isAuthenticated()&&(a+="_"+o.uid),a}function J6(n,o){return"firestore_targets_"+n+"_"+o}Ys.UNAUTHENTICATED=new Ys(null),Ys.GOOGLE_CREDENTIALS=new Ys("google-credentials-uid"),Ys.FIRST_PARTY=new Ys("first-party-uid"),Ys.MOCK_USER=new Ys("mock-user");var RZ,DZ=(OD.Vs=function(n,o,a){var c,f=JSON.parse(a),p=typeof f=="object"&&["pending","acknowledged","rejected"].indexOf(f.state)!==-1&&(f.error===void 0||typeof f.error=="object");return p&&f.error&&(p=typeof f.error.message=="string"&&typeof f.error.code=="string")&&(c=new dt(f.error.code,f.error.message)),p?new OD(n,o,f.state,c):(To("SharedClientState","Failed to parse mutation state for ID '"+o+"': "+a),null)},OD.prototype.Ss=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},OD),Z6=(xD.Vs=function(n,o){var a,c=JSON.parse(o),f=typeof c=="object"&&["not-current","current","rejected"].indexOf(c.state)!==-1&&(c.error===void 0||typeof c.error=="object");return f&&c.error&&(f=typeof c.error.message=="string"&&typeof c.error.code=="string")&&(a=new dt(c.error.code,c.error.message)),f?new xD(n,c.state,a):(To("SharedClientState","Failed to parse target state for ID '"+n+"': "+o),null)},xD.prototype.Ss=function(){var n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)},xD),LZ=(iV.Vs=function(n,o){for(var a=JSON.parse(o),c=typeof a=="object"&&a.activeTargetIds instanceof Array,f=dD,p=0;c&&p<a.activeTargetIds.length;++p)c=PX(a.activeTargetIds[p]),f=f.add(a.activeTargetIds[p]);return c?new iV(n,f):(To("SharedClientState","Failed to parse client data for instance '"+n+"': "+o),null)},iV),XIe=(rV.Vs=function(n){var o=JSON.parse(n);return typeof o=="object"&&["Unknown","Online","Offline"].indexOf(o.onlineState)!==-1&&typeof o.clientId=="string"?new rV(o.clientId,o.onlineState):(To("SharedClientState","Failed to parse online state: "+n),null)},rV),eV=(AD.prototype.Ds=function(n){this.activeTargetIds=this.activeTargetIds.add(n)},AD.prototype.Cs=function(n){this.activeTargetIds=this.activeTargetIds.delete(n)},AD.prototype.Ss=function(){var n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)},AD),tV=(Bn.yt=function(n){return!(!n||!n.localStorage)},Bn.prototype.start=function(){return me(this,void 0,void 0,function(){var n,o,a,c,f,p,b,_,T,k,N=this;return ve(this,function(j){switch(j.label){case 0:return[4,this.syncEngine.fn()];case 1:for(p=j.sent(),n=0,o=p;n<o.length;n++)(a=o[n])!==this.Ns&&(c=this.getItem(NZ(this.persistenceKey,a)))&&(f=LZ.Vs(a,c))&&(this.Fs=this.Fs.insert(f.clientId,f));for(this.Qs(),(p=this.storage.getItem(this.Us))&&(b=this.js(p))&&this.Ws(b),_=0,T=this.$s;_<T.length;_++)k=T[_],this.ks(k);return this.$s=[],this.window.addEventListener("pagehide",function(){return N.shutdown()}),this.started=!0,[2]}})})},Bn.prototype.writeSequenceNumber=function(n){this.setItem(this.Ms,JSON.stringify(n))},Bn.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},Bn.prototype.isActiveQueryTarget=function(n){var o=!1;return this.Fs.forEach(function(a,c){c.activeTargetIds.has(n)&&(o=!0)}),o},Bn.prototype.addPendingMutation=function(n){this.zs(n,"pending")},Bn.prototype.updateMutationState=function(n,o,a){this.zs(n,o,a),this.Hs(n)},Bn.prototype.addLocalQueryTarget=function(n){var o,a="not-current";return this.isActiveQueryTarget(n)&&(!(o=this.storage.getItem(J6(this.persistenceKey,n)))||(o=Z6.Vs(n,o))&&(a=o.state)),this.Js.Ds(n),this.Qs(),a},Bn.prototype.removeLocalQueryTarget=function(n){this.Js.Cs(n),this.Qs()},Bn.prototype.isLocalQueryTarget=function(n){return this.Js.activeTargetIds.has(n)},Bn.prototype.clearQueryState=function(n){this.removeItem(J6(this.persistenceKey,n))},Bn.prototype.updateQueryState=function(n,o,a){this.Ys(n,o,a)},Bn.prototype.handleUserChange=function(n,o,a){var c=this;o.forEach(function(f){c.Hs(f)}),this.currentUser=n,a.forEach(function(f){c.addPendingMutation(f)})},Bn.prototype.setOnlineState=function(n){this.Xs(n)},Bn.prototype.notifyBundleLoaded=function(){this.Zs()},Bn.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},Bn.prototype.getItem=function(n){var o=this.storage.getItem(n);return Tt("SharedClientState","READ",n,o),o},Bn.prototype.setItem=function(n,o){Tt("SharedClientState","SET",n,o),this.storage.setItem(n,o)},Bn.prototype.removeItem=function(n){Tt("SharedClientState","REMOVE",n),this.storage.removeItem(n)},Bn.prototype.ks=function(n){var o=this,a=n;a.storageArea===this.storage&&(Tt("SharedClientState","EVENT",a.key,a.newValue),a.key!==this.Os?this.Se.enqueueRetryable(function(){return me(o,void 0,void 0,function(){var c,f,p,b;return ve(this,function(_){if(this.started){if(a.key!==null){if(this.Ls.test(a.key)){if(a.newValue==null)return c=this.ti(a.key),[2,this.ei(c,null)];if(c=this.ni(a.key,a.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(a.key)){if(a.newValue!==null&&(f=this.si(a.key,a.newValue)))return[2,this.ii(f)]}else if(this.qs.test(a.key)){if(a.newValue!==null&&(p=this.ri(a.key,a.newValue)))return[2,this.oi(p)]}else if(a.key===this.Us){if(a.newValue!==null&&(b=this.js(a.newValue)))return[2,this.Ws(b)]}else if(a.key===this.Ms)(b=function(T){var k=Hc.o;if(T!=null)try{var N=JSON.parse(T);bn(typeof N=="number"),k=N}catch(j){To("SharedClientState","Failed to read sequence number from WebStorage",j)}return k}(a.newValue))!==Hc.o&&this.sequenceNumberHandler(b);else if(a.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(a);return[2]})})}):To("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(Bn.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),Bn.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},Bn.prototype.zs=function(n,o,a){a=new DZ(this.currentUser,n,o,a),n=PZ(this.persistenceKey,this.currentUser,n),this.setItem(n,a.Ss())},Bn.prototype.Hs=function(n){n=PZ(this.persistenceKey,this.currentUser,n),this.removeItem(n)},Bn.prototype.Xs=function(n){n={clientId:this.Ns,onlineState:n},this.storage.setItem(this.Us,JSON.stringify(n))},Bn.prototype.Ys=function(n,o,f){var c=J6(this.persistenceKey,n),f=new Z6(n,o,f);this.setItem(c,f.Ss())},Bn.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},Bn.prototype.ti=function(n){return n=this.Ls.exec(n),n?n[1]:null},Bn.prototype.ni=function(n,o){return n=this.ti(n),LZ.Vs(n,o)},Bn.prototype.si=function(a,o){var c=this.Bs.exec(a),a=Number(c[1]),c=c[2]!==void 0?c[2]:null;return DZ.Vs(new Ys(c),a,o)},Bn.prototype.ri=function(n,o){return n=this.qs.exec(n),n=Number(n[1]),Z6.Vs(n,o)},Bn.prototype.js=function(n){return XIe.Vs(n)},Bn.prototype.ii=function(n){return me(this,void 0,void 0,function(){return ve(this,function(o){return n.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(n.batchId,n.state,n.error)]:(Tt("SharedClientState","Ignoring mutation for non-active user "+n.user.uid),[2])})})},Bn.prototype.oi=function(n){return this.syncEngine.ai(n.targetId,n.state,n.error)},Bn.prototype.ei=function(n,o){var a=this,c=o?this.Fs.insert(n,o):this.Fs.remove(n),f=this.Gs(this.Fs),p=this.Gs(c),b=[],_=[];return p.forEach(function(T){f.has(T)||b.push(T)}),f.forEach(function(T){p.has(T)||_.push(T)}),this.syncEngine.hi(b,_).then(function(){a.Fs=c})},Bn.prototype.Ws=function(n){this.Fs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)},Bn.prototype.Gs=function(n){var o=dD;return n.forEach(function(a,c){o=o.unionWith(c.activeTargetIds)}),o},Bn),MZ=(Pa.prototype.addPendingMutation=function(n){},Pa.prototype.updateMutationState=function(n,o,a){},Pa.prototype.addLocalQueryTarget=function(n){return this.li.Ds(n),this.fi[n]||"not-current"},Pa.prototype.updateQueryState=function(n,o,a){this.fi[n]=o},Pa.prototype.removeLocalQueryTarget=function(n){this.li.Cs(n)},Pa.prototype.isLocalQueryTarget=function(n){return this.li.activeTargetIds.has(n)},Pa.prototype.clearQueryState=function(n){delete this.fi[n]},Pa.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},Pa.prototype.isActiveQueryTarget=function(n){return this.li.activeTargetIds.has(n)},Pa.prototype.start=function(){return this.li=new eV,Promise.resolve()},Pa.prototype.handleUserChange=function(n,o,a){},Pa.prototype.setOnlineState=function(n){},Pa.prototype.shutdown=function(){},Pa.prototype.writeSequenceNumber=function(n){},Pa.prototype.notifyBundleLoaded=function(){},Pa),JIe=(nV.prototype.di=function(n){},nV.prototype.shutdown=function(){},nV),FZ=(ab.prototype.di=function(n){this.gi.push(n)},ab.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},ab.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},ab.prototype._i=function(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var n=0,o=this.gi;n<o.length;n++)(0,o[n])(0)},ab.prototype.yi=function(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var n=0,o=this.gi;n<o.length;n++)(0,o[n])(1)},ab.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},ab),ZIe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eCe=(lv.prototype.Ii=function(n){this.Ai=n},lv.prototype.Ri=function(n){this.bi=n},lv.prototype.onMessage=function(n){this.vi=n},lv.prototype.close=function(){this.Ti()},lv.prototype.send=function(n){this.Ei(n)},lv.prototype.Pi=function(){this.Ai()},lv.prototype.Vi=function(n){this.bi(n)},lv.prototype.Si=function(n){this.vi(n)},lv),tCe=(yA.prototype.Ni=function(n,o,a,c){var f=this.xi(n,o);return Tt("RestConnection","Sending: ",f,a),o={},this.ki(o,c),this.Fi(n,f,o,a).then(function(p){return Tt("RestConnection","Received: ",p),p},function(p){throw Qk("RestConnection",n+" failed with error: ",p,"url: ",f,"request:",a),p})},yA.prototype.$i=function(n,o,a,c){return this.Ni(n,o,a,c)},yA.prototype.ki=function(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(var a in o.authHeaders)o.authHeaders.hasOwnProperty(a)&&(n[a]=o.authHeaders[a])},yA.prototype.xi=function(n,o){return this.Di+"/v1/"+o+":"+ZIe[n]},Ct(kD,RZ=yA),kD.prototype.Fi=function(n,o,a,c){return new Promise(function(f,p){var b=new XTe;b.listenOnce(KTe.COMPLETE,function(){try{switch(b.getLastErrorCode()){case i6.NO_ERROR:var T=b.getResponseJson();Tt("Connection","XHR received:",JSON.stringify(T)),f(T);break;case i6.TIMEOUT:Tt("Connection",'RPC "'+n+'" timed out'),p(new dt($e.DEADLINE_EXCEEDED,"Request time out"));break;case i6.HTTP_ERROR:var k,N,j=b.getStatus();Tt("Connection",'RPC "'+n+'" failed with status:',j,"response text:",b.getResponseText()),0<j?(k=b.getResponseJson().error)&&k.status&&k.message?(V=k.status.toLowerCase().replace(/_/g,"-"),N=0<=Object.values($e).indexOf(V)?V:$e.UNKNOWN,p(new dt(N,k.message))):p(new dt($e.UNKNOWN,"Server responded with status "+b.getStatus())):p(new dt($e.UNAVAILABLE,"Connection failed."));break;default:Qt()}}finally{Tt("Connection",'RPC "'+n+'" completed.')}var V});var _=JSON.stringify(c);b.send(o,"POST",_,a,15)})},kD.prototype.Oi=function(k,o){var a=[this.Di,"/","google.firestore.v1.Firestore","/",k,"/channel"],c=new eD,f=zTe(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(k.xmlHttpFactory=new YTe({})),this.ki(k.initMessageHeaders,o),Cp()||NR()||0<=Ip().indexOf("Electron/")||0<=(o=Ip()).indexOf("MSIE ")||0<=o.indexOf("Trident/")||0<=Ip().indexOf("MSAppHost/")||iC()||(k.httpHeadersOverwriteParam="$httpHeaders"),a=a.join(""),Tt("Connection","Creating WebChannel: "+a,k);var p=c.createWebChannel(a,k),b=!1,_=!1,T=new eCe({Ei:function(N){_?Tt("Connection","Not sending because WebChannel is closed:",N):(b||(Tt("Connection","Opening WebChannel transport."),p.open(),b=!0),Tt("Connection","WebChannel sending:",N),p.send(N))},Ti:function(){return p.close()}}),k=function(N,j,V){N.listen(j,function(W){try{V(W)}catch(X){setTimeout(function(){throw X},0)}})};return k(p,tD.EventType.OPEN,function(){_||Tt("Connection","WebChannel transport opened.")}),k(p,tD.EventType.CLOSE,function(){_||(_=!0,Tt("Connection","WebChannel transport closed"),T.Vi())}),k(p,tD.EventType.ERROR,function(N){_||(_=!0,Qk("Connection","WebChannel transport errored:",N),T.Vi(new dt($e.UNAVAILABLE,"The operation could not be completed")))}),k(p,tD.EventType.MESSAGE,function(N){var j,V,W,X;_||(bn(!!(j=N.data[0])),(V=j.error||((X=j[0])===null||X===void 0?void 0:X.error))?(Tt("Connection","WebChannel received error:",V),W=V.status,N=function(){var ne=Co[W];if(ne!==void 0)return kJ(ne)}(),X=V.message,N===void 0&&(N=$e.INTERNAL,X="Unknown error status: "+W+" with message "+V.message),_=!0,T.Vi(new dt(N,X)),p.close()):(Tt("Connection","WebChannel received:",j),T.Si(j)))}),k(f,WTe.STAT_EVENT,function(N){N.stat===GTe?Tt("Connection","Detected buffering proxy"):N.stat===QTe&&Tt("Connection","Detected no buffering proxy")}),setTimeout(function(){T.Pi()},0),T},kD);function kD(n){var o=this;return(o=RZ.call(this,n)||this).forceLongPolling=n.forceLongPolling,o.autoDetectLongPolling=n.autoDetectLongPolling,o.useFetchStreams=n.useFetchStreams,o}function yA(n){this.databaseInfo=n,this.databaseId=n.databaseId;var o=n.ssl?"https":"http";this.Di=o+"://"+n.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function lv(n){this.Ei=n.Ei,this.Ti=n.Ti}function ab(){var n=this;this.wi=function(){return n._i()},this.mi=function(){return n.yi()},this.gi=[],this.pi()}function nV(){}function Pa(){this.li=new eV,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function Bn(n,o,a,c,f){this.window=n,this.Se=o,this.persistenceKey=a,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new xa(Yn),this.started=!1,this.$s=[],a=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=f,this.Os=NZ(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new eV),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function AD(){this.activeTargetIds=dD}function rV(n,o){this.clientId=n,this.onlineState=o}function iV(n,o){this.clientId=n,this.activeTargetIds=o}function xD(n,o,a){this.targetId=n,this.state=o,this.error=a}function OD(n,o,a,c){this.user=n,this.batchId=o,this.state=a,this.error=c}function jZ(){return typeof window<"u"?window:null}function ND(){return typeof document<"u"?document:null}function bA(n){return new pIe(n,!0)}function nCe(n,o,a,c,f){var p=this;this.localStore=n,this.datastore=o,this.asyncQueue=a,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=f,this.Lr.di(function(b){a.enqueueAndForget(function(){return me(p,void 0,void 0,function(){return ve(this,function(_){switch(_.label){case 0:return lg(this)?(Tt("RemoteStore","Restarting streams for network reachability change."),[4,function(T){return me(this,void 0,void 0,function(){var k;return ve(this,function(N){switch(N.label){case 0:return(k=T).Or.add(4),[4,VE(k)];case 1:return N.sent(),k.Br.set("Unknown"),k.Or.delete(4),[4,wA(k)];case 2:return N.sent(),[2]}})})}(this)]):[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})})}),this.Br=new sCe(a,c)}var UZ,oV,$Z,sV=(cb.prototype.reset=function(){this.qi=0},cb.prototype.Qi=function(){this.qi=this.Bi},cb.prototype.ji=function(n){var o=this;this.cancel();var a=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),f=Math.max(0,a-c);0<f&&Tt("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+a+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return o.Ki=Date.now(),n()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},cb.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},cb.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},cb.prototype.Wi=function(){return(Math.random()-.5)*this.qi},cb),ke=(Xs.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},Xs.prototype.er=function(){return this.state===2},Xs.prototype.start=function(){this.state!==3?this.auth():this.nr()},Xs.prototype.stop=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},Xs.prototype.sr=function(){this.state=0,this.Zi.reset()},Xs.prototype.ir=function(){var n=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return n.rr()}))},Xs.prototype.cr=function(n){this.ur(),this.stream.send(n)},Xs.prototype.rr=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){return this.er()?[2,this.close(0)]:[2]})})},Xs.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Xs.prototype.close=function(n,o){return me(this,void 0,void 0,function(){return ve(this,function(a){switch(a.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,n!==3?this.Zi.reset():o&&o.code===$e.RESOURCE_EXHAUSTED?(To(o.toString()),To("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):o&&o.code===$e.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=n,[4,this.listener.Ri(o)];case 1:return a.sent(),[2]}})})},Xs.prototype.ar=function(){},Xs.prototype.auth=function(){var n=this;this.state=1;var o=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(function(c){n.Yi===a&&n.lr(c)},function(c){o(function(){var f=new dt($e.UNKNOWN,"Fetching auth token failed: "+c.message);return n.dr(f)})})},Xs.prototype.lr=function(n){var o=this,a=this.hr(this.Yi);this.stream=this.wr(n),this.stream.Ii(function(){a(function(){return o.state=2,o.listener.Ii()})}),this.stream.Ri(function(c){a(function(){return o.dr(c)})}),this.stream.onMessage(function(c){a(function(){return o.onMessage(c)})})},Xs.prototype.nr=function(){var n=this;this.state=4,this.Zi.ji(function(){return me(n,void 0,void 0,function(){return ve(this,function(o){return this.state=0,this.start(),[2]})})})},Xs.prototype.dr=function(n){return Tt("PersistentStream","close with error: "+n),this.stream=null,this.close(3,n)},Xs.prototype.hr=function(n){var o=this;return function(a){o.Se.enqueueAndForget(function(){return o.Yi===n?a():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Xs),rCe=(Ct($E,$Z=ke),$E.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},$E.prototype.onMessage=function(a){this.Zi.reset();var o=function(c,f){if("targetChange"in f){f.targetChange;var p=(T=f.targetChange.targetChangeType||"NO_CHANGE")==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Qt(),b=f.targetChange.targetIds||[],_=(k=f.targetChange.resumeToken,c.I?(bn(k===void 0||typeof k=="string"),vu.fromBase64String(k||"")):(bn(k===void 0||k instanceof Uint8Array),vu.fromUint8Array(k||new Uint8Array))),T=(N=f.targetChange.cause)&&(j=(V=N).code===void 0?$e.UNKNOWN:kJ(V.code),new dt(j,V.message||"")),k=new NJ(p,b,_,T||null)}else if("documentChange"in f){f.documentChange,(p=f.documentChange).document,p.document.name,p.document.updateTime;var b=bd(c,p.document.name),_=hs(p.document.updateTime),N=new zc({mapValue:{fields:p.document.fields}}),j=(T=Ks.newFoundDocument(b,_,N),p.targetIds||[]),V=p.removedTargetIds||[];k=new pD(j,V,T.key,T)}else if("documentDelete"in f)f.documentDelete,(p=f.documentDelete).document,b=bd(c,p.document),_=p.readTime?hs(p.readTime):qn.min(),N=Ks.newNoDocument(b,_),T=p.removedTargetIds||[],k=new pD([],T,N.key,N);else if("documentRemove"in f)f.documentRemove,(p=f.documentRemove).document,b=bd(c,p.document),_=p.removedTargetIds||[],k=new pD([],_,b,null);else{if(!("filter"in f))return Qt();f.filter,f=f.filter,f.targetId,p=f.count||0,b=new cIe(p),_=f.targetId,k=new OJ(_,b)}return k}(this.R,a),a=function(c){return"targetChange"in c?(c=c.targetChange,(!c.targetIds||!c.targetIds.length)&&c.readTime?hs(c.readTime):qn.min()):qn.min()}(a);return this.listener._r(o,a)},$E.prototype.mr=function(b){var o,a,c,f={};f.database=uA(this.R),f.addTarget=(o=this.R,(c=sD(c=(a=b).target)?{documents:qJ(o,c)}:{query:BJ(o,c)}).targetId=a.targetId,0<a.resumeToken.approximateByteSize()?c.resumeToken=LJ(o,a.resumeToken):0<a.snapshotVersion.compareTo(qn.min())&&(c.readTime=sA(o,a.snapshotVersion.toTimestamp())),c);var p,b=(this.R,p=b,(b=function(){switch(p.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qt()}}())==null?null:{"goog-listen-tags":b});b&&(f.labels=b),this.cr(f)},$E.prototype.yr=function(n){var o={};o.database=uA(this.R),o.removeTarget=n,this.cr(o)},$E),iCe=(Ct(hv,oV=ke),Object.defineProperty(hv.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),hv.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,oV.prototype.start.call(this)},hv.prototype.ar=function(){this.gr&&this.Er([])},hv.prototype.wr=function(n){return this.Hi.Oi("Write",n)},hv.prototype.onMessage=function(n){if(bn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var o=(a=n.writeResults,c=n.commitTime,a&&0<a.length?(bn(c!==void 0),a.map(function(p){return _=c,(p=(b=p).updateTime?hs(b.updateTime):hs(_)).isEqual(qn.min())&&(p=hs(_)),new uIe(p,b.transformResults||[]);var b,_})):[]),a=hs(n.commitTime);return this.listener.Tr(a,o)}var a,c;return bn(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},hv.prototype.Ar=function(){var n={};n.database=uA(this.R),this.cr(n)},hv.prototype.Er=function(a){var o=this,a={streamToken:this.lastStreamToken,writes:a.map(function(c){return vD(o.R,c)})};this.cr(a)},hv),oCe=(Ct(UE,UZ=function(){}),UE.prototype.br=function(){if(this.Rr)throw new dt($e.FAILED_PRECONDITION,"The client has already been terminated.")},UE.prototype.Ni=function(n,o,a){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.Ni(n,o,a,f)}).catch(function(f){throw f.name==="FirebaseError"?(f.code===$e.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new dt($e.UNKNOWN,f.toString())})},UE.prototype.$i=function(n,o,a){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.$i(n,o,a,f)}).catch(function(f){throw f.name==="FirebaseError"?(f.code===$e.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new dt($e.UNKNOWN,f.toString())})},UE.prototype.terminate=function(){this.Rr=!0},UE),sCe=(ub.prototype.Sr=function(){var n=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return n.Pr=null,n.Cr("Backend didn't respond within 10 seconds."),n.Dr("Offline"),Promise.resolve()}))},ub.prototype.Nr=function(n){this.state==="Online"?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+n.toString()),this.Dr("Offline")))},ub.prototype.set=function(n){this.kr(),this.vr=0,n==="Online"&&(this.Vr=!1),this.Dr(n)},ub.prototype.Dr=function(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))},ub.prototype.Cr=function(n){n="Could not reach Cloud Firestore backend. "+n+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`,this.Vr?(To(n),this.Vr=!1):Tt("OnlineStateTracker",n)},ub.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},ub);function ub(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function UE(n,o,a){var c=this;return(c=UZ.call(this)||this).credentials=n,c.Hi=o,c.R=a,c.Rr=!1,c}function hv(n,o,a,c,f){var p=this;return(p=oV.call(this,n,"write_stream_connection_backoff","write_stream_idle",o,a,f)||this).R=c,p.gr=!1,p}function $E(n,o,a,c,f){var p=this;return(p=$Z.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",o,a,f)||this).R=c,p}function Xs(n,o,a,c,f,p){this.Se=n,this.zi=a,this.Hi=c,this.Ji=f,this.listener=p,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sV(n,o)}function cb(n,o,a,c,f){a===void 0&&(a=1e3),c===void 0&&(c=1.5),f===void 0&&(f=6e4),this.Se=n,this.timerId=o,this.Mi=a,this.Li=c,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}function wA(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:if(!lg(n))return[3,4];o=0,a=n.Mr,c.label=1;case 1:return o<a.length?[4,(0,a[o])(!0)]:[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})}function VE(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:o=0,a=n.Mr,c.label=1;case 1:return o<a.length?[4,(0,a[o])(!1)]:[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})}function PD(n,o){n.$r.has(o.targetId)||(n.$r.set(o.targetId,o),cV(n)?uV(n):BE(n).er()&&aV(n,o))}function _A(c,o){var a=c,c=BE(a);a.$r.delete(o),c.er()&&VZ(a,o),a.$r.size===0&&(c.er()?c.ir():lg(a)&&a.Br.set("Unknown"))}function aV(n,o){n.qr.U(o.targetId),BE(n).mr(o)}function VZ(n,o){n.qr.U(o),BE(n).yr(o)}function uV(n){n.qr=new hIe({getRemoteKeysForTarget:function(o){return n.remoteSyncer.getRemoteKeysForTarget(o)},lt:function(o){return n.$r.get(o)||null}}),BE(n).start(),n.Br.Sr()}function cV(n){return lg(n)&&!BE(n).tr()&&0<n.$r.size}function lg(n){return n.Or.size===0}function qZ(n){n.qr=void 0}function aCe(n,o,a){return me(this,void 0,void 0,function(){var c,f;return ve(this,function(p){switch(p.label){case 0:if(n.Br.set("Online"),!(o instanceof NJ&&o.state===2&&o.cause))return[3,6];p.label=1;case 1:return p.trys.push([1,3,,5]),[4,function(k,N){return me(this,void 0,void 0,function(){var j,V,W,X;return ve(this,function(ne){switch(ne.label){case 0:j=N.cause,V=0,W=N.targetIds,ne.label=1;case 1:return V<W.length?(X=W[V],k.$r.has(X)?[4,k.remoteSyncer.rejectListen(X,j)]:[3,3]):[3,5];case 2:ne.sent(),k.$r.delete(X),k.qr.removeTarget(X),ne.label=3;case 3:ne.label=4;case 4:return V++,[3,1];case 5:return[2]}})})}(n,o)];case 2:return p.sent(),[3,5];case 3:return c=p.sent(),Tt("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),c),[4,RD(n,c)];case 4:return p.sent(),[3,5];case 5:return[3,13];case 6:if(o instanceof pD?n.qr.X(o):o instanceof OJ?n.qr.rt(o):n.qr.et(o),a.isEqual(qn.min()))return[3,13];p.label=7;case 7:return p.trys.push([7,11,,13]),[4,TZ(n.localStore)];case 8:return f=p.sent(),0<=a.compareTo(f)?[4,(_=a,(T=(b=n).qr.ut(_)).targetChanges.forEach(function(k,N){var j;0<k.resumeToken.approximateByteSize()&&(j=b.$r.get(N))&&b.$r.set(N,j.withResumeToken(k.resumeToken,_))}),T.targetMismatches.forEach(function(k){var N=b.$r.get(k);N&&(b.$r.set(k,N.withResumeToken(vu.EMPTY_BYTE_STRING,N.snapshotVersion)),VZ(b,k),N=new gD(N.target,k,1,N.sequenceNumber),aV(b,N))}),b.remoteSyncer.applyRemoteEvent(T))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,13];case 11:return Tt("RemoteStore","Failed to raise snapshot:",f=p.sent()),[4,RD(n,f)];case 12:return p.sent(),[3,13];case 13:return[2]}var b,_,T})})}function RD(n,o,a){return me(this,void 0,void 0,function(){var c=this;return ve(this,function(f){switch(f.label){case 0:if(!tb(o))throw o;return n.Or.add(1),[4,VE(n)];case 1:return f.sent(),n.Br.set("Offline"),a=a||function(){return TZ(n.localStore)},n.asyncQueue.enqueueRetryable(function(){return me(c,void 0,void 0,function(){return ve(this,function(p){switch(p.label){case 0:return Tt("RemoteStore","Retrying IndexedDB access"),[4,a()];case 1:return p.sent(),n.Or.delete(1),[4,wA(n)];case 2:return p.sent(),[2]}})})}),[2]}})})}function BZ(n,o){return o().catch(function(a){return RD(n,a,o)})}function qE(n){return me(this,void 0,void 0,function(){var o,a,c,f;return ve(this,function(p){switch(p.label){case 0:a=hg(o=n),c=0<o.Fr.length?o.Fr[o.Fr.length-1].batchId:-1,p.label=1;case 1:if(!(lg(o)&&o.Fr.length<10))return[3,7];p.label=2;case 2:return p.trys.push([2,4,,6]),[4,(b=o.localStore,_=c,(T=b).persistence.runTransaction("Get next mutation batch","readonly",function(k){return _===void 0&&(_=-1),T._n.getNextMutationBatchAfterBatchId(k,_)}))];case 3:return(f=p.sent())===null?(o.Fr.length===0&&a.ir(),[3,7]):(c=f.batchId,function(k,N){k.Fr.push(N),k=hg(k),k.er()&&k.pr&&k.Er(N.mutations)}(o,f),[3,6]);case 4:return f=p.sent(),[4,RD(o,f)];case 5:return p.sent(),[3,6];case 6:return[3,1];case 7:return HZ(o)&&zZ(o),[2]}var b,_,T})})}function HZ(n){return lg(n)&&!hg(n).tr()&&0<n.Fr.length}function zZ(n){hg(n).start()}function lV(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return a=n,o?(a.Or.delete(2),[4,wA(a)]):[3,2];case 1:return c.sent(),[3,5];case 2:return o?[3,4]:(a.Or.add(2),[4,VE(a)]);case 3:c.sent(),a.Br.set("Unknown"),c.label=4;case 4:c.label=5;case 5:return[2]}})})}function BE(n){var o,a,c,f=this;return n.Ur||(n.Ur=(o=n.datastore,a=n.asyncQueue,c={Ii:function(p){return me(this,void 0,void 0,function(){return ve(this,function(b){return p.$r.forEach(function(_,T){aV(p,_)}),[2]})})}.bind(null,n),Ri:function(p,b){return me(this,void 0,void 0,function(){return ve(this,function(_){return qZ(p),cV(p)?(p.Br.Nr(b),uV(p)):p.Br.set("Unknown"),[2]})})}.bind(null,n),_r:aCe.bind(null,n)},o.br(),new rCe(a,o.Hi,o.credentials,o.R,c)),n.Mr.push(function(p){return me(f,void 0,void 0,function(){return ve(this,function(b){switch(b.label){case 0:return p?(n.Ur.sr(),cV(n)?uV(n):n.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:b.sent(),qZ(n),b.label=3;case 3:return[2]}})})})),n.Ur}function hg(n){var o,a,c,f=this;return n.Kr||(n.Kr=(o=n.datastore,a=n.asyncQueue,c={Ii:function(p){return me(this,void 0,void 0,function(){return ve(this,function(b){return hg(p).Ar(),[2]})})}.bind(null,n),Ri:function(p,b){return me(this,void 0,void 0,function(){return ve(this,function(_){switch(_.label){case 0:return b&&hg(p).pr?[4,function(T,k){return me(this,void 0,void 0,function(){var N,j;return ve(this,function(V){switch(V.label){case 0:return CJ(j=k.code)&&j!==$e.ABORTED?(N=T.Fr.shift(),hg(T).sr(),[4,BZ(T,function(){return T.remoteSyncer.rejectFailedWrite(N.batchId,k)})]):[3,3];case 1:return V.sent(),[4,qE(T)];case 2:V.sent(),V.label=3;case 3:return[2]}})})}(p,b)]:[3,2];case 1:_.sent(),_.label=2;case 2:return HZ(p)&&zZ(p),[2]}})})}.bind(null,n),Ir:function(p){return me(this,void 0,void 0,function(){var b,_,T,k;return ve(this,function(N){for(b=hg(p),_=0,T=p.Fr;_<T.length;_++)k=T[_],b.Er(k.mutations);return[2]})})}.bind(null,n),Tr:function(p,b,_){return me(this,void 0,void 0,function(){var T,k;return ve(this,function(N){switch(N.label){case 0:return T=p.Fr.shift(),k=SIe.from(T,b,_),[4,BZ(p,function(){return p.remoteSyncer.applySuccessfulWrite(k)})];case 1:return N.sent(),[4,qE(p)];case 2:return N.sent(),[2]}})})}.bind(null,n)},o.br(),new iCe(a,o.Hi,o.credentials,o.R,c)),n.Mr.push(function(p){return me(f,void 0,void 0,function(){return ve(this,function(b){switch(b.label){case 0:return p?(n.Kr.sr(),[4,qE(n)]):[3,2];case 1:return b.sent(),[3,4];case 2:return[4,n.Kr.stop()];case 3:b.sent(),0<n.Fr.length&&(Tt("RemoteStore","Stopping write stream with "+n.Fr.length+" pending writes"),n.Fr=[]),b.label=4;case 4:return[2]}})})})),n.Kr}var uCe=(fg.createAndSchedule=function(n,o,a,c,f){return f=new fg(n,o,Date.now()+a,c,f),f.start(a),f},fg.prototype.start=function(n){var o=this;this.timerHandle=setTimeout(function(){return o.handleDelayElapsed()},n)},fg.prototype.skipDelay=function(){return this.handleDelayElapsed()},fg.prototype.cancel=function(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt($e.CANCELLED,"Operation cancelled"+(n?": "+n:""))))},fg.prototype.handleDelayElapsed=function(){var n=this;this.asyncQueue.enqueueAndForget(function(){return n.timerHandle!==null?(n.clearTimeout(),n.op().then(function(o){return n.deferred.resolve(o)})):Promise.resolve()})},fg.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},fg);function fg(n,o,a,c,f){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=a,this.op=c,this.removalCallback=f,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(p){})}function HE(n,o){if(To("AsyncQueue",o+": "+n),tb(n))return new dt($e.UNAVAILABLE,o+": "+n);throw n}function cCe(){this.queries=new LE(YX,tA),this.onlineState="Unknown",this.Gr=new Set}var KZ=(vs.emptySet=function(n){return new vs(n.comparator)},vs.prototype.has=function(n){return this.keyedMap.get(n)!=null},vs.prototype.get=function(n){return this.keyedMap.get(n)},vs.prototype.first=function(){return this.sortedSet.minKey()},vs.prototype.last=function(){return this.sortedSet.maxKey()},vs.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},vs.prototype.indexOf=function(n){return n=this.keyedMap.get(n),n?this.sortedSet.indexOf(n):-1},Object.defineProperty(vs.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),vs.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(o,a){return n(o),!1})},vs.prototype.add=function(n){var o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))},vs.prototype.delete=function(n){var o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this},vs.prototype.isEqual=function(n){if(!(n instanceof vs)||this.size!==n.size)return!1;for(var o=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();o.hasNext();){var c=o.getNext().key,f=a.getNext().key;if(!c.isEqual(f))return!1}return!0},vs.prototype.toString=function(){var n=[];return this.forEach(function(o){n.push(o.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`},vs.prototype.copy=function(n,o){var a=new vs;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=o,a},vs),WZ=(hV.prototype.track=function(n){var o=n.doc.key,a=this.Qr.get(o);!a||n.type!==0&&a.type===3?this.Qr=this.Qr.insert(o,n):n.type===3&&a.type!==1?this.Qr=this.Qr.insert(o,{type:a.type,doc:n.doc}):n.type===2&&a.type===2?this.Qr=this.Qr.insert(o,{type:2,doc:n.doc}):n.type===2&&a.type===0?this.Qr=this.Qr.insert(o,{type:0,doc:n.doc}):n.type===1&&a.type===0?this.Qr=this.Qr.remove(o):n.type===1&&a.type===2?this.Qr=this.Qr.insert(o,{type:1,doc:a.doc}):n.type===0&&a.type===1?this.Qr=this.Qr.insert(o,{type:2,doc:n.doc}):Qt()},hV.prototype.jr=function(){var n=[];return this.Qr.inorderTraversal(function(o,a){n.push(a)}),n},hV),DD=(EA.fromInitialDocuments=function(n,o,a,c){var f=[];return o.forEach(function(p){f.push({type:0,doc:p})}),new EA(n,o,KZ.emptySet(o),f,a,c,!0,!1)},Object.defineProperty(EA.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),EA.prototype.isEqual=function(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&tA(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;var o=this.docChanges,a=n.docChanges;if(o.length!==a.length)return!1;for(var c=0;c<o.length;c++)if(o[c].type!==a[c].type||!o[c].doc.isEqual(a[c].doc))return!1;return!0},EA),lCe=function(){this.Wr=void 0,this.listeners=[]};function EA(n,o,a,c,f,p,b,_){this.query=n,this.docs=o,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=f,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=_}function hV(){this.Qr=new xa(Zt.comparator)}function vs(n){this.comparator=n?function(o,a){return n(o,a)||Zt.comparator(o.key,a.key)}:function(o,a){return Zt.comparator(o.key,a.key)},this.keyedMap=O6,this.sortedSet=new xa(this.comparator)}function fV(n,o){return me(this,void 0,void 0,function(){var a,c,f,p,b;return ve(this,function(_){switch(_.label){case 0:if(a=n,c=o.query,f=!1,(p=a.queries.get(c))||(f=!0,p=new lCe),!f)return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),b=p,[4,a.onListen(c)];case 2:return b.Wr=_.sent(),[3,4];case 3:return b=_.sent(),b=HE(b,"Initialization of query '"+I6(o.query)+"' failed"),[2,void o.onError(b)];case 4:return a.queries.set(c,p),p.listeners.push(o),o.zr(a.onlineState),p.Wr&&o.Hr(p.Wr)&&pV(a),[2]}})})}function dV(n,o){return me(this,void 0,void 0,function(){var a,c,f,p,b;return ve(this,function(_){return a=n,c=o.query,f=!1,(p=a.queries.get(c))&&0<=(b=p.listeners.indexOf(o))&&(p.listeners.splice(b,1),f=p.listeners.length===0),f?[2,(a.queries.delete(c),a.onUnlisten(c))]:[2]})})}function pV(n){n.Gr.forEach(function(o){o.next()})}var vV=(lb.prototype.Hr=function(n){if(!this.options.includeMetadataChanges){for(var o=[],a=0,c=n.docChanges;a<c.length;a++){var f=c[a];f.type!==3&&o.push(f)}n=new DD(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}var p=!1;return this.Yr?this.Zr(n)&&(this.Jr.next(n),p=!0):this.eo(n,this.onlineState)&&(this.no(n),p=!0),this.Xr=n,p},lb.prototype.onError=function(n){this.Jr.error(n)},lb.prototype.zr=function(n){this.onlineState=n;var o=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,n)&&(this.no(this.Xr),o=!0),o},lb.prototype.eo=function(n,o){return!n.fromCache||!(this.options.so&&o!=="Offline"||n.docs.isEmpty()&&o!=="Offline")},lb.prototype.Zr=function(n){if(0<n.docChanges.length)return!0;var o=this.Xr&&this.Xr.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!o)&&this.options.includeMetadataChanges===!0},lb.prototype.no=function(n){n=DD.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.Yr=!0,this.Jr.next(n)},lb),hCe=(QZ.prototype.io=function(){return"metadata"in this.payload},QZ),GZ=(MD.prototype.qn=function(n){return bd(this.R,n)},MD.prototype.Un=function(n){return n.metadata.exists?$J(this.R,n.document,!1):Ks.newNoDocument(this.qn(n.metadata.name),this.Kn(n.metadata.readTime))},MD.prototype.Kn=hs,MD),fCe=(LD.prototype.oo=function(n){this.progress.bytesLoaded+=n.byteLength;var o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null},LD.prototype.co=function(n){for(var o=new Map,a=new GZ(this.R),c=0,f=n;c<f.length;c++){var p=f[c];if(p.metadata.queries)for(var b=a.qn(p.metadata.name),_=0,T=p.metadata.queries;_<T.length;_++){var k=T[_],N=(o.get(k)||Rr()).add(b);o.set(k,N)}}return o},LD.prototype.complete=function(){return me(this,void 0,void 0,function(){var n,o,a,c;return ve(this,function(f){switch(f.label){case 0:return[4,function(p,b,_,T){return me(this,void 0,void 0,function(){var k,N,j,V,W,X,ne,ae,Ce,de;return ve(this,function(Je){switch(Je.label){case 0:for(k=p,N=Rr(),j=Yl,V=xJ,W=0,X=_;W<X.length;W++)ne=X[W],ae=b.qn(ne.metadata.name),ne.document&&(N=N.add(ae)),j=j.insert(ae,b.Un(ne)),V=V.insert(ae,b.Kn(ne.metadata.readTime));return Ce=k.On.newChangeBuffer({trackRemovals:!0}),[4,FE(k,Ql(yE(gr.fromString("__bundle__/docs/"+T))))];case 1:return de=Je.sent(),[2,k.persistence.runTransaction("Apply bundle documents","readwrite",function(Ke){return IZ(Ke,Ce,j,qn.min(),V).next(function(wt){return Ce.apply(Ke),wt}).next(function(wt){return k.qe.removeMatchingKeysForTargetId(Ke,de.targetId).next(function(){return k.qe.addMatchingKeys(Ke,N,de.targetId)}).next(function(){return k.Mn.En(Ke,wt)}).next(function(){return wt})})})]}})})}(this.localStore,new GZ(this.R),this.documents,this.ro.id)];case 1:n=f.sent(),o=this.co(this.documents),a=0,c=this.queries,f.label=2;case 2:return a<c.length?(c=c[a],[4,function(p,b,_){return _===void 0&&(_=Rr()),me(this,void 0,void 0,function(){var T,k;return ve(this,function(N){switch(N.label){case 0:return[4,FE(p,Ql(B6(b.bundledQuery)))];case 1:return T=N.sent(),[2,(k=p).persistence.runTransaction("Save named query","readwrite",function(j){var V=hs(b.readTime);return 0<=T.snapshotVersion.compareTo(V)?k.Ke.saveNamedQuery(j,b):(V=T.withResumeToken(vu.EMPTY_BYTE_STRING,V),k.kn=k.kn.insert(V.targetId,V),k.qe.updateTargetData(j,V).next(function(){return k.qe.removeMatchingKeysForTargetId(j,T.targetId)}).next(function(){return k.qe.addMatchingKeys(j,_,T.targetId)}).next(function(){return k.Ke.saveNamedQuery(j,b)}))})]}})})}(this.localStore,c,o.get(c.name))]):[3,5];case 3:f.sent(),f.label=4;case 4:return a++,[3,2];case 5:return[2,(this.progress.taskState="Success",new FIe(Object.assign({},this.progress),n))]}})})},LD);function LD(n,o,a){this.ro=n,this.localStore=o,this.R=a,this.queries=[],this.documents=[],this.progress=YZ(n)}function MD(n){this.R=n}function QZ(n,o){this.payload=n,this.byteLength=o}function lb(n,o,a){this.query=n,this.Jr=o,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=a||{}}function YZ(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var XZ=function(n){this.key=n},JZ=function(n){this.key=n},ZZ=(Object.defineProperty(Xh.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),Xh.prototype._o=function(n,o){var a=this,c=o?o.mo:new WZ,f=(o||this).fo,p=(o||this).mutatedKeys,b=f,_=!1,T=uD(this.query)&&f.size===this.query.limit?f.last():null,k=cD(this.query)&&f.size===this.query.limit?f.first():null;if(n.inorderTraversal(function(j,Ce){var W=f.get(j),X=nA(a.query,Ce)?Ce:null,ne=!!W&&a.mutatedKeys.has(W.key),ae=!!X&&(X.hasLocalMutations||a.mutatedKeys.has(X.key)&&X.hasCommittedMutations),Ce=!1;W&&X?W.data.isEqual(X.data)?ne!==ae&&(c.track({type:3,doc:X}),Ce=!0):a.yo(W,X)||(c.track({type:2,doc:X}),Ce=!0,(T&&0<a.lo(X,T)||k&&a.lo(X,k)<0)&&(_=!0)):!W&&X?(c.track({type:0,doc:X}),Ce=!0):W&&!X&&(c.track({type:1,doc:W}),Ce=!0,(T||k)&&(_=!0)),Ce&&(p=X?(b=b.add(X),ae?p.add(j):p.delete(j)):(b=b.delete(j),p.delete(j)))}),uD(this.query)||cD(this.query))for(;b.size>this.query.limit;){var N=uD(this.query)?b.last():b.first(),b=b.delete(N.key),p=p.delete(N.key);c.track({type:1,doc:N})}return{fo:b,mo:c,Nn:_,mutatedKeys:p}},Xh.prototype.yo=function(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations},Xh.prototype.applyChanges=function(n,T,_){var c=this,f=this.fo;this.fo=n.fo,this.mutatedKeys=n.mutatedKeys;var p=n.mo.jr();p.sort(function(k,N){return V=k.type,W=N.type,j(V)-j(W)||c.lo(k.doc,N.doc);function j(X){switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt()}}var V,W}),this.po(_);var b=T?this.Eo():[],_=this.ho.size===0&&this.current?1:0,T=_!==this.ao;return this.ao=_,p.length!==0||T?{snapshot:new DD(this.query,n.fo,f,p,n.mutatedKeys,_==0,T,!1),To:b}:{To:b}},Xh.prototype.zr=function(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new WZ,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Xh.prototype.Io=function(n){return!this.uo.has(n)&&!!this.fo.has(n)&&!this.fo.get(n).hasLocalMutations},Xh.prototype.po=function(n){var o=this;n&&(n.addedDocuments.forEach(function(a){return o.uo=o.uo.add(a)}),n.modifiedDocuments.forEach(function(a){}),n.removedDocuments.forEach(function(a){return o.uo=o.uo.delete(a)}),this.current=n.current)},Xh.prototype.Eo=function(){var n=this;if(!this.current)return[];var o=this.ho;this.ho=Rr(),this.fo.forEach(function(c){n.Io(c.key)&&(n.ho=n.ho.add(c.key))});var a=[];return o.forEach(function(c){n.ho.has(c)||a.push(new JZ(c))}),this.ho.forEach(function(c){o.has(c)||a.push(new XZ(c))}),a},Xh.prototype.Ao=function(n){return this.uo=n.Bn,this.ho=Rr(),n=this._o(n.documents),this.applyChanges(n,!0)},Xh.prototype.Ro=function(){return DD.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},Xh),dCe=function(n,o,a){this.query=n,this.targetId=o,this.view=a},pCe=function(n){this.key=n,this.bo=!1},vCe=(Object.defineProperty(eee.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),eee);function eee(n,o,a,c,f,p){this.localStore=n,this.remoteStore=o,this.eventManager=a,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=p,this.vo={},this.Po=new LE(YX,tA),this.Vo=new Map,this.So=new Set,this.Do=new xa(Zt.comparator),this.Co=new Map,this.No=new Y6,this.xo={},this.ko=new Map,this.Fo=wD.Yt(),this.onlineState="Unknown",this.$o=void 0}function Xh(n,o){this.query=n,this.uo=o,this.ao=null,this.current=!1,this.ho=Rr(),this.mutatedKeys=Rr(),this.lo=XX(n),this.fo=new KZ(this.lo)}function mV(n,o,a,c){return me(this,void 0,void 0,function(){var f,p,b;return ve(this,function(_){switch(_.label){case 0:return n.Oo=function(T,k,N){return function(j,V,W,X){return me(this,void 0,void 0,function(){var ne,ae;return ve(this,function(Ce){switch(Ce.label){case 0:return(ne=V.view._o(W)).Nn?[4,ID(j.localStore,V.query,!1).then(function(de){return de=de.documents,V.view._o(de,ne)})]:[3,2];case 1:ne=Ce.sent(),Ce.label=2;case 2:return ae=X&&X.targetChanges.get(V.targetId),ae=V.view.applyChanges(ne,j.isPrimaryClient,ae),[2,(bV(j,V.targetId,ae.To),ae.snapshot)]}})})}(n,T,k,N)},[4,ID(n.localStore,o,!0)];case 1:return p=_.sent(),b=new ZZ(o,p.Bn),f=b._o(p.documents),p=P6.createSynthesizedTargetChangeForCurrentChange(a,c&&n.onlineState!=="Offline"),p=b.applyChanges(f,n.isPrimaryClient,p),bV(n,a,p.To),b=new dCe(o,a,b),[2,(n.Po.set(o,b),n.Vo.has(a)?n.Vo.get(a).push(o):n.Vo.set(a,[o]),p.snapshot)]}})})}function mCe(n,o,a){return me(this,void 0,void 0,function(){var c,f;return ve(this,function(p){switch(p.label){case 0:f=EV(n),p.label=1;case 1:return p.trys.push([1,5,,6]),[4,(k=f.localStore,N=o,V=k,W=Ju.now(),X=N.reduce(function(ne,ae){return ne.add(ae.key)},Rr()),V.persistence.runTransaction("Locally write mutations","readwrite",function(ne){return V.Mn.pn(ne,X).next(function(ae){j=ae;for(var Ce=[],de=0,Je=N;de<Je.length;de++){var Ke=Je[de],wt=function(le,De){for(var lt=null,Ft=0,Fn=le.fieldTransforms;Ft<Fn.length;Ft++){var Cr=Fn[Ft],Tn=De.data.field(Cr.field),Tn=tJ(Cr.transform,Tn||null);Tn!=null&&(lt=lt==null?zc.empty():lt).set(Cr.field,Tn)}return lt||null}(Ke,j.get(Ke.key));wt!=null&&Ce.push(new ng(Ke.key,wt,function le(De){var lt=[];return G0(De.fields,function(Ft,Fn){var Cr=new Wh([Ft]);if(iD(Fn))if((Fn=le(Fn.mapValue).fields).length===0)lt.push(Cr);else for(var Tn=0,so=Fn;Tn<so.length;Tn++){var Si=so[Tn];lt.push(Cr.child(Si))}else lt.push(Cr)}),new pE(lt)}(wt.value.mapValue),Aa.exists(!0)))}return V._n.addMutationBatch(ne,W,Ce,N)})}).then(function(ne){return ne.applyToLocalDocumentSet(j),{batchId:ne.batchId,changes:j}}))];case 2:return c=p.sent(),f.sharedClientState.addPendingMutation(c.batchId),b=f,_=c.batchId,T=a,k=(k=(k=b.xo[b.currentUser.toKey()])||new xa(Yn)).insert(_,T),b.xo[b.currentUser.toKey()]=k,[4,fv(f,c.changes)];case 3:return p.sent(),[4,qE(f.remoteStore)];case 4:return p.sent(),[3,6];case 5:return f=p.sent(),f=HE(f,"Failed to persist write"),a.reject(f),[3,6];case 6:return[2]}var b,_,T,k,N,j,V,W,X})})}function tee(n,o){return me(this,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:a=n,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,VIe(a.localStore,o)];case 2:return c=f.sent(),o.targetChanges.forEach(function(p,b){b=a.Co.get(b),b&&(bn(p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size<=1),0<p.addedDocuments.size?b.bo=!0:0<p.modifiedDocuments.size?bn(b.bo):0<p.removedDocuments.size&&(bn(b.bo),b.bo=!1))}),[4,fv(a,c,o)];case 3:return f.sent(),[3,6];case 4:return[4,ib(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function nee(f,o,a){var c,f=f;(f.isPrimaryClient&&a===0||!f.isPrimaryClient&&a===1)&&(c=[],f.Po.forEach(function(p,b){b=b.view.zr(o),b.snapshot&&c.push(b.snapshot)}),function(p,b){p.onlineState=b;var _=!1;p.queries.forEach(function(T,k){for(var N=0,j=k.listeners;N<j.length;N++)j[N].zr(b)&&(_=!0)}),_&&pV(p)}(f.eventManager,o),c.length&&f.vo._r(c),f.onlineState=o,f.isPrimaryClient&&f.sharedClientState.setOnlineState(o))}function gCe(n,o,a){return me(this,void 0,void 0,function(){var c,f;return ve(this,function(p){switch(p.label){case 0:c=n,p.label=1;case 1:return p.trys.push([1,4,,6]),[4,(b=c.localStore,_=o,(T=b).persistence.runTransaction("Reject batch","readwrite-primary",function(k){var N;return T._n.lookupMutationBatch(k,_).next(function(j){return bn(j!==null),N=j.keys(),T._n.removeMutationBatch(k,j)}).next(function(){return T._n.performConsistencyCheck(k)}).next(function(){return T.Mn.pn(k,N)})}))];case 2:return f=p.sent(),yV(c,o,a),gV(c,o),c.sharedClientState.updateMutationState(o,"rejected",a),[4,fv(c,f)];case 3:return p.sent(),[3,6];case 4:return[4,ib(p.sent())];case 5:return p.sent(),[3,6];case 6:return[2]}var b,_,T})})}function yCe(n,o){return me(this,void 0,void 0,function(){var a,c,f;return ve(this,function(p){switch(p.label){case 0:lg((a=n).remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(b=a.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(_){return b._n.getHighestUnacknowledgedBatchId(_)})];case 2:return(c=p.sent())===-1?[2,void o.resolve()]:((f=a.ko.get(c)||[]).push(o),a.ko.set(c,f),[3,4]);case 3:return f=p.sent(),f=HE(f,"Initialization of waitForPendingWrites() operation failed"),o.reject(f),[3,4];case 4:return[2]}var b})})}function gV(n,o){(n.ko.get(o)||[]).forEach(function(a){a.resolve()}),n.ko.delete(o)}function yV(n,o,a){var c=n,f=c.xo[c.currentUser.toKey()];f&&((n=f.get(o))&&(a?n.reject(a):n.resolve(),f=f.remove(o)),c.xo[c.currentUser.toKey()]=f)}function zE(n,o,a){a===void 0&&(a=null),n.sharedClientState.removeLocalQueryTarget(o);for(var c=0,f=n.Vo.get(o);c<f.length;c++){var p=f[c];n.Po.delete(p),a&&n.vo.Mo(p,a)}n.Vo.delete(o),n.isPrimaryClient&&n.No.Zn(o).forEach(function(b){n.No.containsKey(b)||ree(n,b)})}function ree(n,o){n.So.delete(o.path.canonicalString());var a=n.Do.get(o);a!==null&&(_A(n.remoteStore,a),n.Do=n.Do.remove(o),n.Co.delete(a),wV(n))}function bV(n,o,a){for(var c,f,p,b=0,_=a;b<_.length;b++){var T=_[b];T instanceof XZ?(n.No.addReference(T.key,o),c=n,p=void 0,f=(p=(f=T).key).path.canonicalString(),c.Do.get(p)||c.So.has(f)||(Tt("SyncEngine","New document in limbo: "+p),c.So.add(f),wV(c))):T instanceof JZ?(Tt("SyncEngine","Document no longer in limbo: "+T.key),n.No.removeReference(T.key,o),n.No.containsKey(T.key)||ree(n,T.key)):Qt()}}function wV(n){for(;0<n.So.size&&n.Do.size<n.maxConcurrentLimboResolutions;){var a=n.So.values().next().value;n.So.delete(a);var o=new Zt(gr.fromString(a)),a=n.Fo.next();n.Co.set(a,new pCe(o)),n.Do=n.Do.insert(o,a),PD(n.remoteStore,new gD(Ql(yE(o.path)),a,2,Hc.o))}}function fv(n,o,a){return me(this,void 0,void 0,function(){var c,f,p,b;return ve(this,function(_){switch(_.label){case 0:return f=[],p=[],b=[],(c=n).Po.isEmpty()?[3,3]:(c.Po.forEach(function(T,k){b.push(c.Oo(k,o,a).then(function(N){N&&(c.isPrimaryClient&&c.sharedClientState.updateQueryState(k.targetId,N.fromCache?"not-current":"current"),f.push(N),N=jIe.Pn(k.targetId,N),p.push(N))}))}),[4,Promise.all(b)]);case 1:return _.sent(),c.vo._r(f),[4,function(T,k){return me(this,void 0,void 0,function(){var N,j,V,W,X,ne,ae;return ve(this,function(Ce){switch(Ce.label){case 0:N=T,Ce.label=1;case 1:return Ce.trys.push([1,3,,4]),[4,N.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(de){return gt.forEach(k,function(Je){return gt.forEach(Je.bn,function(Ke){return N.persistence.referenceDelegate.addReference(de,Je.targetId,Ke)}).next(function(){return gt.forEach(Je.vn,function(Ke){return N.persistence.referenceDelegate.removeReference(de,Je.targetId,Ke)})})})})];case 2:return Ce.sent(),[3,4];case 3:if(!tb(j=Ce.sent()))throw j;return Tt("LocalStore","Failed to update sequence numbers: "+j),[3,4];case 4:for(V=0,W=k;V<W.length;V++)ae=W[V],X=ae.targetId,ae.fromCache||(ne=N.kn.get(X),ae=ne.snapshotVersion,ae=ne.withLastLimboFreeSnapshotVersion(ae),N.kn=N.kn.insert(X,ae));return[2]}})})}(c.localStore,p)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function bCe(n,o){return me(this,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:return(a=n).currentUser.isEqual(o)?[3,3]:(Tt("SyncEngine","User change. New user:",o.toKey()),[4,SZ(a.localStore,o)]);case 1:return c=f.sent(),a.currentUser=o,(p=a).ko.forEach(function(b){b.forEach(function(_){_.reject(new dt($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ko.clear(),a.sharedClientState.handleUserChange(o,c.removedBatchIds,c.addedBatchIds),[4,fv(a,c.Ln)];case 2:f.sent(),f.label=3;case 3:return[2]}var p})})}function wCe(n,o,a,c){return me(this,void 0,void 0,function(){var f,p;return ve(this,function(b){switch(b.label){case 0:return[4,(_=(f=n).localStore,T=o,N=(k=_)._n,k.persistence.runTransaction("Lookup mutation documents","readonly",function(j){return N.jt(j,T).next(function(V){return V?k.Mn.pn(j,V):gt.resolve(null)})}))];case 1:return(p=b.sent())===null?[3,6]:a!=="pending"?[3,3]:[4,qE(f.remoteStore)];case 2:return b.sent(),[3,4];case 3:a==="acknowledged"||a==="rejected"?(yV(f,o,c||null),gV(f,o),f.localStore._n.Gt(o)):Qt(),b.label=4;case 4:return[4,fv(f,p)];case 5:return b.sent(),[3,7];case 6:Tt("SyncEngine","Cannot apply mutation batch with id: "+o),b.label=7;case 7:return[2]}var _,T,k,N})})}function _Ce(n,o){return me(this,void 0,void 0,function(){var a,c,f,p,b,_,T,k;return ve(this,function(N){switch(N.label){case 0:return _V(a=n),EV(a),o!==!0||a.$o===!0?[3,3]:(c=a.sharedClientState.getAllActiveQueryTargets(),[4,iee(a,c.toArray())]);case 1:return f=N.sent(),a.$o=!0,[4,lV(a.remoteStore,!0)];case 2:for(N.sent(),p=0,b=f;p<b.length;p++)_=b[p],PD(a.remoteStore,_);return[3,7];case 3:return o!==!1||a.$o===!1?[3,7]:(T=[],k=Promise.resolve(),a.Vo.forEach(function(V,W){a.sharedClientState.isLocalQueryTarget(W)?T.push(W):k=k.then(function(){return zE(a,W),jE(a.localStore,W,!0)}),_A(a.remoteStore,W)}),[4,k]);case 4:return N.sent(),[4,iee(a,T)];case 5:return N.sent(),(j=a).Co.forEach(function(V,W){_A(j.remoteStore,W)}),j.No.ts(),j.Co=new Map,j.Do=new xa(Zt.comparator),a.$o=!1,[4,lV(a.remoteStore,!1)];case 6:N.sent(),N.label=7;case 7:return[2]}var j})})}function iee(n,o){return me(this,void 0,void 0,function(){var a,c,f,p,b,_,T,k,N,j,V,W;return ve(this,function(X){switch(X.label){case 0:a=n,c=[],f=[],p=0,b=o,X.label=1;case 1:return p<b.length?(_=b[p],T=void 0,(k=a.Vo.get(_))&&k.length!==0?[4,FE(a.localStore,Ql(k[0]))]:[3,7]):[3,13];case 2:T=X.sent(),N=0,j=k,X.label=3;case 3:return N<j.length?(V=j[N],V=a.Po.get(V),[4,function(ne,ae){return me(this,void 0,void 0,function(){var Ce,de;return ve(this,function(Je){switch(Je.label){case 0:return[4,ID((Ce=ne).localStore,ae.query,!0)];case 1:return de=Je.sent(),de=ae.view.Ao(de),[2,(Ce.isPrimaryClient&&bV(Ce,ae.targetId,de.To),de)]}})})}(a,V)]):[3,6];case 4:(V=X.sent()).snapshot&&f.push(V.snapshot),X.label=5;case 5:return N++,[3,3];case 6:return[3,11];case 7:return[4,CZ(a.localStore,_)];case 8:return W=X.sent(),[4,FE(a.localStore,W)];case 9:return T=X.sent(),[4,mV(a,oee(W),_,!1)];case 10:X.sent(),X.label=11;case 11:c.push(T),X.label=12;case 12:return p++,[3,1];case 13:return[2,(a.vo._r(f),c)]}})})}function oee(n){return GX(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _V(n){return n.remoteStore.remoteSyncer.applyRemoteEvent=tee.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(o,a){var c=o;if((o=c.Co.get(a))&&o.bo)return Rr().add(o.key);var f=Rr();if(!(a=c.Vo.get(a)))return f;for(var p=0,b=a;p<b.length;p++)var _=b[p],_=c.Po.get(_),f=f.unionWith(_.view.wo);return f}.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=function(o,a,c){return me(this,void 0,void 0,function(){var f,p,b,_;return ve(this,function(T){switch(T.label){case 0:return(f=o).sharedClientState.updateQueryState(a,"rejected",c),_=f.Co.get(a),(p=_&&_.key)?(b=(b=new xa(Zt.comparator)).insert(p,Ks.newNoDocument(p,qn.min())),_=Rr().add(p),_=new N6(qn.min(),new Map,new Ko(Yn),b,_),[4,tee(f,_)]):[3,2];case 1:return T.sent(),f.Do=f.Do.remove(p),f.Co.delete(a),wV(f),[3,4];case 2:return[4,jE(f.localStore,a,!1).then(function(){return zE(f,a,c)}).catch(ib)];case 3:T.sent(),T.label=4;case 4:return[2]}})})}.bind(null,n),n.vo._r=function(o,a){for(var c=o,f=!1,p=0,b=a;p<b.length;p++){var _=b[p],T=_.query,T=c.queries.get(T);if(T){for(var k=0,N=T.listeners;k<N.length;k++)N[k].Hr(_)&&(f=!0);T.Wr=_}}f&&pV(c)}.bind(null,n.eventManager),n.vo.Mo=function(o,a,c){var f=o;if(o=f.queries.get(a))for(var p=0,b=o.listeners;p<b.length;p++)b[p].onError(c);f.queries.delete(a)}.bind(null,n.eventManager),n}function EV(n){return n.remoteStore.remoteSyncer.applySuccessfulWrite=function(o,a){return me(this,void 0,void 0,function(){var c,f,p;return ve(this,function(b){switch(b.label){case 0:c=o,f=a.batch.batchId,b.label=1;case 1:return b.trys.push([1,4,,6]),[4,$Ie(c.localStore,a)];case 2:return p=b.sent(),yV(c,f,null),gV(c,f),c.sharedClientState.updateMutationState(f,"acknowledged"),[4,fv(c,p)];case 3:return b.sent(),[3,6];case 4:return[4,ib(b.sent())];case 5:return b.sent(),[3,6];case 6:return[2]}})})}.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=gCe.bind(null,n),n}function ECe(n,o,a){var c=n;(function(f,p,b){return me(this,void 0,void 0,function(){var _,T,k,N,j;return ve(this,function(V){switch(V.label){case 0:return V.trys.push([0,14,,15]),[4,p.getMetadata()];case 1:return _=V.sent(),[4,(ne=f.localStore,Ce=ne,de=hs((ae=_).createTime),Ce.persistence.runTransaction("hasNewerBundle","readonly",function(Je){return Ce.Ke.getBundleMetadata(Je,ae.id)}).then(function(Je){return!!Je&&0<=Je.createTime.compareTo(de)}))];case 2:return V.sent()?[4,p.close()]:[3,4];case 3:return[2,(V.sent(),void b._completeWith({taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}))];case 4:return b._updateProgress(YZ(_)),T=new fCe(_,f.localStore,p.R),[4,p.Lo()];case 5:k=V.sent(),V.label=6;case 6:return k?[4,T.oo(k)]:[3,10];case 7:return(N=V.sent())&&b._updateProgress(N),[4,p.Lo()];case 8:k=V.sent(),V.label=9;case 9:return[3,6];case 10:return[4,T.complete()];case 11:return j=V.sent(),[4,fv(f,j.wn,void 0)];case 12:return V.sent(),[4,(ne=f.localStore,W=_,(X=ne).persistence.runTransaction("Save bundle","readwrite",function(Je){return X.Ke.saveBundleMetadata(Je,W)}))];case 13:return V.sent(),b._completeWith(j.progress),[3,15];case 14:return Qk("SyncEngine","Loading bundle failed with "+(j=V.sent())),b._failWith(j),[3,15];case 15:return[2]}var W,X,ne,ae,Ce,de})})})(c,o,a).then(function(){c.sharedClientState.notifyBundleLoaded()})}var SV,TV,see=(db.prototype.initialize=function(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return this.R=bA(n.databaseInfo.databaseId),this.sharedClientState=this.Bo(n),this.persistence=this.qo(n),[4,this.persistence.start()];case 1:return o.sent(),this.gcScheduler=this.Uo(n),this.localStore=this.Ko(n),[2]}})})},db.prototype.Uo=function(n){return null},db.prototype.Ko=function(n){return EZ(this.persistence,new wZ,n.initialUser,this.R)},db.prototype.qo=function(n){return new GIe(YIe.bs,this.R)},db.prototype.Bo=function(n){return new MZ},db.prototype.terminate=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return n.sent(),[4,this.persistence.shutdown()];case 2:return n.sent(),[2]}})})},db),aee=(Ct(fb,TV=see),fb.prototype.initialize=function(n){return me(this,void 0,void 0,function(){var o=this;return ve(this,function(a){switch(a.label){case 0:return[4,TV.prototype.initialize.call(this,n)];case 1:return a.sent(),[4,qIe(this.localStore)];case 2:return a.sent(),[4,this.Qo.initialize(this,n)];case 3:return a.sent(),[4,EV(this.Qo.syncEngine)];case 4:return a.sent(),[4,qE(this.Qo.remoteStore)];case 5:return a.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return a.sent(),[2]}})})},fb.prototype.Ko=function(n){return EZ(this.persistence,new wZ,n.initialUser,this.R)},fb.prototype.Uo=function(n){var o=this.persistence.referenceDelegate.garbageCollector;return new OIe(o,n.asyncQueue)},fb.prototype.qo=function(n){var o=G6(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=this.cacheSizeBytes!==void 0?_d.withCacheSize(this.cacheSizeBytes):_d.DEFAULT;return new MIe(this.synchronizeTabs,o,n.clientId,a,n.asyncQueue,jZ(),ND(),this.R,this.sharedClientState,!!this.forceOwnership)},fb.prototype.Bo=function(n){return new MZ},fb),SCe=(Ct(FD,SV=aee),FD.prototype.initialize=function(n){return me(this,void 0,void 0,function(){var o,a=this;return ve(this,function(c){switch(c.label){case 0:return[4,SV.prototype.initialize.call(this,n)];case 1:return c.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof tV?(this.sharedClientState.syncEngine={ui:wCe.bind(null,o),ai:function(f,p,b,_){return me(this,void 0,void 0,function(){var T,k,N;return ve(this,function(j){switch(j.label){case 0:return(T=f).$o?(Tt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!T.Vo.has(p))return[3,8];switch(b){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kZ(T.localStore)];case 3:return k=j.sent(),N=N6.createSynthesizedRemoteEventForCurrentChange(p,b==="current"),[4,fv(T,k,N)];case 4:return j.sent(),[3,8];case 5:return[4,jE(T.localStore,p,!0)];case 6:return j.sent(),zE(T,p,_),[3,8];case 7:Qt(),j.label=8;case 8:return[2]}})})}.bind(null,o),hi:function(f,p,b){return me(this,void 0,void 0,function(){var _,T,k,N,j,V,W,X;return ve(this,function(ne){switch(ne.label){case 0:if(!(_=_V(f)).$o)return[3,10];T=0,k=p,ne.label=1;case 1:return T<k.length?(k=k[T],_.Vo.has(k)?(Tt("SyncEngine","Adding an already active target "+k),[3,5]):[4,CZ(_.localStore,k)]):[3,6];case 2:return N=ne.sent(),[4,FE(_.localStore,N)];case 3:return j=ne.sent(),[4,mV(_,oee(N),j.targetId,!1)];case 4:ne.sent(),PD(_.remoteStore,j),ne.label=5;case 5:return T++,[3,1];case 6:V=function(ae){return ve(this,function(Ce){switch(Ce.label){case 0:return _.Vo.has(ae)?[4,jE(_.localStore,ae,!1).then(function(){_A(_.remoteStore,ae),zE(_,ae)}).catch(ib)]:[3,2];case 1:Ce.sent(),Ce.label=2;case 2:return[2]}})},W=0,X=b,ne.label=7;case 7:return W<X.length?(X=X[W],[5,V(X)]):[3,10];case 8:ne.sent(),ne.label=9;case 9:return W++,[3,7];case 10:return[2]}})})}.bind(null,o),fn:function(f){return f.localStore.persistence.fn()}.bind(null,o),ci:function(f){return me(this,void 0,void 0,function(){var p;return ve(this,function(b){return[2,kZ((p=f).localStore).then(function(_){return fv(p,_)})]})})}.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(f){return me(a,void 0,void 0,function(){return ve(this,function(p){switch(p.label){case 0:return[4,_Ce(this.Qo.syncEngine,f)];case 1:return p.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},FD.prototype.Bo=function(n){var o=jZ();if(!tV.yt(o))throw new dt($e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var a=G6(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new tV(o,n.asyncQueue,a,n.clientId,n.initialUser)},FD),IV=(hb.prototype.initialize=function(n,o){return me(this,void 0,void 0,function(){var a=this;return ve(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(o),this.remoteStore=this.createRemoteStore(o),this.eventManager=this.createEventManager(o),this.syncEngine=this.createSyncEngine(o,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return nee(a.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bCe.bind(null,this.syncEngine),[4,lV(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},hb.prototype.createEventManager=function(n){return new cCe},hb.prototype.createDatastore=function(n){var o=bA(n.databaseInfo.databaseId),a=(a=n.databaseInfo,new tCe(a));return n=n.credentials,new oCe(n,a,o)},hb.prototype.createRemoteStore=function(b){var o=this,a=this.localStore,c=this.datastore,f=b.asyncQueue,p=function(_){return nee(o.syncEngine,_,0)},b=new(FZ.yt()?FZ:JIe);return new nCe(a,c,f,p,b)},hb.prototype.createSyncEngine=function(n,o){return function(a,c,f,p,b,_,T){return _=new vCe(a,c,f,p,b,_),T&&(_.$o=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)},hb.prototype.terminate=function(){return function(n){return me(this,void 0,void 0,function(){var o;return ve(this,function(a){switch(a.label){case 0:return o=n,Tt("RemoteStore","RemoteStore shutting down."),o.Or.add(5),[4,VE(o)];case 1:return a.sent(),o.Lr.shutdown(),o.Br.set("Unknown"),[2]}})})}(this.remoteStore)},hb);function hb(){}function FD(n,o){var a=this;return(a=SV.call(this,n,o,!1)||this).Qo=n,a.cacheSizeBytes=o,a.synchronizeTabs=!0,a}function fb(n,o,a){var c=this;return(c=TV.call(this)||this).Qo=n,c.cacheSizeBytes=o,c.forceOwnership=a,c.synchronizeTabs=!1,c}function db(){this.synchronizeTabs=!1}function uee(n,o){o===void 0&&(o=10240);var a=0;return{read:function(){return me(this,void 0,void 0,function(){var c;return ve(this,function(f){return a<n.byteLength?(c={value:n.slice(a,a+o),done:!1},[2,(a+=o,c)]):[2,{done:!0}]})})},cancel:function(){return me(this,void 0,void 0,function(){return ve(this,function(c){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var jD=(TA.prototype.next=function(n){this.observer.next&&this.jo(this.observer.next,n)},TA.prototype.error=function(n){this.observer.error?this.jo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)},TA.prototype.Wo=function(){this.muted=!0},TA.prototype.jo=function(n,o){var a=this;this.muted||setTimeout(function(){a.muted||n(o)},0)},TA),TCe=(Ed.prototype.close=function(){return this.Go.cancel()},Ed.prototype.getMetadata=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){return[2,this.metadata.promise]})})},Ed.prototype.Lo=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:return[4,this.getMetadata()];case 1:return[2,(n.sent(),this.Ho())]}})})},Ed.prototype.Ho=function(){return me(this,void 0,void 0,function(){var n,o,a;return ve(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return(n=c.sent())===null?[2,null]:(a=this.zo.decode(n),o=Number(a),isNaN(o)&&this.Yo("length string ("+a+") is not valid number"),[4,this.Xo(o)]);case 2:return a=c.sent(),[2,new hCe(JSON.parse(a),n.length+o)]}})})},Ed.prototype.Zo=function(){return this.buffer.findIndex(function(n){return n==="{".charCodeAt(0)})},Ed.prototype.Jo=function(){return me(this,void 0,void 0,function(){var n,o;return ve(this,function(a){switch(a.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(a.sent())return[3,3];a.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((n=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),o=this.buffer.slice(0,n),[2,(this.buffer=this.buffer.slice(n),o)])}})})},Ed.prototype.Xo=function(n){return me(this,void 0,void 0,function(){var o;return ve(this,function(a){switch(a.label){case 0:return this.buffer.length<n?[4,this.tc()]:[3,3];case 1:a.sent()&&this.Yo("Reached the end of bundle when more is expected."),a.label=2;case 2:return[3,0];case 3:return o=this.zo.decode(this.buffer.slice(0,n)),[2,(this.buffer=this.buffer.slice(n),o)]}})})},Ed.prototype.Yo=function(n){throw this.Go.cancel(),new Error("Invalid bundle format: "+n)},Ed.prototype.tc=function(){return me(this,void 0,void 0,function(){var n,o;return ve(this,function(a){switch(a.label){case 0:return[4,this.Go.read()];case 1:return(n=a.sent()).done||((o=new Uint8Array(this.buffer.length+n.value.length)).set(this.buffer),o.set(n.value,this.buffer.length),this.buffer=o),[2,n.done]}})})},Ed),ICe=(Jh.prototype.lookup=function(n){return me(this,void 0,void 0,function(){var o,a=this;return ve(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new dt($e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,p){return me(this,void 0,void 0,function(){var b,_,T,k,N;return ve(this,function(j){switch(j.label){case 0:return _=uA((b=f).R)+"/documents",T={documents:p.map(function(V){return aA(b.R,V)})},[4,b.$i("BatchGetDocuments",_,T)];case 1:return T=j.sent(),k=new Map,T.forEach(function(X){var W,X=(W=b.R,"found"in(X=X)?function(de,Je){bn(!!Je.found),Je.found.name,Je.found.updateTime;var Ce=bd(de,Je.found.name),de=hs(Je.found.updateTime),Je=new zc({mapValue:{fields:Je.found.fields}});return Ks.newFoundDocument(Ce,de,Je)}(W,X):"missing"in X?function(ne,ae){return bn(!!ae.missing),bn(!!ae.readTime),ne=bd(ne,ae.missing),ae=hs(ae.readTime),Ks.newNoDocument(ne,ae)}(W,X):Qt());k.set(X.key.toString(),X)}),N=[],[2,(p.forEach(function(V){V=k.get(V.toString()),bn(!!V),N.push(V)}),N)]}})})}(this.datastore,n)];case 1:return[2,((o=c.sent()).forEach(function(f){return a.recordVersion(f)}),o)]}})})},Jh.prototype.set=function(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())},Jh.prototype.update=function(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())},Jh.prototype.delete=function(n){this.write(new oA(n,this.precondition(n))),this.writtenDocs.add(n.toString())},Jh.prototype.commit=function(){return me(this,void 0,void 0,function(){var n,o=this;return ve(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return n=this.readVersions,this.mutations.forEach(function(c){n.delete(c.key.toString())}),n.forEach(function(c,f){f=Zt.fromPath(f),o.mutations.push(new A6(f,o.precondition(f)))}),[4,function(c,f){return me(this,void 0,void 0,function(){var p,b,_;return ve(this,function(T){switch(T.label){case 0:return b=uA((p=c).R)+"/documents",_={writes:f.map(function(k){return vD(p.R,k)})},[4,p.Ni("Commit",b,_)];case 1:return T.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return a.sent(),this.committed=!0,[2]}})})},Jh.prototype.recordVersion=function(n){var o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw Qt();o=qn.min()}var a=this.readVersions.get(n.key.toString());if(a){if(!o.isEqual(a))throw new dt($e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)},Jh.prototype.precondition=function(n){var o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?Aa.updateTime(o):Aa.none()},Jh.prototype.preconditionForUpdate=function(n){var o=this.readVersions.get(n.toString());if(this.writtenDocs.has(n.toString())||!o)return Aa.exists(!0);if(o.isEqual(qn.min()))throw new dt($e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Aa.updateTime(o)},Jh.prototype.write=function(n){this.ensureCommitNotCalled(),this.mutations.push(n)},Jh.prototype.ensureCommitNotCalled=function(){},Jh),CCe=(KE.prototype.run=function(){--this.ec,this.nc()},KE.prototype.nc=function(){var n=this;this.Zi.ji(function(){return me(n,void 0,void 0,function(){var o,a,c=this;return ve(this,function(f){return o=new ICe(this.datastore),(a=this.sc(o))&&a.then(function(p){c.asyncQueue.enqueueAndForget(function(){return o.commit().then(function(){c.deferred.resolve(p)}).catch(function(b){c.ic(b)})})}).catch(function(p){c.ic(p)}),[2]})})})},KE.prototype.sc=function(n){try{var o=this.updateFunction(n);return!Q0(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}},KE.prototype.ic=function(n){var o=this;0<this.ec&&this.rc(n)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return o.nc(),Promise.resolve()})):this.deferred.reject(n)},KE.prototype.rc=function(n){return n.name!=="FirebaseError"?!1:(n=n.code,n==="aborted"||n==="failed-precondition"||!CJ(n))},KE),kCe=(SA.prototype.getConfiguration=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},SA.prototype.setCredentialChangeListener=function(n){this.credentialListener=n},SA.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new dt($e.FAILED_PRECONDITION,"The client has already been terminated.")},SA.prototype.terminate=function(){var n=this;this.asyncQueue.enterRestrictedMode();var o=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return me(n,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),o.resolve(),[3,6];case 5:return a=c.sent(),a=HE(a,"Failed to shutdown persistence"),o.reject(a),[3,6];case 6:return[2]}})})}),o.promise},SA);function SA(n,o,a){var c=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=a,this.user=Ys.UNAUTHENTICATED,this.clientId=kX.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(o,function(f){return me(c,void 0,void 0,function(){return ve(this,function(p){switch(p.label){case 0:return Tt("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return p.sent(),this.user=f,[2]}})})})}function KE(n,o,a,c){this.asyncQueue=n,this.datastore=o,this.updateFunction=a,this.deferred=c,this.ec=5,this.Zi=new sV(this.asyncQueue,"transaction_retry")}function Jh(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function Ed(n,o){var a=this;this.Go=n,this.R=o,this.metadata=new Na,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?a.metadata.resolve(c.payload.metadata):a.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(c==null?void 0:c.payload)))},function(c){return a.metadata.reject(c)})}function TA(n){this.observer=n,this.muted=!1}function cee(n,o){return me(this,void 0,void 0,function(){var a,c,f=this;return ve(this,function(p){switch(p.label){case 0:return n.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider"),[4,n.getConfiguration()];case 1:return a=p.sent(),[4,o.initialize(a)];case 2:return p.sent(),c=a.initialUser,n.setCredentialChangeListener(function(b){return me(f,void 0,void 0,function(){return ve(this,function(_){switch(_.label){case 0:return c.isEqual(b)?[3,2]:[4,SZ(o.localStore,b)];case 1:_.sent(),c=b,_.label=2;case 2:return[2]}})})}),o.persistence.setDatabaseDeletedListener(function(){return n.terminate()}),n.offlineComponents=o,[2]}})})}function lee(n,o){return me(this,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:return n.asyncQueue.verifyOperationInProgress(),[4,CV(n)];case 1:return a=f.sent(),Tt("FirestoreClient","Initializing OnlineComponentProvider"),[4,n.getConfiguration()];case 2:return c=f.sent(),[4,o.initialize(a,c)];case 3:return f.sent(),n.setCredentialChangeListener(function(p){return function(b,_){return me(this,void 0,void 0,function(){var T,k;return ve(this,function(N){switch(N.label){case 0:return(T=b).asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials"),k=lg(T),T.Or.add(3),[4,VE(T)];case 1:return N.sent(),k&&T.Br.set("Unknown"),[4,T.remoteSyncer.handleCredentialChange(_)];case 2:return N.sent(),T.Or.delete(3),[4,wA(T)];case 3:return N.sent(),[2]}})})}(o.remoteStore,p)}),n.onlineComponents=o,[2]}})})}function CV(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return n.offlineComponents?[3,2]:(Tt("FirestoreClient","Using default OfflineComponentProvider"),[4,cee(n,new see)]);case 1:o.sent(),o.label=2;case 2:return[2,n.offlineComponents]}})})}function UD(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return n.onlineComponents?[3,2]:(Tt("FirestoreClient","Using default OnlineComponentProvider"),[4,lee(n,new IV)]);case 1:o.sent(),o.label=2;case 2:return[2,n.onlineComponents]}})})}function hee(n){return CV(n).then(function(o){return o.persistence})}function kV(n){return CV(n).then(function(o){return o.localStore})}function fee(n){return UD(n).then(function(o){return o.remoteStore})}function AV(n){return UD(n).then(function(o){return o.syncEngine})}function WE(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:return[4,UD(n)];case 1:return o=c.sent(),[2,((a=o.eventManager).onListen=function(f,p){return me(this,void 0,void 0,function(){var b,_,T,k,N;return ve(this,function(j){switch(j.label){case 0:return b=_V(f),(N=b.Po.get(p))?(_=N.targetId,b.sharedClientState.addLocalQueryTarget(_),T=N.view.Ro(),[3,4]):[3,1];case 1:return[4,FE(b.localStore,Ql(p))];case 2:return k=j.sent(),N=b.sharedClientState.addLocalQueryTarget(k.targetId),_=k.targetId,[4,mV(b,p,_,N==="current")];case 3:T=j.sent(),b.isPrimaryClient&&PD(b.remoteStore,k),j.label=4;case 4:return[2,T]}})})}.bind(null,o.syncEngine),a.onUnlisten=function(f,p){return me(this,void 0,void 0,function(){var b,_,T;return ve(this,function(k){switch(k.label){case 0:return _=(b=f).Po.get(p),1<(T=b.Vo.get(_.targetId)).length?[2,(b.Vo.set(_.targetId,T.filter(function(N){return!tA(N,p)})),void b.Po.delete(p))]:b.isPrimaryClient?(b.sharedClientState.removeLocalQueryTarget(_.targetId),b.sharedClientState.isActiveQueryTarget(_.targetId)?[3,2]:[4,jE(b.localStore,_.targetId,!1).then(function(){b.sharedClientState.clearQueryState(_.targetId),_A(b.remoteStore,_.targetId),zE(b,_.targetId)}).catch(ib)]):[3,3];case 1:k.sent(),k.label=2;case 2:return[3,5];case 3:return zE(b,_.targetId),[4,jE(b.localStore,_.targetId,!0)];case 4:k.sent(),k.label=5;case 5:return[2]}})})}.bind(null,o.syncEngine),a)]}})})}function dee(n,o,a){var c=this;a===void 0&&(a={});var f=new Na;return n.asyncQueue.enqueueAndForget(function(){return me(c,void 0,void 0,function(){var p;return ve(this,function(b){switch(b.label){case 0:return p=function(_,T,k,N,j){var V=new jD({next:function(X){T.enqueueAndForget(function(){return dV(_,W)});var ne=X.docs.has(k);!ne&&X.fromCache?j.reject(new dt($e.UNAVAILABLE,"Failed to get document because the client is offline.")):ne&&X.fromCache&&N&&N.source==="server"?j.reject(new dt($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(X)},error:function(X){return j.reject(X)}}),W=new vV(yE(k.path),V,{includeMetadataChanges:!0,so:!0});return fV(_,W)},[4,WE(n)];case 1:return[2,p.apply(void 0,[b.sent(),n.asyncQueue,o,a,f])]}})})}),f.promise}function pee(n,o,a){var c=this;a===void 0&&(a={});var f=new Na;return n.asyncQueue.enqueueAndForget(function(){return me(c,void 0,void 0,function(){var p;return ve(this,function(b){switch(b.label){case 0:return p=function(_,T,k,N,j){var V=new jD({next:function(X){T.enqueueAndForget(function(){return dV(_,W)}),X.fromCache&&N.source==="server"?j.reject(new dt($e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(X)},error:function(X){return j.reject(X)}}),W=new vV(k,V,{includeMetadataChanges:!0,so:!0});return fV(_,W)},[4,WE(n)];case 1:return[2,p.apply(void 0,[b.sent(),n.asyncQueue,o,a,f])]}})})}),f.promise}function vee(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+n}var ACe=function(n,o,a,c,f,p,b,_){this.databaseId=n,this.appId=o,this.persistenceKey=a,this.host=c,this.ssl=f,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.useFetchStreams=_},$D=(Object.defineProperty(VD.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),VD.prototype.isEqual=function(n){return n instanceof VD&&n.projectId===this.projectId&&n.database===this.database},VD),mee=new Map,gee=(kA.prototype.getToken=function(){return Promise.resolve(null)},kA.prototype.invalidateToken=function(){},kA.prototype.setChangeListener=function(n,o){this.changeListener=o,n.enqueueRetryable(function(){return o(Ys.UNAUTHENTICATED)})},kA.prototype.removeChangeListener=function(){this.changeListener=null},kA),xCe=(CA.prototype.getToken=function(){return Promise.resolve(this.token)},CA.prototype.invalidateToken=function(){},CA.prototype.setChangeListener=function(n,o){var a=this;this.changeListener=o,n.enqueueRetryable(function(){return o(a.token.user)})},CA.prototype.removeChangeListener=function(){this.changeListener=null},CA),OCe=(GE.prototype.getToken=function(){var n=this,o=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(function(c){return n.cc!==o?(Tt("FirebaseCredentialsProvider","getToken aborted due to token change."),n.getToken()):c?(bn(typeof c.accessToken=="string"),new vee(c.accessToken,n.currentUser)):null}):Promise.resolve(null)},GE.prototype.invalidateToken=function(){this.forceRefresh=!0},GE.prototype.setChangeListener=function(n,o){var a=this;this.asyncQueue=n,this.asyncQueue.enqueueRetryable(function(){return me(a,void 0,void 0,function(){return ve(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,o(this.currentUser)];case 2:return c.sent(),this.changeListener=o,[2]}})})})},GE.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},GE.prototype.ac=function(){var n=this.auth&&this.auth.getUid();return bn(n===null||typeof n=="string"),new Ys(n)},GE),NCe=(Object.defineProperty(yee.prototype,"authHeaders",{get:function(){var n={"X-Goog-AuthUser":this.lc},o=this.hc.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.fc&&(n["X-Goog-Iam-Authorization-Token"]=this.fc),n},enumerable:!1,configurable:!0}),yee),PCe=(IA.prototype.getToken=function(){return Promise.resolve(new NCe(this.hc,this.lc,this.fc))},IA.prototype.setChangeListener=function(n,o){n.enqueueRetryable(function(){return o(Ys.FIRST_PARTY)})},IA.prototype.removeChangeListener=function(){},IA.prototype.invalidateToken=function(){},IA);function IA(n,o,a){this.hc=n,this.lc=o,this.fc=a}function yee(n,o,a){this.hc=n,this.lc=o,this.fc=a,this.type="FirstParty",this.user=Ys.FIRST_PARTY}function GE(n){var o=this;this.currentUser=Ys.UNAUTHENTICATED,this.oc=new Na,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){o.cc++,o.currentUser=o.ac(),o.oc.resolve(),o.changeListener&&o.asyncQueue.enqueueRetryable(function(){return o.changeListener(o.currentUser)})};function a(c){Tt("FirebaseCredentialsProvider","Auth detected"),o.auth=c,o.auth.addAuthTokenListener(o.uc)}n.onInit(a),setTimeout(function(){var c;o.auth||((c=n.getImmediate({optional:!0}))?a(c):(Tt("FirebaseCredentialsProvider","Auth not yet detected"),o.oc.resolve()))},0)}function CA(n){this.token=n,this.changeListener=null}function kA(){this.changeListener=null}function VD(n,o){this.projectId=n,this.database=o||"(default)"}function xV(n,o,a){if(!a)throw new dt($e.INVALID_ARGUMENT,"Function "+n+"() cannot be called with an empty "+o+".")}function OV(n,o){if(o===void 0)return{merge:!1};if(o.mergeFields!==void 0&&o.merge!==void 0)throw new dt($e.INVALID_ARGUMENT,"Invalid options passed to function "+n+'(): You cannot specify both "merge" and "mergeFields".');return o}function bee(n,o,a,c){if(o===!0&&c===!0)throw new dt($e.INVALID_ARGUMENT,n+" and "+a+" cannot be used together.")}function wee(n){if(!Zt.isDocumentKey(n))throw new dt($e.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n+" has "+n.length+".")}function _ee(n){if(Zt.isDocumentKey(n))throw new dt($e.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n+" has "+n.length+".")}function qD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return 20<n.length&&(n=n.substring(0,20)+"..."),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n!="object")return typeof n=="function"?"a function":Qt();if(n instanceof Array)return"an array";var o=function(){if(n.constructor){var a=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(a&&1<a.length)return a[1]}return null}();return o?"a custom "+o+" object":"an object"}function yr(n,o){if((n="_delegate"in n?n._delegate:n)instanceof o)return n;throw o.name===n.constructor.name?new dt($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?"):(n=qD(n),new dt($e.INVALID_ARGUMENT,"Expected type '"+o.name+"', but it was: "+n))}function Eee(n,o){if(o<=0)throw new dt($e.INVALID_ARGUMENT,"Function "+n+"() requires a positive number, but it was: "+o+".")}var See,Tee=(Iee.prototype.isEqual=function(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams},Iee),AA=(Object.defineProperty(Sd.prototype,"app",{get:function(){if(!this._app)throw new dt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(Sd.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(Sd.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),Sd.prototype._setSettings=function(n){if(this._settingsFrozen)throw new dt($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tee(n),n.credentials!==void 0&&(this._credentials=function(o){if(!o)return new gee;switch(o.type){case"gapi":var a=o.client;return bn(!(typeof a!="object"||a===null||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new PCe(a,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new dt($e.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},Sd.prototype._getSettings=function(){return this._settings},Sd.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},Sd.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},Sd.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},Sd.prototype._terminate=function(){return(n=mee.get(this))&&(Tt("ComponentProvider","Removing Datastore"),mee.delete(this),n.terminate()),Promise.resolve();var n},Sd),Di=(Object.defineProperty(vb.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(vb.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(vb.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(vb.prototype,"parent",{get:function(){return new dg(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),vb.prototype.withConverter=function(n){return new vb(this.firestore,n,this._key)},vb),nc=(NV.prototype.withConverter=function(n){return new NV(this.firestore,n,this._query)},NV),dg=(Ct(pb,See=nc),Object.defineProperty(pb.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(pb.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(pb.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Di(this.firestore,null,new Zt(n))},enumerable:!1,configurable:!0}),pb.prototype.withConverter=function(n){return new pb(this.firestore,n,this._path)},pb);function pb(n,o,a){var c=this;return(c=See.call(this,n,o,yE(a))||this)._path=a,c.type="collection",c}function NV(n,o,a){this.converter=o,this._query=a,this.type="query",this.firestore=n}function vb(n,o,a){this.converter=o,this._key=a,this.type="document",this.firestore=n}function Sd(n,o){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tee({}),this._settingsFrozen=!1,n instanceof $D?(this._databaseId=n,this._credentials=new gee):(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new dt($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $D(a.options.projectId)}(n),this._credentials=new OCe(o))}function Iee(n){var o;if(n.host===void 0){if(n.ssl!==void 0)throw new dt($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=(o=n.ssl)===null||o===void 0||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,n.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<1048576)throw new dt($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,bee("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}function Cee(n,o){for(var a,c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];if(n=fn(n),xV("collection","path",o),n instanceof AA)return _ee(a=gr.fromString.apply(gr,an([o],c))),new dg(n,null,a);if(!(n instanceof Di||n instanceof dg))throw new dt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _ee(a=gr.fromString.apply(gr,an([n.path],c)).child(gr.fromString(o))),new dg(n.firestore,null,a)}function BD(n,o){for(var a,c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];if(n=fn(n),xV("doc","path",o=arguments.length===1?kX.u():o),n instanceof AA)return wee(a=gr.fromString.apply(gr,an([o],c))),new Di(n,null,new Zt(a));if(!(n instanceof Di||n instanceof dg))throw new dt($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wee(a=n._path.child(gr.fromString.apply(gr,an([o],c)))),new Di(n.firestore,n instanceof dg?n.converter:null,new Zt(a))}function kee(n,o){return n=fn(n),o=fn(o),(n instanceof Di||n instanceof dg)&&(o instanceof Di||o instanceof dg)&&n.firestore===o.firestore&&n.path===o.path&&n.converter===o.converter}function Aee(n,o){return n=fn(n),o=fn(o),n instanceof nc&&o instanceof nc&&n.firestore===o.firestore&&tA(n._query,o._query)&&n.converter===o.converter}var RCe=(Object.defineProperty(Js.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),Js.prototype.enqueueAndForget=function(n){this.enqueue(n)},Js.prototype.enqueueAndForgetEvenWhileRestricted=function(n){this.Ac(),this.Rc(n)},Js.prototype.enterRestrictedMode=function(n){this._c||(this._c=!0,this.Ec=n||!1,(n=ND())&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic))},Js.prototype.enqueue=function(n){var o=this;if(this.Ac(),this._c)return new Promise(function(){});var a=new Na;return this.Rc(function(){return o._c&&o.Ec?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)}).then(function(){return a.promise})},Js.prototype.enqueueRetryable=function(n){var o=this;this.enqueueAndForget(function(){return o.wc.push(n),o.bc()})},Js.prototype.bc=function(){return me(this,void 0,void 0,function(){var n,o=this;return ve(this,function(a){switch(a.label){case 0:if(this.wc.length===0)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return a.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!tb(n=a.sent()))throw n;return Tt("AsyncQueue","Operation failed with retryable error: "+n),[3,4];case 4:0<this.wc.length&&this.Zi.ji(function(){return o.bc()}),a.label=5;case 5:return[2]}})})},Js.prototype.Rc=function(n){var o=this,a=this.dc.then(function(){return o.gc=!0,n().catch(function(c){throw o.yc=c,o.gc=!1,To("INTERNAL UNHANDLED ERROR: ",(p=(f=c).message||"",p=f.stack?f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack:p)),c;var f,p}).then(function(c){return o.gc=!1,c})});return this.dc=a},Js.prototype.enqueueAfterDelay=function(n,o,a){var c=this;return this.Ac(),-1<this.Tc.indexOf(n)&&(o=0),a=uCe.createAndSchedule(this,n,o,a,function(f){return c.vc(f)}),this.mc.push(a),a},Js.prototype.Ac=function(){this.yc&&Qt()},Js.prototype.verifyOperationInProgress=function(){},Js.prototype.Pc=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return[4,n=this.dc];case 1:o.sent(),o.label=2;case 2:if(n!==this.dc)return[3,0];o.label=3;case 3:return[2]}})})},Js.prototype.Vc=function(n){for(var o=0,a=this.mc;o<a.length;o++)if(a[o].timerId===n)return!0;return!1},Js.prototype.Sc=function(n){var o=this;return this.Pc().then(function(){o.mc.sort(function(p,b){return p.targetTimeMs-b.targetTimeMs});for(var a=0,c=o.mc;a<c.length;a++){var f=c[a];if(f.skipDelay(),n!=="all"&&f.timerId===n)break}return o.Pc()})},Js.prototype.Dc=function(n){this.Tc.push(n)},Js.prototype.vc=function(n){n=this.mc.indexOf(n),this.mc.splice(n,1)},Js);function Js(){var n=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new sV(this,"async_queue_retry"),this.Ic=function(){var a=ND();a&&Tt("AsyncQueue","Visibility state changed to "+a.visibilityState),n.Zi.Gi()};var o=ND();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.Ic)}function QE(n){return function(){if(typeof n=="object"&&n!==null)for(var o=n,a=0,c=["next","error","complete"];a<c.length;a++){var f=c[a];if(f in o&&typeof o[f]=="function")return 1}}()}var xee,DCe=(mb.prototype.onProgress=function(n,o,a){this._progressObserver={next:n,error:o,complete:a}},mb.prototype.catch=function(n){return this._taskCompletionResolver.promise.catch(n)},mb.prototype.then=function(n,o){return this._taskCompletionResolver.promise.then(n,o)},mb.prototype._completeWith=function(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)},mb.prototype._failWith=function(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)},mb.prototype._updateProgress=function(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)},mb),oo=(Ct(PV,xee=AA),PV.prototype._terminate=function(){return this._firestoreClient||Oee(this),this._firestoreClient.terminate()},PV);function PV(n,o){var a=this;return(a=xee.call(this,n,o)||this).type="firestore",a._queue=new RCe,a._persistenceKey="name"in n?n.name:"[DEFAULT]",a}function mb(){this._progressObserver={},this._taskCompletionResolver=new Na,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function ms(n){return n._firestoreClient||Oee(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Oee(n){var o,a,c,f=n._freezeSettings(),f=(o=n._databaseId,a=((c=n._app)===null||c===void 0?void 0:c.options.appId)||"",c=n._persistenceKey,new ACe(o,a,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));n._firestoreClient=new kCe(n._credentials,n._queue,f)}function Nee(n,o,a){var c=this,f=new Na;return n.asyncQueue.enqueue(function(){return me(c,void 0,void 0,function(){var p;return ve(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,cee(n,a)];case 1:return b.sent(),[4,lee(n,o)];case 2:return b.sent(),f.resolve(),[3,4];case 3:if(!((p=b.sent()).name==="FirebaseError"?p.code===$e.FAILED_PRECONDITION||p.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||p.code===22||p.code===20||p.code===11))throw p;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+p),f.reject(p),[3,4];case 4:return[2]}})})}).then(function(){return f.promise})}function Pee(n){if(n._initialized||n._terminated)throw new dt($e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Td=(Mee.prototype.isEqual=function(n){return this._internalPath.isEqual(n._internalPath)},Mee),gb=(dv.fromBase64String=function(n){try{return new dv(vu.fromBase64String(n))}catch(o){throw new dt($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}},dv.fromUint8Array=function(n){return new dv(vu.fromUint8Array(n))},dv.prototype.toBase64=function(){return this._byteString.toBase64()},dv.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},dv.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},dv.prototype.isEqual=function(n){return this._byteString.isEqual(n._byteString)},dv),yb=function(n){this._methodName=n},HD=(Object.defineProperty(YE.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(YE.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),YE.prototype.isEqual=function(n){return this._lat===n._lat&&this._long===n._long},YE.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},YE.prototype._compareTo=function(n){return Yn(this._lat,n._lat)||Yn(this._long,n._long)},YE),LCe=/^__.*__$/,MCe=(Lee.prototype.toMutation=function(n,o){return this.fieldMask!==null?new ng(n,this.data,this.fieldMask,o,this.fieldTransforms):new iA(n,this.data,o,this.fieldTransforms)},Lee),Ree=(Dee.prototype.toMutation=function(n,o){return new ng(n,this.data,this.fieldMask,o,this.fieldTransforms)},Dee);function Dee(n,o,a){this.data=n,this.fieldMask=o,this.fieldTransforms=a}function Lee(n,o,a){this.data=n,this.fieldMask=o,this.fieldTransforms=a}function YE(n,o){if(!isFinite(n)||n<-90||90<n)throw new dt($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||180<o)throw new dt($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}function dv(n){this._byteString=n}function Mee(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];for(var a=0;a<n.length;++a)if(n[a].length===0)throw new dt($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wh(n)}function Fee(n){switch(n){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Qt()}}var jee=(Object.defineProperty(Xl.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Xl.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),Xl.prototype.xc=function(n){return new Xl(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},Xl.prototype.kc=function(n){var o=(o=this.path)===null||o===void 0?void 0:o.child(n),o=this.xc({path:o,Fc:!1});return o.$c(n),o},Xl.prototype.Oc=function(a){var o,a=(o=this.path)===null||o===void 0?void 0:o.child(a),a=this.xc({path:a,Fc:!1});return a.Cc(),a},Xl.prototype.Mc=function(n){return this.xc({path:void 0,Fc:!0})},Xl.prototype.Lc=function(n){return QD(n,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},Xl.prototype.contains=function(n){return this.fieldMask.find(function(o){return n.isPrefixOf(o)})!==void 0||this.fieldTransforms.find(function(o){return n.isPrefixOf(o.field)})!==void 0},Xl.prototype.Cc=function(){if(this.path)for(var n=0;n<this.path.length;n++)this.$c(this.path.get(n))},Xl.prototype.$c=function(n){if(n.length===0)throw this.Lc("Document fields must not be empty");if(Fee(this.Nc)&&LCe.test(n))throw this.Lc('Document fields cannot begin and end with "__"')},Xl),FCe=(Uee.prototype.Uc=function(n,o,a,c){return c===void 0&&(c=!1),new jee({Nc:n,methodName:o,qc:a,path:Wh.emptyPath(),Fc:!1,Bc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},Uee);function Uee(n,o,a){this.databaseId=n,this.ignoreUndefinedProperties=o,this.R=a||bA(n)}function Xl(n,o,a,c,f,p){this.settings=n,this.databaseId=o,this.R=a,this.ignoreUndefinedProperties=c,f===void 0&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=p||[]}function bb(n){var o=n._freezeSettings(),a=bA(n._databaseId);return new FCe(n._databaseId,!!o.ignoreUndefinedProperties,a)}function zD(n,o,a,k,f,p){var b=n.Uc((p=p===void 0?{}:p).merge||p.mergeFields?2:0,o,a,f);jV("Data must be an object, but it was:",b,k);var _,T,k=zee(k,b);if(p.merge)_=new pE(b.fieldMask),T=b.fieldTransforms;else if(p.mergeFields){for(var N=[],j=0,V=p.mergeFields;j<V.length;j++){var W=UV(o,V[j],a);if(!b.contains(W))throw new dt($e.INVALID_ARGUMENT,"Field '"+W+"' is specified in your field mask but missing from your input data.");Wee(N,W)||N.push(W)}_=new pE(N),T=b.fieldTransforms.filter(function(X){return _.covers(X.field)})}else _=null,T=b.fieldTransforms;return new MCe(new zc(k),_,T)}var RV,DV=(Ct(xA,RV=yb),xA.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},xA.prototype.isEqual=function(n){return n instanceof xA},xA);function xA(){return RV!==null&&RV.apply(this,arguments)||this}function $ee(n,o,a){return new jee({Nc:3,qc:o.settings.qc,methodName:n._methodName,Fc:a},o.databaseId,o.R,o.ignoreUndefinedProperties)}var Vee,qee,Bee,LV,jCe=(Ct(OA,LV=yb),OA.prototype._toFieldTransform=function(n){return new rA(n.path,new wE)},OA.prototype.isEqual=function(n){return n instanceof OA},OA),UCe=(Ct(GD,Bee=yb),GD.prototype._toFieldTransform=function(n){var o=$ee(this,n,!0),a=this.Kc.map(function(c){return wb(c,o)}),a=new X0(a);return new rA(n.path,a)},GD.prototype.isEqual=function(n){return this===n},GD),$Ce=(Ct(WD,qee=yb),WD.prototype._toFieldTransform=function(n){var o=$ee(this,n,!0),a=this.Kc.map(function(c){return wb(c,o)}),a=new J0(a);return new rA(n.path,a)},WD.prototype.isEqual=function(n){return this===n},WD),VCe=(Ct(KD,Vee=yb),KD.prototype._toFieldTransform=function(n){var o=new _E(n.R,eJ(n.R,this.Qc));return new rA(n.path,o)},KD.prototype.isEqual=function(n){return this===n},KD);function KD(n,o){var a=this;return(a=Vee.call(this,n)||this).Qc=o,a}function WD(n,o){var a=this;return(a=qee.call(this,n)||this).Kc=o,a}function GD(n,o){var a=this;return(a=Bee.call(this,n)||this).Kc=o,a}function OA(){return LV!==null&&LV.apply(this,arguments)||this}function MV(n,o,a,c){var f=n.Uc(1,o,a);jV("Data must be an object, but it was:",f,c);var p=[],b=zc.empty();return G0(c,function(_,T){var k=$V(o,_,a);T=fn(T),_=f.Oc(k),T instanceof DV?p.push(k):(_=wb(T,_))!=null&&(p.push(k),b.set(k,_))}),c=new pE(p),new Ree(b,c,f.fieldTransforms)}function FV(n,o,a,c,f,p){var b=n.Uc(1,o,a),_=[UV(o,c,a)],T=[f];if(p.length%2!=0)throw new dt($e.INVALID_ARGUMENT,"Function "+o+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var k=0;k<p.length;k+=2)_.push(UV(o,p[k])),T.push(p[k+1]);for(var N,j,V,W=[],X=zc.empty(),ne=_.length-1;0<=ne;--ne)Wee(W,_[ne])||(N=_[ne],j=fn(j=T[ne]),V=b.Oc(N),j instanceof DV?W.push(N):(V=wb(j,V))!=null&&(W.push(N),X.set(N,V)));return f=new pE(W),new Ree(X,f,b.fieldTransforms)}function Hee(n,o,a,c){return wb(a,n.Uc((c=c===void 0?!1:c)?4:3,o))}function wb(n,o){if(Kee(n=fn(n)))return jV("Unsupported field value:",o,n),zee(n,o);if(n instanceof yb)return function(a,c){if(!Fee(c.Nc))throw c.Lc(a._methodName+"() can only be used with update() and set()");if(!c.path)throw c.Lc(a._methodName+"() is not currently supported inside arrays");a=a._toFieldTransform(c),a&&c.fieldTransforms.push(a)}(n,o),null;if(n===void 0&&o.ignoreUndefinedProperties)return null;if(o.path&&o.fieldMask.push(o.path),n instanceof Array){if(o.settings.Fc&&o.Nc!==4)throw o.Lc("Nested arrays are not supported");return function(a){for(var c=[],f=0,p=0,b=n;p<b.length;p++){var _=wb(b[p],a.Mc(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(o)}return function(a,c){if((a=fn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eJ(c.R,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){var f=Ju.fromDate(a);return{timestampValue:sA(c.R,f)}}if(a instanceof Ju)return f=new Ju(a.seconds,1e3*Math.floor(a.nanoseconds/1e3)),{timestampValue:sA(c.R,f)};if(a instanceof HD)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gb)return{bytesValue:LJ(c.R,a._byteString)};if(a instanceof Di){var f=c.databaseId,p=a.firestore._databaseId;if(!p.isEqual(f))throw c.Lc("Document reference is for database "+p.projectId+"/"+p.database+" but should be for database "+f.projectId+"/"+f.database);return{referenceValue:L6(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Lc("Unsupported field value: "+qD(a))}(0,o)}function zee(n,o){var a={};return NX(n)?o.path&&0<o.path.length&&o.fieldMask.push(o.path):G0(n,function(c,f){f=wb(f,o.kc(c)),f!=null&&(a[c]=f)}),{mapValue:{fields:a}}}function Kee(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ju||n instanceof HD||n instanceof gb||n instanceof Di||n instanceof yb)}function jV(n,o,a){if(!Kee(a)||typeof(c=a)!="object"||c===null||Object.getPrototypeOf(c)!==Object.prototype&&Object.getPrototypeOf(c)!==null)throw a=qD(a),a==="an object"?o.Lc(n+" a custom object"):o.Lc(n+" "+a);var c}function UV(n,o,a){if((o=fn(o))instanceof Td)return o._internalPath;if(typeof o=="string")return $V(n,o);throw QD("Field path arguments must be of type string or FieldPath.",n,!1,void 0,a)}var qCe=new RegExp("[~\\*/\\[\\]]");function $V(n,o,a){if(0<=o.search(qCe))throw QD("Invalid field path ("+o+"). Paths must not contain '~', '*', '/', '[', or ']'",n,!1,void 0,a);try{return new(Td.bind.apply(Td,an([void 0],o.split("."))))()._internalPath}catch{throw QD("Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",n,!1,void 0,a)}}function QD(n,_,a,c,f){var p=c&&!c.isEmpty(),b=f!==void 0,_="Function "+_+"() called with invalid data";return a&&(_+=" (via `toFirestore()`)"),a="",(p||b)&&(a+=" (found",p&&(a+=" in field "+c),b&&(a+=" in document "+f),a+=")"),new dt($e.INVALID_ARGUMENT,(_+=". ")+n+a)}function Wee(n,o){return n.some(function(a){return a.isEqual(o)})}var YD,NA=(Object.defineProperty(XE.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(XE.prototype,"ref",{get:function(){return new Di(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),XE.prototype.exists=function(){return this._document!==null},XE.prototype.data=function(){if(this._document){if(this._converter){var n=new BCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}},XE.prototype.get=function(n){if(this._document&&(n=this._document.data.field(XD("DocumentSnapshot.get",n)),n!==null))return this._userDataWriter.convertValue(n)},XE),BCe=(Ct(VV,YD=NA),VV.prototype.data=function(){return YD.prototype.data.call(this)},VV);function VV(){return YD!==null&&YD.apply(this,arguments)||this}function XE(n,o,a,c,f){this._firestore=n,this._userDataWriter=o,this._key=a,this._document=c,this._converter=f}function XD(n,o){return typeof o=="string"?$V(n,o):(o instanceof Td?o:o._delegate)._internalPath}var JD,qV,_b=(Gee.prototype.isEqual=function(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache},Gee),pv=(Ct(RA,qV=NA),RA.prototype.exists=function(){return qV.prototype.exists.call(this)},RA.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var o=new PA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},RA.prototype.get=function(n,o){if(o===void 0&&(o={}),this._document&&(n=this._document.data.field(XD("DocumentSnapshot.get",n)),n!==null))return this._userDataWriter.convertValue(n,o.serverTimestamps)},RA),PA=(Ct(BV,JD=pv),BV.prototype.data=function(n){return JD.prototype.data.call(this,n=n===void 0?{}:n)},BV),pg=(Object.defineProperty(JE.prototype,"docs",{get:function(){var n=[];return this.forEach(function(o){return n.push(o)}),n},enumerable:!1,configurable:!0}),Object.defineProperty(JE.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(JE.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),JE.prototype.forEach=function(n,o){var a=this;this._snapshot.docs.forEach(function(c){n.call(o,new PA(a._firestore,a._userDataWriter,c.key,c,new _b(a._snapshot.mutatedKeys.has(c.key),a._snapshot.fromCache),a.query.converter))})},JE.prototype.docChanges=function(n){if(n=!!(n=n===void 0?{}:n).includeMetadataChanges,n&&this._snapshot.excludesMetadataChanges)throw new dt($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){var c=0;return o._snapshot.docChanges.map(function(p){return{type:"added",doc:new PA(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _b(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}})}var f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(p){return a||p.type!==3}).map(function(p){var b=new PA(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _b(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),_=-1,T=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(T=(f=f.add(p.doc)).indexOf(p.doc.key)),{type:function(k){switch(k){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt()}}(p.type),doc:b,oldIndex:_,newIndex:T}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},JE);function JE(n,o,a,c){this._firestore=n,this._userDataWriter=o,this._snapshot=c,this.metadata=new _b(c.hasPendingWrites,c.fromCache),this.query=a}function BV(){return JD!==null&&JD.apply(this,arguments)||this}function RA(n,o,a,c,f,p){var b=this;return(b=qV.call(this,n,o,a,c,p)||this)._firestore=n,b._firestoreImpl=n,b.metadata=f,b}function Gee(n,o){this.hasPendingWrites=n,this.fromCache=o}function Qee(n,o){return n instanceof pv&&o instanceof pv?n._firestore===o._firestore&&n._key.isEqual(o._key)&&(n._document===null?o._document===null:n._document.isEqual(o._document))&&n._converter===o._converter:n instanceof pg&&o instanceof pg&&n._firestore===o._firestore&&Aee(n.query,o.query)&&n.metadata.isEqual(o.metadata)&&n._snapshot.isEqual(o._snapshot)}function Yee(n){if(cD(n)&&n.explicitOrderBy.length===0)throw new dt($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}Xe=function(){};function vg(n){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];for(var c=0,f=o;c<f.length;c++)n=f[c]._apply(n);return n}var Xee,Jee,Zee,ete,tte,HCe=(Ct(GV,tte=Xe),GV.prototype._apply=function(n){var o=bb(n.firestore),o=function(a,c,f,p,b,_){if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new dt($e.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+b+"' queries on FieldPath.documentId().");if(b==="in"||b==="not-in"){ate(_,b);for(var T=[],k=0,N=_;k<N.length;k++){var j=N[k];T.push(ste(f,a,j))}V={arrayValue:{values:T}}}else V=ste(f,a,_)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||ate(_,b),V=Hee(c,"where",_,b==="in"||b==="not-in");var V=Kc.create(p,b,V);return function(W,X){if(X.g()){var ne=S6(W);if(ne!==null&&!ne.isEqual(X.field))throw new dt($e.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+ne.toString()+"' and '"+X.field.toString()+"'");ne=E6(W),ne!==null&&ute(0,X.field,ne)}if(W=function(ae,Ce){for(var de=0,Je=ae.filters;de<Je.length;de++){var Ke=Je[de];if(0<=Ce.indexOf(Ke.op))return Ke.op}return null}(W,function(){switch(X.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}()),W!==null)throw W===X.op?new dt($e.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+X.op.toString()+"' filter."):new dt($e.INVALID_ARGUMENT,"Invalid query. You cannot use '"+X.op.toString()+"' filters with '"+W.toString()+"' filters.")}(a,V),V}(n._query,o,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new nc(n.firestore,n.converter,(n=n._query,o=n.filters.concat([o]),new ov(n.path,n.collectionGroup,n.explicitOrderBy.slice(),o,n.limit,n.limitType,n.startAt,n.endAt)))},GV),zCe=(Ct(WV,ete=Xe),WV.prototype._apply=function(n){var o=function(a,c,f){if(a.startAt!==null)throw new dt($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new dt($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var p=new gE(c,f);return c=p,E6(f=a)!==null||(a=S6(f))!==null&&ute(0,a,c.field),p}(n._query,this.jc,this.zc);return new nc(n.firestore,n.converter,(n=n._query,o=n.explicitOrderBy.concat([o]),new ov(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)))},WV),nte=(Ct(KV,Zee=Xe),KV.prototype._apply=function(n){return new nc(n.firestore,n.converter,QX(n._query,this.Hc,this.Jc))},KV),rte=(Ct(zV,Jee=Xe),zV.prototype._apply=function(n){var o=ote(n,this.type,this.Yc,this.Xc);return new nc(n.firestore,n.converter,(n=n._query,o=o,new ov(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,o,n.endAt)))},zV),ite=(Ct(HV,Xee=Xe),HV.prototype._apply=function(n){var o=ote(n,this.type,this.Yc,this.Xc);return new nc(n.firestore,n.converter,(n=n._query,o=o,new ov(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,o)))},HV);function HV(n,o,a){var c=this;return(c=Xee.call(this)||this).type=n,c.Yc=o,c.Xc=a,c}function zV(n,o,a){var c=this;return(c=Jee.call(this)||this).type=n,c.Yc=o,c.Xc=a,c}function KV(n,o,a){var c=this;return(c=Zee.call(this)||this).type=n,c.Hc=o,c.Jc=a,c}function WV(n,o){var a=this;return(a=ete.call(this)||this).jc=n,a.zc=o,a.type="orderBy",a}function GV(n,o,a){var c=this;return(c=tte.call(this)||this).jc=n,c.Wc=o,c.Gc=a,c.type="where",c}function ote(n,o,a,c){if(a[0]=fn(a[0]),a[0]instanceof NA)return function(p,b,_,T){if(!_)throw new dt($e.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+o+"().");for(var k=[],N=0,j=bE(p);N<j.length;N++){var V=j[N];if(V.field.isKeyField())k.push(rD(b,_.key));else{var W=_.data.field(V.field);if(h6(W))throw new dt($e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+V.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(W===null)throw V=V.field.canonicalString(),new dt($e.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+V+"' (used as the orderBy) does not exist.");k.push(W)}}return new eA(k,T)}(n._query,n.firestore._databaseId,a[0]._document,c);var f=bb(n.firestore);return function(p,b,_,T,k,N){var j=p.explicitOrderBy;if(k.length>j.length)throw new dt($e.INVALID_ARGUMENT,"Too many arguments provided to "+T+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var V=[],W=0;W<k.length;W++){var X=k[W];if(j[W].field.isKeyField()){if(typeof X!="string")throw new dt($e.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+T+"(), but got a "+typeof X);if(!T6(p)&&X.indexOf("/")!==-1)throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+T+"() must be a plain document ID, but '"+X+"' contains a slash.");var ne=p.path.child(gr.fromString(X));if(!Zt.isDocumentKey(ne))throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+T+"() must result in a valid document path, but '"+ne+"' is not because it contains an odd number of segments.");ne=new Zt(ne),V.push(rD(b,ne))}else X=Hee(_,T,X),V.push(X)}return new eA(V,N)}(n._query,n.firestore._databaseId,f,o,a,c)}function ste(n,o,a){if(typeof(a=fn(a))=="string"){if(a==="")throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!T6(o)&&a.indexOf("/")!==-1)throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+a+"' contains a '/' character.");if(o=o.path.child(gr.fromString(a)),!Zt.isDocumentKey(o))throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return rD(n,new Zt(o))}if(a instanceof Di)return rD(n,a._key);throw new dt($e.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+qD(a)+".")}function ate(n,o){if(!Array.isArray(n)||n.length===0)throw new dt($e.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+o.toString()+"' filters.");if(10<n.length)throw new dt($e.INVALID_ARGUMENT,"Invalid Query. '"+o.toString()+"' filters support a maximum of 10 elements in the value array.")}function ute(n,o,a){if(!a.isEqual(o))throw new dt($e.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+o.toString()+"' and so you must also use '"+o.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+a.toString()+"' instead.")}mg.prototype.convertValue=function(n,o){switch(o===void 0&&(o="none"),Y0(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Io(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(vE(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw Qt()}},mg.prototype.convertObject=function(n,o){var a=this,c={};return G0(n.fields,function(f,p){c[f]=a.convertValue(p,o)}),c},mg.prototype.convertGeoPoint=function(n){return new HD(Io(n.latitude),Io(n.longitude))},mg.prototype.convertArray=function(n,o){var a=this;return(n.values||[]).map(function(c){return a.convertValue(c,o)})},mg.prototype.convertServerTimestamp=function(n,o){switch(o){case"previous":var a=function c(f){return f=f.mapValue.fields.__previous_value__,h6(f)?c(f):f}(n);return a==null?null:this.convertValue(a,o);case"estimate":return this.convertTimestamp(Yk(n));default:return null}},mg.prototype.convertTimestamp=function(n){return n=eg(n),new Ju(n.seconds,n.nanos)},mg.prototype.convertDocumentKey=function(n,o){var a=gr.fromString(n);return bn(WJ(a)),n=new $D(a.get(1),a.get(3)),a=new Zt(a.popFirst(5)),n.isEqual(o)||To("Document "+a+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+o.projectId+"/"+o.database+") instead."),a},ke=mg;function mg(){}function ZD(n,o,a){return n?a&&(a.merge||a.mergeFields)?n.toFirestore(o,a):n.toFirestore(o):o}var cte,KCe=(Ct(eL,cte=ke),eL.prototype.convertBytes=function(n){return new gb(n)},eL.prototype.convertReference=function(n){return n=this.convertDocumentKey(n,this.firestore._databaseId),new Di(this.firestore,null,n)},eL),WCe=(ZE.prototype.set=function(n,o,a){return this._verifyNotCommitted(),n=gg(n,this._firestore),o=ZD(n.converter,o,a),a=zD(this._dataReader,"WriteBatch.set",n._key,o,n.converter!==null,a),this._mutations.push(a.toMutation(n._key,Aa.none())),this},ZE.prototype.update=function(n,o,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];return this._verifyNotCommitted(),n=gg(n,this._firestore),o=typeof(o=fn(o))=="string"||o instanceof Td?FV(this._dataReader,"WriteBatch.update",n._key,o,a,c):MV(this._dataReader,"WriteBatch.update",n._key,o),this._mutations.push(o.toMutation(n._key,Aa.exists(!0))),this},ZE.prototype.delete=function(n){return this._verifyNotCommitted(),n=gg(n,this._firestore),this._mutations=this._mutations.concat(new oA(n._key,Aa.none())),this},ZE.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},ZE.prototype._verifyNotCommitted=function(){if(this._committed)throw new dt($e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},ZE);function ZE(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=bb(n)}function eL(n){var o=this;return(o=cte.call(this)||this).firestore=n,o}function gg(n,o){if((n=fn(n)).firestore!==o)throw new dt($e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var lte,Eb=(Ct(tL,lte=ke),tL.prototype.convertBytes=function(n){return new gb(n)},tL.prototype.convertReference=function(n){return n=this.convertDocumentKey(n,this.firestore._databaseId),new Di(this.firestore,null,n)},tL);function tL(n){var o=this;return(o=lte.call(this)||this).firestore=n,o}function hte(n,f,a){n=yr(n,Di);var c=yr(n.firestore,oo),f=ZD(n.converter,f,a);return DA(c,[zD(bb(c),"setDoc",n._key,f,n.converter!==null,a).toMutation(n._key,Aa.none())])}function fte(n,o,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];n=yr(n,Di);var p=yr(n.firestore,oo),b=bb(p);return DA(p,[(typeof(o=fn(o))=="string"||o instanceof Td?FV(b,"updateDoc",n._key,o,a,c):MV(b,"updateDoc",n._key,o)).toMutation(n._key,Aa.exists(!0))])}function dte(n){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];n=fn(n);var c={includeMetadataChanges:!1},f=0;typeof o[f]!="object"||QE(o[f])||(c=o[f],f++);var p,b,_,T,k,N,j={includeMetadataChanges:c.includeMetadataChanges};return QE(o[f])&&(p=o[f],o[f]=(c=p.next)===null||c===void 0?void 0:c.bind(p),o[f+1]=(c=p.error)===null||c===void 0?void 0:c.bind(p),o[f+2]=(c=p.complete)===null||c===void 0?void 0:c.bind(p)),n instanceof Di?(_=yr(n.firestore,oo),T=yE(n._key.path),N={next:function(V){o[f]&&o[f](QV(_,n,V))},error:o[f+1],complete:o[f+2]}):(b=yr(n,nc),_=yr(b.firestore,oo),T=b._query,k=new Eb(_),N={next:function(V){o[f]&&o[f](new pg(_,k,b,V))},error:o[f+1],complete:o[f+2]},Yee(n._query)),function(V,W,X){var ne=this,ae=new jD(N),Ce=new vV(W,ae,X);return V.asyncQueue.enqueueAndForget(function(){return me(ne,void 0,void 0,function(){var de;return ve(this,function(Je){switch(Je.label){case 0:return de=fV,[4,WE(V)];case 1:return[2,de.apply(void 0,[Je.sent(),Ce])]}})})}),function(){ae.Wo(),V.asyncQueue.enqueueAndForget(function(){return me(ne,void 0,void 0,function(){var de;return ve(this,function(Je){switch(Je.label){case 0:return de=dV,[4,WE(V)];case 1:return[2,de.apply(void 0,[Je.sent(),Ce])]}})})})}}(ms(_),T,j)}function DA(n,o){return function(a,c){var f=this,p=new Na;return a.asyncQueue.enqueueAndForget(function(){return me(f,void 0,void 0,function(){var b;return ve(this,function(_){switch(_.label){case 0:return b=mCe,[4,AV(a)];case 1:return[2,b.apply(void 0,[_.sent(),c,p])]}})})}),p.promise}(ms(n),o)}function QV(n,o,a){var c=a.docs.get(o._key),f=new Eb(n);return new pv(n,f,o._key,c,new _b(a.hasPendingWrites,a.fromCache),o.converter)}var YV,GCe=(LA.prototype.get=function(n){var o=this,a=gg(n,this._firestore),c=new KCe(this._firestore);return this._transaction.lookup([a._key]).then(function(f){if(!f||f.length!==1)return Qt();if(f=f[0],f.isFoundDocument())return new NA(o._firestore,c,f.key,f,a.converter);if(f.isNoDocument())return new NA(o._firestore,c,a._key,null,a.converter);throw Qt()})},LA.prototype.set=function(n,o,a){return n=gg(n,this._firestore),o=ZD(n.converter,o,a),a=zD(this._dataReader,"Transaction.set",n._key,o,n.converter!==null,a),this._transaction.set(n._key,a),this},LA.prototype.update=function(n,o,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];return n=gg(n,this._firestore),o=typeof(o=fn(o))=="string"||o instanceof Td?FV(this._dataReader,"Transaction.update",n._key,o,a,c):MV(this._dataReader,"Transaction.update",n._key,o),this._transaction.update(n._key,o),this},LA.prototype.delete=function(n){return n=gg(n,this._firestore),this._transaction.delete(n._key),this},Ct(XV,YV=LA),XV.prototype.get=function(n){var o=this,a=gg(n,this._firestore),c=new Eb(this._firestore);return YV.prototype.get.call(this,n).then(function(f){return new pv(o._firestore,c,a._key,f._document,new _b(!1,!1),a.converter)})},XV);function XV(n,o){var a=this;return(a=YV.call(this,n,o)||this)._firestore=n,a}function LA(n,o){this._firestore=n,this._transaction=o,this._dataReader=bb(n)}function pte(){if(typeof Uint8Array>"u")throw new dt($e.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vte(){if(typeof atob>"u")throw new dt($e.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var mte,gte=(vv.fromBase64String=function(n){return vte(),new vv(gb.fromBase64String(n))},vv.fromUint8Array=function(n){return pte(),new vv(gb.fromUint8Array(n))},vv.prototype.toBase64=function(){return vte(),this._delegate.toBase64()},vv.prototype.toUint8Array=function(){return pte(),this._delegate.toUint8Array()},vv.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},vv.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},vv),QCe=(iL.prototype.enableIndexedDbPersistence=function(n,o){return function(b,c){Pee(b=yr(b,oo));var f=ms(b),p=b._freezeSettings(),b=new IV;return Nee(f,b,new aee(b,p.cacheSizeBytes,c==null?void 0:c.forceOwnership))}(n._delegate,{forceOwnership:o})},iL.prototype.enableMultiTabIndexedDbPersistence=function(n){return function(f){Pee(f=yr(f,oo));var a=ms(f),c=f._freezeSettings(),f=new IV;return Nee(a,f,new SCe(f,c.cacheSizeBytes))}(n._delegate)},iL.prototype.clearIndexedDbPersistence=function(n){return function(o){var a=this;if(o._initialized&&!o._terminated)throw new dt($e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new Na;return o._queue.enqueueAndForgetEvenWhileRestricted(function(){return me(a,void 0,void 0,function(){var f;return ve(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(b){return me(this,void 0,void 0,function(){var _;return ve(this,function(T){switch(T.label){case 0:return CE.yt()?(_=b+"main",[4,CE.delete(_)]):[2,Promise.resolve()];case 1:return T.sent(),[2]}})})}(G6(o._databaseId,o._persistenceKey))];case 1:return p.sent(),c.resolve(),[3,3];case 2:return f=p.sent(),c.reject(f),[3,3];case 3:return[2]}})})}),c.promise}(n._delegate)},iL),JV=(Object.defineProperty(Go.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),Go.prototype.settings=function(n){var o=this._delegate._getSettings();n.merge||o.host===n.host||Qk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)},Go.prototype.useEmulator=function(n,o,a){(function(c,f,p,b){b===void 0&&(b={});var _,T=(c=yr(c,AA))._getSettings();if(T.host!=="firestore.googleapis.com"&&T.host!==f&&Qk("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},T),{host:f+":"+p,ssl:!1})),b.mockUserToken){if(typeof b.mockUserToken=="string")k=b.mockUserToken,_=Ys.MOCK_USER;else{var k=vm(b.mockUserToken,(p=c._app)===null||p===void 0?void 0:p.options.projectId),b=b.mockUserToken.sub||b.mockUserToken.user_id;if(!b)throw new dt($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ys(b)}c._credentials=new xCe(new vee(k,_))}})(this._delegate,n,o,a=a===void 0?{}:a)},Go.prototype.enableNetwork=function(){return function(n){var o=this;return n.asyncQueue.enqueue(function(){return me(o,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:return[4,hee(n)];case 1:return a=f.sent(),[4,fee(n)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!0),(p=c).Or.delete(0),wA(p))]}var p})})})}(ms(yr(this._delegate,oo)))},Go.prototype.disableNetwork=function(){return function(n){var o=this;return n.asyncQueue.enqueue(function(){return me(o,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:return[4,hee(n)];case 1:return a=f.sent(),[4,fee(n)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!1),function(p){return me(this,void 0,void 0,function(){var b;return ve(this,function(_){switch(_.label){case 0:return(b=p).Or.add(0),[4,VE(b)];case 1:return _.sent(),b.Br.set("Offline"),[2]}})})}(c))]}})})})}(ms(yr(this._delegate,oo)))},Go.prototype.enablePersistence=function(n){var o=!1,a=!1;return n&&bee("synchronizeTabs",o=!!n.synchronizeTabs,"experimentalForceOwningTab",a=!!n.experimentalForceOwningTab),o?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,a)},Go.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},Go.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},Go.prototype.waitForPendingWrites=function(){return function(n){var o=this,a=new Na;return n.asyncQueue.enqueueAndForget(function(){return me(o,void 0,void 0,function(){var c;return ve(this,function(f){switch(f.label){case 0:return c=yCe,[4,AV(n)];case 1:return[2,c.apply(void 0,[f.sent(),a])]}})})}),a.promise}(ms(yr(this._delegate,oo)))},Go.prototype.onSnapshotsInSync=function(n){return o=this._delegate,n=n,function(a,c){var f=this,p=new jD(c);return a.asyncQueue.enqueueAndForget(function(){return me(f,void 0,void 0,function(){var b;return ve(this,function(_){switch(_.label){case 0:return b=function(T,k){T.Gr.add(k),k.next()},[4,WE(a)];case 1:return[2,b.apply(void 0,[_.sent(),p])]}})})}),function(){p.Wo(),a.asyncQueue.enqueueAndForget(function(){return me(f,void 0,void 0,function(){var b;return ve(this,function(_){switch(_.label){case 0:return b=function(T,k){T.Gr.delete(k)},[4,WE(a)];case 1:return[2,b.apply(void 0,[_.sent(),p])]}})})})}}(ms(yr(o,oo)),QE(n)?n:{next:n});var o},Object.defineProperty(Go.prototype,"app",{get:function(){if(!this.tu)throw new dt($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),Go.prototype.collection=function(n){try{return new sL(this,Cee(this._delegate,n))}catch(o){throw wu(o,"collection()","Firestore.collection()")}},Go.prototype.doc=function(n){try{return new Sb(this,BD(this._delegate,n))}catch(o){throw wu(o,"doc()","Firestore.doc()")}},Go.prototype.collectionGroup=function(n){try{return new $A(this,function(o,a){if(o=yr(o,AA),xV("collectionGroup","collection id",a),0<=a.indexOf("/"))throw new dt($e.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new nc(o,null,(a=a,new ov(gr.emptyPath(),a)))}(this._delegate,n))}catch(o){throw wu(o,"collectionGroup()","Firestore.collectionGroup()")}},Go.prototype.runTransaction=function(n){var o,a=this;return function(c,f){var p=this,b=new Na;return c.asyncQueue.enqueueAndForget(function(){return me(p,void 0,void 0,function(){var _;return ve(this,function(T){switch(T.label){case 0:return[4,UD(c).then(function(k){return k.datastore})];case 1:return _=T.sent(),new CCe(c.asyncQueue,_,f,b).run(),[2]}})})}),b.promise}(ms(o=this._delegate),function(c){return c=new GCe(o,c),n(new yte(a,c))})},Go.prototype.batch=function(){var n=this;return ms(this._delegate),new bte(new WCe(this._delegate,function(o){return DA(n._delegate,o)}))},Go.prototype.loadBundle=function(n){throw new dt($e.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Go.prototype.namedQuery=function(n){throw new dt($e.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Go),nL=(Ct(rL,mte=ke),rL.prototype.convertBytes=function(n){return new gte(new gb(n))},rL.prototype.convertReference=function(n){return n=this.convertDocumentKey(n,this.firestore._databaseId),Sb.eu(n,this.firestore,null)},rL);function rL(n){var o=this;return(o=mte.call(this)||this).firestore=n,o}function Go(n,o,a){var c=this;this._delegate=o,this.Zc=a,this.INTERNAL={delete:function(){return c.terminate()}},n instanceof $D||(this.tu=n)}function iL(){}function vv(n){this._delegate=n}var yte=(FA.prototype.get=function(n){var o=this,a=Tb(n);return this._delegate.get(a).then(function(c){return new jA(o._firestore,new pv(o._firestore._delegate,o._userDataWriter,c._key,c._document,c.metadata,a.converter))})},FA.prototype.set=function(n,o,a){return n=Tb(n),a?(OV("Transaction.set",a),this._delegate.set(n,o,a)):this._delegate.set(n,o),this},FA.prototype.update=function(n,o,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var p=Tb(n);return arguments.length===2?this._delegate.update(p,o):(n=this._delegate).update.apply(n,an([p,o,a],c)),this},FA.prototype.delete=function(n){return n=Tb(n),this._delegate.delete(n),this},FA),bte=(MA.prototype.set=function(n,o,a){return n=Tb(n),a?(OV("WriteBatch.set",a),this._delegate.set(n,o,a)):this._delegate.set(n,o),this},MA.prototype.update=function(n,o,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var p=Tb(n);return arguments.length===2?this._delegate.update(p,o):(n=this._delegate).update.apply(n,an([p,o,a],c)),this},MA.prototype.delete=function(n){return n=Tb(n),this._delegate.delete(n),this},MA.prototype.commit=function(){return this._delegate.commit()},MA),oL=(eS.prototype.fromFirestore=function(n,o){return n=new PA(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null),this._delegate.fromFirestore(new UA(this._firestore,n),o!=null?o:{})},eS.prototype.toFirestore=function(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)},eS.nu=function(n,o){var a=eS.su,c=a.get(n);return c||(c=new WeakMap,a.set(n,c)),a=c.get(o),a||(a=new eS(n,new nL(n),o),c.set(o,a)),a},eS);function eS(n,o,a){this._firestore=n,this._userDataWriter=o,this._delegate=a}function MA(n){this._delegate=n}function FA(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new nL(n)}oL.su=new WeakMap;var Sb=(Zs.iu=function(n,o,a){if(n.length%2!=0)throw new dt($e.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.canonicalString()+" has "+n.length);return new Zs(o,new Di(o._delegate,a,new Zt(n)))},Zs.eu=function(n,o,a){return new Zs(o,new Di(o._delegate,a,n))},Object.defineProperty(Zs.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Zs.prototype,"parent",{get:function(){return new sL(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Zs.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Zs.prototype.collection=function(n){try{return new sL(this.firestore,Cee(this._delegate,n))}catch(o){throw wu(o,"collection()","DocumentReference.collection()")}},Zs.prototype.isEqual=function(n){return(n=fn(n))instanceof Di&&kee(this._delegate,n)},Zs.prototype.set=function(n,o){o=OV("DocumentReference.set",o);try{return o?hte(this._delegate,n,o):hte(this._delegate,n)}catch(a){throw wu(a,"setDoc()","DocumentReference.set()")}},Zs.prototype.update=function(n,o){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];try{return arguments.length===1?fte(this._delegate,n):fte.apply(void 0,an([this._delegate,n,o],a))}catch(f){throw wu(f,"updateDoc()","DocumentReference.update()")}},Zs.prototype.delete=function(){return DA(yr((n=this._delegate).firestore,oo),[new oA(n._key,Aa.none())]);var n},Zs.prototype.onSnapshot=function(){for(var n=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var c=wte(o),f=_te(o,function(p){return new jA(n.firestore,new pv(n.firestore._delegate,n._userDataWriter,p._key,p._document,p.metadata,n._delegate.converter))});return dte(this._delegate,c,f)},Zs.prototype.get=function(n){var o=this;return((n==null?void 0:n.source)==="cache"?function(a){a=yr(a,Di);var c=yr(a.firestore,oo),f=ms(c),p=new Eb(c);return function(b,_){var T=this,k=new Na;return b.asyncQueue.enqueueAndForget(function(){return me(T,void 0,void 0,function(){var N;return ve(this,function(j){switch(j.label){case 0:return N=function(V,W,X){return me(this,void 0,void 0,function(){var ne,ae;return ve(this,function(Ce){switch(Ce.label){case 0:return Ce.trys.push([0,2,,3]),[4,(de=W,(Je=V).persistence.runTransaction("read document","readonly",function(Ke){return Je.Mn.mn(Ke,de)}))];case 1:return(ae=Ce.sent()).isFoundDocument()?X.resolve(ae):ae.isNoDocument()?X.resolve(null):X.reject(new dt($e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return ne=Ce.sent(),ae=HE(ne,"Failed to get document '"+W+" from cache"),X.reject(ae),[3,3];case 3:return[2]}var de,Je})})},[4,kV(b)];case 1:return[2,N.apply(void 0,[j.sent(),_,k])]}})})}),k.promise}(f,a._key).then(function(b){return new pv(c,p,a._key,b,new _b(b!==null&&b.hasLocalMutations,!0),a.converter)})}:(n==null?void 0:n.source)==="server"?function(a){a=yr(a,Di);var c=yr(a.firestore,oo);return dee(ms(c),a._key,{source:"server"}).then(function(f){return QV(c,a,f)})}:function(a){a=yr(a,Di);var c=yr(a.firestore,oo);return dee(ms(c),a._key).then(function(f){return QV(c,a,f)})})(this._delegate).then(function(a){return new jA(o.firestore,new pv(o.firestore._delegate,o._userDataWriter,a._key,a._document,a.metadata,o._delegate.converter))})},Zs.prototype.withConverter=function(n){return new Zs(this.firestore,n?this._delegate.withConverter(oL.nu(this.firestore,n)):this._delegate.withConverter(null))},Zs);function Zs(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new nL(n)}function wu(n,o,a){return n.message=n.message.replace(o,a),n}function wte(n){for(var o=0,a=n;o<a.length;o++){var c=a[o];if(typeof c=="object"&&!QE(c))return c}return{}}function _te(n,o){var a;return{next:function(c){a.next&&a.next(o(c))},error:(n=(a=QE(n[0])?n[0]:QE(n[1])?n[1]:typeof n[0]=="function"?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]}).error)===null||n===void 0?void 0:n.bind(a),complete:(n=a.complete)===null||n===void 0?void 0:n.bind(a)}}var Ete,ZV,jA=(Object.defineProperty(yg.prototype,"ref",{get:function(){return new Sb(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(yg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(yg.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(yg.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),yg.prototype.data=function(n){return this._delegate.data(n)},yg.prototype.get=function(n,o){return this._delegate.get(n,o)},yg.prototype.isEqual=function(n){return Qee(this._delegate,n._delegate)},yg),UA=(Ct(t5,ZV=jA),t5.prototype.data=function(n){return this._delegate.data(n)},t5),$A=(Wi.prototype.where=function(n,o,a){try{return new Wi(this.firestore,vg(this._delegate,(c=a,f=o,p=XD("where",n),new HCe(p,f,c))))}catch(b){throw wu(b,/(orderBy|where)\(\)/,"Query.$1()")}var c,f,p},Wi.prototype.orderBy=function(n,o){try{return new Wi(this.firestore,vg(this._delegate,(a=o===void 0?"asc":o,c=XD("orderBy",n),new zCe(c,a))))}catch(f){throw wu(f,/(orderBy|where)\(\)/,"Query.$1()")}var a,c},Wi.prototype.limit=function(n){try{return new Wi(this.firestore,vg(this._delegate,(Eee("limit",o=n),new nte("limit",o,"F"))))}catch(a){throw wu(a,"limit()","Query.limit()")}var o},Wi.prototype.limitToLast=function(n){try{return new Wi(this.firestore,vg(this._delegate,(Eee("limitToLast",o=n),new nte("limitToLast",o,"L"))))}catch(a){throw wu(a,"limitToLast()","Query.limitToLast()")}var o},Wi.prototype.startAt=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return new Wi(this.firestore,vg(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new rte("startAt",a,!0)}.apply(void 0,n)))}catch(a){throw wu(a,"startAt()","Query.startAt()")}},Wi.prototype.startAfter=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return new Wi(this.firestore,vg(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new rte("startAfter",a,!1)}.apply(void 0,n)))}catch(a){throw wu(a,"startAfter()","Query.startAfter()")}},Wi.prototype.endBefore=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return new Wi(this.firestore,vg(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new ite("endBefore",a,!0)}.apply(void 0,n)))}catch(a){throw wu(a,"endBefore()","Query.endBefore()")}},Wi.prototype.endAt=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return new Wi(this.firestore,vg(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new ite("endAt",a,!1)}.apply(void 0,n)))}catch(a){throw wu(a,"endAt()","Query.endAt()")}},Wi.prototype.isEqual=function(n){return Aee(this._delegate,n._delegate)},Wi.prototype.get=function(n){var o=this;return((n==null?void 0:n.source)==="cache"?function(a){a=yr(a,nc);var c=yr(a.firestore,oo),f=ms(c),p=new Eb(c);return function(b,_){var T=this,k=new Na;return b.asyncQueue.enqueueAndForget(function(){return me(T,void 0,void 0,function(){var N;return ve(this,function(j){switch(j.label){case 0:return N=function(V,W,X){return me(this,void 0,void 0,function(){var ne,ae,Ce;return ve(this,function(de){switch(de.label){case 0:return de.trys.push([0,2,,3]),[4,ID(V,W,!0)];case 1:return Ce=de.sent(),ne=new ZZ(W,Ce.Bn),ae=ne._o(Ce.documents),ae=ne.applyChanges(ae,!1),X.resolve(ae.snapshot),[3,3];case 2:return ae=de.sent(),Ce=HE(ae,"Failed to execute query '"+W+" against cache"),X.reject(Ce),[3,3];case 3:return[2]}})})},[4,kV(b)];case 1:return[2,N.apply(void 0,[j.sent(),_,k])]}})})}),k.promise}(f,a._query).then(function(b){return new pg(c,p,a,b)})}:(n==null?void 0:n.source)==="server"?function(a){a=yr(a,nc);var c=yr(a.firestore,oo),f=ms(c),p=new Eb(c);return pee(f,a._query,{source:"server"}).then(function(b){return new pg(c,p,a,b)})}:function(a){a=yr(a,nc);var c=yr(a.firestore,oo),f=ms(c),p=new Eb(c);return Yee(a._query),pee(f,a._query).then(function(b){return new pg(c,p,a,b)})})(this._delegate).then(function(a){return new e5(o.firestore,new pg(o.firestore._delegate,o._userDataWriter,o._delegate,a._snapshot))})},Wi.prototype.onSnapshot=function(){for(var n=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var c=wte(o),f=_te(o,function(p){return new e5(n.firestore,new pg(n.firestore._delegate,n._userDataWriter,n._delegate,p._snapshot))});return dte(this._delegate,c,f)},Wi.prototype.withConverter=function(n){return new Wi(this.firestore,n?this._delegate.withConverter(oL.nu(this.firestore,n)):this._delegate.withConverter(null))},Wi),YCe=(Object.defineProperty(VA.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(VA.prototype,"doc",{get:function(){return new UA(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(VA.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(VA.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),VA),e5=(Object.defineProperty(mv.prototype,"query",{get:function(){return new $A(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(mv.prototype,"docs",{get:function(){var n=this;return this._delegate.docs.map(function(o){return new UA(n._firestore,o)})},enumerable:!1,configurable:!0}),mv.prototype.docChanges=function(n){var o=this;return this._delegate.docChanges(n).map(function(a){return new YCe(o._firestore,a)})},mv.prototype.forEach=function(n,o){var a=this;this._delegate.forEach(function(c){n.call(o,new UA(a._firestore,c))})},mv.prototype.isEqual=function(n){return Qee(this._delegate,n._delegate)},mv),sL=(Ct(Id,Ete=$A),Object.defineProperty(Id.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Id.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(Id.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Sb(this.firestore,n):null},enumerable:!1,configurable:!0}),Id.prototype.doc=function(n){try{return new Sb(this.firestore,n===void 0?BD(this._delegate):BD(this._delegate,n))}catch(o){throw wu(o,"doc()","CollectionReference.doc()")}},Id.prototype.add=function(n){var o,a,c,f=this;return o=this._delegate,a=n,n=yr(o.firestore,oo),c=BD(o),a=ZD(o.converter,a),DA(n,[zD(bb(o.firestore),"addDoc",c._key,a,o.converter!==null,{}).toMutation(c._key,Aa.exists(!1))]).then(function(){return c}).then(function(p){return new Sb(f.firestore,p)})},Id.prototype.isEqual=function(n){return kee(this._delegate,n._delegate)},Id.prototype.withConverter=function(n){return new Id(this.firestore,n?this._delegate.withConverter(oL.nu(this.firestore,n)):this._delegate.withConverter(null))},Id);function Id(n,o){var a=this;return(a=Ete.call(this,n,o)||this).firestore=n,a._delegate=o,a}function mv(n,o){this._firestore=n,this._delegate=o}function VA(n,o){this._firestore=n,this._delegate=o}function Wi(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new nL(n)}function t5(){return ZV!==null&&ZV.apply(this,arguments)||this}function yg(n,o){this._firestore=n,this._delegate=o}function Tb(n){return yr(n,Di)}aL.documentId=function(){return new aL(Wh.keyField().canonicalString())},aL.prototype.isEqual=function(n){return(n=fn(n))instanceof Td&&this._delegate._internalPath.isEqual(n._internalPath)},Xe=aL,Jl.serverTimestamp=function(){var n=new jCe("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Jl(n)},Jl.delete=function(){var n=new DV("deleteField");return n._methodName="FieldValue.delete",new Jl(n)},Jl.arrayUnion=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new UCe("arrayUnion",c)}.apply(void 0,n);return a._methodName="FieldValue.arrayUnion",new Jl(a)},Jl.arrayRemove=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new $Ce("arrayRemove",c)}.apply(void 0,n);return a._methodName="FieldValue.arrayRemove",new Jl(a)},Jl.increment=function(n){return n=new VCe("increment",n),n._methodName="FieldValue.increment",new Jl(n)},Jl.prototype.isEqual=function(n){return this._delegate.isEqual(n._delegate)},ke=Jl;function Jl(n){this._delegate=n}function aL(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];this._delegate=new(Td.bind.apply(Td,an([void 0],n)))}function XCe(n){return o=this._delegate,a=n,c=ms(o=yr(o,oo)),n=new DCe,function(f,p,b){var _,T=this,k=(_=a,p=bA(p),_=function(N){if(N instanceof Uint8Array)return uee(N,void 0);if(N instanceof ArrayBuffer)return uee(new Uint8Array(N),void 0);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof _=="string"?new TextEncoder().encode(_):_),new TCe(_,p));f.asyncQueue.enqueueAndForget(function(){return me(T,void 0,void 0,function(){var N;return ve(this,function(j){switch(j.label){case 0:return N=ECe,[4,AV(f)];case 1:return N.apply(void 0,[j.sent(),k,b]),[2]}})})})}(c,o._databaseId,n),n;var o,a,c}function JCe(c){var o=this,a=this._delegate,c=c;return function(f,p){var b=this;return f.asyncQueue.enqueue(function(){return me(b,void 0,void 0,function(){var _;return ve(this,function(T){switch(T.label){case 0:return _=function(k,N){var j=k;return j.persistence.runTransaction("Get named query","readonly",function(V){return j.Ke.getNamedQuery(V,N)})},[4,kV(f)];case 1:return[2,_.apply(void 0,[T.sent(),p])]}})})})}(ms(a=yr(a,oo)),c).then(function(f){return f?new nc(a,null,f.query):null}).then(function(f){return f?new $A(o,f):null})}var Ste,Tte,ZCe={Firestore:JV,GeoPoint:HD,Timestamp:Ju,Blob:gte,Transaction:yte,WriteBatch:bte,DocumentReference:Sb,DocumentSnapshot:jA,Query:$A,QueryDocumentSnapshot:UA,QuerySnapshot:e5,CollectionReference:sL,FieldPath:Xe,FieldValue:ke,setLogLevel:function(n){Kh.setLogLevel(n)},CACHE_SIZE_UNLIMITED:-1};(Ste=Ht).INTERNAL.registerComponent(new qo("firestore",function(n){var o=n.getProvider("app").getImmediate();return o=o,n=n.getProvider("auth-internal"),new JV(o,new oo(o,n),new QCe)},"PUBLIC").setServiceProps(Object.assign({},ZCe))),Ste.registerVersion("@firebase/firestore","2.4.1"),(Tte=JV).prototype.loadBundle=XCe,Tte.prototype.namedQuery=JCe;var Ite,Cte={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tS=(Ct(n5,Ite=Error),n5);function n5(n,o,a){return o=Ite.call(this,o)||this,Object.setPrototypeOf(o,n5.prototype),o.code=n,o.details=a,o}function eke(p,o,a){var c=function(k){if(200<=k&&k<300)return"ok";switch(k){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(p),f=c,p=void 0;try{var b=o&&o.error;if(b){var _=b.status;if(typeof _=="string"){if(!Cte[_])return new tS("internal","internal");c=Cte[_],f=_}var T=b.message;typeof T=="string"&&(f=T),(p=b.details)!==void 0&&(p=a.decode(p))}}catch{}return c==="ok"?null:new tS(c,f,p)}var tke=(uL.prototype.getAuthToken=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:if(!this.auth)return[2,void 0];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(n=o.sent())?[2,n.accessToken]:[2,void 0];case 3:return o.sent(),[2,void 0];case 4:return[2]}})})},uL.prototype.getInstanceIdToken=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:if(!(this.messaging&&"Notification"in self&&Notification.permission==="granted"))return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,n.sent()];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},uL.prototype.getContext=function(){return me(this,void 0,void 0,function(){var n,o;return ve(this,function(a){switch(a.label){case 0:return[4,this.getAuthToken()];case 1:return n=a.sent(),[4,this.getInstanceIdToken()];case 2:return o=a.sent(),[2,{authToken:n,instanceIdToken:o}]}})})},uL);function uL(n,o){var a=this;this.auth=null,this.messaging=null,this.auth=n.getImmediate({optional:!0}),this.messaging=o.getImmediate({optional:!0}),this.auth||n.get().then(function(c){return a.auth=c},function(){}),this.messaging||o.get().then(function(c){return a.messaging=c},function(){})}function kte(n,o){var a,c={};for(a in n)n.hasOwnProperty(a)&&(c[a]=o(n[a]));return c}var nke=(r5.prototype.encode=function(n){var o=this;if(n==null)return null;if(typeof(n=n instanceof Number?n.valueOf():n)=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(function(a){return o.encode(a)});if(typeof n=="function"||typeof n=="object")return kte(n,function(a){return o.encode(a)});throw new Error("Data cannot be encoded in JSON: "+n)},r5.prototype.decode=function(n){var o=this;if(n==null)return n;if(n["@type"])switch(n["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var a=Number(n.value);if(isNaN(a))throw new Error("Data cannot be decoded from JSON: "+n);return a;default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(function(c){return o.decode(c)}):typeof n=="function"||typeof n=="object"?kte(n,function(c){return o.decode(c)}):n},r5);function r5(){}var Ate=(Object.defineProperty(gv.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),gv.prototype._url=function(n){var o=this.app_.options.projectId;return this.emulatorOrigin===null?this.customDomain!==null?this.customDomain+"/"+n:"https://"+this.region+"-"+o+".cloudfunctions.net/"+n:this.emulatorOrigin+"/"+o+"/"+this.region+"/"+n},gv.prototype.useEmulator=function(n,o){this.emulatorOrigin="http://"+n+":"+o},gv.prototype.useFunctionsEmulator=function(n){this.emulatorOrigin=n},gv.prototype.httpsCallable=function(n,o){var a=this;return function(c){return a.call(n,c,o||{})}},gv.prototype.postJSON=function(n,o,a){return me(this,void 0,void 0,function(){var c,f,p;return ve(this,function(b){switch(b.label){case 0:return a["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:(c=b.sent())!==null&&(a["X-Firebase-AppCheck"]=c),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,this.fetchImpl(n,{method:"POST",body:JSON.stringify(o),headers:a})];case 3:return f=b.sent(),[3,5];case 4:return b.sent(),[2,{status:0,json:null}];case 5:p=null,b.label=6;case 6:return b.trys.push([6,8,,9]),[4,f.json()];case 7:return p=b.sent(),[3,9];case 8:return b.sent(),[3,9];case 9:return[2,{status:f.status,json:p}]}})})},gv.prototype.getAppCheckToken=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return(n=this.appCheckProvider.getImmediate({optional:!0}))?[4,n.getToken()]:[3,2];case 1:return[2,o.sent().token];case 2:return[2,null]}})})},gv.prototype.call=function(n,o,a){return me(this,void 0,void 0,function(){var c,f,p,b,_;return ve(this,function(T){switch(T.label){case 0:return c=this._url(n),o=this.serializer.encode(o),f={data:o},p={},[4,this.contextProvider.getContext()];case 1:return(b=T.sent()).authToken&&(p.Authorization="Bearer "+b.authToken),b.instanceIdToken&&(p["Firebase-Instance-ID-Token"]=b.instanceIdToken),_=a.timeout||7e4,k=_,j=new Promise(function(V,W){N=setTimeout(function(){W(new tS("deadline-exceeded","deadline-exceeded"))},k)}),_=(b={timer:N,promise:j}).timer,b=b.promise,[4,Promise.race([xte(_,this.postJSON(c,f,p)),b,xte(_,this.cancelAllRequests)])];case 2:if(!(b=T.sent()))throw new tS("cancelled","Firebase Functions instance was deleted.");if(_=eke(b.status,b.json,this.serializer))throw _;if(!b.json)throw new tS("internal","Response is not valid JSON object.");if((_=(_=b.json.data)===void 0?b.json.result:_)===void 0)throw new tS("internal","Response is missing data field.");return[2,{data:this.serializer.decode(_)}]}var k,N,j})})},gv);function gv(n,o,a,c,f,p){var b=this;f===void 0&&(f="us-central1"),this.app_=n,this.appCheckProvider=c,this.fetchImpl=p,this.serializer=new nke,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(b.deleteService())}},this.contextProvider=new tke(o,a),this.cancelAllRequests=new Promise(function(T){b.deleteService=function(){return T()}});try{var _=new URL(f);this.customDomain=_.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=f}}function xte(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return[4,o];case 1:return a=c.sent(),clearTimeout(n),[2,a]}})})}var Ote,Nte,Pte;function Rte(n){return new Promise(function(o,a){n.onsuccess=function(){o(n.result)},n.onerror=function(){a(n.error)}})}function cL(n,o,a){var c,f=new Promise(function(p,b){Rte(c=n[o].apply(n,a)).then(p,b)});return f.request=c,f}function nS(n,o,a){a.forEach(function(c){Object.defineProperty(n.prototype,c,{get:function(){return this[o][c]},set:function(f){this[o][c]=f}})})}function i5(n,o,a,c){c.forEach(function(f){f in a.prototype&&(n.prototype[f]=function(){return cL(this[o],f,arguments)})})}function lL(n,o,a,c){c.forEach(function(f){f in a.prototype&&(n.prototype[f]=function(){return this[o][f].apply(this[o],arguments)})})}function Dte(n,o,a,c){c.forEach(function(f){f in a.prototype&&(n.prototype[f]=function(){return p=this[o],(b=cL(p,f,arguments)).then(function(_){if(_)return new qA(_,b.request)});var p,b})})}function Ib(n){this._index=n}function qA(n,o){this._cursor=n,this._request=o}function Cd(n){this._store=n}function BA(n){this._tx=n,this.complete=new Promise(function(o,a){n.oncomplete=function(){o()},n.onerror=function(){a(n.error)},n.onabort=function(){a(n.error)}})}function hL(n,o,a){this._db=n,this.oldVersion=o,this.transaction=new BA(a)}function fL(n){this._db=n}function o5(n,c,a){var c=cL(indexedDB,"open",[n,c]),f=c.request;return f&&(f.onupgradeneeded=function(p){a&&a(new hL(f.result,p.oldVersion,f.transaction))}),c.then(function(p){return new fL(p)})}function s5(n){return cL(indexedDB,"deleteDatabase",[n])}Ote=Ht,Nte=fetch.bind(self),Pte={Functions:Ate},Ote.INTERNAL.registerComponent(new qo("functions",function(b,p){var a=p.instanceIdentifier,c=b.getProvider("app").getImmediate(),f=b.getProvider("auth-internal"),p=b.getProvider("app-check-internal"),b=b.getProvider("messaging");return new Ate(c,f,b,p,a,Nte)},"PUBLIC").setServiceProps(Pte).setMultipleInstances(!0)),Ht.registerVersion("@firebase/functions","0.6.16"),nS(Ib,"_index",["name","keyPath","multiEntry","unique"]),i5(Ib,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Dte(Ib,"_index",IDBIndex,["openCursor","openKeyCursor"]),nS(qA,"_cursor",["direction","key","primaryKey","value"]),i5(qA,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(qA.prototype[n]=function(){var o=this,a=arguments;return Promise.resolve().then(function(){return o._cursor[n].apply(o._cursor,a),Rte(o._request).then(function(c){if(c)return new qA(c,o._request)})})})}),Cd.prototype.createIndex=function(){return new Ib(this._store.createIndex.apply(this._store,arguments))},Cd.prototype.index=function(){return new Ib(this._store.index.apply(this._store,arguments))},nS(Cd,"_store",["name","keyPath","indexNames","autoIncrement"]),i5(Cd,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Dte(Cd,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),lL(Cd,"_store",IDBObjectStore,["deleteIndex"]),BA.prototype.objectStore=function(){return new Cd(this._tx.objectStore.apply(this._tx,arguments))},nS(BA,"_tx",["objectStoreNames","mode"]),lL(BA,"_tx",IDBTransaction,["abort"]),hL.prototype.createObjectStore=function(){return new Cd(this._db.createObjectStore.apply(this._db,arguments))},nS(hL,"_db",["name","version","objectStoreNames"]),lL(hL,"_db",IDBDatabase,["deleteObjectStore","close"]),fL.prototype.transaction=function(){return new BA(this._db.transaction.apply(this._db,arguments))},nS(fL,"_db",["name","version","objectStoreNames"]),lL(fL,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(n){[Cd,Ib].forEach(function(o){n in o.prototype&&(o.prototype[n.replace("open","iterate")]=function(){var a=(f=arguments,Array.prototype.slice.call(f)),c=a[a.length-1],f=this._store||this._index,p=f[n].apply(f,a.slice(0,-1));p.onsuccess=function(){c(p.result)}})})}),[Ib,Cd].forEach(function(n){n.prototype.getAll||(n.prototype.getAll=function(o,a){var c=this,f=[];return new Promise(function(p){c.iterateCursor(o,function(b){b?(f.push(b.value),a===void 0||f.length!=a?b.continue():p(f)):p(f)})})})});var Lte=1e4,Mte="w:0.4.32",Fte="FIS_v2",rke="https://firebaseinstallations.googleapis.com/v1",ike=36e5,ke=((Xe={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xe["not-registered"]="Firebase Installation is not registered.",Xe["installation-not-found"]="Firebase Installation not found.",Xe["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Xe["app-offline"]="Could not process request. Application offline.",Xe["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Xe),yv=new Oc("installations","Installations",ke);function jte(n){return n instanceof Bf&&n.code.includes("request-failed")}function a5(n){return n=n.projectId,rke+"/projects/"+n+"/installations"}function Ute(n){return{token:n.token,requestStatus:2,expiresIn:(n=n.expiresIn,Number(n.replace("s","000"))),creationTime:Date.now()}}function u5(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return[4,o.json()];case 1:return a=c.sent(),a=a.error,[2,yv.create("request-failed",{requestName:n,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})]}})})}function $te(n){return n=n.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Vte(n,o){return o=o.refreshToken,n=$te(n),n.append("Authorization",Fte+" "+o),n}function c5(n){return me(this,void 0,void 0,function(){var o;return ve(this,function(a){switch(a.label){case 0:return[4,n()];case 1:return 500<=(o=a.sent()).status&&o.status<600?[2,n()]:[2,o]}})})}function qte(n){return new Promise(function(o){setTimeout(o,n)})}var oke=/^[cdef][\w-]{21}$/,l5="";function ske(){try{var n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;var o=function(a){return btoa(String.fromCharCode.apply(String,an([],yo(a)))).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22);return oke.test(o)?o:l5}catch{return l5}}function rS(n){return n.appName+"!"+n.appId}var iS=new Map;function Bte(n,o){n=rS(n),Hte(n,o),function(a,c){var f=zte();f&&f.postMessage({key:a,fid:c}),Kte()}(n,o)}function Hte(f,o){var a,c,f=iS.get(f);if(f)try{for(var p=go(f),b=p.next();!b.done;b=p.next())(0,b.value)(o)}catch(_){a={error:_}}finally{try{b&&!b.done&&(c=p.return)&&c.call(p)}finally{if(a)throw a.error}}}var oS=null;function zte(){return!oS&&"BroadcastChannel"in self&&((oS=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(n){Hte(n.data.key,n.data.fid)}),oS}function Kte(){iS.size===0&&oS&&(oS.close(),oS=null)}var Wte,ake="firebase-installations-database",uke=1,Cb="firebase-installations-store",Gte=null;function h5(){return Gte=Gte||o5(ake,uke,function(n){n.oldVersion===0&&n.createObjectStore(Cb)})}function dL(n,o){return me(this,void 0,void 0,function(){var a,c,f,p;return ve(this,function(b){switch(b.label){case 0:return a=rS(n),[4,h5()];case 1:return f=b.sent(),c=f.transaction(Cb,"readwrite"),[4,(f=c.objectStore(Cb)).get(a)];case 2:return p=b.sent(),[4,f.put(o,a)];case 3:return b.sent(),[4,c.complete];case 4:return b.sent(),p&&p.fid===o.fid||Bte(n,o.fid),[2,o]}})})}function f5(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:return o=rS(n),[4,h5()];case 1:return a=c.sent(),[4,(a=a.transaction(Cb,"readwrite")).objectStore(Cb).delete(o)];case 2:return c.sent(),[4,a.complete];case 3:return c.sent(),[2]}})})}function HA(n,o){return me(this,void 0,void 0,function(){var a,c,f,p,b;return ve(this,function(_){switch(_.label){case 0:return a=rS(n),[4,h5()];case 1:return f=_.sent(),c=f.transaction(Cb,"readwrite"),[4,(f=c.objectStore(Cb)).get(a)];case 2:return p=_.sent(),(b=o(p))!==void 0?[3,4]:[4,f.delete(a)];case 3:return _.sent(),[3,6];case 4:return[4,f.put(b,a)];case 5:_.sent(),_.label=6;case 6:return[4,c.complete];case 7:return _.sent(),!b||p&&p.fid===b.fid||Bte(n,b.fid),[2,b]}})})}function d5(n){return me(this,void 0,void 0,function(){var o,a,c;return ve(this,function(f){switch(f.label){case 0:return[4,HA(n,function(p){return p=Yte(p||{fid:ske(),registrationStatus:0}),p=function(b,_){{if(_.registrationStatus!==0)return _.registrationStatus===1?{installationEntry:_,registrationPromise:function(k){return me(this,void 0,void 0,function(){var N,j,V;return ve(this,function(W){switch(W.label){case 0:return[4,Qte(k)];case 1:N=W.sent(),W.label=2;case 2:return N.registrationStatus!==1?[3,5]:[4,qte(100)];case 3:return W.sent(),[4,Qte(k)];case 4:return N=W.sent(),[3,2];case 5:return N.registrationStatus!==0?[3,7]:[4,d5(k)];case 6:return V=W.sent(),j=V.installationEntry,(V=V.registrationPromise)?[2,V]:[2,j];case 7:return[2,N]}})})}(b)}:{installationEntry:_};if(!navigator.onLine){var T=Promise.reject(yv.create("app-offline"));return{installationEntry:_,registrationPromise:T}}return _={fid:_.fid,registrationStatus:1,registrationTime:Date.now()},b=function(k,N){return me(this,void 0,void 0,function(){var j,V;return ve(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,7]),[4,function(X,ne){var ae=ne.fid;return me(this,void 0,void 0,function(){var Ce,de,Je,Ke,wt;return ve(this,function(le){switch(le.label){case 0:return Ce=a5(X),de=$te(X),wt={fid:ae,authVersion:Fte,appId:X.appId,sdkVersion:Mte},Je={method:"POST",headers:de,body:JSON.stringify(wt)},[4,c5(function(){return fetch(Ce,Je)})];case 1:return(Ke=le.sent()).ok?[4,Ke.json()]:[3,3];case 2:return wt=le.sent(),[2,{fid:wt.fid||ae,registrationStatus:2,refreshToken:wt.refreshToken,authToken:Ute(wt.authToken)}];case 3:return[4,u5("Create Installation",Ke)];case 4:throw le.sent()}})})}(k,N)];case 1:return j=W.sent(),[2,dL(k,j)];case 2:return jte(V=W.sent())&&V.customData.serverCode===409?[4,f5(k)]:[3,4];case 3:return W.sent(),[3,6];case 4:return[4,dL(k,{fid:N.fid,registrationStatus:0})];case 5:W.sent(),W.label=6;case 6:throw V;case 7:return[2]}})})}(b,_),{installationEntry:_,registrationPromise:b}}}(n,p),o=p.registrationPromise,p.installationEntry})];case 1:return(a=f.sent()).fid!==l5?[3,3]:(c={},[4,o]);case 2:return[2,(c.installationEntry=f.sent(),c)];case 3:return[2,{installationEntry:a,registrationPromise:o}]}})})}function Qte(n){return HA(n,function(o){if(!o)throw yv.create("installation-not-found");return Yte(o)})}function Yte(n){return(o=n).registrationStatus===1&&o.registrationTime+Lte<Date.now()?{fid:n.fid,registrationStatus:0}:n;var o}function cke(n,o){var a=n.appConfig,c=n.platformLoggerProvider;return me(this,void 0,void 0,function(){var f,p,b,_,T;return ve(this,function(k){switch(k.label){case 0:return f=function(N,j){return j=j.fid,a5(N)+"/"+j+"/authTokens:generate"}(a,o),p=Vte(a,o),(T=c.getImmediate({optional:!0}))&&p.append("x-firebase-client",T.getPlatformInfoString()),T={installation:{sdkVersion:Mte}},b={method:"POST",headers:p,body:JSON.stringify(T)},[4,c5(function(){return fetch(f,b)})];case 1:return(_=k.sent()).ok?[4,_.json()]:[3,3];case 2:return T=k.sent(),[2,Ute(T)];case 3:return[4,u5("Generate Auth Token",_)];case 4:throw k.sent()}})})}function p5(n,o){return o===void 0&&(o=!1),me(this,void 0,void 0,function(){var a,c,f;return ve(this,function(p){switch(p.label){case 0:return[4,HA(n.appConfig,function(b){if(!Jte(b))throw yv.create("not-registered");var _,T=b.authToken;if(o||(_=T).requestStatus!==2||function(k){var N=Date.now();return N<k.creationTime||k.creationTime+k.expiresIn<N+ike}(_)){if(T.requestStatus===1)return a=function(k,N){return me(this,void 0,void 0,function(){var j;return ve(this,function(V){switch(V.label){case 0:return[4,Xte(k.appConfig)];case 1:j=V.sent(),V.label=2;case 2:return j.authToken.requestStatus!==1?[3,5]:[4,qte(100)];case 3:return V.sent(),[4,Xte(k.appConfig)];case 4:return j=V.sent(),[3,2];case 5:return(j=j.authToken).requestStatus===0?[2,p5(k,N)]:[2,j]}})})}(n,o),b;if(!navigator.onLine)throw yv.create("app-offline");return T=(_=b,T={requestStatus:1,requestTime:Date.now()},sn(sn({},_),{authToken:T})),a=function(k,N){return me(this,void 0,void 0,function(){var j,V,W;return ve(this,function(X){switch(X.label){case 0:return X.trys.push([0,3,,8]),[4,cke(k,N)];case 1:return j=X.sent(),W=sn(sn({},N),{authToken:j}),[4,dL(k.appConfig,W)];case 2:return X.sent(),[2,j];case 3:return!jte(V=X.sent())||V.customData.serverCode!==401&&V.customData.serverCode!==404?[3,5]:[4,f5(k.appConfig)];case 4:return X.sent(),[3,7];case 5:return W=sn(sn({},N),{authToken:{requestStatus:0}}),[4,dL(k.appConfig,W)];case 6:X.sent(),X.label=7;case 7:throw V;case 8:return[2]}})})}(n,T),T}return b})];case 1:return c=p.sent(),a?[4,a]:[3,3];case 2:return f=p.sent(),[3,4];case 3:f=c.authToken,p.label=4;case 4:return[2,f]}})})}function Xte(n){return HA(n,function(o){if(!Jte(o))throw yv.create("not-registered");var a=o.authToken;return(a=a).requestStatus===1&&a.requestTime+Lte<Date.now()?sn(sn({},o),{authToken:{requestStatus:0}}):o})}function Jte(n){return n!==void 0&&n.registrationStatus===2}function lke(n,o){return o===void 0&&(o=!1),me(this,void 0,void 0,function(){return ve(this,function(a){switch(a.label){case 0:return[4,function(c){return me(this,void 0,void 0,function(){var f;return ve(this,function(p){switch(p.label){case 0:return[4,d5(c)];case 1:return(f=p.sent().registrationPromise)?[4,f]:[3,3];case 2:p.sent(),p.label=3;case 3:return[2]}})})}(n.appConfig)];case 1:return a.sent(),[4,p5(n,o)];case 2:return[2,a.sent().token]}})})}function hke(n,o){return me(this,void 0,void 0,function(){var a,c,f;return ve(this,function(p){switch(p.label){case 0:return a=function(b,_){return _=_.fid,a5(b)+"/"+_}(n,o),f=Vte(n,o),c={method:"DELETE",headers:f},[4,c5(function(){return fetch(a,c)})];case 1:return(f=p.sent()).ok?[3,3]:[4,u5("Delete Installation",f)];case 2:throw p.sent();case 3:return[2]}})})}function fke(n,o){var a=n.appConfig;return function(c,f){zte();var p=rS(c);(c=iS.get(p))||(c=new Set,iS.set(p,c)),c.add(f)}(a,o),function(){var c,f,p;f=o,p=rS(c=a),(c=iS.get(p))&&(c.delete(f),c.size===0&&iS.delete(p),Kte())}}function v5(n){return yv.create("missing-app-config-values",{valueName:n})}(Wte=Ht).INTERNAL.registerComponent(new qo("installations",function(n){var o=n.getProvider("app").getImmediate(),a={appConfig:function(c){var f,p;if(!c||!c.options)throw v5("App Configuration");if(!c.name)throw v5("App Name");try{for(var b=go(["projectId","apiKey","appId"]),_=b.next();!_.done;_=b.next()){var T=_.value;if(!c.options[T])throw v5(T)}}catch(k){f={error:k}}finally{try{_&&!_.done&&(p=b.return)&&p.call(b)}finally{if(f)throw f.error}}return{appName:c.name,projectId:c.options.projectId,apiKey:c.options.apiKey,appId:c.options.appId}}(o),platformLoggerProvider:n.getProvider("platform-logger")};return{app:o,getId:function(){return function(c){return me(this,void 0,void 0,function(){var f,p;return ve(this,function(b){switch(b.label){case 0:return[4,d5(c.appConfig)];case 1:return f=b.sent(),p=f.installationEntry,(f.registrationPromise||p5(c)).catch(console.error),[2,p.fid]}})})}(a)},getToken:function(c){return lke(a,c)},delete:function(){return function(c){return me(this,void 0,void 0,function(){var f,p;return ve(this,function(b){switch(b.label){case 0:return[4,HA(f=c.appConfig,function(_){if(!_||_.registrationStatus!==0)return _})];case 1:if(!(p=b.sent()))return[3,6];if(p.registrationStatus!==1)return[3,2];throw yv.create("delete-pending-registration");case 2:if(p.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw yv.create("app-offline");case 3:return[4,hke(f,p)];case 4:return b.sent(),[4,f5(f)];case 5:b.sent(),b.label=6;case 6:return[2]}})})}(a)},onIdChange:function(c){return fke(a,c)}}},"PUBLIC")),Wte.registerVersion("@firebase/installations","0.4.32");var kb,ke=((Xe={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xe["only-available-in-window"]="This method is available in a Window context.",Xe["only-available-in-sw"]="This method is available in a service worker context.",Xe["permission-default"]="The notification permission was not granted and dismissed instead.",Xe["permission-blocked"]="The notification permission was not granted and blocked instead.",Xe["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Xe["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Xe["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Xe["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Xe["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Xe["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Xe["token-update-no-token"]="FCM returned no token when updating the user to push.",Xe["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Xe["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Xe["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Xe["invalid-vapid-key"]="The public VAPID key must be a string.",Xe["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Xe),Dr=new Oc("messaging","Messaging",ke),pL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dke="https://fcmregistrations.googleapis.com/v1",Zte="FCM_MSG",ene="google.c.a.c_id";function sS(n){return n=new Uint8Array(n),btoa(String.fromCharCode.apply(String,an([],yo(n)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(Xe=kb=kb||{}).PUSH_RECEIVED="push-received",Xe.NOTIFICATION_CLICKED="notification-clicked";var m5="fcm_token_details_db",pke=5,tne="fcm_token_object_Store";function vke(n){return me(this,void 0,void 0,function(){var o,a,c=this;return ve(this,function(f){switch(f.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(o=f.sent(),!o.map(function(p){return p.name}).includes(m5))return[2,null];f.label=2;case 2:return a=null,[4,o5(m5,pke,function(p){return me(c,void 0,void 0,function(){var b,_,T;return ve(this,function(k){switch(k.label){case 0:return p.oldVersion<2?[2]:p.objectStoreNames.contains(tne)?[4,(T=p.transaction.objectStore(tne)).index("fcmSenderId").get(n)]:[2];case 1:return b=k.sent(),[4,T.clear()];case 2:if(k.sent(),!b)return[2];if(p.oldVersion===2){if(!(_=b).auth||!_.p256dh||!_.endpoint)return[2];a={token:_.fcmToken,createTime:(T=_.createTime)!==null&&T!==void 0?T:Date.now(),subscriptionOptions:{auth:_.auth,p256dh:_.p256dh,endpoint:_.endpoint,swScope:_.swScope,vapidKey:typeof _.vapidKey=="string"?_.vapidKey:sS(_.vapidKey)}}}else(p.oldVersion===3||p.oldVersion===4)&&(a={token:(_=b).fcmToken,createTime:_.createTime,subscriptionOptions:{auth:sS(_.auth),p256dh:sS(_.p256dh),endpoint:_.endpoint,swScope:_.swScope,vapidKey:sS(_.vapidKey)}});return[2]}})})})];case 3:return f.sent().close(),[4,s5(m5)];case 4:return f.sent(),[4,s5("fcm_vapid_details_db")];case 5:return f.sent(),[4,s5("undefined")];case 6:return f.sent(),[2,function(p){if(!p||!p.subscriptionOptions)return!1;var b=p.subscriptionOptions;return typeof p.createTime=="number"&&0<p.createTime&&typeof p.token=="string"&&0<p.token.length&&typeof b.auth=="string"&&0<b.auth.length&&typeof b.p256dh=="string"&&0<b.p256dh.length&&typeof b.endpoint=="string"&&0<b.endpoint.length&&typeof b.swScope=="string"&&0<b.swScope.length&&typeof b.vapidKey=="string"&&0<b.vapidKey.length}(a)?a:null]}})})}var mke="firebase-messaging-database",gke=1,Ab="firebase-messaging-store",nne=null;function g5(){return nne=nne||o5(mke,gke,function(n){n.oldVersion===0&&n.createObjectStore(Ab)})}function vL(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:return o=b5(n),[4,g5()];case 1:return[4,c.sent().transaction(Ab).objectStore(Ab).get(o)];case 2:return(o=c.sent())?[2,o]:[3,3];case 3:return[4,vke(n.appConfig.senderId)];case 4:return(a=c.sent())?[4,y5(n,a)]:[3,6];case 5:return c.sent(),[2,a];case 6:return[2]}})})}function y5(n,o){return me(this,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:return a=b5(n),[4,g5()];case 1:return c=f.sent(),[4,(c=c.transaction(Ab,"readwrite")).objectStore(Ab).put(o,a)];case 2:return f.sent(),[4,c.complete];case 3:return f.sent(),[2,o]}})})}function b5(n){return n.appConfig.appId}function rne(n,o){return me(this,void 0,void 0,function(){var a,c;return ve(this,function(f){switch(f.label){case 0:return[4,_5(n)];case 1:a=f.sent(),a={method:"DELETE",headers:a},f.label=2;case 2:return f.trys.push([2,5,,6]),[4,fetch(w5(n.appConfig)+"/"+o,a)];case 3:return[4,f.sent().json()];case 4:if((a=f.sent()).error)throw c=a.error.message,Dr.create("token-unsubscribe-failed",{errorInfo:c});return[3,6];case 5:throw c=f.sent(),Dr.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function w5(n){return n=n.projectId,dke+"/projects/"+n+"/registrations"}function _5(n){var o=n.appConfig,a=n.installations;return me(this,void 0,void 0,function(){var c;return ve(this,function(f){switch(f.label){case 0:return[4,a.getToken()];case 1:return c=f.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":o.apiKey,"x-goog-firebase-installations-auth":"FIS "+c})]}})})}function ine(c){var f=c.p256dh,o=c.auth,a=c.endpoint,c=c.vapidKey,f={web:{endpoint:a,auth:o,p256dh:f}};return c!==pL&&(f.web.applicationPubKey=c),f}function E5(n,o,a){return me(this,void 0,void 0,function(){var c,f,p;return ve(this,function(b){switch(b.label){case 0:if(Notification.permission!=="granted")throw Dr.create("permission-blocked");return[4,function(j,V){return me(this,void 0,void 0,function(){var W;return ve(this,function(X){switch(X.label){case 0:return[4,j.pushManager.getSubscription()];case 1:return(W=X.sent())?[2,W]:[2,j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(ne){for(var ne=(ne+"=".repeat((4-ne.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(ne),Ce=new Uint8Array(ae.length),de=0;de<ae.length;++de)Ce[de]=ae.charCodeAt(de);return Ce}(V)})]}})})}(o,a)];case 1:return p=b.sent(),[4,vL(n)];case 2:return c=b.sent(),f={vapidKey:a,swScope:o.scope,endpoint:p.endpoint,auth:sS(p.getKey("auth")),p256dh:sS(p.getKey("p256dh"))},c?[3,3]:[2,one(n,f)];case 3:if(_=c.subscriptionOptions,T=f.vapidKey===_.vapidKey,k=f.endpoint===_.endpoint,N=f.auth===_.auth,_=f.p256dh===_.p256dh,T&&k&&N&&_)return[3,8];b.label=4;case 4:return b.trys.push([4,6,,7]),[4,rne(n,c.token)];case 5:return b.sent(),[3,7];case 6:return p=b.sent(),console.warn(p),[3,7];case 7:return[2,one(n,f)];case 8:return Date.now()>=c.createTime+6048e5?[2,function(j,V,W){return me(this,void 0,void 0,function(){var X,ne,ae;return ve(this,function(Ce){switch(Ce.label){case 0:return Ce.trys.push([0,3,,5]),[4,function(de,Je){return me(this,void 0,void 0,function(){var Ke,wt,le,De;return ve(this,function(lt){switch(lt.label){case 0:return[4,_5(de)];case 1:Ke=lt.sent(),wt=ine(Je.subscriptionOptions),wt={method:"PATCH",headers:Ke,body:JSON.stringify(wt)},lt.label=2;case 2:return lt.trys.push([2,5,,6]),[4,fetch(w5(de.appConfig)+"/"+Je.token,wt)];case 3:return[4,lt.sent().json()];case 4:return le=lt.sent(),[3,6];case 5:throw De=lt.sent(),Dr.create("token-update-failed",{errorInfo:De});case 6:if(le.error)throw De=le.error.message,Dr.create("token-update-failed",{errorInfo:De});if(!le.token)throw Dr.create("token-update-no-token");return[2,le.token]}})})}(V,j)];case 1:return X=Ce.sent(),ne=sn(sn({},j),{token:X,createTime:Date.now()}),[4,y5(V,ne)];case 2:return Ce.sent(),[2,X];case 3:return ae=Ce.sent(),[4,zA(V,W)];case 4:throw Ce.sent(),ae;case 5:return[2]}})})}({token:c.token,createTime:Date.now(),subscriptionOptions:f},n,o)]:[2,c.token];case 9:return[2]}var _,T,k,N})})}function zA(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return[4,vL(n)];case 1:return(a=c.sent())?[4,rne(n,a.token)]:[3,4];case 2:return c.sent(),[4,function(f){return me(this,void 0,void 0,function(){var p,b;return ve(this,function(_){switch(_.label){case 0:return p=b5(f),[4,g5()];case 1:return b=_.sent(),[4,(b=b.transaction(Ab,"readwrite")).objectStore(Ab).delete(p)];case 2:return _.sent(),[4,b.complete];case 3:return _.sent(),[2]}})})}(n)];case 3:c.sent(),c.label=4;case 4:return[4,o.pushManager.getSubscription()];case 5:return(a=c.sent())?[2,a.unsubscribe()]:[2,!0]}})})}function one(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return[4,function(f,p){return me(this,void 0,void 0,function(){var b,_,T,k;return ve(this,function(N){switch(N.label){case 0:return[4,_5(f)];case 1:b=N.sent(),_=ine(p),_={method:"POST",headers:b,body:JSON.stringify(_)},N.label=2;case 2:return N.trys.push([2,5,,6]),[4,fetch(w5(f.appConfig),_)];case 3:return[4,N.sent().json()];case 4:return T=N.sent(),[3,6];case 5:throw k=N.sent(),Dr.create("token-subscribe-failed",{errorInfo:k});case 6:if(T.error)throw k=T.error.message,Dr.create("token-subscribe-failed",{errorInfo:k});if(!T.token)throw Dr.create("token-subscribe-no-token");return[2,T.token]}})})}(n,o)];case 1:return a=c.sent(),a={token:a,createTime:Date.now(),subscriptionOptions:o},[4,y5(n,a)];case 2:return c.sent(),[2,a.token]}})})}function sne(n){return typeof n=="object"&&n&&ene in n}function ane(n){return new Promise(function(o){setTimeout(o,n)})}var yke=(Object.defineProperty(rc.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),rc.prototype.setBackgroundMessageHandler=function(n){if(this.isOnBackgroundMessageUsed=!1,!n||typeof n!="function")throw Dr.create("invalid-bg-handler");this.bgMessageHandler=n},rc.prototype.onBackgroundMessage=function(n){var o=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=n,function(){o.bgMessageHandler=null}},rc.prototype.getToken=function(){var n;return me(this,void 0,void 0,function(){var o;return ve(this,function(a){switch(a.label){case 0:return this.vapidKey?[3,2]:[4,vL(this.firebaseDependencies)];case 1:o=a.sent(),this.vapidKey=(n=(n=o==null?void 0:o.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&n!==void 0?n:pL,a.label=2;case 2:return[2,E5(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},rc.prototype.deleteToken=function(){return zA(this.firebaseDependencies,self.registration)},rc.prototype.requestPermission=function(){throw Dr.create("only-available-in-window")},rc.prototype.usePublicVapidKey=function(n){if(this.vapidKey!==null)throw Dr.create("use-vapid-key-after-get-token");if(typeof n!="string"||n.length===0)throw Dr.create("invalid-vapid-key");this.vapidKey=n},rc.prototype.useServiceWorker=function(){throw Dr.create("only-available-in-window")},rc.prototype.onMessage=function(){throw Dr.create("only-available-in-window")},rc.prototype.onTokenRefresh=function(){throw Dr.create("only-available-in-window")},rc.prototype.onPush=function(n){return me(this,void 0,void 0,function(){var o,a,c;return ve(this,function(f){switch(f.label){case 0:return(c=function(N){if(N=N.data,!N)return null;try{return N.json()}catch{return null}}(n))?[4,une()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(o=f.sent()).some(function(N){return N.visibilityState==="visible"&&!N.url.startsWith("chrome-extension://")})?[2,function(N,j){var V,W;j.isFirebaseMessaging=!0,j.messageType=kb.PUSH_RECEIVED;try{for(var X=go(N),ne=X.next();!ne.done;ne=X.next())ne.value.postMessage(j)}catch(ae){V={error:ae}}finally{try{ne&&!ne.done&&(W=X.return)&&W.call(X)}finally{if(V)throw V.error}}}(o,c)]:(a=!1,c.notification?[4,function(N){var j=N.actions,V=Notification.maxActions;return j&&V&&j.length>V&&console.warn("This browser only supports "+V+" actions. The remaining actions will not be displayed."),self.registration.showNotification((V=N.title)!==null&&V!==void 0?V:"",N)}(((k=sn({},(_=c).notification)).data=((T={})[Zte]=_,T),k))]:[3,3]);case 2:f.sent(),a=!0,f.label=3;case 3:return a===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(b={from:(p=c).from,collapseKey:p.collapse_key,messageId:p.fcm_message_id},_=b,(T=p).notification&&(_.notification={},(k=T.notification.title)&&(_.notification.title=k),(k=T.notification.body)&&(_.notification.body=k),(T=T.notification.image)&&(_.notification.image=T)),_=b,(T=p).data&&(_.data=T.data),_=b,(T=p).fcmOptions&&(_.fcmOptions={},(p=T.fcmOptions.link)&&(_.fcmOptions.link=p),(T=T.fcmOptions.analytics_label)&&(_.fcmOptions.analyticsLabel=T)),c=b,typeof this.bgMessageHandler=="function"?this.bgMessageHandler(c):this.bgMessageHandler.next(c)),[4,ane(1e3)]);case 4:return f.sent(),[2]}var p,b,_,T,k})})},rc.prototype.onSubChange=function(n){var o;return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return n.newSubscription?[3,2]:[4,zA(this.firebaseDependencies,self.registration)];case 1:return c.sent(),[2];case 2:return[4,vL(this.firebaseDependencies)];case 3:return a=c.sent(),[4,zA(this.firebaseDependencies,self.registration)];case 4:return c.sent(),[4,E5(this.firebaseDependencies,self.registration,(o=(o=a==null?void 0:a.subscriptionOptions)===null||o===void 0?void 0:o.vapidKey)!==null&&o!==void 0?o:pL)];case 5:return c.sent(),[2]}})})},rc.prototype.onNotificationClick=function(n){var o;return me(this,void 0,void 0,function(){var a,c,f,p,b;return ve(this,function(_){switch(_.label){case 0:return(a=(o=(o=n.notification)===null||o===void 0?void 0:o.data)===null||o===void 0?void 0:o[Zte])?n.action?[2]:(n.stopImmediatePropagation(),n.notification.close(),(c=function(T){var k,N=(k=(k=T.fcmOptions)===null||k===void 0?void 0:k.link)!==null&&k!==void 0?k:(N=T.notification)===null||N===void 0?void 0:N.click_action;return N||(sne(T.data)?self.location.origin:null)}(a))?(f=new URL(c,self.location.href),p=new URL(self.location.origin),f.host!==p.host?[2]:[4,function(T){return me(this,void 0,void 0,function(){var k,N,j,V,W,X,ne;return ve(this,function(ae){switch(ae.label){case 0:return[4,une()];case 1:k=ae.sent();try{for(N=go(k),j=N.next();!j.done;j=N.next())if(V=j.value,W=new URL(V.url,self.location.href),T.host===W.host)return[2,V]}catch(Ce){X={error:Ce}}finally{try{j&&!j.done&&(ne=N.return)&&ne.call(N)}finally{if(X)throw X.error}}return[2,null]}})})}(f)]):[2]):[2];case 1:return(b=_.sent())?[3,4]:[4,self.clients.openWindow(c)];case 2:return b=_.sent(),[4,ane(3e3)];case 3:return _.sent(),[3,6];case 4:return[4,b.focus()];case 5:b=_.sent(),_.label=6;case 6:return b?(a.messageType=kb.NOTIFICATION_CLICKED,a.isFirebaseMessaging=!0,[2,b.postMessage(a)]):[2]}})})},rc);function rc(n){var o=this;this.firebaseDependencies=n,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(a){a.waitUntil(o.onPush(a))}),self.addEventListener("pushsubscriptionchange",function(a){a.waitUntil(o.onSubChange(a))}),self.addEventListener("notificationclick",function(a){a.waitUntil(o.onNotificationClick(a))})}function une(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var bke=(Object.defineProperty(gs.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),gs.prototype.messageEventListener=function(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:return(o=n.data).isFirebaseMessaging?(this.onMessageCallback&&o.messageType===kb.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback((delete(f=Object.assign({},o)).messageType,delete f.isFirebaseMessaging,f)):this.onMessageCallback.next(Object.assign({},o))),sne(a=o.data)&&a["google.c.a.e"]==="1"?[4,this.logEvent(o.messageType,a)]:[3,2]):[2];case 1:c.sent(),c.label=2;case 2:return[2]}var f})})},gs.prototype.getVapidKey=function(){return this.vapidKey},gs.prototype.getSwReg=function(){return this.swRegistration},gs.prototype.getToken=function(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:o.sent(),o.label=2;case 2:if(Notification.permission!=="granted")throw Dr.create("permission-blocked");return[4,this.updateVapidKey(n==null?void 0:n.vapidKey)];case 3:return o.sent(),[4,this.updateSwReg(n==null?void 0:n.serviceWorkerRegistration)];case 4:return o.sent(),[2,E5(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},gs.prototype.updateVapidKey=function(n){return me(this,void 0,void 0,function(){return ve(this,function(o){return n?this.vapidKey=n:this.vapidKey||(this.vapidKey=pL),[2]})})},gs.prototype.updateSwReg=function(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return n||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:o.sent(),o.label=2;case 2:if(!n&&this.swRegistration)return[2];if(!(n instanceof ServiceWorkerRegistration))throw Dr.create("invalid-sw-registration");return this.swRegistration=n,[2]}})})},gs.prototype.registerDefaultSw=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return n.swRegistration=o.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=o.sent(),Dr.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},gs.prototype.deleteToken=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:n.sent(),n.label=2;case 2:return[2,zA(this.firebaseDependencies,this.swRegistration)]}})})},gs.prototype.requestPermission=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if((n=o.sent())==="granted")return[2];throw n==="denied"?Dr.create("permission-blocked"):Dr.create("permission-default")}})})},gs.prototype.usePublicVapidKey=function(n){if(this.vapidKey!==null)throw Dr.create("use-vapid-key-after-get-token");if(typeof n!="string"||n.length===0)throw Dr.create("invalid-vapid-key");this.vapidKey=n},gs.prototype.useServiceWorker=function(n){if(!(n instanceof ServiceWorkerRegistration))throw Dr.create("invalid-sw-registration");if(this.swRegistration)throw Dr.create("use-sw-after-get-token");this.swRegistration=n},gs.prototype.onMessage=function(n){var o=this;return this.onMessageCallback=n,function(){o.onMessageCallback=null}},gs.prototype.setBackgroundMessageHandler=function(){throw Dr.create("only-available-in-sw")},gs.prototype.onBackgroundMessage=function(){throw Dr.create("only-available-in-sw")},gs.prototype.onTokenRefresh=function(){return function(){}},gs.prototype.logEvent=function(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return a=function(f){switch(f){case kb.NOTIFICATION_CLICKED:return"notification_open";case kb.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(n),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return c.sent().logEvent(a,{message_id:o[ene],message_name:o["google.c.a.c_l"],message_time:o["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},gs);function gs(n){var o=this;this.firebaseDependencies=n,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(a){return o.messageEventListener(a)})}function S5(n){return Dr.create("missing-app-config-values",{valueName:n})}ke={isSupported:cne};function cne(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Ht.INTERNAL.registerComponent(new qo("messaging",function(a){var o=a.getProvider("app").getImmediate(),a={app:o,appConfig:function(c){var f,p;if(!c||!c.options)throw S5("App Configuration Object");if(!c.name)throw S5("App Name");var b=c.options;try{for(var _=go(["projectId","apiKey","appId","messagingSenderId"]),T=_.next();!T.done;T=_.next()){var k=T.value;if(!b[k])throw S5(k)}}catch(N){f={error:N}}finally{try{T&&!T.done&&(p=_.return)&&p.call(_)}finally{if(f)throw f.error}}return{appName:c.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(o),installations:a.getProvider("installations").getImmediate(),analyticsProvider:a.getProvider("analytics-internal")};if(!cne())throw Dr.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?yke:bke)(a)},"PUBLIC").setServiceProps(ke));var lne,hne="firebasestorage.googleapis.com",fne="storageBucket",ko=(Ct(KA,lne=Bf),KA.prototype._codeEquals=function(n){return T5(n)===this.code},Object.defineProperty(KA.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),KA);function KA(n,o){return n=lne.call(this,T5(n),"Firebase Storage: "+o+" ("+T5(n)+")")||this,n.customData={serverResponse:null},n._baseMessage=n.message,Object.setPrototypeOf(n,KA.prototype),n}function T5(n){return"storage/"+n}function I5(){return new ko("unknown","An unknown error occurred, please check the error payload for server response.")}function dne(){return new ko("canceled","User canceled the upload/download.")}function pne(){return new ko("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aS(n){return new ko("invalid-argument",n)}function vne(){return new ko("app-deleted","The Firebase app was deleted.")}function mne(n){return new ko("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function WA(n,o){return new ko("invalid-format","String does not match format '"+n+"': "+o)}function mL(n){throw new ko("internal-error","Internal error: "+n)}var Zl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},C5=function(n,o){this.data=n,this.contentType=o||null};function gne(n,o){switch(n){case Zl.RAW:return new C5(yne(o));case Zl.BASE64:case Zl.BASE64URL:return new C5(bne(n,o));case Zl.DATA_URL:return new C5(function(a){return a=new wne(a),a.base64?bne(Zl.BASE64,a.rest):function(c){var f;try{f=decodeURIComponent(c)}catch{throw WA(Zl.DATA_URL,"Malformed data URL.")}return yne(f)}(a.rest)}(o),new wne(o).contentType)}throw I5()}function yne(n){for(var o=[],a=0;a<n.length;a++){var c,f,p=n.charCodeAt(a);p<=127?o.push(p):p<=2047?o.push(192|p>>6,128|63&p):(64512&p)==55296?a<n.length-1&&(64512&n.charCodeAt(a+1))==56320?(c=p,f=n.charCodeAt(++a),o.push(240|(p=65536|(1023&c)<<10|1023&f)>>18,128|p>>12&63,128|p>>6&63,128|63&p)):o.push(239,191,189):(64512&p)==56320?o.push(239,191,189):o.push(224|p>>12,128|p>>6&63,128|63&p)}return new Uint8Array(o)}function bne(n,o){switch(n){case Zl.BASE64:var a=o.indexOf("-")!==-1,c=o.indexOf("_")!==-1;if(a||c)throw WA(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break;case Zl.BASE64URL:if(c=o.indexOf("+")!==-1,a=o.indexOf("/")!==-1,c||a)throw WA(n,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/")}var f;try{f=atob(o)}catch{throw WA(n,"Invalid character found")}for(var p=new Uint8Array(f.length),b=0;b<f.length;b++)p[b]=f.charCodeAt(b);return p}var wne=function(n){var o;if(this.base64=!1,(this.contentType=null)===(o=n.match(/^data:([^,]+)?,/)))throw WA(Zl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var a,c=o[1]||null;c!=null&&(this.base64=(a=";base64",(o=c).length>=a.length&&o.substring(o.length-a.length)===a),this.contentType=this.base64?c.substring(0,c.length-7):c),this.rest=n.substring(n.indexOf(",")+1)},xb,wke={STATE_CHANGED:"state_changed"},ic={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function k5(n){switch(n){case"running":case"pausing":case"canceling":return ic.RUNNING;case"paused":return ic.PAUSED;case"success":return ic.SUCCESS;case"canceled":return ic.CANCELED;case"error":default:return ic.ERROR}}(Xe=xb=xb||{})[Xe.NO_ERROR=0]="NO_ERROR",Xe[Xe.NETWORK_ERROR=1]="NETWORK_ERROR",Xe[Xe.ABORT=2]="ABORT";var _ke=(bv.prototype.send=function(n,o,a,c){if(this.sent_)throw mL("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,n,!0),c!==void 0)for(var f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_},bv.prototype.getErrorCode=function(){if(!this.sent_)throw mL("cannot .getErrorCode() before sending");return this.errorCode_},bv.prototype.getStatus=function(){if(!this.sent_)throw mL("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},bv.prototype.getResponseText=function(){if(!this.sent_)throw mL("cannot .getResponseText() before sending");return this.xhr_.responseText},bv.prototype.abort=function(){this.xhr_.abort()},bv.prototype.getResponseHeader=function(n){return this.xhr_.getResponseHeader(n)},bv.prototype.addUploadProgressListener=function(n){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",n)},bv.prototype.removeUploadProgressListener=function(n){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",n)},bv);function bv(){var n=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=xb.NO_ERROR,this.sendPromise_=new Promise(function(o){n.xhr_.addEventListener("abort",function(){n.errorCode_=xb.ABORT,o()}),n.xhr_.addEventListener("error",function(){n.errorCode_=xb.NETWORK_ERROR,o()}),n.xhr_.addEventListener("load",function(){o()})})}var Eke=(_ne.prototype.createConnection=function(){return new _ke},_ne);function _ne(){}var eh=(Object.defineProperty(kd.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(kd.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),kd.prototype.fullServerUrl=function(){var n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)},kd.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},kd.makeFromBucketSpec=function(n,o){var a;try{a=kd.makeFromUrl(n,o)}catch{return new kd(n,"")}if(a.path==="")return a;throw new ko("invalid-default-bucket","Invalid default bucket '"+n+"'.")},kd.makeFromUrl=function(n,o){var a=null,c="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+c+"(/(.*))?$","i");function p(j){j.path_=decodeURIComponent(j.path)}for(var b=o.replace(/[.]/g,"\\."),_=[{regex:f,indices:{bucket:1,path:3},postModify:function(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+b+"/v[A-Za-z0-9_]+/b/"+c+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp("^https?://"+(o===hne?"(?:storage.googleapis.com|storage.cloud.google.com)":o)+"/"+c+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:p}],T=0;T<_.length;T++){var k=_[T],N=k.regex.exec(n);if(N){a=new kd(N[k.indices.bucket],N[k.indices.path]||""),k.postModify(a);break}}if(a==null)throw new ko("invalid-url","Invalid URL '"+n+"'.");return a},kd);function kd(n,o){this.bucket=n,this.path_=o}var Ske=(A5.prototype.getPromise=function(){return this.promise_},A5.prototype.cancel=function(n){},A5);function A5(n){this.promise_=Promise.reject(n)}function gL(n){return typeof n=="string"||n instanceof String}function Ene(n){return x5()&&n instanceof Blob}function x5(){return typeof Blob<"u"}function O5(n,o,a,c){if(c<o)throw aS("Invalid value for '"+n+"'. Expected "+o+" or greater.");if(a<c)throw aS("Invalid value for '"+n+"'. Expected "+a+" or less.")}function bg(n,o){var a=o.match(/^(\w+):\/\/.+/);return((a==null?void 0:a[1])==null?"https://"+o:o)+"/v0"+n}function Sne(n){var o,a=encodeURIComponent,c="?";for(o in n)n.hasOwnProperty(o)&&(c=c+(a(o)+"="+a(n[o]))+"&");return c=c.slice(0,-1)}var Tke=(GA.prototype.start_=function(){var n,o,a,c,f,p,b,_,T,k=this;function N(ae,Ce){var de,Je=k.resolve_,Ke=k.reject_,wt=Ce.connection;if(Ce.wasSuccessCode)try{var le=k.callback_(wt,wt.getResponseText());le!==void 0?Je(le):Je()}catch(De){Ke(De)}else wt!==null?((de=I5()).serverResponse=wt.getResponseText(),k.errorCallback_?Ke(k.errorCallback_(wt,de)):Ke(de)):Ce.canceled?Ke(de=(k.appDelete_?vne:dne)()):Ke(de=new ko("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function j(){return b===2}function V(){for(var ae=[],Ce=0;Ce<arguments.length;Ce++)ae[Ce]=arguments[Ce];_||(_=!0,o.apply(null,ae))}function W(ae){f=setTimeout(function(){f=null,n(X,j())},ae)}function X(ae){for(var Ce=[],de=1;de<arguments.length;de++)Ce[de-1]=arguments[de];_||(ae||j()||p?V.call.apply(V,an([null,ae],Ce)):(c<64&&(c*=2),W(b===1?(b=2,0):1e3*(c+Math.random()))))}function ne(ae){T||(T=!0,_||(f!==null?(ae||(b=2),clearTimeout(f),W(0)):ae||(b=1)))}this.canceled_?N(0,new yL(!1,null,!0)):this.backoffId_=(n=function(ae,Ce){var de;function Je(le){var wt=le.loaded,le=le.lengthComputable?le.total:-1;k.progressCallback_!==null&&k.progressCallback_(wt,le)}Ce?ae(!1,new yL(!1,null,!0)):(de=k.pool_.createConnection(),k.pendingConnection_=de,k.progressCallback_!==null&&de.addUploadProgressListener(Je),de.send(k.url_,k.method_,k.body_,k.headers_).then(function(){k.progressCallback_!==null&&de.removeUploadProgressListener(Je),k.pendingConnection_=null;var Ke,wt=de.getErrorCode()===xb.NO_ERROR,le=de.getStatus();wt&&!k.isRetryStatusCode_(le)?(Ke=k.successCodes_.indexOf(le)!==-1,ae(!0,new yL(Ke,de))):(Ke=de.getErrorCode()===xb.ABORT,ae(!1,new yL(!1,null,Ke)))}))},o=N,a=this.timeout_,f=null,T=_=p=!(c=1),W(b=0),setTimeout(function(){p=!0,ne(!0)},a),ne)},GA.prototype.getPromise=function(){return this.promise_},GA.prototype.cancel=function(n){this.canceled_=!0,this.appDelete_=n||!1,this.backoffId_!==null&&(0,this.backoffId_)(!1),this.pendingConnection_!==null&&this.pendingConnection_.abort()},GA.prototype.isRetryStatusCode_=function(c){var o=500<=c&&c<600,a=[408,429].indexOf(c)!==-1,c=this.additionalRetryCodes_.indexOf(c)!==-1;return o||a||c},GA);function GA(n,o,a,c,f,p,b,_,T,k,N){var j=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=o,this.headers_=a,this.body_=c,this.successCodes_=f.slice(),this.additionalRetryCodes_=p.slice(),this.callback_=b,this.errorCallback_=_,this.progressCallback_=k,this.timeout_=T,this.pool_=N,this.promise_=new Promise(function(V,W){j.resolve_=V,j.reject_=W,j.start_()})}var yL=function(n,o,a){this.wasSuccessCode=n,this.connection=o,this.canceled=!!a};function Ike(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var a=typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0;if(a!==void 0){for(var c=new a,f=0;f<n.length;f++)c.append(n[f]);return c.getBlob()}if(x5())return new Blob(n);throw new ko("unsupported-environment","This browser doesn't seem to support creating Blobs")}var N5=(Zh.prototype.size=function(){return this.size_},Zh.prototype.type=function(){return this.type_},Zh.prototype.slice=function(n,o){if(Ene(this.data_)){var a=this.data_,f=(c=n,f=o,(a=a).webkitSlice?a.webkitSlice(c,f):a.mozSlice?a.mozSlice(c,f):a.slice?a.slice(c,f):null);return f===null?null:new Zh(f)}var c,f;return new Zh(new Uint8Array(this.data_.buffer,n,o-n),!0)},Zh.getBlob=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(x5()){var a=n.map(function(_){return _ instanceof Zh?_.data_:_});return new Zh(Ike.apply(null,a))}var a=n.map(function(b){return gL(b)?gne(Zl.RAW,b).data:b.data_}),c=0;a.forEach(function(b){c+=b.byteLength});var f=new Uint8Array(c),p=0;return a.forEach(function(b){for(var _=0;_<b.length;_++)f[p++]=b[_]}),new Zh(f,!0)},Zh.prototype.uploadData=function(){return this.data_},Zh);function Zh(n,o){var a=0,c="";Ene(n)?(a=(this.data_=n).size,c=n.type):n instanceof ArrayBuffer?(o?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),a=this.data_.length):n instanceof Uint8Array&&(o?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),a=n.length),this.size_=a,this.type_=c}function P5(n){var o;try{o=JSON.parse(n)}catch{return null}return typeof(n=o)!="object"||Array.isArray(n)?null:o}function Tne(n){var o=n.lastIndexOf("/",n.length-2);return o===-1?n:n.slice(o+1)}function Cke(n,o){return o}var _u=function(n,o,a,c){this.server=n,this.local=o||n,this.writable=!!a,this.xform=c||Cke},R5=null;function bL(){if(R5)return R5;var n=[];n.push(new _u("bucket")),n.push(new _u("generation")),n.push(new _u("metageneration")),n.push(new _u("name","fullPath",!0));var o=new _u("name");return o.xform=function(a,c){return!gL(c=c)||c.length<2?c:Tne(c)},n.push(o),o=new _u("size"),o.xform=function(a,c){return c!==void 0?Number(c):c},n.push(o),n.push(new _u("timeCreated")),n.push(new _u("updated")),n.push(new _u("md5Hash",null,!0)),n.push(new _u("cacheControl",null,!0)),n.push(new _u("contentDisposition",null,!0)),n.push(new _u("contentEncoding",null,!0)),n.push(new _u("contentLanguage",null,!0)),n.push(new _u("contentType",null,!0)),n.push(new _u("metadata","customMetadata",!0)),R5=n}function kke(n,o){Object.defineProperty(n,"ref",{get:function(){var a=n.bucket,c=n.fullPath,c=new eh(a,c);return o._makeStorageReference(c)}})}function Ine(n,o,a){return o=P5(o),o===null?null:function(c,f,p){for(var b={type:"file"},_=p.length,T=0;T<_;T++){var k=p[T];b[k.local]=k.xform(b,f[k.server])}return kke(b,c),b}(n,o,a)}function D5(n,o){for(var a={},c=o.length,f=0;f<c;f++){var p=o[f];p.writable&&(a[p.server]=n[p.local])}return JSON.stringify(a)}var Cne="prefixes",kne="items";function Ake(n,o,a){return a=P5(a),a===null?null:function(c,f,p){var b={prefixes:[],items:[],nextPageToken:p.nextPageToken};if(p[Cne])for(var _=0,T=p[Cne];_<T.length;_++){var k=T[_].replace(/\/$/,""),N=c._makeStorageReference(new eh(f,k));b.prefixes.push(N)}if(p[kne])for(var j=0,V=p[kne];j<V.length;j++){var W=V[j],N=c._makeStorageReference(new eh(f,W.name));b.items.push(N)}return b}(n,o,a)}var wv=function(n,o,a,c){this.url=n,this.method=o,this.handler=a,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ad(n){if(!n)throw I5()}function wL(n,o){return function(a,c){return Ad((c=Ine(n,c,o))!==null),c}}function xke(n,o){return function(a,c){return Ad((c=Ake(n,o,c))!==null),c}}function Oke(n,o){return function(a,c){var f=Ine(n,c,o);return Ad(f!==null),function(p,b,_){if((b=P5(b))===null||!gL(b.downloadTokens)||(b=b.downloadTokens).length===0)return null;var T=encodeURIComponent;return b.split(",").map(function(k){var N=p.bucket,j=p.fullPath;return bg("/b/"+T(N)+"/o/"+T(j),_)+Sne({alt:"media",token:k})})[0]}(f,c,n.host)}}function uS(n){return function(o,a){var c,f=o.getStatus()===401?o.getResponseText().includes("Firebase App Check token is invalid")?new ko("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ko("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):o.getStatus()===402?(c=n.bucket,new ko("quota-exceeded","Quota for bucket '"+c+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):o.getStatus()===403?(f=n.path,new ko("unauthorized","User does not have permission to access '"+f+"'.")):a;return f.serverResponse=a.serverResponse,f}}function _L(n){var o=uS(n);return function(a,c){var f=o(a,c);return a.getStatus()===404&&(a=n.path,f=new ko("object-not-found","Object '"+a+"' does not exist.")),f.serverResponse=c.serverResponse,f}}function Ane(n,o,a){var c=bg(o.fullServerUrl(),n.host),f=n.maxOperationRetryTime,f=new wv(c,"GET",wL(n,a),f);return f.errorHandler=_L(o),f}function xne(n,o,a){return a=Object.assign({},a),a.fullPath=n.path,a.size=o.size(),a.contentType||(a.contentType=(n=o,(o=null)&&o.contentType||n&&n.type()||"application/octet-stream")),a}function Nke(n,o,a,N,k){var p=o.bucketOnlyServerUrl(),b={"X-Goog-Upload-Protocol":"multipart"},_=function(){for(var j="",V=0;V<2;V++)j+=Math.random().toString().slice(2);return j}();b["Content-Type"]="multipart/related; boundary="+_;var T=xne(o,N,k),k="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+D5(T,a)+`\r
--`+_+`\r
Content-Type: `+T.contentType+`\r
\r
`,N=N5.getBlob(k,N,`\r
--`+_+"--");if(N===null)throw pne();return _={name:T.fullPath},T=bg(p,n.host),p=n.maxUploadRetryTime,p=new wv(T,"POST",wL(n,a),p),p.urlParams=_,p.headers=b,p.body=N.uploadData(),p.errorHandler=uS(o),p}var EL=function(n,o,a,c){this.current=n,this.total=o,this.finalized=!!a,this.metadata=c||null};function L5(n,o){var a=null;try{a=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ad(!1)}return Ad(!!a&&(o||["active"]).indexOf(a)!==-1),a}function Pke(N,o,k,T,b){var _=o.bucketOnlyServerUrl(),p=xne(o,T,b),b={name:p.fullPath},_=bg(_,N.host),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+T.size(),"X-Goog-Upload-Header-Content-Type":p.contentType,"Content-Type":"application/json; charset=utf-8"},k=D5(p,k),N=N.maxUploadRetryTime;return N=new wv(_,"POST",function(j){var V;L5(j);try{V=j.getResponseHeader("X-Goog-Upload-URL")}catch{Ad(!1)}return Ad(gL(V)),V},N),N.urlParams=b,N.headers=T,N.body=k,N.errorHandler=uS(o),N}function Rke(n,o,a,c){return n=n.maxUploadRetryTime,n=new wv(a,"POST",function(f){var p=L5(f,["active","final"]),b=null;try{b=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ad(!1)}return b||Ad(!1),b=Number(b),Ad(!isNaN(b)),new EL(b,c.size(),p==="final")},n),n.headers={"X-Goog-Upload-Command":"query"},n.errorHandler=uS(o),n}function Dke(n,o,a,c,f,p,b,_){var T=new EL(0,0);if(b?(T.current=b.current,T.total=b.total):(T.current=0,T.total=c.size()),c.size()!==T.total)throw new ko("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var k=T.total-T.current,N=k;if(0<f&&(N=Math.min(N,f)),b=T.current,f={"X-Goog-Upload-Command":N===k?"upload, finalize":"upload","X-Goog-Upload-Offset":""+T.current},k=c.slice(b,b+N),k===null)throw pne();return b=o.maxUploadRetryTime,b=new wv(a,"POST",function(j,ae){var W=L5(j,["active","final"]),X=T.current+N,ne=c.size(),ae=W==="final"?wL(o,p)(j,ae):null;return new EL(X,ne,W==="final",ae)},b),b.headers=f,b.body=k.uploadData(),b.progressCallback=_||null,b.errorHandler=uS(n),b}var Lke=function(n,o,a){typeof n=="function"||o!=null||a!=null?(this.next=n,this.error=o,this.complete=a):(this.next=(n=n).next,this.error=n.error,this.complete=n.complete)};function cS(n){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];Promise.resolve().then(function(){return n.apply(void 0,o)})}}var One=(Zr.prototype._makeProgressCallback=function(){var n=this,o=this._transferred;return function(a){return n._updateProgress(o+a)}},Zr.prototype._shouldDoResumable=function(n){return 262144<n.size()},Zr.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},Zr.prototype._resolveToken=function(n){var o=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(a){var c=a[0],f=a[1];switch(o._state){case"running":n(c,f);break;case"canceling":o._transition("canceled");break;case"pausing":o._transition("paused")}})},Zr.prototype._createResumable=function(){var n=this;this._resolveToken(function(o,f){var c=Pke(n._ref.storage,n._ref._location,n._mappings,n._blob,n._metadata),f=n._ref.storage._makeRequest(c,o,f);(n._request=f).getPromise().then(function(p){n._request=void 0,n._uploadUrl=p,n._needToFetchStatus=!1,n.completeTransitions_()},n._errorHandler)})},Zr.prototype._fetchStatus=function(){var n=this,o=this._uploadUrl;this._resolveToken(function(a,p){var f=Rke(n._ref.storage,n._ref._location,o,n._blob),p=n._ref.storage._makeRequest(f,a,p);(n._request=p).getPromise().then(function(b){n._request=void 0,n._updateProgress(b.current),n._needToFetchStatus=!1,b.finalized&&(n._needToFetchMetadata=!0),n.completeTransitions_()},n._errorHandler)})},Zr.prototype._continueUpload=function(){var n=this,o=262144*this._chunkMultiplier,a=new EL(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken(function(f,p){var b;try{b=Dke(n._ref._location,n._ref.storage,c,n._blob,o,n._mappings,a,n._makeProgressCallback())}catch(_){return n._error=_,void n._transition("error")}p=n._ref.storage._makeRequest(b,f,p),(n._request=p).getPromise().then(function(_){n._increaseMultiplier(),n._request=void 0,n._updateProgress(_.current),_.finalized?(n._metadata=_.metadata,n._transition("success")):n.completeTransitions_()},n._errorHandler)})},Zr.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},Zr.prototype._fetchMetadata=function(){var n=this;this._resolveToken(function(o,f){var c=Ane(n._ref.storage,n._ref._location,n._mappings),f=n._ref.storage._makeRequest(c,o,f);(n._request=f).getPromise().then(function(p){n._request=void 0,n._metadata=p,n._transition("success")},n._metadataErrorHandler)})},Zr.prototype._oneShotUpload=function(){var n=this;this._resolveToken(function(o,f){var c=Nke(n._ref.storage,n._ref._location,n._mappings,n._blob,n._metadata),f=n._ref.storage._makeRequest(c,o,f);(n._request=f).getPromise().then(function(p){n._request=void 0,n._metadata=p,n._updateProgress(n._blob.size()),n._transition("success")},n._errorHandler)})},Zr.prototype._updateProgress=function(n){var o=this._transferred;this._transferred=n,this._transferred!==o&&this._notifyObservers()},Zr.prototype._transition=function(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,this._request!==void 0&&this._request.cancel();break;case"running":var o=this._state==="paused";this._state=n,o&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=dne(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}},Zr.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(Zr.prototype,"snapshot",{get:function(){var n=k5(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),Zr.prototype.on=function(n,o,a,c){var f=this,p=new Lke(o,a,c);return this._addObserver(p),function(){f._removeObserver(p)}},Zr.prototype.then=function(n,o){return this._promise.then(n,o)},Zr.prototype.catch=function(n){return this.then(null,n)},Zr.prototype._addObserver=function(n){this._observers.push(n),this._notifyObserver(n)},Zr.prototype._removeObserver=function(n){n=this._observers.indexOf(n),n!==-1&&this._observers.splice(n,1)},Zr.prototype._notifyObservers=function(){var n=this;this._finishPromise(),this._observers.slice().forEach(function(o){n._notifyObserver(o)})},Zr.prototype._finishPromise=function(){if(this._resolve!==void 0){var n=!0;switch(k5(this._state)){case ic.SUCCESS:cS(this._resolve.bind(null,this.snapshot))();break;case ic.CANCELED:case ic.ERROR:cS(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}},Zr.prototype._notifyObserver=function(n){switch(k5(this._state)){case ic.RUNNING:case ic.PAUSED:n.next&&cS(n.next.bind(n,this.snapshot))();break;case ic.SUCCESS:n.complete&&cS(n.complete.bind(n))();break;case ic.CANCELED:case ic.ERROR:n.error&&cS(n.error.bind(n,this._error))();break;default:n.error&&cS(n.error.bind(n,this._error))()}},Zr.prototype.resume=function(){var n=this._state==="paused"||this._state==="pausing";return n&&this._transition("running"),n},Zr.prototype.pause=function(){var n=this._state==="running";return n&&this._transition("pausing"),n},Zr.prototype.cancel=function(){var n=this._state==="running"||this._state==="pausing";return n&&this._transition("canceling"),n},Zr);function Zr(n,o,a){var c=this;a===void 0&&(a=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=o,this._metadata=a,this._mappings=bL(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(f){c._request=void 0,c._chunkMultiplier=1,f._codeEquals("canceled")?(c._needToFetchStatus=!0,c.completeTransitions_()):(c._error=f,c._transition("error"))},this._metadataErrorHandler=function(f){c._request=void 0,f._codeEquals("canceled")?c.completeTransitions_():(c._error=f,c._transition("error"))},this._promise=new Promise(function(f,p){c._resolve=f,c._reject=p,c._start()}),this._promise.then(null,function(){})}var SL=(th.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},th.prototype._newRef=function(n,o){return new th(n,o)},Object.defineProperty(th.prototype,"root",{get:function(){var n=new eh(this._location.bucket,"");return this._newRef(this._service,n)},enumerable:!1,configurable:!0}),Object.defineProperty(th.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(th.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(th.prototype,"name",{get:function(){return Tne(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(th.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(th.prototype,"parent",{get:function(){var n=function(o){if(o.length===0)return null;var a=o.lastIndexOf("/");return a===-1?"":o.slice(0,a)}(this._location.path);return n===null?null:(n=new eh(this._location.bucket,n),new th(this._service,n))},enumerable:!1,configurable:!0}),th.prototype._throwIfRoot=function(n){if(this._location.path==="")throw mne(n)},th);function th(n,o){this._service=n,this._location=o instanceof eh?o:eh.makeFromUrl(o,n.host)}function Mke(n){var o={prefixes:[],items:[]};return function a(c,f,p){return me(this,void 0,void 0,function(){var b,_;return ve(this,function(T){switch(T.label){case 0:return[4,Nne(c,{pageToken:p})];case 1:return b=T.sent(),(_=f.prefixes).push.apply(_,b.prefixes),(_=f.items).push.apply(_,b.items),b.nextPageToken==null?[3,3]:[4,a(c,f,b.nextPageToken)];case 2:T.sent(),T.label=3;case 3:return[2]}})})}(n,o).then(function(){return o})}function Nne(n,o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return o!=null&&typeof o.maxResults=="number"&&O5("options.maxResults",1,1e3,o.maxResults),a=o||{},f=n.storage,p=n._location,b="/",_=a.pageToken,T=a.maxResults,k={},p.isRoot?k.prefix="":k.prefix=p.path+"/",b&&0<b.length&&(k.delimiter=b),_&&(k.pageToken=_),T&&(k.maxResults=T),_=bg(p.bucketOnlyServerUrl(),f.host),T=f.maxOperationRetryTime,(T=new wv(_,"GET",xke(f,p.bucket),T)).urlParams=k,T.errorHandler=uS(p),[4,n.storage.makeRequestWithTokens(T)];case 1:return[2,c.sent().getPromise()]}var f,p,b,_,T,k})})}function Fke(n,o){return me(this,void 0,void 0,function(){return ve(this,function(a){switch(a.label){case 0:return n._throwIfRoot("updateMetadata"),c=n.storage,f=n._location,p=o,b=bL(),_=bg(f.fullServerUrl(),c.host),T=D5(p,b),p=c.maxOperationRetryTime,(p=new wv(_,"PATCH",wL(c,b),p)).headers={"Content-Type":"application/json; charset=utf-8"},p.body=T,p.errorHandler=_L(f),[4,n.storage.makeRequestWithTokens(p)];case 1:return[2,a.sent().getPromise()]}var c,f,p,b,_,T})})}function jke(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return n._throwIfRoot("getDownloadURL"),a=n.storage,c=n._location,f=bL(),p=bg(c.fullServerUrl(),a.host),b=a.maxOperationRetryTime,(b=new wv(p,"GET",Oke(a,f),b)).errorHandler=_L(c),[4,n.storage.makeRequestWithTokens(b)];case 1:return[2,o.sent().getPromise().then(function(_){if(_===null)throw new ko("no-download-url","The given file does not have any download URLs.");return _})]}var a,c,f,p,b})})}function Uke(n){return me(this,void 0,void 0,function(){return ve(this,function(o){switch(o.label){case 0:return n._throwIfRoot("deleteObject"),a=n.storage,c=n._location,f=bg(c.fullServerUrl(),a.host),a=a.maxOperationRetryTime,(a=new wv(f,"DELETE",function(p,b){},a)).successCodes=[200,204],a.errorHandler=_L(c),[4,n.storage.makeRequestWithTokens(a)];case 1:return[2,o.sent().getPromise()]}var a,c,f})})}function Pne(n,c){var a,c=(a=n._location.path,c=(c=c).split("/").filter(function(f){return 0<f.length}).join("/"),a.length===0?c:a+"/"+c),c=new eh(n._location.bucket,c);return new SL(n.storage,c)}function M5(n){return/^[A-Za-z]+:\/\//.test(n)}function Rne(n,o){if(n instanceof TL){var a=n;if(a._bucket==null)throw new ko("no-default-bucket","No default bucket found. Did you set the '"+fne+"' property when initializing the app?");return a=new SL(a,a._bucket),o!=null?Rne(a,o):a}return o!==void 0?Pne(n,o):n}function $ke(n,o){if(o&&M5(o)){if(n instanceof TL)return new SL(n,o);throw aS("To use ref(service, url), the first argument must be a Storage instance.")}return Rne(n,o)}function Dne(n,o){return o=o==null?void 0:o[fne],o==null?null:eh.makeFromBucketSpec(o,n)}var TL=(Object.defineProperty(xd.prototype,"host",{get:function(){return this._host},set:function(n){this._host=n,this._url!=null?this._bucket=eh.makeFromBucketSpec(this._url,n):this._bucket=Dne(n,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(xd.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(n){O5("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n},enumerable:!1,configurable:!0}),Object.defineProperty(xd.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(n){O5("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n},enumerable:!1,configurable:!0}),xd.prototype._getAuthToken=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(n=this._authProvider.getImmediate({optional:!0}))?[4,n.getToken()]:[3,2];case 1:if((n=o.sent())!==null)return[2,n.accessToken];o.label=2;case 2:return[2,null]}})})},xd.prototype._getAppCheckToken=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:return(n=this._appCheckProvider.getImmediate({optional:!0}))?[4,n.getToken()]:[3,2];case 1:return[2,o.sent().token];case 2:return[2,null]}})})},xd.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(n){return n.cancel()}),this._requests.clear()),Promise.resolve()},xd.prototype._makeStorageReference=function(n){return new SL(this,n)},xd.prototype._makeRequest=function(n,o,a){var c=this;if(this._deleted)return new Ske(vne());var f,p,b,_,T,k,N=(f=n,p=this._appId,b=o,_=a,T=this._pool,k=this._firebaseVersion,n=Sne(f.urlParams),o=f.url+n,a=Object.assign({},f.headers),n=a,(p=p)&&(n["X-Firebase-GMPID"]=p),p=a,(b=b)!==null&&0<b.length&&(p.Authorization="Firebase "+b),k=k,a["X-Firebase-Storage-Version"]="webjs/"+(k!=null?k:"AppManager"),k=a,(_=_)!==null&&(k["X-Firebase-AppCheck"]=_),new Tke(o,f.method,a,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,T));return this._requests.add(N),N.getPromise().then(function(){return c._requests.delete(N)},function(){return c._requests.delete(N)}),N},xd.prototype.makeRequestWithTokens=function(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return a=c.sent(),o=a[0],a=a[1],[2,this._makeRequest(n,o,a)]}})})},xd);function xd(n,o,a,c,f,p){this.app=n,this._authProvider=o,this._appCheckProvider=a,this._pool=c,this._url=f,this._firebaseVersion=p,this._bucket=null,this._host=hne,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=f!=null?eh.makeFromBucketSpec(f,this._host):Dne(this._host,this.app.options)}function Vke(n,o,a){return n=fn(n),o=o,a=a,(n=n)._throwIfRoot("uploadBytesResumable"),new One(n,new N5(o),a)}function qke(n){return function(o){return me(this,void 0,void 0,function(){var a;return ve(this,function(c){switch(c.label){case 0:return o._throwIfRoot("getMetadata"),a=Ane(o.storage,o._location,bL()),[4,o.storage.makeRequestWithTokens(a)];case 1:return[2,c.sent().getPromise()]}})})}(n=fn(n))}function Lne(n,o){return $ke(n=fn(n),o)}function Bke(n,o,a,c){(c=c=c===void 0?{}:c)===void 0&&(c={}),(n=n).host="http://"+o+":"+a,(c=c.mockUserToken)&&(n._overrideAuthToken=typeof c=="string"?c:vm(c,n.app.options.projectId))}var IL=(Object.defineProperty(QA.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(QA.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(QA.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(QA.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),QA);function QA(n,o,a){this._delegate=n,this.task=o,this.ref=a}var Mne=(Object.defineProperty(CL.prototype,"snapshot",{get:function(){return new IL(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),CL.prototype.then=function(n,o){var a=this;return this._delegate.then(function(c){if(n)return n(new IL(c,a,a._ref))},o)},CL.prototype.on=function(n,o,a,c){var f=this,p=void 0;return o&&(p=typeof o=="function"?function(b){return o(new IL(b,f,f._ref))}:{next:o.next?function(b){return o.next(new IL(b,f,f._ref))}:void 0,complete:o.complete||void 0,error:o.error||void 0}),this._delegate.on(n,p,a||void 0,c||void 0)},CL);function CL(n,o){this._delegate=n,this._ref=o,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var Fne=(Object.defineProperty(kL.prototype,"prefixes",{get:function(){var n=this;return this._delegate.prefixes.map(function(o){return new YA(o,n._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(kL.prototype,"items",{get:function(){var n=this;return this._delegate.items.map(function(o){return new YA(o,n._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(kL.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),kL);function kL(n,o){this._delegate=n,this._service=o}var YA=(Object.defineProperty(Ao.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(Ao.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(Ao.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),Ao.prototype.toString=function(){return this._delegate.toString()},Ao.prototype.child=function(n){return new Ao(Pne(this._delegate,n),this.storage)},Object.defineProperty(Ao.prototype,"root",{get:function(){return new Ao(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(Ao.prototype,"parent",{get:function(){var n=this._delegate.parent;return n==null?null:new Ao(n,this.storage)},enumerable:!1,configurable:!0}),Ao.prototype.put=function(n,o){return this._throwIfRoot("put"),new Mne(Vke(this._delegate,n,o),this)},Ao.prototype.putString=function(n,o,a){return o===void 0&&(o=Zl.RAW),this._throwIfRoot("putString"),n=gne(o,n),a=sn({},a),a.contentType==null&&n.contentType!=null&&(a.contentType=n.contentType),new Mne(new One(this._delegate,new N5(n.data,!0),a),this)},Ao.prototype.listAll=function(){var n=this;return Mke(fn(this._delegate)).then(function(o){return new Fne(o,n.storage)})},Ao.prototype.list=function(n){var o,a=this;return o=this._delegate,n=n||void 0,Nne(o=fn(o),n).then(function(c){return new Fne(c,a.storage)})},Ao.prototype.getMetadata=function(){return qke(this._delegate)},Ao.prototype.updateMetadata=function(n){return Fke(fn(this._delegate),n)},Ao.prototype.getDownloadURL=function(){return jke(fn(this._delegate))},Ao.prototype.delete=function(){return this._throwIfRoot("delete"),Uke(fn(this._delegate))},Ao.prototype._throwIfRoot=function(n){if(this._delegate._location.path==="")throw mne(n)},Ao);function Ao(n,o){this._delegate=n,this.storage=o}var Hke=(Object.defineProperty(wg.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(wg.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),wg.prototype.ref=function(n){if(M5(n))throw aS("ref() expected a child path but got a URL, use refFromURL instead.");return new YA(Lne(this._delegate,n),this)},wg.prototype.refFromURL=function(n){if(!M5(n))throw aS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{eh.makeFromUrl(n,this._delegate.host)}catch{throw aS("refFromUrl() expected a valid full URL but got an invalid one.")}return new YA(Lne(this._delegate,n),this)},wg.prototype.setMaxUploadRetryTime=function(n){this._delegate.maxUploadRetryTime=n},wg.prototype.setMaxOperationRetryTime=function(n){this._delegate.maxOperationRetryTime=n},wg.prototype.useEmulator=function(n,o,a){Bke(this._delegate,n,o,a=a===void 0?{}:a)},wg);function wg(n,o){this.app=n,this._delegate=o}var jne,Une;function zke(p,f){var a=f.instanceIdentifier,c=p.getProvider("app").getImmediate(),f=p.getProvider("auth-internal"),p=p.getProvider("app-check-internal");return new Hke(c,new TL(c,f,p,new Eke,a,Ht.SDK_VERSION))}Une={TaskState:ic,TaskEvent:wke,StringFormat:Zl,Storage:TL,Reference:YA},(jne=Ht).INTERNAL.registerComponent(new qo("storage",zke,"PUBLIC").setServiceProps(Une).setMultipleInstances(!0)),jne.registerVersion("@firebase/storage","0.7.1");var F5,$ne,Vne="0.4.18",j5="FB-PERF-TRACE-MEASURE",qne="@firebase/performance/config",Bne="@firebase/performance/configexpire",ke="Performance",Xe=((Xe={})["trace started"]="Trace {$traceName} was started before.",Xe["trace stopped"]="Trace {$traceName} is not running.",Xe["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Xe["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Xe["no window"]="Window is not available.",Xe["no app id"]="App id is not available.",Xe["no project id"]="Project id is not available.",Xe["no api key"]="Api key is not available.",Xe["invalid cc log"]="Attempted to queue invalid cc event",Xe["FB not default"]="Performance can only start when Firebase app instance is the default one.",Xe["RC response not ok"]="RC response is not ok",Xe["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Xe["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Xe["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Xe["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Xe),Ra=new Oc("performance",ke,Xe),_v=new Rh(ke);_v.logLevel=Pn.INFO;var U5,Da=(ef.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},ef.prototype.mark=function(n){this.performance&&this.performance.mark&&this.performance.mark(n)},ef.prototype.measure=function(n,o,a){this.performance&&this.performance.measure&&this.performance.measure(n,o,a)},ef.prototype.getEntriesByType=function(n){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(n):[]},ef.prototype.getEntriesByName=function(n){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(n):[]},ef.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},ef.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!qf()||(_v.info("IndexedDB is not supported by current browswer"),!1):(_v.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},ef.prototype.setupObserver=function(n,o){this.PerformanceObserver&&new this.PerformanceObserver(function(a){for(var c=0,f=a.getEntries();c<f.length;c++){var p=f[c];o(p)}}).observe({entryTypes:[n]})},ef.getInstance=function(){return F5=F5===void 0?new ef($ne):F5},ef);function ef(n){if(!(this.window=n))throw Ra.create("no window");this.performance=n.performance,this.PerformanceObserver=n.PerformanceObserver,this.windowLocation=n.location,this.navigator=n.navigator,this.document=n.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=n.localStorage),n.perfMetrics&&n.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=n.perfMetrics.onFirstInputDelay)}function Hne(n,o){var a=n.length-o.length;if(a<0||1<a)throw Ra.create("invalid String merger input");for(var c=[],f=0;f<n.length;f++)c.push(n.charAt(f)),o.length>f&&c.push(o.charAt(f));return c.join("")}var AL,lS,Qo=(Ob.prototype.getAppId=function(){var n=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!n)throw Ra.create("no app id");return n},Ob.prototype.getProjectId=function(){var n=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!n)throw Ra.create("no project id");return n},Ob.prototype.getApiKey=function(){var n=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!n)throw Ra.create("no api key");return n},Ob.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},Ob.getInstance=function(){return U5=U5===void 0?new Ob:U5},Ob);function Ob(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Hne("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Hne("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(ke=lS=lS||{})[ke.UNKNOWN=0]="UNKNOWN",ke[ke.VISIBLE=1]="VISIBLE",ke[ke.HIDDEN=2]="HIDDEN";var Kke=["firebase_","google_","ga_"],Wke=new RegExp("^[a-zA-Z]\\w*$");function zne(){switch(Da.getInstance().document.visibilityState){case"visible":return lS.VISIBLE;case"hidden":return lS.HIDDEN;default:return lS.UNKNOWN}}var Gke="0.0.1",Qke={loggingEnabled:!0},Yke="FIREBASE_INSTALLATIONS_AUTH";function Xke(n){var o,a=function(){var c=Da.getInstance().localStorage;if(c){var f=c.getItem(Bne);if(f&&function(p){return Number(p)>Date.now()}(f)&&(c=c.getItem(qne),c))try{return JSON.parse(c)}catch{return}}}();return a?(Kne(a),Promise.resolve()):(o=n,function(){var c=Qo.getInstance().installationsService.getToken();return c.then(function(f){}),c}().then(function(p){var f="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Qo.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Qo.getInstance().getApiKey(),p=new Request(f,{method:"POST",headers:{Authorization:Yke+" "+p},body:JSON.stringify({app_instance_id:o,app_instance_id_token:p,app_id:Qo.getInstance().getAppId(),app_version:Vne,sdk_version:Gke})});return fetch(p).then(function(b){if(b.ok)return b.json();throw Ra.create("RC response not ok")})}).catch(function(){_v.info(Jke)}).then(Kne).then(function(c){var f;f=c,c=Da.getInstance().localStorage,f&&c&&(c.setItem(qne,JSON.stringify(f)),c.setItem(Bne,String(Date.now()+60*Qo.getInstance().configTimeToLive*60*1e3)))},function(){}))}var Jke="Could not fetch config, will use default configs";function Kne(n){if(!n)return n;var o=Qo.getInstance(),a=n.entries||{};return a.fpr_enabled!==void 0?o.loggingEnabled=String(a.fpr_enabled)==="true":o.loggingEnabled=Qke.loggingEnabled,a.fpr_log_source&&(o.logSource=Number(a.fpr_log_source)),a.fpr_log_endpoint_url&&(o.logEndPointUrl=a.fpr_log_endpoint_url),a.fpr_log_transport_key&&(o.transportKey=a.fpr_log_transport_key),a.fpr_vc_network_request_sampling_rate!==void 0&&(o.networkRequestsSamplingRate=Number(a.fpr_vc_network_request_sampling_rate)),a.fpr_vc_trace_sampling_rate!==void 0&&(o.tracesSamplingRate=Number(a.fpr_vc_trace_sampling_rate)),o.logTraceAfterSampling=Wne(o.tracesSamplingRate),o.logNetworkAfterSampling=Wne(o.networkRequestsSamplingRate),n}function Wne(n){return Math.random()<=n}var Gne,$5=1;function Qne(){return $5=2,Gne=Gne||function(){var n=Da.getInstance().document;return new Promise(function(o){var a;n&&n.readyState!=="complete"?(a=function(){n.readyState==="complete"&&(n.removeEventListener("readystatechange",a),o())},n.addEventListener("readystatechange",a)):o()})}().then(function(){return(n=Qo.getInstance().installationsService.getId()).then(function(o){AL=o}),n;var n}).then(Xke).then(Yne,Yne)}function Yne(){$5=3}var Xne,V5=1e4,Zke=5500,Jne=3,eAe=1e3,xL=Jne,_g=[],Zne=!1;function OL(n){setTimeout(function(){var o,a;if(xL!==0)return _g.length?(o=_g.splice(0,eAe),a=o.map(function(c){return{source_extension_json_proto3:c.message,event_time_ms:String(c.eventTime)}}),void function(c,f){return function(p){var b=Qo.getInstance().getFlTransportFullUrl();return fetch(b,{method:"POST",body:JSON.stringify(p)})}(c).then(function(p){return p.ok||_v.info("Call to Firebase backend failed."),p.json()}).then(function(p){var b=Number(p.nextRequestWaitMillis),_=V5;isNaN(b)||(_=Math.max(b,_)),p=p.logResponseDetails,Array.isArray(p)&&0<p.length&&p[0].responseAction==="RETRY_REQUEST_LATER"&&(_g=an(an([],f),_g),_v.info("Retry transport request later.")),xL=Jne,OL(_)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Qo.getInstance().logSource,log_event:a},o).catch(function(){_g=an(an([],o),_g),xL--,_v.info("Tries left: "+xL+"."),OL(V5)})):OL(V5)},n)}function tAe(n){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];(function(c){if(!c.eventTime||!c.message)throw Ra.create("invalid cc log");_g=an(an([],_g),[c])})({message:n.apply(void 0,o),eventTime:Date.now()})}}function ere(n,o){(Xne=Xne||tAe(nAe))(n,o)}function NL(n){var o=Qo.getInstance();!o.instrumentationEnabled&&n.isAuto||(o.dataCollectionEnabled||n.isAuto)&&Da.getInstance().requiredApisAvailable()&&(n.isAuto&&zne()!==lS.VISIBLE||($5===3?q5(n):Qne().then(function(){return q5(n)},function(){return q5(n)})))}function q5(n){var o;!AL||(o=Qo.getInstance()).loggingEnabled&&o.logTraceAfterSampling&&setTimeout(function(){return ere(n,1)},0)}function nAe(n,o){return(o===0?function(a){return a={url:a.url,http_method:a.httpMethod||0,http_response_code:200,response_payload_bytes:a.responsePayloadBytes,client_start_time_us:a.startTimeUs,time_to_response_initiated_us:a.timeToResponseInitiatedUs,time_to_response_completed_us:a.timeToResponseCompletedUs},a={application_info:tre(),network_request_metric:a},JSON.stringify(a)}:function(a){var c={name:a.name,is_auto:a.isAuto,client_start_time_us:a.startTimeUs,duration_us:a.durationUs};return Object.keys(a.counters).length!==0&&(c.counters=a.counters),a=a.getAttributes(),Object.keys(a).length!==0&&(c.custom_attributes=a),c={application_info:tre(),trace_metric:c},JSON.stringify(c)})(n)}function tre(){return{google_app_id:Qo.getInstance().getAppId(),app_instance_id:AL,web_app_info:{sdk_version:Vne,page_url:Da.getInstance().getUrl(),service_worker_status:"serviceWorker"in(n=Da.getInstance().navigator)?n.serviceWorker.controller?2:3:1,visibility_state:zne(),effective_connection_type:function(){var o=Da.getInstance().navigator.connection;switch(o&&o.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var n}var rAe=["_fp","_fcp","_fid"],XA=(ys.prototype.start=function(){if(this.state!==1)throw Ra.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},ys.prototype.stop=function(){if(this.state!==2)throw Ra.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),NL(this)},ys.prototype.record=function(n,o,a){if(n<=0)throw Ra.create("nonpositive trace startTime",{traceName:this.name});if(o<=0)throw Ra.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*o),this.startTimeUs=Math.floor(1e3*n),a&&a.attributes&&(this.customAttributes=sn({},a.attributes)),a&&a.metrics)for(var c=0,f=Object.keys(a.metrics);c<f.length;c++){var p=f[c];isNaN(Number(a.metrics[p]))||(this.counters[p]=Number(Math.floor(a.metrics[p])))}NL(this)},ys.prototype.incrementMetric=function(n,o){o===void 0&&(o=1),this.counters[n]===void 0?this.putMetric(n,o):this.putMetric(n,this.counters[n]+o)},ys.prototype.putMetric=function(n,o){if(a=n,c=this.name,a.length===0||100<a.length||!(c&&c.startsWith("_wt_")&&-1<rAe.indexOf(a))&&a.startsWith("_"))throw Ra.create("invalid custom metric name",{customMetricName:n});var a,c;this.counters[n]=(n=o,(o=Math.floor(n))<n&&_v.info("Metric value should be an Integer, setting the value as : "+o+"."),o)},ys.prototype.getMetric=function(n){return this.counters[n]||0},ys.prototype.putAttribute=function(n,o){var a,f,c=!((a=n).length===0||40<a.length)&&!Kke.some(function(p){return a.startsWith(p)})&&!!a.match(Wke),f=(f=o).length!==0&&f.length<=100;if(c&&f)this.customAttributes[n]=o;else{if(!c)throw Ra.create("invalid attribute name",{attributeName:n});if(!f)throw Ra.create("invalid attribute value",{attributeValue:o})}},ys.prototype.getAttribute=function(n){return this.customAttributes[n]},ys.prototype.removeAttribute=function(n){this.customAttributes[n]!==void 0&&delete this.customAttributes[n]},ys.prototype.getAttributes=function(){return sn({},this.customAttributes)},ys.prototype.setStartTime=function(n){this.startTimeUs=n},ys.prototype.setDuration=function(n){this.durationUs=n},ys.prototype.calculateTraceMetrics=function(){var n=this.api.getEntriesByName(this.traceMeasure),n=n&&n[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))},ys.createOobTrace=function(n,o,a){var c,f=Da.getInstance().getUrl();f&&(c=new ys("_wt_"+f,!0),f=Math.floor(1e3*Da.getInstance().getTimeOrigin()),c.setStartTime(f),n&&n[0]&&(c.setDuration(Math.floor(1e3*n[0].duration)),c.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),c.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),c.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),o&&((n=o.find(function(p){return p.name==="first-paint"}))&&n.startTime&&c.putMetric("_fp",Math.floor(1e3*n.startTime)),(o=o.find(function(p){return p.name==="first-contentful-paint"}))&&o.startTime&&c.putMetric("_fcp",Math.floor(1e3*o.startTime)),a&&c.putMetric("_fid",Math.floor(1e3*a))),NL(c))},ys.createUserTimingTrace=function(n){NL(new ys(n,!1,n))},ys);function ys(n,o,a){o===void 0&&(o=!1),this.name=n,this.isAuto=o,this.state=1,this.customAttributes={},this.counters={},this.api=Da.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=a||j5+"-"+this.randomId+"-"+this.name,a&&this.calculateTraceMetrics())}function nre(n){var o,a,c,f=n;f&&f.responseStart!==void 0&&(a=Da.getInstance().getTimeOrigin(),c=Math.floor(1e3*(f.startTime+a)),n=f.responseStart?Math.floor(1e3*(f.responseStart-f.startTime)):void 0,a=Math.floor(1e3*(f.responseEnd-f.startTime)),f={url:f.name&&f.name.split("?")[0],responsePayloadBytes:f.transferSize,startTimeUs:c,timeToResponseInitiatedUs:n,timeToResponseCompletedUs:a},o=f,(c=Qo.getInstance()).instrumentationEnabled&&(n=o.url,a=c.logEndPointUrl.split("?")[0],f=c.flTransportEndpointUrl.split("?")[0],n!==a&&n!==f&&c.loggingEnabled&&c.logNetworkAfterSampling&&setTimeout(function(){return ere(o,0)},0)))}var iAe=5e3;function rre(){AL&&(setTimeout(function(){var n=Da.getInstance(),o=n.getEntriesByType("navigation"),a=n.getEntriesByType("paint");{var c;n.onFirstInputDelay?(c=setTimeout(function(){XA.createOobTrace(o,a),c=void 0},iAe),n.onFirstInputDelay(function(f){c&&(clearTimeout(c),XA.createOobTrace(o,a,f))})):XA.createOobTrace(o,a)}},0),setTimeout(function(){for(var n=Da.getInstance(),o=n.getEntriesByType("resource"),a=0,c=o;a<c.length;a++)nre(c[a]);n.setupObserver("resource",nre)},0),setTimeout(function(){for(var n=Da.getInstance(),o=n.getEntriesByType("measure"),a=0,c=o;a<c.length;a++)ire(c[a]);n.setupObserver("measure",ire)},0))}function ire(n){n=n.name,n.substring(0,j5.length)!==j5&&XA.createUserTimingTrace(n)}var oAe=(PL.prototype.trace=function(n){return new XA(n)},Object.defineProperty(PL.prototype,"instrumentationEnabled",{get:function(){return Qo.getInstance().instrumentationEnabled},set:function(n){Qo.getInstance().instrumentationEnabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(PL.prototype,"dataCollectionEnabled",{get:function(){return Qo.getInstance().dataCollectionEnabled},set:function(n){Qo.getInstance().dataCollectionEnabled=n},enumerable:!1,configurable:!0}),PL);function PL(n){this.app=n,Da.getInstance().requiredApisAvailable()&&Q_().then(function(o){o&&(Zne||(OL(Zke),Zne=!0),Qne().then(rre,rre))}).catch(function(o){_v.info("Environment doesn't support IndexedDB: "+o)})}var ore;function sAe(n,o){if(n.name!=="[DEFAULT]")throw Ra.create("FB not default");if(typeof window>"u")throw Ra.create("no window");return $ne=window,Qo.getInstance().firebaseAppInstance=n,Qo.getInstance().installationsService=o,new oAe(n)}(ore=Ht).INTERNAL.registerComponent(new qo("performance",function(a){var o=a.getProvider("app").getImmediate(),a=a.getProvider("installations").getImmediate();return sAe(o,a)},"PUBLIC")),ore.registerVersion("@firebase/performance","0.4.18");var La,B5,aAe="firebase_id",uAe="origin",cAe=6e4,lAe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sre="https://www.googletagmanager.com/gtag/js";(ke=La=La||{}).EVENT="event",ke.SET="set",ke.CONFIG="config",(ke=B5=B5||{}).ADD_SHIPPING_INFO="add_shipping_info",ke.ADD_PAYMENT_INFO="add_payment_info",ke.ADD_TO_CART="add_to_cart",ke.ADD_TO_WISHLIST="add_to_wishlist",ke.BEGIN_CHECKOUT="begin_checkout",ke.CHECKOUT_PROGRESS="checkout_progress",ke.EXCEPTION="exception",ke.GENERATE_LEAD="generate_lead",ke.LOGIN="login",ke.PAGE_VIEW="page_view",ke.PURCHASE="purchase",ke.REFUND="refund",ke.REMOVE_FROM_CART="remove_from_cart",ke.SCREEN_VIEW="screen_view",ke.SEARCH="search",ke.SELECT_CONTENT="select_content",ke.SELECT_ITEM="select_item",ke.SELECT_PROMOTION="select_promotion",ke.SET_CHECKOUT_OPTION="set_checkout_option",ke.SHARE="share",ke.SIGN_UP="sign_up",ke.TIMING_COMPLETE="timing_complete",ke.VIEW_CART="view_cart",ke.VIEW_ITEM="view_item",ke.VIEW_ITEM_LIST="view_item_list",ke.VIEW_PROMOTION="view_promotion",ke.VIEW_SEARCH_RESULTS="view_search_results";var ea=new Rh("@firebase/analytics");function hAe(n,o,a,c){return function(f,p,b){return me(this,void 0,void 0,function(){var _;return ve(this,function(T){switch(T.label){case 0:return T.trys.push([0,6,,7]),f!==La.EVENT?[3,2]:[4,function(k,N,j,V,W){return me(this,void 0,void 0,function(){var X,ne,ae,Ce,de,Je,Ke;return ve(this,function(wt){switch(wt.label){case 0:return wt.trys.push([0,4,,5]),X=[],W&&W.send_to?(Ke=W.send_to,Array.isArray(Ke)||(Ke=[Ke]),[4,Promise.all(j)]):[3,2];case 1:for(ne=wt.sent(),ae=function(le){var De=ne.find(function(lt){return lt.measurementId===le}),De=De&&N[De.appId];if(!De)return X=[],"break";X.push(De)},Ce=0,de=Ke;Ce<de.length&&(Je=de[Ce],ae(Je)!=="break");Ce++);wt.label=2;case 2:return X.length===0&&(X=Object.values(N)),[4,Promise.all(X)];case 3:return wt.sent(),k(La.EVENT,V,W||{}),[3,5];case 4:return Ke=wt.sent(),ea.error(Ke),[3,5];case 5:return[2]}})})}(n,o,a,p,b)];case 1:return T.sent(),[3,5];case 2:return f!==La.CONFIG?[3,4]:[4,function(k,N,j,V,W,X){return me(this,void 0,void 0,function(){var ne,ae;return ve(this,function(Ce){switch(Ce.label){case 0:ne=V[W],Ce.label=1;case 1:return Ce.trys.push([1,7,,8]),ne?[4,N[ne]]:[3,3];case 2:return Ce.sent(),[3,6];case 3:return[4,Promise.all(j)];case 4:return ae=Ce.sent(),(ae=ae.find(function(de){return de.measurementId===W}))?[4,N[ae.appId]]:[3,6];case 5:Ce.sent(),Ce.label=6;case 6:return[3,8];case 7:return ae=Ce.sent(),ea.error(ae),[3,8];case 8:return k(La.CONFIG,W,X),[2]}})})}(n,o,a,c,p,b)];case 3:return T.sent(),[3,5];case 4:n(La.SET,p),T.label=5;case 5:return[3,7];case 6:return _=T.sent(),ea.error(_),[3,7];case 7:return[2]}})})}}var ke=((ke={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ke["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ke["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ke["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ke["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ke["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ke["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ke["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ke["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ke),nh=new Oc("analytics","Analytics",ke),fAe=30;function RL(n,o){o===void 0&&(o=1e3),this.throttleMetadata=n=n===void 0?{}:n,this.intervalMillis=o}var are=new(RL.prototype.getThrottleMetadata=function(n){return this.throttleMetadata[n]},RL.prototype.setThrottleMetadata=function(n,o){this.throttleMetadata[n]=o},RL.prototype.deleteThrottleMetadata=function(n){delete this.throttleMetadata[n]},RL);function dAe(n){var o;return me(this,void 0,void 0,function(){var a,c,f,p;return ve(this,function(b){switch(b.label){case 0:return a=n.appId,p=n.apiKey,p={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":p})},a=lAe.replace("{app-id}",a),[4,fetch(a,p)];case 1:if((c=b.sent()).status===200||c.status===304)return[3,6];f="",b.label=2;case 2:return b.trys.push([2,4,,5]),[4,c.json()];case 3:return p=b.sent(),(o=p.error)!==null&&o!==void 0&&o.message&&(f=p.error.message),[3,5];case 4:return b.sent(),[3,5];case 5:throw nh.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f});case 6:return[2,c.json()]}})})}function pAe(n,o,a){return o===void 0&&(o=are),me(this,void 0,void 0,function(){var c,f,p,b,_,T=this;return ve(this,function(k){if(b=n.options,c=b.appId,f=b.apiKey,p=b.measurementId,!c)throw nh.create("no-app-id");if(f)return b=o.getThrottleMetadata(c)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new gAe,setTimeout(function(){return me(T,void 0,void 0,function(){return ve(this,function(N){return _.abort(),[2]})})},a!==void 0?a:cAe),[2,function N(j,V,W,X){var ne=V.throttleEndTimeMillis,ae=V.backoffCount;return X===void 0&&(X=are),me(this,void 0,void 0,function(){var Ce,de,Je,Ke,wt;return ve(this,function(le){switch(le.label){case 0:Ce=j.appId,de=j.measurementId,le.label=1;case 1:return le.trys.push([1,3,,4]),[4,vAe(W,ne)];case 2:return le.sent(),[3,4];case 3:if(Ke=le.sent(),de)return ea.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+de+' provided in the "measurementId" field in the local Firebase config. ['+Ke.message+"]"),[2,{appId:Ce,measurementId:de}];throw Ke;case 4:return le.trys.push([4,6,,7]),[4,dAe(j)];case 5:return wt=le.sent(),X.deleteThrottleMetadata(Ce),[2,wt];case 6:if(mAe(Je=le.sent()))return Ke=Number(Je.customData.httpStatus)===503?e1(ae,X.intervalMillis,fAe):e1(ae,X.intervalMillis),wt={throttleEndTimeMillis:Date.now()+Ke,backoffCount:ae+1},X.setThrottleMetadata(Ce,wt),ea.debug("Calling attemptFetch again in "+Ke+" millis"),[2,N(j,wt,W,X)];if(X.deleteThrottleMetadata(Ce),de)return ea.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+de+' provided in the "measurementId" field in the local Firebase config. ['+Je.message+"]"),[2,{appId:Ce,measurementId:de}];throw Je;case 7:return[2]}})})}({appId:c,apiKey:f,measurementId:p},b,_,o)];if(p)return[2,{measurementId:p,appId:c}];throw nh.create("no-api-key")})})}function vAe(n,o){return new Promise(function(a,c){var f=Math.max(o-Date.now(),0),p=setTimeout(a,f);n.addEventListener(function(){clearTimeout(p),c(nh.create("fetch-throttle",{throttleEndTimeMillis:o}))})})}function mAe(n){if(n instanceof Bf&&n.customData)return n=Number(n.customData.httpStatus),n===429||n===500||n===503||n===504}var gAe=(H5.prototype.addEventListener=function(n){this.listeners.push(n)},H5.prototype.abort=function(){this.listeners.forEach(function(n){return n()})},H5);function H5(){this.listeners=[]}function yAe(n,o,a,c,f,p){return me(this,void 0,void 0,function(){var b,_,T;return ve(this,function(k){switch(k.label){case 0:return(b=pAe(n)).then(function(W){a[W.measurementId]=W.appId,n.options.measurementId&&W.measurementId!==n.options.measurementId&&ea.warn("The measurement ID in the local Firebase config ("+n.options.measurementId+") does not match the measurement ID fetched from the server ("+W.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(W){return ea.error(W)}),o.push(b),_=function(){return me(this,void 0,void 0,function(){var W;return ve(this,function(X){switch(X.label){case 0:return qf()?[3,1]:(ea.warn(nh.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return X.trys.push([1,3,,4]),[4,Q_()];case 2:return X.sent(),[3,4];case 3:return W=X.sent(),ea.warn(nh.create("indexeddb-unavailable",{errorInfo:W}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(W){if(W)return c.getId()}),[4,Promise.all([b,_])];case 1:return T=k.sent(),b=T[0],_=T[1],function(){for(var W=window.document.getElementsByTagName("script"),X=0,ne=Object.values(W);X<ne.length;X++){var ae=ne[X];if(ae.src&&ae.src.includes(sre))return ae}}()||(N=p,j=b.measurementId,(V=document.createElement("script")).src=sre+"?l="+N+"&id="+j,V.async=!0,document.head.appendChild(V)),f("js",new Date),(T={})[uAe]="firebase",T.update=!0,T=T,_!=null&&(T[aAe]=_),f(La.CONFIG,b.measurementId,T),[2,b.measurementId]}var N,j,V})})}var ure,JA,Ev={},cre=[],lre={},DL="dataLayer",hre="gtag",z5=!1;function bAe(n){if(z5)throw nh.create("already-initialized");n.dataLayerName&&(DL=n.dataLayerName),n.gtagName&&(hre=n.gtagName)}function wAe(n,o){f=[],iC()&&f.push("This is a browser extension environment."),oC()||f.push("Cookies are not available."),0<f.length&&(f=f.map(function(b,_){return"("+(_+1)+") "+b}).join(" "),f=nh.create("invalid-analytics-context",{errorInfo:f}),ea.warn(f.message));var a,c,f,p=n.options.appId;if(!p)throw nh.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw nh.create("no-api-key");ea.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+n.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(Ev[p]!=null)throw nh.create("already-exists",{id:p});return z5||(c=DL,f=[],Array.isArray(window[c])?f=window[c]:window[c]=f,a=DL,c=hre,f=function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];window[a].push(arguments)},window[c]&&typeof window[c]=="function"&&(f=window[c]),window[c]=hAe(f,Ev,cre,lre),c={gtagCore:f,wrappedGtag:window[c]},JA=c.wrappedGtag,ure=c.gtagCore,z5=!0),Ev[p]=yAe(n,cre,lre,o,ure,DL),{app:n,logEvent:function(b,_,T){(function(k,N,j,V,W){return me(this,void 0,void 0,function(){var X;return ve(this,function(ne){switch(ne.label){case 0:return W&&W.global?(k(La.EVENT,j,V),[2]):[3,1];case 1:return[4,N];case 2:X=ne.sent(),X=sn(sn({},V),{send_to:X}),k(La.EVENT,j,X),ne.label=3;case 3:return[2]}})})})(JA,Ev[p],b,_,T).catch(function(k){return ea.error(k)})},setCurrentScreen:function(b,_){(function(T,k,N,j){return me(this,void 0,void 0,function(){var V;return ve(this,function(W){switch(W.label){case 0:return j&&j.global?(T(La.SET,{screen_name:N}),[2,Promise.resolve()]):[3,1];case 1:return[4,k];case 2:V=W.sent(),T(La.CONFIG,V,{update:!0,screen_name:N}),W.label=3;case 3:return[2]}})})})(JA,Ev[p],b,_).catch(function(T){return ea.error(T)})},setUserId:function(b,_){(function(T,k,N,j){return me(this,void 0,void 0,function(){var V;return ve(this,function(W){switch(W.label){case 0:return j&&j.global?(T(La.SET,{user_id:N}),[2,Promise.resolve()]):[3,1];case 1:return[4,k];case 2:V=W.sent(),T(La.CONFIG,V,{update:!0,user_id:N}),W.label=3;case 3:return[2]}})})})(JA,Ev[p],b,_).catch(function(T){return ea.error(T)})},setUserProperties:function(b,_){(function(T,k,N,j){return me(this,void 0,void 0,function(){var V,W,X,ne,ae;return ve(this,function(Ce){switch(Ce.label){case 0:if(!j||!j.global)return[3,1];for(V={},W=0,X=Object.keys(N);W<X.length;W++)ne=X[W],V["user_properties."+ne]=N[ne];return T(La.SET,V),[2,Promise.resolve()];case 1:return[4,k];case 2:ae=Ce.sent(),T(La.CONFIG,ae,{update:!0,user_properties:N}),Ce.label=3;case 3:return[2]}})})})(JA,Ev[p],b,_).catch(function(T){return ea.error(T)})},setAnalyticsCollectionEnabled:function(b){(function(_,T){return me(this,void 0,void 0,function(){var k;return ve(this,function(N){switch(N.label){case 0:return[4,_];case 1:return k=N.sent(),window["ga-disable-"+k]=!T,[2]}})})})(Ev[p],b).catch(function(_){return ea.error(_)})},INTERNAL:{delete:function(){return delete Ev[p],Promise.resolve()}}}}var K5,fre="analytics";function _Ae(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:if(iC())return[2,!1];if(!oC())return[2,!1];if(!qf())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Q_()];case 2:return[2,n.sent()];case 3:return n.sent(),[2,!1];case 4:return[2]}})})}(K5=Ht).INTERNAL.registerComponent(new qo(fre,function(n){return wAe(n.getProvider("app").getImmediate(),n.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:bAe,EventName:B5,isSupported:_Ae})),K5.INTERNAL.registerComponent(new qo("analytics-internal",function(n){try{return{logEvent:n.getProvider(fre).getImmediate().logEvent}}catch(o){throw nh.create("interop-component-reg-failed",{reason:o})}},"PRIVATE")),K5.registerVersion("@firebase/analytics","0.6.18");var EAe=(W5.prototype.isCachedDataFresh=function(n,c){if(!c)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var a=Date.now()-c,c=a<=n;return this.logger.debug("Config fetch cache check. Cache age millis: "+a+". Cache max age millis (minimumFetchIntervalMillis setting): "+n+". Is cache hit: "+c+"."),c},W5.prototype.fetch=function(n){return me(this,void 0,void 0,function(){var o,a,c;return ve(this,function(f){switch(f.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return c=f.sent(),o=c[0],(c=c[1])&&this.isCachedDataFresh(n.cacheMaxAgeMillis,o)?[2,c]:(n.eTag=c&&c.eTag,[4,this.client.fetch(n)]);case 2:return a=f.sent(),c=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],a.status===200&&c.push(this.storage.setLastSuccessfulFetchResponse(a)),[4,Promise.all(c)];case 3:return f.sent(),[2,a]}})})},W5);function W5(n,o,a,c){this.client=n,this.storage=o,this.storageCache=a,this.logger=c}var ke=((ke={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",ke["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",ke["registration-api-key"]="Undefined API key. Check Firebase app initialization.",ke["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",ke["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ke["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ke["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ke["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",ke["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ke["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',ke["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',ke["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ke["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ke),rh=new Oc("remoteconfig","Remote Config",ke),SAe=(dre.prototype.fetch=function(n){return me(this,void 0,void 0,function(){var o,a,c,f,p,b,_,T,k,N;return ve(this,function(j){switch(j.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:f=j.sent(),o=f[0],c=f[1],a=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",f=a+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":n.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:o,app_instance_id_token:c,app_id:this.appId,language_code:(V=V===void 0?navigator:V).languages&&V.languages[0]||V.language},c={method:"POST",headers:a,body:JSON.stringify(c)},f=fetch(f,c),c=new Promise(function(W,X){n.signal.addEventListener(function(){var ne=new Error("The operation was aborted.");ne.name="AbortError",X(ne)})}),j.label=2;case 2:return j.trys.push([2,5,,6]),[4,Promise.race([f,c])];case 3:return j.sent(),[4,f];case 4:return N=j.sent(),[3,6];case 5:throw c=j.sent(),f="fetch-client-network",c.name==="AbortError"&&(f="fetch-timeout"),rh.create(f,{originalErrorMessage:c.message});case 6:if(p=N.status,b=N.headers.get("ETag")||void 0,N.status!==200)return[3,11];k=void 0,j.label=7;case 7:return j.trys.push([7,9,,10]),[4,N.json()];case 8:return k=j.sent(),[3,10];case 9:throw N=j.sent(),rh.create("fetch-client-parse",{originalErrorMessage:N.message});case 10:_=k.entries,T=k.state,j.label=11;case 11:if(T==="INSTANCE_STATE_UNSPECIFIED"?p=500:T==="NO_CHANGE"?p=304:T!=="NO_TEMPLATE"&&T!=="EMPTY_CONFIG"||(_={}),p!==304&&p!==200)throw rh.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:b,config:_}]}var V})})},dre);function dre(n,o,a,c,f,p){this.firebaseInstallations=n,this.sdkVersion=o,this.namespace=a,this.projectId=c,this.apiKey=f,this.appId=p}var TAe=(G5.prototype.addEventListener=function(n){this.listeners.push(n)},G5.prototype.abort=function(){this.listeners.forEach(function(n){return n()})},G5);function G5(){this.listeners=[]}var IAe=["1","true","t","yes","y","on"],Q5=(ZA.prototype.asString=function(){return this._value},ZA.prototype.asBoolean=function(){return this._source!=="static"&&0<=IAe.indexOf(this._value.toLowerCase())},ZA.prototype.asNumber=function(){if(this._source==="static")return 0;var n=Number(this._value);return n=isNaN(n)?0:n},ZA.prototype.getSource=function(){return this._source},ZA);function ZA(n,o){o===void 0&&(o=""),this._source=n,this._value=o}var CAe=(Zc.prototype.setLogLevel=function(n){switch(n){case"debug":this._logger.logLevel=Pn.DEBUG;break;case"silent":this._logger.logLevel=Pn.SILENT;break;default:this._logger.logLevel=Pn.ERROR}},Object.defineProperty(Zc.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(Zc.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),Zc.prototype.activate=function(){return me(this,void 0,void 0,function(){var n,o;return ve(this,function(a){switch(a.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return o=a.sent(),n=o[0],o=o[1],n&&n.config&&n.eTag&&n.eTag!==o?[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])]:[2,!1];case 2:return a.sent(),[2,!0]}})})},Zc.prototype.ensureInitialized=function(){var n=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){n._isInitializationComplete=!0})),this._initializePromise},Zc.prototype.fetch=function(){return me(this,void 0,void 0,function(){var n,o,a,c=this;return ve(this,function(f){switch(f.label){case 0:n=new TAe,setTimeout(function(){return me(c,void 0,void 0,function(){return ve(this,function(_){return n.abort(),[2]})})},this.settings.fetchTimeoutMillis),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:n})];case 2:return f.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return f.sent(),[3,6];case 4:return o=f.sent(),b="fetch-throttle",a=(p=o)instanceof Bf&&p.code.indexOf(b)!==-1?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(a)];case 5:throw f.sent(),o;case 6:return[2]}var p,b})})},Zc.prototype.fetchAndActivate=function(){return me(this,void 0,void 0,function(){return ve(this,function(n){switch(n.label){case 0:return[4,this.fetch()];case 1:return n.sent(),[2,this.activate()]}})})},Zc.prototype.getAll=function(){var n=this;return function(o,a){return o===void 0&&(o={}),a===void 0&&(a={}),Object.keys(sn(sn({},o),a))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(o,a){return o[a]=n.getValue(a),o},{})},Zc.prototype.getBoolean=function(n){return this.getValue(n).asBoolean()},Zc.prototype.getNumber=function(n){return this.getValue(n).asNumber()},Zc.prototype.getString=function(n){return this.getValue(n).asString()},Zc.prototype.getValue=function(n){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+n+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var o=this._storageCache.getActiveConfig();return o&&o[n]!==void 0?new Q5("remote",o[n]):this.defaultConfig&&this.defaultConfig[n]!==void 0?new Q5("default",String(this.defaultConfig[n])):(this._logger.debug('Returning static value for key "'+n+'". Define a default or remote value if this is unintentional.'),new Q5("static"))},Zc);function Zc(n,o,a,c,f){this.app=n,this._client=o,this._storageCache=a,this._storage=c,this._logger=f,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function LL(n,o){return n=n.target.error||void 0,rh.create(o,{originalErrorMessage:n&&n.message})}var Nb="app_namespace_store",kAe="firebase_remote_config",AAe=1,xAe=(bs.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},bs.prototype.setLastFetchStatus=function(n){return this.set("last_fetch_status",n)},bs.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},bs.prototype.setLastSuccessfulFetchTimestampMillis=function(n){return this.set("last_successful_fetch_timestamp_millis",n)},bs.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},bs.prototype.setLastSuccessfulFetchResponse=function(n){return this.set("last_successful_fetch_response",n)},bs.prototype.getActiveConfig=function(){return this.get("active_config")},bs.prototype.setActiveConfig=function(n){return this.set("active_config",n)},bs.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},bs.prototype.setActiveConfigEtag=function(n){return this.set("active_config_etag",n)},bs.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},bs.prototype.setThrottleMetadata=function(n){return this.set("throttle_metadata",n)},bs.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},bs.prototype.get=function(n){return me(this,void 0,void 0,function(){var o,a=this;return ve(this,function(c){switch(c.label){case 0:return[4,this.openDbPromise];case 1:return o=c.sent(),[2,new Promise(function(f,p){var b=o.transaction([Nb],"readonly").objectStore(Nb),_=a.createCompositeKey(n);try{var T=b.get(_);T.onerror=function(k){p(LL(k,"storage-get"))},T.onsuccess=function(k){k=k.target.result,f(k?k.value:void 0)}}catch(k){p(rh.create("storage-get",{originalErrorMessage:k&&k.message}))}})]}})})},bs.prototype.set=function(n,o){return me(this,void 0,void 0,function(){var a,c=this;return ve(this,function(f){switch(f.label){case 0:return[4,this.openDbPromise];case 1:return a=f.sent(),[2,new Promise(function(p,b){var _=a.transaction([Nb],"readwrite").objectStore(Nb),T=c.createCompositeKey(n);try{var k=_.put({compositeKey:T,value:o});k.onerror=function(N){b(LL(N,"storage-set"))},k.onsuccess=function(){p()}}catch(N){b(rh.create("storage-set",{originalErrorMessage:N&&N.message}))}})]}})})},bs.prototype.delete=function(n){return me(this,void 0,void 0,function(){var o,a=this;return ve(this,function(c){switch(c.label){case 0:return[4,this.openDbPromise];case 1:return o=c.sent(),[2,new Promise(function(f,p){var b=o.transaction([Nb],"readwrite").objectStore(Nb),_=a.createCompositeKey(n);try{var T=b.delete(_);T.onerror=function(k){p(LL(k,"storage-delete"))},T.onsuccess=function(){f()}}catch(k){p(rh.create("storage-delete",{originalErrorMessage:k&&k.message}))}})]}})})},bs.prototype.createCompositeKey=function(n){return[this.appId,this.appName,this.namespace,n].join()},bs);function bs(n,o,a,c){c===void 0&&(c=new Promise(function(f,p){var b=indexedDB.open(kAe,AAe);b.onerror=function(_){p(LL(_,"storage-open"))},b.onsuccess=function(_){f(_.target.result)},b.onupgradeneeded=function(_){var T=_.target.result;_.oldVersion===0&&T.createObjectStore(Nb,{keyPath:"compositeKey"})}})),this.appId=n,this.appName=o,this.namespace=a,this.openDbPromise=c}var OAe=(Eg.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},Eg.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},Eg.prototype.getActiveConfig=function(){return this.activeConfig},Eg.prototype.loadFromStorage=function(){return me(this,void 0,void 0,function(){var n,o,a;return ve(this,function(c){switch(c.label){case 0:return n=this.storage.getLastFetchStatus(),o=this.storage.getLastSuccessfulFetchTimestampMillis(),a=this.storage.getActiveConfig(),[4,n];case 1:return(n=c.sent())&&(this.lastFetchStatus=n),[4,o];case 2:return(o=c.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,a];case 3:return(a=c.sent())&&(this.activeConfig=a),[2]}})})},Eg.prototype.setLastFetchStatus=function(n){return this.lastFetchStatus=n,this.storage.setLastFetchStatus(n)},Eg.prototype.setLastSuccessfulFetchTimestampMillis=function(n){return this.lastSuccessfulFetchTimestampMillis=n,this.storage.setLastSuccessfulFetchTimestampMillis(n)},Eg.prototype.setActiveConfig=function(n){return this.activeConfig=n,this.storage.setActiveConfig(n)},Eg);function Eg(n){this.storage=n}var NAe=(Y5.prototype.fetch=function(n){return me(this,void 0,void 0,function(){var o;return ve(this,function(a){switch(a.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return o=a.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(n,o)]}})})},Y5.prototype.attemptFetch=function(n,o){var a=o.throttleEndTimeMillis,c=o.backoffCount;return me(this,void 0,void 0,function(){var f,p;return ve(this,function(b){switch(b.label){case 0:return[4,(_=n.signal,T=a,new Promise(function(k,N){var j=Math.max(T-Date.now(),0),V=setTimeout(k,j);_.addEventListener(function(){clearTimeout(V),N(rh.create("fetch-throttle",{throttleEndTimeMillis:T}))})}))];case 1:b.sent(),b.label=2;case 2:return b.trys.push([2,5,,7]),[4,this.client.fetch(n)];case 3:return f=b.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return b.sent(),[2,f];case 5:if(!function(k){if(k instanceof Bf&&k.customData)return k=Number(k.customData.httpStatus),k===429||k===500||k===503||k===504}(p=b.sent()))throw p;return p={throttleEndTimeMillis:Date.now()+e1(c),backoffCount:c+1},[4,this.storage.setThrottleMetadata(p)];case 6:return b.sent(),[2,this.attemptFetch(n,p)];case 7:return[2]}var _,T})})},Y5);function Y5(n,o){this.client=n,this.storage=o}var X5,pre="@firebase/remote-config";(X5=Ht).INTERNAL.registerComponent(new qo("remoteConfig",function(n,o){var a=o.instanceIdentifier,c=n.getProvider("app").getImmediate(),f=n.getProvider("installations").getImmediate();if(typeof window>"u")throw rh.create("registration-window");var p=c.options,b=p.projectId,_=p.apiKey,T=p.appId;if(!b)throw rh.create("registration-project-id");if(!_)throw rh.create("registration-api-key");if(!T)throw rh.create("registration-app-id");return a=a||"firebase",o=new xAe(T,c.name,a),n=new OAe(o),p=new Rh(pre),p.logLevel=Pn.ERROR,T=new SAe(f,X5.SDK_VERSION,a,b,_,T),T=new NAe(T,o),T=new EAe(T,o,n,p),p=new CAe(c,T,n,o,p),p.ensureInitialized(),p},"PUBLIC").setMultipleInstances(!0)),X5.registerVersion(pre,"0.1.43");var ke=((ke={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",ke["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",ke["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",ke["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",ke["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",ke["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",ke["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",ke["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",ke["recaptcha-error"]="ReCAPTCHA error.",ke),el=new Oc("appCheck","AppCheck",ke),vre=new Map,PAe={activated:!1,tokenObservers:[]},J5={enabled:!1};function Eu(n){return vre.get(n)||PAe}function Od(n,o){vre.set(n,o)}var mre="https://content-firebaseappcheck.googleapis.com/v1beta",RAe="exchangeDebugToken",gre={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},DAe=(hS.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},hS.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},hS.prototype.isRunning=function(){return!!this.pending},hS.prototype.process=function(n){return me(this,void 0,void 0,function(){var o;return ve(this,function(a){switch(a.label){case 0:this.stop(),a.label=1;case 1:return a.trys.push([1,6,,7]),this.pending=new to,[4,(c=this.getNextRun(n),new Promise(function(f){setTimeout(f,c)}))];case 2:return a.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return a.sent(),this.pending=new to,[4,this.operation()];case 4:return a.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return a.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return o=a.sent(),this.retryPolicy(o)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var c})})},hS.prototype.getNextRun=function(n){return n?(this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration()):(n=this.nextErrorWaitInterval,this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n)},hS);function hS(n,o,a,c,f){if(this.operation=n,this.retryPolicy=o,this.getWaitDuration=a,this.lowerBound=c,this.upperBound=f,this.pending=null,f<(this.nextErrorWaitInterval=c))throw new Error("Proactive refresh lower bound greater than upper bound!")}function yre(){return self.grecaptcha}function bre(n){if(!Eu(n).activated)throw el.create("use-before-activation",{appName:n.name})}function wre(n,o){var a=n.url,c=n.body;return me(this,void 0,void 0,function(){var f,p,b,_,T;return ve(this,function(k){switch(k.label){case 0:p={"Content-Type":"application/json"},(f=o.getImmediate({optional:!0}))&&(p["X-Firebase-Client"]=f.getPlatformInfoString()),p={method:"POST",body:JSON.stringify(c),headers:p},k.label=1;case 1:return k.trys.push([1,3,,4]),[4,fetch(a,p)];case 2:return T=k.sent(),[3,4];case 3:throw p=k.sent(),el.create("fetch-network-error",{originalErrorMessage:p.message});case 4:if(T.status!==200)throw el.create("fetch-status-error",{httpStatus:T.status});k.label=5;case 5:return k.trys.push([5,7,,8]),[4,T.json()];case 6:return b=k.sent(),[3,8];case 7:throw _=k.sent(),el.create("fetch-parse-error",{originalErrorMessage:_.message});case 8:if(!(T=b.ttl.match(/^([\d.]+)(s)$/))||!T[2]||isNaN(Number(T[1])))throw el.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+b.ttl});return _=1e3*Number(T[1]),T=Date.now(),[2,{token:b.attestationToken,expireTimeMillis:T+_,issuedAtTimeMillis:T}]}})})}function LAe(c,o){var f=c.options,a=f.projectId,c=f.appId,f=f.apiKey;return{url:mre+"/projects/"+a+"/apps/"+c+":"+RAe+"?key="+f,body:{debug_token:o}}}var MAe="firebase-app-check-database",FAe=1,ex="firebase-app-check-store",_re="debug-token",Ere=null;function Sre(){return Ere=Ere||new Promise(function(n,o){try{var a=indexedDB.open(MAe,FAe);a.onsuccess=function(c){n(c.target.result)},a.onerror=function(c){o(el.create("storage-open",{originalErrorMessage:(c=c.target.error)===null||c===void 0?void 0:c.message}))},a.onupgradeneeded=function(c){var f=c.target.result;c.oldVersion===0&&f.createObjectStore(ex,{keyPath:"compositeKey"})}}catch(c){o(el.create("storage-open",{originalErrorMessage:c.message}))}})}function Tre(n,o){return me(this,void 0,void 0,function(){var a,c,f;return ve(this,function(p){switch(p.label){case 0:return[4,Sre()];case 1:return c=p.sent(),a=c.transaction(ex,"readwrite"),c=a.objectStore(ex),f=c.put({compositeKey:n,value:o}),[2,new Promise(function(b,_){f.onsuccess=function(T){b()},a.onerror=function(T){_(el.create("storage-set",{originalErrorMessage:(T=T.target.error)===null||T===void 0?void 0:T.message}))}})]}})})}function Ire(n){return me(this,void 0,void 0,function(){var o,a,c;return ve(this,function(f){switch(f.label){case 0:return[4,Sre()];case 1:return a=f.sent(),o=a.transaction(ex,"readonly"),a=o.objectStore(ex),c=a.get(n),[2,new Promise(function(p,b){c.onsuccess=function(_){_=_.target.result,p(_?_.value:void 0)},o.onerror=function(_){b(el.create("storage-get",{originalErrorMessage:(_=_.target.error)===null||_===void 0?void 0:_.message}))}})]}})})}function Cre(n){return n.options.appId+"-"+n.name}var ML=new Rh("@firebase/app-check");function jAe(n){return me(this,void 0,void 0,function(){var o,a;return ve(this,function(c){switch(c.label){case 0:if(!qf())return[3,5];o=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Ire(Cre(n))];case 2:return o=c.sent(),[3,4];case 3:return a=c.sent(),ML.warn("Failed to read token from indexeddb. Error: "+a),[3,4];case 4:return[2,o];case 5:return[2,void 0]}})})}function kre(n,o){return qf()?Tre(Cre(n),o).catch(function(a){ML.warn("Failed to write token to indexeddb. Error: "+a)}):Promise.resolve()}function UAe(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:n=void 0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Ire(_re)];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return n?[2,n]:(n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*Math.random()|0;return(a==="x"?c:3&c|8).toString(16)}),Tre(_re,n).catch(function(a){return ML.warn("Failed to persist debug token to indexeddb. Error: "+a)}),console.log("AppCheck debug token: "+n+". You will need to whitelist it in the Firebase console for it to work"),[2,n])}})})}var $Ae={error:"UNKNOWN_ERROR"};function FL(n,o,a){return a===void 0&&(a=!1),me(this,void 0,void 0,function(){var c,f,p,b,_,T,k,N,j;return ve(this,function(V){switch(V.label){case 0:return bre(n),c=Eu(n),f=c.token,p=void 0,f?[3,2]:[4,c.cachedTokenPromise];case 1:(b=V.sent())&&tx(b)&&(f=b,Od(n,sn(sn({},c),{token:f})),xre(n,{token:f.token})),V.label=2;case 2:return!a&&f&&tx(f)?[2,{token:f.token}]:J5.enabled?(_=wre,T=LAe,k=[n],[4,function(){return me(this,void 0,void 0,function(){var X;return ve(this,function(ne){if((X=J5).enabled&&X.token)return[2,X.token.promise];throw Error(`
            Can't get debug token in production mode.
        `)})})}()]):[3,6];case 3:return[4,_.apply(void 0,[T.apply(void 0,k.concat([V.sent()])),o])];case 4:return N=V.sent(),[4,kre(n,N)];case 5:return V.sent(),Od(n,sn(sn({},c),{token:N})),[2,{token:N.token}];case 6:return V.trys.push([6,8,,9]),[4,c.provider.getToken()];case 7:return f=V.sent(),[3,9];case 8:return N=V.sent(),ML.error(N),p=N,[3,9];case 9:return f?[3,10]:(W=p,j={token:function(X){return Yy.encodeString(JSON.stringify(X),!1)}($Ae),error:W},[3,12]);case 10:return j={token:f.token},Od(n,sn(sn({},c),{token:f})),[4,kre(n,f)];case 11:V.sent(),V.label=12;case 12:return xre(n,j),[2,j]}var W})})}function Are(n,o,_,c,f){var p,b=Eu(n),_={next:c,error:f,type:_},_=sn(sn({},b),{tokenObservers:an(an([],b.tokenObservers),[_])});_.tokenRefresher||(o=function(T,k){var N=this;return new DAe(function(){return me(N,void 0,void 0,function(){var j;return ve(this,function(V){switch(V.label){case 0:return Eu(T).token?[3,2]:[4,FL(T,k)];case 1:return j=V.sent(),[3,4];case 2:return[4,FL(T,k,!0)];case 3:j=V.sent(),V.label=4;case 4:if(j.error)throw j.error;return[2]}})})},function(){return!0},function(){var j=Eu(T);if(j.token){var V=j.token.issuedAtTimeMillis+.5*(j.token.expireTimeMillis-j.token.issuedAtTimeMillis)+3e5,j=j.token.expireTimeMillis-3e5,V=Math.min(V,j);return Math.max(0,V-Date.now())}return 0},gre.RETRIAL_MIN_WAIT,gre.RETRIAL_MAX_WAIT)}(n,o),_.tokenRefresher=o),!_.tokenRefresher.isRunning()&&b.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),b.token&&tx(b.token)?(p=b.token,Promise.resolve().then(function(){return c({token:p.token})}).catch(function(){})):b.token==null&&b.cachedTokenPromise.then(function(T){T&&tx(T)&&c({token:T.token})}).catch(function(){}),Od(n,_)}function Z5(n,o){var a=Eu(n),c=a.tokenObservers.filter(function(f){return f.next!==o});c.length===0&&a.tokenRefresher&&a.tokenRefresher.isRunning()&&a.tokenRefresher.stop(),Od(n,sn(sn({},a),{tokenObservers:c}))}function xre(n,o){for(var a=0,c=Eu(n).tokenObservers;a<c.length;a++){var f=c[a];try{f.type==="EXTERNAL"&&o.error!=null?f.error(o.error):f.next(o)}catch{}}}function tx(n){return 0<n.expireTimeMillis-Date.now()}var VAe="https://www.google.com/recaptcha/api.js";function qAe(n,o){var a=Eu(n),c=new to;Od(n,sn(sn({},a),{reCAPTCHAState:{initialized:c}}));var f="fire_app_check_"+n.name,p=document.createElement("div");p.id=f,p.style.display="none",document.body.appendChild(p);var b=yre();return b?b.ready(function(){Ore(n,o,b,f),c.resolve(b)}):(a=function(){var _=yre();if(!_)throw new Error("no recaptcha");_.ready(function(){Ore(n,o,_,f),c.resolve(_)})},(p=document.createElement("script")).src=""+VAe,p.onload=a,document.head.appendChild(p)),c.promise}function Ore(n,o,a,c){c=a.render(c,{sitekey:o,size:"invisible"}),o=Eu(n),Od(n,sn(sn({},o),{reCAPTCHAState:sn(sn({},o.reCAPTCHAState),{widgetId:c})}))}var eq=(tq.prototype.getToken=function(){return me(this,void 0,void 0,function(){var n;return ve(this,function(o){switch(o.label){case 0:if(!this._app||!this._platformLoggerProvider)throw el.create("use-before-activation",{appName:""});o.label=1;case 1:return o.trys.push([1,3,,4]),[4,function(p){return me(this,void 0,void 0,function(){var b;return ve(this,function(_){switch(_.label){case 0:return bre(p),[4,Eu(p).reCAPTCHAState.initialized.promise];case 1:return b=_.sent(),[2,new Promise(function(T,k){var N=Eu(p).reCAPTCHAState;b.ready(function(){T(b.execute(N.widgetId,{action:"fire_app_check"}))})})]}})})}(this._app)];case 2:return n=o.sent(),[3,4];case 3:throw o.sent(),el.create("recaptcha-error");case 4:return[2,wre((a=this._app,c=(f=a.options).projectId,a=f.appId,f=f.apiKey,{url:mre+"/projects/"+c+"/apps/"+a+":exchangeRecaptchaToken?key="+f,body:{recaptcha_token:n}}),this._platformLoggerProvider)]}var a,c,f})})},tq.prototype.initialize=function(n,o){this._app=n,this._platformLoggerProvider=o,qAe(n,this._siteKey).catch(function(){})},tq);function tq(n){this._siteKey=n}var nq=(rq.prototype.getToken=function(){return me(this,void 0,void 0,function(){var n,o;return ve(this,function(a){switch(a.label){case 0:if(!this._app)throw el.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return n=a.sent(),o=function(c){return c=X_(c).claims,typeof c=="object"&&c.hasOwnProperty("iat")?c.iat:null}(n.token),o=o!==null&&o<Date.now()&&0<o?1e3*o:Date.now(),[2,sn(sn({},n),{issuedAtTimeMillis:o})]}})})},rq.prototype.initialize=function(n){this._app=n},rq);function rq(n){this._customProviderOptions=n}function BAe(n,o){return{app:n,activate:function(a,c){return function(f,p,b,_){var T=Eu(f);if(T.activated)throw el.create("already-activated",{appName:f.name});(T=sn(sn({},T),{activated:!0})).cachedTokenPromise=jAe(f).then(function(k){return k&&tx(k)&&Od(f,sn(sn({},Eu(f)),{token:k})),k}),T.provider=typeof p=="string"?new eq(p):p instanceof eq||p instanceof nq?p:new nq({getToken:p.getToken}),T.isTokenAutoRefreshEnabled=_===void 0?f.automaticDataCollectionEnabled:_,Od(f,T),T.provider.initialize(f,b)}(n,a,o,c)},setTokenAutoRefreshEnabled:function(a){return f=a,(a=Eu(c=n)).tokenRefresher&&(f===!0?a.tokenRefresher.start():a.tokenRefresher.stop()),void Od(c,sn(sn({},a),{isTokenAutoRefreshEnabled:f}));var c,f},getToken:function(a){return function(c,f,p){return me(this,void 0,void 0,function(){var b;return ve(this,function(_){switch(_.label){case 0:return[4,FL(c,f,p)];case 1:if((b=_.sent()).error)throw b.error;return[2,{token:b.token}]}})})}(n,o,a)},onTokenChanged:function(a,c,f){return p=n,b=o,_=c,T=function(){},c=function(){},T=(a=a).next!=null?a.next.bind(a):a,a.error!=null?c=a.error.bind(a):_&&(c=_),Are(p,b,"EXTERNAL",T,c),function(){return Z5(p,T)};var p,b,_,T},INTERNAL:{delete:function(){for(var a=0,c=Eu(n).tokenObservers;a<c.length;a++){var f=c[a];Z5(n,f.next)}return Promise.resolve()}}}}var iq,Nre,jL,UL,Pre="app-check-internal";return(iq=Ht).INTERNAL.registerComponent(new qo("appCheck",function(n){return BAe(n.getProvider("app").getImmediate(),n.getProvider("platform-logger"))},"PUBLIC").setServiceProps({ReCaptchaV3Provider:eq,CustomProvider:nq}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(n,o,a){n.getProvider(Pre).initialize()})),iq.INTERNAL.registerComponent(new qo(Pre,function(f){var o,a,c=f.getProvider("app").getImmediate(),f=f.getProvider("platform-logger");return o=c,a=f,{getToken:function(p){return FL(o,a,p)},addTokenListener:function(p){return Are(o,a,"INTERNAL",p)},removeTokenListener:function(p){return Z5(o,p)}}},"PUBLIC").setInstantiationMode("EXPLICIT")),iq.registerVersion("@firebase/app-check","0.3.2"),typeof(UL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof $r<"u")return $r;throw new Error("Unable to locate global object.")}()).FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&UL.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0||((Nre=J5).enabled=!0,jL=new to,Nre.token=jL,typeof UL.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?jL.resolve(UL.FIREBASE_APPCHECK_DEBUG_TOKEN):jL.resolve(UAe())),console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the CDN builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

https://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js
`),Ht.registerVersion("firebase","8.10.1","cdn"),Ht})})(Awe);const R9=B4(Awe.exports),xVe=()=>{const{isOpenModal:e,onOpenModal:t,onCloseModal:r}=MG(),{basket:i,user:s}=ks(A=>({basket:A.basket,user:A.auth})),u=sp(),{pathname:d}=gj(),v=Lo(),g=n_();se.exports.useEffect(()=>{g&&R9.auth.currentUser&&i.length!==0&&R9.saveBasketItems(i,R9.auth.currentUser.uid).then(()=>{console.log("Item saved to basket")}).catch(A=>{console.log(A)})},[i.length]);const w=()=>{i.length!==0&&s?(document.body.classList.remove("is-basket-open"),u.push(iN)):t()},S=()=>{r(),document.body.classList.remove("basket-open"),u.push(iN)},C=()=>{i.length!==0&&v(Vge())};return s&&s.role==="ADMIN"?null:ge(t_,{children:[ge(VP,{isOpen:e,onRequestClose:r,children:[D("p",{className:"text-center",children:"You must sign in to continue checking out"}),D("br",{}),ge("div",{className:"d-flex-center",children:[D("button",{className:"button button-border button-border-gray button-small",onClick:r,type:"button",children:"Continue shopping"}),"\xA0",D("button",{className:"button button-small",onClick:S,type:"button",children:"Sign in to checkout"})]})]}),ge("div",{className:"basket",children:[ge("div",{className:"basket-list",children:[ge("div",{className:"basket-header",children:[ge("h3",{className:"basket-header-title",children:["My Basket \xA0",ge("span",{children:["(",` ${i.length} ${i.length>1?"items":"item"}`,")"]})]}),D(rU,{children:({onClickToggle:A})=>D("span",{className:"basket-toggle button button-border button-border-gray button-small",onClick:A,role:"presentation",children:"Close"})}),D("button",{className:"basket-clear button button-border button-border-gray button-small",disabled:i.length===0,onClick:C,type:"button",children:D("span",{children:"Clear Basket"})})]}),i.length<=0&&D("div",{className:"basket-empty",children:D("h5",{className:"basket-empty-msg",children:"Your basket is empty"})}),i.map((A,L)=>D(zG,{product:A,basket:i,dispatch:v},`${A.id}_${L}`))]}),ge("div",{className:"basket-checkout",children:[ge("div",{className:"basket-total",children:[D("p",{className:"basket-total-title",children:"Subtotal Amout:"}),D("h2",{className:"basket-total-amount",children:by(Uge(i.map(A=>A.price*A.quantity)))})]}),D("button",{className:"basket-checkout-button button",disabled:i.length===0||d==="/checkout",onClick:w,type:"button",children:"Check Out"})]})]})]})},zG=({product:e})=>{const t=Lo(),r=()=>t($ge(e.id));return ge("div",{className:"basket-item",children:[D(xwe,{product:e}),ge("div",{className:"basket-item-wrapper",children:[D("div",{className:"basket-item-img-wrapper",children:D(Eh,{alt:e.name,className:"basket-item-img",src:e.image})}),ge("div",{className:"basket-item-details",children:[D(wc,{to:`/product/${e.id}`,onClick:()=>document.body.classList.remove("is-basket-open"),children:D("h4",{className:"underline basket-item-name",children:e.name})}),ge("div",{className:"basket-item-specs",children:[ge("div",{children:[D("span",{className:"spec-title",children:"Quantity"}),D("h5",{className:"my-0",children:e.quantity})]}),ge("div",{children:[D("span",{className:"spec-title",children:"Size"}),ge("h5",{className:"my-0",children:[e.selectedSize," ","mm"]})]}),ge("div",{children:[D("span",{className:"spec-title",children:"Color"}),D("div",{style:{backgroundColor:e.selectedColor||e.availableColors[0],width:"15px",height:"15px",borderRadius:"50%"}})]})]})]}),D("div",{className:"basket-item-price",children:D("h4",{className:"my-0",children:by(e.price*e.quantity)})}),D("button",{className:"basket-item-remove button button-border button-border-gray button-small",onClick:r,type:"button",children:D(zme,{})})]})]})};zG.propTypes={product:ie.exports.shape({id:ie.exports.string,name:ie.exports.string,brand:ie.exports.string,price:ie.exports.number,quantity:ie.exports.number,maxQuantity:ie.exports.number,description:ie.exports.string,keywords:ie.exports.arrayOf(ie.exports.string),selectedSize:ie.exports.string,selectedColor:ie.exports.string,imageCollection:ie.exports.arrayOf(ie.exports.string),sizes:ie.exports.arrayOf(ie.exports.number),image:ie.exports.string,imageUrl:ie.exports.string,isFeatured:ie.exports.bool,isRecommended:ie.exports.bool,availableColors:ie.exports.arrayOf(ie.exports.string)}).isRequired};const xwe=({product:e})=>{const t=Lo(),r=()=>{e.quantity<e.maxQuantity&&t(SMe(e.id))},i=()=>{e.maxQuantity>=e.quantity&&e.quantity!==0&&t(TMe(e.id))};return ge("div",{className:"basket-item-control",children:[D("button",{className:"button button-border button-border-gray button-small basket-control basket-control-add",disabled:e.maxQuantity===e.quantity,onClick:r,type:"button",children:D(rge,{style:{fontSize:"9px"}})}),D("button",{className:"button button-border button-border-gray button-small basket-control basket-control-minus",disabled:e.quantity===1,onClick:i,type:"button",children:D($Le,{style:{fontSize:"9px"}})})]})};xwe.propTypes={product:ie.exports.shape({id:ie.exports.string,name:ie.exports.string,brand:ie.exports.string,price:ie.exports.number,quantity:ie.exports.number,maxQuantity:ie.exports.number,description:ie.exports.string,keywords:ie.exports.arrayOf(ie.exports.string),selectedSize:ie.exports.string,selectedColor:ie.exports.string,imageCollection:ie.exports.arrayOf(ie.exports.string),sizes:ie.exports.arrayOf(ie.exports.number),image:ie.exports.string,imageUrl:ie.exports.string,isFeatured:ie.exports.bool,isRecommended:ie.exports.bool,availableColors:ie.exports.arrayOf(ie.exports.string)}).isRequired};const rU=({children:e})=>{const t=()=>{document.body.classList.contains("is-basket-open")?document.body.classList.remove("is-basket-open"):document.body.classList.add("is-basket-open")};return document.addEventListener("click",r=>{const i=r.target.closest(".basket"),s=r.target.closest(".basket-toggle"),u=r.target.closest(".basket-item-remove");!i&&document.body.classList.contains("is-basket-open")&&!s&&!u&&document.body.classList.remove("is-basket-open")}),e({onClickToggle:t})};rU.propTypes={children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.func,ie.exports.node]).isRequired};const KG=()=>{const[e,t]=se.exports.useState(""),{filter:r,isLoading:i}=ks(M=>({filter:M.filter,isLoading:M.app.loading})),s=se.exports.useRef(null),u=sp(),d=Lo(),v=window.screen.width<=800,g=M=>{const U=M.target.value.trimStart();t(U)},w=M=>{M.keyCode===13&&(M.target.blur(),s.current.classList.remove("is-open-recent-search"),v&&u.push("/"),u.push(`/search/${e.trim().toLowerCase()}`))},S=M=>{M.target.closest(".searchbar")||(s.current.classList.remove("is-open-recent-search"),document.removeEventListener("click",S))},C=M=>{M.target.select(),r.recent.length!==0&&(s.current.classList.add("is-open-recent-search"),document.addEventListener("click",S))},A=M=>{s.current.classList.remove("is-open-recent-search"),u.push(`/search/${M.trim().toLowerCase()}`)},L=()=>{d(Y$e())};return D(Mu,{children:ge("div",{className:"searchbar",ref:s,children:[D(zLe,{className:"searchbar-icon"}),D("input",{className:"search-input searchbar-input",onChange:g,onKeyUp:w,onFocus:C,placeholder:"Search product...",readOnly:i,type:"text",value:e}),r.recent.length!==0&&ge("div",{className:"searchbar-recent",children:[ge("div",{className:"searchbar-recent-header",children:[D("h5",{children:"Recent Search"}),D("h5",{className:"searchbar-recent-clear text-subtle",onClick:L,role:"presentation",children:"Clear"})]}),r.recent.map((M,U)=>ge("div",{className:"searchbar-recent-wrapper",children:[D("h5",{className:"searchbar-recent-keyword margin-0",onClick:()=>A(M),role:"presentation",children:M}),D("span",{className:"searchbar-recent-button text-subtle",onClick:()=>d(X$e(M)),role:"presentation",children:"X"})]},`search-${M}-${U}`))]})]})})},Owe=e=>{const{isAuthenticating:t,basketLength:r,disabledPaths:i,user:s}=e,{pathname:u}=gj(),d=v=>{t&&v.preventDefault()};return ge("nav",{className:"mobile-navigation",children:[ge("div",{className:"mobile-navigation-main",children:[D("div",{className:"mobile-navigation-logo",children:D(wc,{onClick:d,to:U4,children:D("h2",{children:"SALINAKA"})})}),D(rU,{children:({onClickToggle:v})=>D("button",{className:"button-link navigation-menu-link basket-toggle",onClick:v,disabled:i.includes(u),type:"button",children:D(mW,{count:r,children:D("i",{className:"fa fa-shopping-bag",style:{fontSize:"2rem"}})})})}),D("ul",{className:"mobile-navigation-menu",children:s?D("li",{className:"mobile-navigation-item",children:D(vW,{})}):D(Mu,{children:u!==yf&&D("li",{className:"mobile-navigation-item",children:D(wc,{className:"navigation-menu-link",onClick:d,to:yf,children:"Sign In"})})})})]}),ge("div",{className:"mobile-navigation-sec",children:[D(KG,{}),D(nU,{children:D("button",{className:"button-link button-small",type:"button",children:D("i",{className:"fa fa-filter"})})})]})]})};Owe.propTypes={isAuthenticating:ie.exports.bool.isRequired,basketLength:ie.exports.number.isRequired,disabledPaths:ie.exports.arrayOf(ie.exports.string).isRequired,user:ie.exports.oneOfType([ie.exports.bool,ie.exports.object]).isRequired};const OVe=()=>{const e=se.exports.useRef(null),{pathname:t}=gj(),r=ks(d=>({basketLength:d.basket.length,user:d.auth,isAuthenticating:d.app.isAuthenticating,isLoading:d.app.loading})),i=()=>{e.current&&window.screen.width>480&&(window.pageYOffset>=70?e.current.classList.add("is-nav-scrolled"):e.current.classList.remove("is-nav-scrolled"))};se.exports.useEffect(()=>(window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)),[]);const s=d=>{r.isAuthenticating&&d.preventDefault()},u=[iN,L7,lpe,yf,cT,D7];return r.user&&r.user.role==="ADMIN"?null:window.screen.width<=800?D(Owe,{...r,disabledPaths:u,pathname:t}):ge("nav",{className:"navigation",ref:e,children:[D("div",{className:"logo"}),ge("ul",{className:"navigation-menu-main",children:[D("li",{children:D(yO,{activeClassName:"navigation-menu-active",exact:!0,to:U4,children:"Home"})}),D("li",{children:D(yO,{activeClassName:"navigation-menu-active",to:IT,children:"Shop"})}),D("li",{children:D(yO,{activeClassName:"navigation-menu-active",to:R7,children:"Featured"})}),D("li",{children:D(yO,{activeClassName:"navigation-menu-active",to:$4,children:"Recommended"})})]}),(t===IT||t===cpe)&&D(nU,{children:ge("button",{className:"button-muted button-small",type:"button",children:["Filters \xA0",D(Yme,{})]})}),D(KG,{}),ge("ul",{className:"navigation-menu",children:[D("li",{className:"navigation-menu-item",children:D(rU,{children:({onClickToggle:d})=>D("button",{className:"button-link navigation-menu-link basket-toggle",disabled:u.includes(t),onClick:d,type:"button",children:D(mW,{count:r.basketLength,children:D(XLe,{style:{fontSize:"2.4rem"}})})})})}),r.user?D("li",{className:"navigation-menu-item",children:D(vW,{})}):ge("li",{className:"navigation-action",children:[t!==cT&&D(wc,{className:"button button-small",onClick:s,to:cT,children:"Sign Up"}),t!==yf&&D(wc,{className:"button button-small button-muted margin-left-s",onClick:s,to:yf,children:"Sign In"})]})]})]})},Nwe=()=>D("div",{className:"preloader",children:ge("svg",{className:"logo-symbol",viewBox:"0 0 41.25 41.25",children:[D("circle",{cx:"20.62",cy:"20.62",r:"20.62"}),D("circle",{className:"fill-white",cx:"29.97",cy:"14.93",r:"6.58"})]})}),WG=({isLoading:e})=>{const t=Lo();return ge("div",{className:"auth-provider",children:[ge("button",{className:"button auth-provider-button provider-facebook",disabled:e,onClick:()=>{t(fMe())},type:"button",children:[D(TLe,{}),"Continue with Facebook"]}),ge("button",{className:"button auth-provider-button provider-google",disabled:e,onClick:()=>{t(hMe())},type:"button",children:[D(PLe,{}),"Continue with Google"]}),ge("button",{className:"button auth-provider-button provider-github",disabled:e,onClick:()=>{t(dMe())},type:"button",children:[D(xLe,{}),"Continue with GitHub"]})]})};WG.propTypes={isLoading:ie.exports.bool.isRequired};function Ua(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ehe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),D9=function(){return Math.random().toString(36).substring(7).split("").join(".")},_4={INIT:"@@redux/INIT"+D9(),REPLACE:"@@redux/REPLACE"+D9(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D9()}};function NVe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function GG(e,t,r){var i;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ua(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ua(1));return r(GG)(e,t)}if(typeof e!="function")throw new Error(Ua(2));var s=e,u=t,d=[],v=d,g=!1;function w(){v===d&&(v=d.slice())}function S(){if(g)throw new Error(Ua(3));return u}function C(U){if(typeof U!="function")throw new Error(Ua(4));if(g)throw new Error(Ua(5));var R=!0;return w(),v.push(U),function(){if(!!R){if(g)throw new Error(Ua(6));R=!1,w();var B=v.indexOf(U);v.splice(B,1),d=null}}}function A(U){if(!NVe(U))throw new Error(Ua(7));if(typeof U.type>"u")throw new Error(Ua(8));if(g)throw new Error(Ua(9));try{g=!0,u=s(u,U)}finally{g=!1}for(var R=d=v,$=0;$<R.length;$++){var B=R[$];B()}return U}function L(U){if(typeof U!="function")throw new Error(Ua(10));s=U,A({type:_4.REPLACE})}function M(){var U,R=C;return U={subscribe:function(B){if(typeof B!="object"||B===null)throw new Error(Ua(11));function G(){B.next&&B.next(S())}G();var H=R(G);return{unsubscribe:H}}},U[Ehe]=function(){return this},U}return A({type:_4.INIT}),i={dispatch:A,subscribe:C,getState:S,replaceReducer:L},i[Ehe]=M,i}function PVe(e){Object.keys(e).forEach(function(t){var r=e[t],i=r(void 0,{type:_4.INIT});if(typeof i>"u")throw new Error(Ua(12));if(typeof r(void 0,{type:_4.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ua(13))})}function RVe(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++){var s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}var u=Object.keys(r),d;try{PVe(r)}catch(v){d=v}return function(g,w){if(g===void 0&&(g={}),d)throw d;for(var S=!1,C={},A=0;A<u.length;A++){var L=u[A],M=r[L],U=g[L],R=M(U,w);if(typeof R>"u")throw w&&w.type,new Error(Ua(14));C[L]=R,S=S||R!==U}return S=S||u.length!==Object.keys(g).length,S?C:g}}function QG(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(i){return i}:t.length===1?t[0]:t.reduce(function(i,s){return function(){return i(s.apply(void 0,arguments))}})}function DVe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return function(){var s=i.apply(void 0,arguments),u=function(){throw new Error(Ua(15))},d={getState:s.getState,dispatch:function(){return u.apply(void 0,arguments)}},v=t.map(function(g){return g(d)});return u=QG.apply(void 0,v)(s.dispatch),mn(mn({},s),{},{dispatch:u})}}}var YG="persist:",Pwe="persist/FLUSH",XG="persist/REHYDRATE",Rwe="persist/PAUSE",Dwe="persist/PERSIST",Lwe="persist/PURGE",Mwe="persist/REGISTER",LVe=-1;function ZF(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ZF=function(r){return typeof r}:ZF=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ZF(e)}function She(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function MVe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?She(r,!0).forEach(function(i){FVe(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):She(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function FVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jVe(e,t,r,i){i.debug;var s=MVe({},r);return e&&ZF(e)==="object"&&Object.keys(e).forEach(function(u){u!=="_persist"&&t[u]===r[u]&&(s[u]=e[u])}),s}function UVe(e){var t=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],s=e.throttle||0,u="".concat(e.keyPrefix!==void 0?e.keyPrefix:YG).concat(e.key),d=e.storage,v;e.serialize===!1?v=function(Z){return Z}:typeof e.serialize=="function"?v=e.serialize:v=$Ve;var g=e.writeFailHandler||null,w={},S={},C=[],A=null,L=null,M=function(Z){Object.keys(Z).forEach(function(Y){!$(Y)||w[Y]!==Z[Y]&&C.indexOf(Y)===-1&&C.push(Y)}),Object.keys(w).forEach(function(Y){Z[Y]===void 0&&$(Y)&&C.indexOf(Y)===-1&&w[Y]!==void 0&&C.push(Y)}),A===null&&(A=setInterval(U,s)),w=Z};function U(){if(C.length===0){A&&clearInterval(A),A=null;return}var H=C.shift(),Z=i.reduce(function(Y,ce){return ce.in(Y,H,w)},w[H]);if(Z!==void 0)try{S[H]=v(Z)}catch(Y){console.error("redux-persist/createPersistoid: error serializing state",Y)}else delete S[H];C.length===0&&R()}function R(){Object.keys(S).forEach(function(H){w[H]===void 0&&delete S[H]}),L=d.setItem(u,v(S)).catch(B)}function $(H){return!(r&&r.indexOf(H)===-1&&H!=="_persist"||t&&t.indexOf(H)!==-1)}function B(H){g&&g(H)}var G=function(){for(;C.length!==0;)U();return L||Promise.resolve()};return{update:M,flush:G}}function $Ve(e){return JSON.stringify(e)}function VVe(e){var t=e.transforms||[],r="".concat(e.keyPrefix!==void 0?e.keyPrefix:YG).concat(e.key),i=e.storage;e.debug;var s;return e.deserialize===!1?s=function(d){return d}:typeof e.deserialize=="function"?s=e.deserialize:s=qVe,i.getItem(r).then(function(u){if(u)try{var d={},v=s(u);return Object.keys(v).forEach(function(g){d[g]=t.reduceRight(function(w,S){return S.out(w,g,v)},s(v[g]))}),d}catch(g){throw g}else return})}function qVe(e){return JSON.parse(e)}function BVe(e){var t=e.storage,r="".concat(e.keyPrefix!==void 0?e.keyPrefix:YG).concat(e.key);return t.removeItem(r,HVe)}function HVe(e){}function The(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?The(r,!0).forEach(function(i){zVe(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):The(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function zVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KVe(e,t){if(e==null)return{};var r=WVe(e,t),i,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(s=0;s<u.length;s++)i=u[s],!(t.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(r[i]=e[i]))}return r}function WVe(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,u;for(u=0;u<i.length;u++)s=i[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}var GVe=5e3;function QVe(e,t){var r=e.version!==void 0?e.version:LVe;e.debug;var i=e.stateReconciler===void 0?jVe:e.stateReconciler,s=e.getStoredState||VVe,u=e.timeout!==void 0?e.timeout:GVe,d=null,v=!1,g=!0,w=function(C){return C._persist.rehydrated&&d&&!g&&d.update(C),C};return function(S,C){var A=S||{},L=A._persist,M=KVe(A,["_persist"]),U=M;if(C.type===Dwe){var R=!1,$=function(ye,xe){R||(C.rehydrate(e.key,ye,xe),R=!0)};if(u&&setTimeout(function(){!R&&$(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},u),g=!1,d||(d=UVe(e)),L)return Ov({},t(U,C),{_persist:L});if(typeof C.rehydrate!="function"||typeof C.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return C.register(e.key),s(e).then(function(ce){var ye=e.migrate||function(xe,re){return Promise.resolve(xe)};ye(ce,r).then(function(xe){$(xe)},function(xe){$(void 0,xe)})},function(ce){$(void 0,ce)}),Ov({},t(U,C),{_persist:{version:r,rehydrated:!1}})}else{if(C.type===Lwe)return v=!0,C.result(BVe(e)),Ov({},t(U,C),{_persist:L});if(C.type===Pwe)return C.result(d&&d.flush()),Ov({},t(U,C),{_persist:L});if(C.type===Rwe)g=!0;else if(C.type===XG){if(v)return Ov({},U,{_persist:Ov({},L,{rehydrated:!0})});if(C.key===e.key){var B=t(U,C),G=C.payload,H=i!==!1&&G!==void 0?i(G,S,B,e):B,Z=Ov({},H,{_persist:Ov({},L,{rehydrated:!0})});return w(Z)}}}if(!L)return t(S,C);var Y=t(U,C);return Y===U?S:w(Ov({},Y,{_persist:L}))}}function GO(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?GO=function(r){return typeof r}:GO=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},GO(e)}function Ihe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Che(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ihe(r,!0).forEach(function(i){YVe(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ihe(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function YVe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XVe(e,t,r,i){i.debug;var s=Che({},r);return e&&GO(e)==="object"&&Object.keys(e).forEach(function(u){if(u!=="_persist"&&t[u]===r[u]){if(JVe(r[u])){s[u]=Che({},s[u],{},e[u]);return}s[u]=e[u]}}),s}function JVe(e){return e!==null&&!Array.isArray(e)&&GO(e)==="object"}function ZVe(e,t){return e.stateReconciler=e.stateReconciler===void 0?XVe:e.stateReconciler,QVe(e,RVe(t))}function khe(e){return n5e(e)||t5e(e)||e5e()}function e5e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function t5e(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function n5e(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function Ahe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function qz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ahe(r,!0).forEach(function(i){r5e(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ahe(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function r5e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fwe={registry:[],bootstrapped:!1},i5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fwe,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Mwe:return qz({},t,{registry:[].concat(khe(t.registry),[r.key])});case XG:var i=t.registry.indexOf(r.key),s=khe(t.registry);return s.splice(i,1),qz({},t,{registry:s,bootstrapped:s.length===0});default:return t}};function o5e(e,t,r){var i=r||!1,s=GG(i5e,Fwe,t&&t.enhancer?t.enhancer:void 0),u=function(w){s.dispatch({type:Mwe,key:w})},d=function(w,S,C){var A={type:XG,payload:S,err:C,key:w};e.dispatch(A),s.dispatch(A),i&&v.getState().bootstrapped&&(i(),i=!1)},v=qz({},s,{purge:function(){var w=[];return e.dispatch({type:Lwe,result:function(C){w.push(C)}}),Promise.all(w)},flush:function(){var w=[];return e.dispatch({type:Pwe,result:function(C){w.push(C)}}),Promise.all(w)},pause:function(){e.dispatch({type:Rwe})},persist:function(){e.dispatch({type:Dwe,register:u,rehydrate:d})}});return t&&t.manualPersist||v.persist(),v}var JG={},ZG={};ZG.__esModule=!0;ZG.default=u5e;function e3(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e3=function(r){return typeof r}:e3=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e3(e)}function L9(){}var s5e={getItem:L9,setItem:L9,removeItem:L9};function a5e(e){if((typeof self>"u"?"undefined":e3(self))!=="object"||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch{return!1}return!0}function u5e(e){var t="".concat(e,"Storage");return a5e(t)?self[t]:s5e}JG.__esModule=!0;JG.default=h5e;var c5e=l5e(ZG);function l5e(e){return e&&e.__esModule?e:{default:e}}function h5e(e){var t=(0,c5e.default)(e);return{getItem:function(i){return new Promise(function(s,u){s(t.getItem(i))})},setItem:function(i,s){return new Promise(function(u,d){u(t.setItem(i,s))})},removeItem:function(i){return new Promise(function(s,u){s(t.removeItem(i))})}}}var jwe=void 0,f5e=d5e(JG);function d5e(e){return e&&e.__esModule?e:{default:e}}var p5e=(0,f5e.default)("local");jwe=p5e;var Nf=function(t){return"@@redux-saga/"+t},v5e=Nf("CANCEL_PROMISE"),Uwe=Nf("CHANNEL_END"),$we=Nf("IO"),xhe=Nf("MATCH"),Vwe=Nf("MULTICAST"),qwe=Nf("SAGA_ACTION"),Bwe=Nf("SELF_CANCELLATION"),m5e=Nf("TASK"),ET=Nf("TASK_CANCEL"),Hwe=Nf("TERMINATE"),g5e=Nf("LOCATION"),zwe=function(t){return t==null},Kwe=function(t){return t!=null},Tc=function(t){return typeof t=="function"},eQ=function(t){return typeof t=="string"},Ry=Array.isArray,iU=function(t){return t&&Tc(t.then)},tQ=function(t){return t&&Tc(t.next)&&Tc(t.throw)},Ohe=function e(t){return t&&(eQ(t)||Gwe(t)||Tc(t)||Ry(t)&&t.every(e))},nQ=function(t){return t&&Tc(t.take)&&Tc(t.close)},Wwe=function(t){return Tc(t)&&t.hasOwnProperty("toString")},Gwe=function(t){return Boolean(t)&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype},y5e=function(t){return nQ(t)&&t[Vwe]},b5e=function(t){return function(){return t}},w5e=b5e(!0),Ou=function(){},Qwe=function(t){return t},rQ=function(t,r){En(t,r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(function(i){t[i]=r[i]})},_5e=function(t,r){var i;return(i=[]).concat.apply(i,r.map(t))};function oU(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}function E5e(e){var t=!1;return function(){t||(t=!0,e())}}var S5e=function(t){throw t},T5e=function(t){return{value:t,done:!0}};function Bz(e,t,r){t===void 0&&(t=S5e),r===void 0&&(r="iterator");var i={meta:{name:r},next:e,throw:t,return:T5e,isSagaIterator:!0};return typeof Symbol<"u"&&(i[Symbol.iterator]=function(){return i}),i}function I5e(e,t){var r=t.sagaStack;console.error(e),console.error(r)}var Ywe=function(t){return Array.apply(null,new Array(t))},C5e=function(t){return function(r){return t(Object.defineProperty(r,qwe,{value:!0}))}},Xwe=function(t){return t===Hwe},Jwe=function(t){return t===ET},Zwe=function(t){return Xwe(t)||Jwe(t)};function e_e(e,t){var r=Object.keys(e),i=r.length,s=0,u,d=Ry(e)?Ywe(i):{},v={};function g(){s===i&&(u=!0,t(d))}return r.forEach(function(w){var S=function(A,L){u||(L||Zwe(A)?(t.cancel(),t(A,L)):(d[w]=A,s++,g()))};S.cancel=Ou,v[w]=S}),t.cancel=function(){u||(u=!0,r.forEach(function(w){return v[w].cancel()}))},v}function iQ(e){return{name:e.name||"anonymous",location:t_e(e)}}function t_e(e){return e[g5e]}var k5e="Channel's Buffer overflow!",A5e=1,x5e=3,n_e=4;function O5e(e,t){e===void 0&&(e=10);var r=new Array(e),i=0,s=0,u=0,d=function(S){r[s]=S,s=(s+1)%e,i++},v=function(){if(i!=0){var S=r[u];return r[u]=null,i--,u=(u+1)%e,S}},g=function(){for(var S=[];i;)S.push(v());return S};return{isEmpty:function(){return i==0},put:function(S){if(i<e)d(S);else{var C;switch(t){case A5e:throw new Error(k5e);case x5e:r[s]=S,s=(s+1)%e,u=s;break;case n_e:C=2*e,r=g(),i=r.length,s=r.length,u=0,r.length=C,e=C,d(S);break}}},take:v,flush:g}}var N5e=function(t){return O5e(t,n_e)},t3="TAKE",r_e="PUT",i_e="ALL",P5e="RACE",o_e="CALL",R5e="CPS",s_e="FORK",D5e="JOIN",a_e="CANCEL",u_e="SELECT",L5e="ACTION_CHANNEL",M5e="CANCELLED",F5e="FLUSH",j5e="GET_CONTEXT",U5e="SET_CONTEXT",Bv=function(t,r){var i;return i={},i[$we]=!0,i.combinator=!1,i.type=t,i.payload=r,i};function $5e(e,t){if(e===void 0&&(e="*"),Ohe(e))return Bv(t3,{pattern:e});if(y5e(e)&&Kwe(t)&&Ohe(t))return Bv(t3,{channel:e,pattern:t});if(nQ(e))return Bv(t3,{channel:e})}function rn(e,t){return zwe(t)&&(t=e,e=void 0),Bv(r_e,{channel:e,action:t})}function Nhe(e){var t=Bv(i_e,e);return t.combinator=!0,t}function c_e(e,t){var r=null,i;return Tc(e)?i=e:(Ry(e)?(r=e[0],i=e[1]):(r=e.context,i=e.fn),r&&eQ(i)&&Tc(r[i])&&(i=r[i])),{context:r,fn:i,args:t}}function Zn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Bv(o_e,c_e(e,r))}function l_e(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Bv(s_e,c_e(e,r))}function V5e(e){return e===void 0&&(e=Bwe),Bv(a_e,e)}function Hz(e){e===void 0&&(e=Qwe);for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Bv(u_e,{selector:e,args:r})}function q5e(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}var h_e=[],sU=0;function B5e(e){try{oQ(),e()}finally{p_e()}}function f_e(e){h_e.push(e),sU||(oQ(),v_e())}function d_e(e){try{return oQ(),e()}finally{v_e()}}function oQ(){sU++}function p_e(){sU--}function v_e(){p_e();for(var e;!sU&&(e=h_e.shift())!==void 0;)B5e(e)}var H5e=function(t){return function(r){return t.some(function(i){return sQ(i)(r)})}},z5e=function(t){return function(r){return t(r)}},Phe=function(t){return function(r){return r.type===String(t)}},K5e=function(t){return function(r){return r.type===t}},m_e=function(){return w5e};function sQ(e){var t=e==="*"?m_e:eQ(e)?Phe:Ry(e)?H5e:Wwe(e)?Phe:Tc(e)?z5e:Gwe(e)?K5e:null;if(t===null)throw new Error("invalid pattern: "+e);return t(e)}var QO={type:Uwe},aQ=function(t){return t&&t.type===Uwe};function W5e(e){e===void 0&&(e=N5e());var t=!1,r=[];function i(v){if(!t){if(r.length===0)return e.put(v);var g=r.shift();g(v)}}function s(v){t&&e.isEmpty()?v(QO):e.isEmpty()?(r.push(v),v.cancel=function(){oU(r,v)}):v(e.take())}function u(v){if(t&&e.isEmpty()){v(QO);return}v(e.flush())}function d(){if(!t){t=!0;var v=r;r=[];for(var g=0,w=v.length;g<w;g++){var S=v[g];S(QO)}}}return{take:s,put:i,flush:u,close:d}}function G5e(){var e,t=!1,r=[],i=r,s=function(){i===r&&(i=r.slice())},u=function(){t=!0;var v=r=i;i=[],v.forEach(function(g){g(QO)})};return e={},e[Vwe]=!0,e.put=function(v){if(!t){if(aQ(v)){u();return}for(var g=r=i,w=0,S=g.length;w<S;w++){var C=g[w];C[xhe](v)&&(C.cancel(),C(v))}}},e.take=function(v,g){if(g===void 0&&(g=m_e),t){v(QO);return}v[xhe]=g,s(),i.push(v),v.cancel=E5e(function(){s(),oU(i,v)})},e.close=u,e}function g_e(){var e=G5e(),t=e.put;return e.put=function(r){if(r[qwe]){t(r);return}f_e(function(){t(r)})},e}var gw=0,Dv=1,n3=2,y_e=3;function uQ(e,t){var r=e[v5e];Tc(r)&&(t.cancel=r),e.then(t,function(i){t(i,!0)})}var qP=0,b_e=function(){return++qP},ra;function Q5e(e,t){return e.isSagaIterator?{name:e.meta.name}:iQ(t)}function Y5e(e){var t=e.context,r=e.fn,i=e.args;try{var s=r.apply(t,i);if(tQ(s))return s;var u=!1,d=function(g){return u?{value:g,done:!0}:(u=!0,{value:s,done:!iU(s)})};return Bz(d)}catch(v){return Bz(function(){throw v})}}function X5e(e,t,r){var i=t.channel,s=t.action,u=t.resolve;f_e(function(){var d;try{d=(i?i.put:e.dispatch)(s)}catch(v){r(v,!0);return}u&&iU(d)?uQ(d,r):r(d)})}function J5e(e,t,r){var i=t.channel,s=i===void 0?e.channel:i,u=t.pattern,d=t.maybe,v=function(w){if(w instanceof Error){r(w,!0);return}if(aQ(w)&&!d){r(Hwe);return}r(w)};try{s.take(v,Kwe(u)?sQ(u):null)}catch(g){r(g,!0);return}r.cancel=v.cancel}function Z5e(e,t,r,i){var s=t.context,u=t.fn,d=t.args,v=i.task;try{var g=u.apply(s,d);if(iU(g)){uQ(g,r);return}if(tQ(g)){aU(e,g,v.context,qP,iQ(u),!1,r);return}r(g)}catch(w){r(w,!0)}}function eqe(e,t,r){var i=t.context,s=t.fn,u=t.args;try{var d=function(g,w){zwe(g)?r(w):r(g,!0)};s.apply(i,u.concat(d)),d.cancel&&(r.cancel=d.cancel)}catch(v){r(v,!0)}}function tqe(e,t,r,i){var s=t.context,u=t.fn,d=t.args,v=t.detached,g=i.task,w=Y5e({context:s,fn:u,args:d}),S=Q5e(w,u);d_e(function(){var C=aU(e,w,g.context,qP,S,v,void 0);v?r(C):C.isRunning()?(g.queue.addTask(C),r(C)):C.isAborted()?g.queue.abort(C.error()):r(C)})}function nqe(e,t,r,i){var s=i.task,u=function(g,w){if(g.isRunning()){var S={task:s,cb:w};w.cancel=function(){g.isRunning()&&oU(g.joiners,S)},g.joiners.push(S)}else g.isAborted()?w(g.error(),!0):w(g.result())};if(Ry(t)){if(t.length===0){r([]);return}var d=e_e(t,r);t.forEach(function(v,g){u(v,d[g])})}else u(t,r)}function M9(e){e.isRunning()&&e.cancel()}function rqe(e,t,r,i){var s=i.task;t===Bwe?M9(s):Ry(t)?t.forEach(M9):M9(t),r()}function iqe(e,t,r,i){var s=i.digestEffect,u=qP,d=Object.keys(t);if(d.length===0){r(Ry(t)?[]:{});return}var v=e_e(t,r);d.forEach(function(g){s(t[g],u,v[g],g)})}function oqe(e,t,r,i){var s=i.digestEffect,u=qP,d=Object.keys(t),v=Ry(t)?Ywe(d.length):{},g={},w=!1;d.forEach(function(S){var C=function(L,M){w||(M||Zwe(L)?(r.cancel(),r(L,M)):(r.cancel(),w=!0,v[S]=L,r(v)))};C.cancel=Ou,g[S]=C}),r.cancel=function(){w||(w=!0,d.forEach(function(S){return g[S].cancel()}))},d.forEach(function(S){w||s(t[S],u,g[S],S)})}function sqe(e,t,r){var i=t.selector,s=t.args;try{var u=i.apply(void 0,[e.getState()].concat(s));r(u)}catch(d){r(d,!0)}}function aqe(e,t,r){var i=t.pattern,s=t.buffer,u=W5e(s),d=sQ(i),v=function w(S){aQ(S)||e.channel.take(w,d),u.put(S)},g=u.close;u.close=function(){v.cancel(),g()},e.channel.take(v,d),r(u)}function uqe(e,t,r,i){var s=i.task;r(s.isCancelled())}function cqe(e,t,r){t.flush(r)}function lqe(e,t,r,i){var s=i.task;r(s.context[t])}function hqe(e,t,r,i){var s=i.task;rQ(s.context,t),r()}var fqe=(ra={},ra[t3]=J5e,ra[r_e]=X5e,ra[i_e]=iqe,ra[P5e]=oqe,ra[o_e]=Z5e,ra[R5e]=eqe,ra[s_e]=tqe,ra[D5e]=nqe,ra[a_e]=rqe,ra[u_e]=sqe,ra[L5e]=aqe,ra[M5e]=uqe,ra[F5e]=cqe,ra[j5e]=lqe,ra[U5e]=hqe,ra);function dqe(e,t,r){var i=[],s,u=!1;g(e);var d=function(){return i};function v(S){t(),w(),r(S,!0)}function g(S){i.push(S),S.cont=function(C,A){u||(oU(i,S),S.cont=Ou,A?v(C):(S===e&&(s=C),i.length||(u=!0,r(s))))}}function w(){u||(u=!0,i.forEach(function(S){S.cont=Ou,S.cancel()}),i=[])}return{addTask:g,cancelAll:w,abort:v,getTasks:d}}function w_e(e,t){return e+"?"+t}function pqe(e){var t=t_e(e);if(t){var r=t.code,i=t.fileName,s=t.lineNumber,u=r+"  "+w_e(i,s);return u}return""}function Rhe(e){var t=e.name,r=e.location;return r?t+"  "+w_e(r.fileName,r.lineNumber):t}function vqe(e){var t=_5e(function(r){return r.cancelledTasks},e);return t.length?["Tasks cancelled due to error:"].concat(t).join(`
`):""}var cQ=null,YO=[],mqe=function(t){t.crashedEffect=cQ,YO.push(t)},__e=function(){cQ=null,YO.length=0},gqe=function(t){cQ=t},yqe=function(){var t=YO[0],r=YO.slice(1),i=t.crashedEffect?pqe(t.crashedEffect):null,s="The above error occurred in task "+Rhe(t.meta)+(i?` 
 when executing effect `+i:"");return[s].concat(r.map(function(u){return"    created by "+Rhe(u.meta)}),[vqe(YO)]).join(`
`)};function bqe(e,t,r,i,s,u,d){var v;d===void 0&&(d=Ou);var g=gw,w,S,C=null,A=[],L=Object.create(r),M=dqe(t,function(){A.push.apply(A,M.getTasks().map(function(Z){return Z.meta.name}))},R);function U(){g===gw&&(g=Dv,M.cancelAll(),R(ET,!1))}function R(H,Z){if(!Z)H===ET?g=Dv:g!==Dv&&(g=y_e),w=H,C&&C.resolve(H);else{if(g=n3,mqe({meta:s,cancelledTasks:A}),G.isRoot){var Y=yqe();__e(),e.onError(H,{sagaStack:Y})}S=H,C&&C.reject(H)}G.cont(H,Z),G.joiners.forEach(function(ce){ce.cb(H,Z)}),G.joiners=null}function $(H){rQ(L,H)}function B(){return C||(C=q5e(),g===n3?C.reject(S):g!==gw&&C.resolve(w)),C.promise}var G=(v={},v[m5e]=!0,v.id=i,v.meta=s,v.isRoot=u,v.context=L,v.joiners=[],v.queue=M,v.cancel=U,v.cont=d,v.end=R,v.setContext=$,v.toPromise=B,v.isRunning=function(){return g===gw},v.isCancelled=function(){return g===Dv||g===gw&&t.status===Dv},v.isAborted=function(){return g===n3},v.result=function(){return w},v.error=function(){return S},v);return G}function aU(e,t,r,i,s,u,d){var v=e.finalizeRunEffect(L);A.cancel=Ou;var g={meta:s,cancel:C,status:gw},w=bqe(e,g,r,i,s,u,d),S={task:w,digestEffect:M};function C(){g.status===gw&&(g.status=Dv,A(ET))}return d&&(d.cancel=w.cancel),A(),w;function A(U,R){try{var $;R?($=t.throw(U),__e()):Jwe(U)?(g.status=Dv,A.cancel(),$=Tc(t.return)?t.return(ET):{done:!0,value:ET}):Xwe(U)?$=Tc(t.return)?t.return():{done:!0}:$=t.next(U),$.done?(g.status!==Dv&&(g.status=y_e),g.cont($.value)):M($.value,i,A)}catch(B){if(g.status===Dv)throw B;g.status=n3,g.cont(B,!0)}}function L(U,R,$){if(iU(U))uQ(U,$);else if(tQ(U))aU(e,U,w.context,R,s,!1,$);else if(U&&U[$we]){var B=fqe[U.type];B(e,U.payload,$,S)}else $(U)}function M(U,R,$,B){B===void 0&&(B="");var G=b_e();e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:G,parentEffectId:R,label:B,effect:U});var H;function Z(Y,ce){H||(H=!0,$.cancel=Ou,e.sagaMonitor&&(ce?e.sagaMonitor.effectRejected(G,Y):e.sagaMonitor.effectResolved(G,Y)),ce&&gqe(U),$(Y,ce))}Z.cancel=Ou,$.cancel=function(){H||(H=!0,Z.cancel(),Z.cancel=Ou,e.sagaMonitor&&e.sagaMonitor.effectCancelled(G))},v(U,G,Z)}}function wqe(e,t){for(var r=e.channel,i=r===void 0?g_e():r,s=e.dispatch,u=e.getState,d=e.context,v=d===void 0?{}:d,g=e.sagaMonitor,w=e.effectMiddlewares,S=e.onError,C=S===void 0?I5e:S,A=arguments.length,L=new Array(A>2?A-2:0),M=2;M<A;M++)L[M-2]=arguments[M];var U=t.apply(void 0,L),R=b_e();g&&(g.rootSagaStarted=g.rootSagaStarted||Ou,g.effectTriggered=g.effectTriggered||Ou,g.effectResolved=g.effectResolved||Ou,g.effectRejected=g.effectRejected||Ou,g.effectCancelled=g.effectCancelled||Ou,g.actionDispatched=g.actionDispatched||Ou,g.rootSagaStarted({effectId:R,saga:t,args:L}));var $;if(w){var B=QG.apply(void 0,w);$=function(Z){return function(Y,ce,ye){var xe=function(ut){return Z(ut,ce,ye)};return B(xe)(Y)}}}else $=Qwe;var G={channel:i,dispatch:C5e(s),getState:u,sagaMonitor:g,onError:C,finalizeRunEffect:$};return d_e(function(){var H=aU(G,U,v,R,iQ(t),!0,void 0);return g&&g.effectResolved(R,H),H})}function _qe(e){var t=e===void 0?{}:e,r=t.context,i=r===void 0?{}:r,s=t.channel,u=s===void 0?g_e():s,d=t.sagaMonitor,v=Sf(t,["context","channel","sagaMonitor"]),g;function w(S){var C=S.getState,A=S.dispatch;return g=wqe.bind(null,En({},v,{context:i,channel:u,dispatch:A,getState:C,sagaMonitor:d})),function(L){return function(M){d&&d.actionDispatched&&d.actionDispatched(M);var U=L(M);return u.put(M),U}}}return w.run=function(){return g.apply(void 0,arguments)},w.setContext=function(S){rQ(i,S)},w}const Eqe=null,Sqe=(e=Eqe,t)=>{switch(t.type){case Ege:return{id:t.payload.id,role:t.payload.role,provider:t.payload.provider};case Sge:return null;default:return e}},Tqe=(e=[],t)=>{switch(t.type){case pge:return t.payload;case vge:return e.some(r=>r.id===t.payload.id)?e:[t.payload,...e];case mge:return e.filter(r=>r.id!==t.payload);case gge:return[];case yge:return e.map(r=>r.id===t.payload?{...r,quantity:r.quantity+1}:r);case bge:return e.map(r=>r.id===t.payload?{...r,quantity:r.quantity-1}:r);default:return e}},Dhe={shipping:{},payment:{type:"paypal",name:"",cardnumber:"",expiry:"",ccv:""}},Iqe=(e=Dhe,t)=>{switch(t.type){case wge:return{...e,shipping:t.payload};case tMe:return{...e,payment:t.payload};case _ge:return Dhe;default:return e}},Lhe={recent:[],keyword:"",brand:"",minPrice:0,maxPrice:0,sortBy:""},Cqe=(e=Lhe,t)=>{switch(t.type){case rMe:return{...e,recent:!!e.recent.find(r=>r===t.payload)||t.payload===""?e.recent:[t.payload,...e.recent],keyword:t.payload};case iMe:return{...e,brand:t.payload};case sMe:return{...e,maxPrice:t.payload};case oMe:return{...e,minPrice:t.payload};case Oge:return Lhe;case Pge:return{...e,recent:[]};case Rge:return{...e,recent:e.recent.filter(r=>r!==t.payload)};case Nge:return{...e,...t.payload};default:return e}},kqe={loading:!1,isAuthenticating:!1,authStatus:null,requestStatus:null,theme:"light"},Aqe=(e=kqe,t)=>{switch(t.type){case Dge:return{...e,loading:t.payload};case Lge:return{...e,isAuthenticating:t.payload};case Mge:return{...e,requestStatus:t.payload};case Tge:return{...e,authStatus:t.payload};default:return e}},Mhe={lastRefKey:null,total:0,items:[]},xqe=(e={lastRefKey:null,total:0,items:[],searchedProducts:Mhe},t)=>{switch(t.type){case cge:return{...e,lastRefKey:t.payload.lastKey,total:t.payload.total,items:[...e.items,...t.payload.products]};case lge:return{...e,items:[...e.items,t.payload]};case uge:return{...e,searchedProducts:{lastRefKey:t.payload.lastKey,total:t.payload.total,items:[...e.searchedProducts.items,...t.payload.products]}};case dge:return{...e,searchedProducts:Mhe};case hge:return{...e,items:e.items.filter(r=>r.id!==t.payload)};case fge:return{...e,items:e.items.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};default:return e}},Oqe=(e={},t)=>{switch(t.type){case kge:return t.payload;case Age:return{...e,...t.payload};case xge:return{};default:return e}},Nqe=(e={},t)=>{switch(t.type){case aMe:return[...e,t.payload];case cMe:return e.map(r=>r.id===t.payload.id?{...r,...t.payload}:r);case uMe:return e.filter(r=>r.id!==t.payload);default:return e}},Pqe={products:xqe,basket:Tqe,auth:Sqe,profile:Oqe,filter:Cqe,users:Nqe,checkout:Iqe,app:Aqe};var Fhe=function(t){return{done:!0,value:t}},F9={};function Rqe(e){return nQ(e)?"channel":Wwe(e)?String(e):Tc(e)?e.name:String(e)}function Dqe(e,t,r){var i,s,u,d=t;function v(g,w){if(d===F9)return Fhe(g);if(w&&!s)throw d=F9,w;i&&i(g);var S=w?e[s](w):e[d]();return d=S.nextState,u=S.effect,i=S.stateUpdater,s=S.errorState,d===F9?Fhe(g):u}return Bz(v,function(g){return v(null,g)},r)}function Lqe(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var u={done:!1,value:$5e(e)},d=function(L){return{done:!1,value:l_e.apply(void 0,[t].concat(i,[L]))}},v=function(L){return{done:!1,value:V5e(L)}},g,w,S=function(L){return g=L},C=function(L){return w=L};return Dqe({q1:function(){return{nextState:"q2",effect:u,stateUpdater:C}},q2:function(){return g?{nextState:"q3",effect:v(g)}:{nextState:"q1",effect:d(w),stateUpdater:S}},q3:function(){return{nextState:"q1",effect:d(w),stateUpdater:S}}},"q1","takeLatest("+Rqe(e)+", "+t.name+")")}function j9(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return l_e.apply(void 0,[Lqe,e,t].concat(i))}const jhe="/assets/defaultAvatar.6d69d324.jpg",Uhe="/assets/defaultBanner.2759a645.jpg",Mqe=e=>({type:wge,payload:e}),Fqe=()=>({type:_ge}),fl=(e=!0)=>({type:Dge,payload:e}),ty=(e=!0)=>({type:Lge,payload:e}),$N=e=>({type:Mge,payload:e}),mf=(e=null)=>({type:Tge,payload:e}),$he=()=>({type:xge}),U9=e=>({type:kge,payload:e}),jqe=e=>({type:pW,payload:{updates:e.updates,files:e.files,credentials:e.credentials}}),Vhe=e=>({type:Age,payload:e});var qhe=Array.isArray,Bhe=Object.keys,Uqe=Object.prototype.hasOwnProperty,$qe=typeof Element<"u";function zz(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r=qhe(e),i=qhe(t),s,u,d;if(r&&i){if(u=e.length,u!=t.length)return!1;for(s=u;s--!==0;)if(!zz(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var v=e instanceof Date,g=t instanceof Date;if(v!=g)return!1;if(v&&g)return e.getTime()==t.getTime();var w=e instanceof RegExp,S=t instanceof RegExp;if(w!=S)return!1;if(w&&S)return e.toString()==t.toString();var C=Bhe(e);if(u=C.length,u!==Bhe(t).length)return!1;for(s=u;s--!==0;)if(!Uqe.call(t,C[s]))return!1;if($qe&&e instanceof Element&&t instanceof Element)return e===t;for(s=u;s--!==0;)if(d=C[s],!(d==="_owner"&&e.$$typeof)&&!zz(e[d],t[d]))return!1;return!0}return e!==e&&t!==t}var Vg=function(t,r){try{return zz(t,r)}catch(i){if(i.message&&i.message.match(/stack|recursion/i)||i.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",i.name,i.message),!1;throw i}},Vqe=function(t){return qqe(t)&&!Bqe(t)};function qqe(e){return!!e&&typeof e=="object"}function Bqe(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Kqe(e)}var Hqe=typeof Symbol=="function"&&Symbol.for,zqe=Hqe?Symbol.for("react.element"):60103;function Kqe(e){return e.$$typeof===zqe}function Wqe(e){return Array.isArray(e)?[]:{}}function E4(e,t){return t.clone!==!1&&t.isMergeableObject(e)?VN(Wqe(e),e,t):e}function Gqe(e,t,r){return e.concat(t).map(function(i){return E4(i,r)})}function Qqe(e,t,r){var i={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(s){i[s]=E4(e[s],r)}),Object.keys(t).forEach(function(s){!r.isMergeableObject(t[s])||!e[s]?i[s]=E4(t[s],r):i[s]=VN(e[s],t[s],r)}),i}function VN(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||Gqe,r.isMergeableObject=r.isMergeableObject||Vqe;var i=Array.isArray(t),s=Array.isArray(e),u=i===s;return u?i?r.arrayMerge(e,t,r):Qqe(e,t,r):E4(t,r)}VN.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,s){return VN(i,s,r)},{})};var Kz=VN,Yqe=typeof global=="object"&&global&&global.Object===Object&&global;const E_e=Yqe;var Xqe=typeof self=="object"&&self&&self.Object===Object&&self,Jqe=E_e||Xqe||Function("return this")();const ap=Jqe;var Zqe=ap.Symbol;const Ey=Zqe;var S_e=Object.prototype,eBe=S_e.hasOwnProperty,tBe=S_e.toString,rO=Ey?Ey.toStringTag:void 0;function nBe(e){var t=eBe.call(e,rO),r=e[rO];try{e[rO]=void 0;var i=!0}catch{}var s=tBe.call(e);return i&&(t?e[rO]=r:delete e[rO]),s}var rBe=Object.prototype,iBe=rBe.toString;function oBe(e){return iBe.call(e)}var sBe="[object Null]",aBe="[object Undefined]",Hhe=Ey?Ey.toStringTag:void 0;function d_(e){return e==null?e===void 0?aBe:sBe:Hhe&&Hhe in Object(e)?nBe(e):oBe(e)}function T_e(e,t){return function(r){return e(t(r))}}var uBe=T_e(Object.getPrototypeOf,Object);const lQ=uBe;function p_(e){return e!=null&&typeof e=="object"}var cBe="[object Object]",lBe=Function.prototype,hBe=Object.prototype,I_e=lBe.toString,fBe=hBe.hasOwnProperty,dBe=I_e.call(Object);function zhe(e){if(!p_(e)||d_(e)!=cBe)return!1;var t=lQ(e);if(t===null)return!0;var r=fBe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&I_e.call(r)==dBe}function pBe(){this.__data__=[],this.size=0}function C_e(e,t){return e===t||e!==e&&t!==t}function uU(e,t){for(var r=e.length;r--;)if(C_e(e[r][0],t))return r;return-1}var vBe=Array.prototype,mBe=vBe.splice;function gBe(e){var t=this.__data__,r=uU(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():mBe.call(t,r,1),--this.size,!0}function yBe(e){var t=this.__data__,r=uU(t,e);return r<0?void 0:t[r][1]}function bBe(e){return uU(this.__data__,e)>-1}function wBe(e,t){var r=this.__data__,i=uU(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}function Xv(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Xv.prototype.clear=pBe;Xv.prototype.delete=gBe;Xv.prototype.get=yBe;Xv.prototype.has=bBe;Xv.prototype.set=wBe;function _Be(){this.__data__=new Xv,this.size=0}function EBe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function SBe(e){return this.__data__.get(e)}function TBe(e){return this.__data__.has(e)}function BP(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var IBe="[object AsyncFunction]",CBe="[object Function]",kBe="[object GeneratorFunction]",ABe="[object Proxy]";function k_e(e){if(!BP(e))return!1;var t=d_(e);return t==CBe||t==kBe||t==IBe||t==ABe}var xBe=ap["__core-js_shared__"];const $9=xBe;var Khe=function(){var e=/[^.]+$/.exec($9&&$9.keys&&$9.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function OBe(e){return!!Khe&&Khe in e}var NBe=Function.prototype,PBe=NBe.toString;function v_(e){if(e!=null){try{return PBe.call(e)}catch{}try{return e+""}catch{}}return""}var RBe=/[\\^$.*+?()[\]{}|]/g,DBe=/^\[object .+?Constructor\]$/,LBe=Function.prototype,MBe=Object.prototype,FBe=LBe.toString,jBe=MBe.hasOwnProperty,UBe=RegExp("^"+FBe.call(jBe).replace(RBe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $Be(e){if(!BP(e)||OBe(e))return!1;var t=k_e(e)?UBe:DBe;return t.test(v_(e))}function VBe(e,t){return e==null?void 0:e[t]}function m_(e,t){var r=VBe(e,t);return $Be(r)?r:void 0}var qBe=m_(ap,"Map");const qN=qBe;var BBe=m_(Object,"create");const BN=BBe;function HBe(){this.__data__=BN?BN(null):{},this.size=0}function zBe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var KBe="__lodash_hash_undefined__",WBe=Object.prototype,GBe=WBe.hasOwnProperty;function QBe(e){var t=this.__data__;if(BN){var r=t[e];return r===KBe?void 0:r}return GBe.call(t,e)?t[e]:void 0}var YBe=Object.prototype,XBe=YBe.hasOwnProperty;function JBe(e){var t=this.__data__;return BN?t[e]!==void 0:XBe.call(t,e)}var ZBe="__lodash_hash_undefined__";function e8e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=BN&&t===void 0?ZBe:t,this}function Ww(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Ww.prototype.clear=HBe;Ww.prototype.delete=zBe;Ww.prototype.get=QBe;Ww.prototype.has=JBe;Ww.prototype.set=e8e;function t8e(){this.size=0,this.__data__={hash:new Ww,map:new(qN||Xv),string:new Ww}}function n8e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function cU(e,t){var r=e.__data__;return n8e(t)?r[typeof t=="string"?"string":"hash"]:r.map}function r8e(e){var t=cU(this,e).delete(e);return this.size-=t?1:0,t}function i8e(e){return cU(this,e).get(e)}function o8e(e){return cU(this,e).has(e)}function s8e(e,t){var r=cU(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}function Dy(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}Dy.prototype.clear=t8e;Dy.prototype.delete=r8e;Dy.prototype.get=i8e;Dy.prototype.has=o8e;Dy.prototype.set=s8e;var a8e=200;function u8e(e,t){var r=this.__data__;if(r instanceof Xv){var i=r.__data__;if(!qN||i.length<a8e-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new Dy(i)}return r.set(e,t),this.size=r.size,this}function _I(e){var t=this.__data__=new Xv(e);this.size=t.size}_I.prototype.clear=_Be;_I.prototype.delete=EBe;_I.prototype.get=SBe;_I.prototype.has=TBe;_I.prototype.set=u8e;function c8e(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var l8e=function(){try{var e=m_(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Whe=l8e;function A_e(e,t,r){t=="__proto__"&&Whe?Whe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var h8e=Object.prototype,f8e=h8e.hasOwnProperty;function x_e(e,t,r){var i=e[t];(!(f8e.call(e,t)&&C_e(i,r))||r===void 0&&!(t in e))&&A_e(e,t,r)}function lU(e,t,r,i){var s=!r;r||(r={});for(var u=-1,d=t.length;++u<d;){var v=t[u],g=i?i(r[v],e[v],v,r,e):void 0;g===void 0&&(g=e[v]),s?A_e(r,v,g):x_e(r,v,g)}return r}function d8e(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var p8e="[object Arguments]";function Ghe(e){return p_(e)&&d_(e)==p8e}var O_e=Object.prototype,v8e=O_e.hasOwnProperty,m8e=O_e.propertyIsEnumerable,g8e=Ghe(function(){return arguments}())?Ghe:function(e){return p_(e)&&v8e.call(e,"callee")&&!m8e.call(e,"callee")};const y8e=g8e;var b8e=Array.isArray;const HP=b8e;function w8e(){return!1}var N_e=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qhe=N_e&&typeof module=="object"&&module&&!module.nodeType&&module,_8e=Qhe&&Qhe.exports===N_e,Yhe=_8e?ap.Buffer:void 0,E8e=Yhe?Yhe.isBuffer:void 0,S8e=E8e||w8e;const P_e=S8e;var T8e=9007199254740991,I8e=/^(?:0|[1-9]\d*)$/;function C8e(e,t){var r=typeof e;return t=t==null?T8e:t,!!t&&(r=="number"||r!="symbol"&&I8e.test(e))&&e>-1&&e%1==0&&e<t}var k8e=9007199254740991;function R_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=k8e}var A8e="[object Arguments]",x8e="[object Array]",O8e="[object Boolean]",N8e="[object Date]",P8e="[object Error]",R8e="[object Function]",D8e="[object Map]",L8e="[object Number]",M8e="[object Object]",F8e="[object RegExp]",j8e="[object Set]",U8e="[object String]",$8e="[object WeakMap]",V8e="[object ArrayBuffer]",q8e="[object DataView]",B8e="[object Float32Array]",H8e="[object Float64Array]",z8e="[object Int8Array]",K8e="[object Int16Array]",W8e="[object Int32Array]",G8e="[object Uint8Array]",Q8e="[object Uint8ClampedArray]",Y8e="[object Uint16Array]",X8e="[object Uint32Array]",di={};di[B8e]=di[H8e]=di[z8e]=di[K8e]=di[W8e]=di[G8e]=di[Q8e]=di[Y8e]=di[X8e]=!0;di[A8e]=di[x8e]=di[V8e]=di[O8e]=di[q8e]=di[N8e]=di[P8e]=di[R8e]=di[D8e]=di[L8e]=di[M8e]=di[F8e]=di[j8e]=di[U8e]=di[$8e]=!1;function J8e(e){return p_(e)&&R_e(e.length)&&!!di[d_(e)]}function hQ(e){return function(t){return e(t)}}var D_e=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XO=D_e&&typeof module=="object"&&module&&!module.nodeType&&module,Z8e=XO&&XO.exports===D_e,V9=Z8e&&E_e.process,e9e=function(){try{var e=XO&&XO.require&&XO.require("util").types;return e||V9&&V9.binding&&V9.binding("util")}catch{}}();const XT=e9e;var Xhe=XT&&XT.isTypedArray,t9e=Xhe?hQ(Xhe):J8e;const n9e=t9e;var r9e=Object.prototype,i9e=r9e.hasOwnProperty;function L_e(e,t){var r=HP(e),i=!r&&y8e(e),s=!r&&!i&&P_e(e),u=!r&&!i&&!s&&n9e(e),d=r||i||s||u,v=d?d8e(e.length,String):[],g=v.length;for(var w in e)(t||i9e.call(e,w))&&!(d&&(w=="length"||s&&(w=="offset"||w=="parent")||u&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||C8e(w,g)))&&v.push(w);return v}var o9e=Object.prototype;function fQ(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||o9e;return e===r}var s9e=T_e(Object.keys,Object);const a9e=s9e;var u9e=Object.prototype,c9e=u9e.hasOwnProperty;function l9e(e){if(!fQ(e))return a9e(e);var t=[];for(var r in Object(e))c9e.call(e,r)&&r!="constructor"&&t.push(r);return t}function M_e(e){return e!=null&&R_e(e.length)&&!k_e(e)}function dQ(e){return M_e(e)?L_e(e):l9e(e)}function h9e(e,t){return e&&lU(t,dQ(t),e)}function f9e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var d9e=Object.prototype,p9e=d9e.hasOwnProperty;function v9e(e){if(!BP(e))return f9e(e);var t=fQ(e),r=[];for(var i in e)i=="constructor"&&(t||!p9e.call(e,i))||r.push(i);return r}function pQ(e){return M_e(e)?L_e(e,!0):v9e(e)}function m9e(e,t){return e&&lU(t,pQ(t),e)}var F_e=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jhe=F_e&&typeof module=="object"&&module&&!module.nodeType&&module,g9e=Jhe&&Jhe.exports===F_e,Zhe=g9e?ap.Buffer:void 0,efe=Zhe?Zhe.allocUnsafe:void 0;function y9e(e,t){if(t)return e.slice();var r=e.length,i=efe?efe(r):new e.constructor(r);return e.copy(i),i}function j_e(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}function b9e(e,t){for(var r=-1,i=e==null?0:e.length,s=0,u=[];++r<i;){var d=e[r];t(d,r,e)&&(u[s++]=d)}return u}function U_e(){return[]}var w9e=Object.prototype,_9e=w9e.propertyIsEnumerable,tfe=Object.getOwnPropertySymbols,E9e=tfe?function(e){return e==null?[]:(e=Object(e),b9e(tfe(e),function(t){return _9e.call(e,t)}))}:U_e;const vQ=E9e;function S9e(e,t){return lU(e,vQ(e),t)}function $_e(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}var T9e=Object.getOwnPropertySymbols,I9e=T9e?function(e){for(var t=[];e;)$_e(t,vQ(e)),e=lQ(e);return t}:U_e;const V_e=I9e;function C9e(e,t){return lU(e,V_e(e),t)}function q_e(e,t,r){var i=t(e);return HP(e)?i:$_e(i,r(e))}function k9e(e){return q_e(e,dQ,vQ)}function A9e(e){return q_e(e,pQ,V_e)}var x9e=m_(ap,"DataView");const Wz=x9e;var O9e=m_(ap,"Promise");const Gz=O9e;var N9e=m_(ap,"Set");const Qz=N9e;var P9e=m_(ap,"WeakMap");const Yz=P9e;var nfe="[object Map]",R9e="[object Object]",rfe="[object Promise]",ife="[object Set]",ofe="[object WeakMap]",sfe="[object DataView]",D9e=v_(Wz),L9e=v_(qN),M9e=v_(Gz),F9e=v_(Qz),j9e=v_(Yz),fw=d_;(Wz&&fw(new Wz(new ArrayBuffer(1)))!=sfe||qN&&fw(new qN)!=nfe||Gz&&fw(Gz.resolve())!=rfe||Qz&&fw(new Qz)!=ife||Yz&&fw(new Yz)!=ofe)&&(fw=function(e){var t=d_(e),r=t==R9e?e.constructor:void 0,i=r?v_(r):"";if(i)switch(i){case D9e:return sfe;case L9e:return nfe;case M9e:return rfe;case F9e:return ife;case j9e:return ofe}return t});const mQ=fw;var U9e=Object.prototype,$9e=U9e.hasOwnProperty;function V9e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&$9e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var q9e=ap.Uint8Array;const afe=q9e;function gQ(e){var t=new e.constructor(e.byteLength);return new afe(t).set(new afe(e)),t}function B9e(e,t){var r=t?gQ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var H9e=/\w*$/;function z9e(e){var t=new e.constructor(e.source,H9e.exec(e));return t.lastIndex=e.lastIndex,t}var ufe=Ey?Ey.prototype:void 0,cfe=ufe?ufe.valueOf:void 0;function K9e(e){return cfe?Object(cfe.call(e)):{}}function W9e(e,t){var r=t?gQ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var G9e="[object Boolean]",Q9e="[object Date]",Y9e="[object Map]",X9e="[object Number]",J9e="[object RegExp]",Z9e="[object Set]",eHe="[object String]",tHe="[object Symbol]",nHe="[object ArrayBuffer]",rHe="[object DataView]",iHe="[object Float32Array]",oHe="[object Float64Array]",sHe="[object Int8Array]",aHe="[object Int16Array]",uHe="[object Int32Array]",cHe="[object Uint8Array]",lHe="[object Uint8ClampedArray]",hHe="[object Uint16Array]",fHe="[object Uint32Array]";function dHe(e,t,r){var i=e.constructor;switch(t){case nHe:return gQ(e);case G9e:case Q9e:return new i(+e);case rHe:return B9e(e,r);case iHe:case oHe:case sHe:case aHe:case uHe:case cHe:case lHe:case hHe:case fHe:return W9e(e,r);case Y9e:return new i;case X9e:case eHe:return new i(e);case J9e:return z9e(e);case Z9e:return new i;case tHe:return K9e(e)}}var lfe=Object.create,pHe=function(){function e(){}return function(t){if(!BP(t))return{};if(lfe)return lfe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const vHe=pHe;function mHe(e){return typeof e.constructor=="function"&&!fQ(e)?vHe(lQ(e)):{}}var gHe="[object Map]";function yHe(e){return p_(e)&&mQ(e)==gHe}var hfe=XT&&XT.isMap,bHe=hfe?hQ(hfe):yHe;const wHe=bHe;var _He="[object Set]";function EHe(e){return p_(e)&&mQ(e)==_He}var ffe=XT&&XT.isSet,SHe=ffe?hQ(ffe):EHe;const THe=SHe;var IHe=1,CHe=2,kHe=4,B_e="[object Arguments]",AHe="[object Array]",xHe="[object Boolean]",OHe="[object Date]",NHe="[object Error]",H_e="[object Function]",PHe="[object GeneratorFunction]",RHe="[object Map]",DHe="[object Number]",z_e="[object Object]",LHe="[object RegExp]",MHe="[object Set]",FHe="[object String]",jHe="[object Symbol]",UHe="[object WeakMap]",$He="[object ArrayBuffer]",VHe="[object DataView]",qHe="[object Float32Array]",BHe="[object Float64Array]",HHe="[object Int8Array]",zHe="[object Int16Array]",KHe="[object Int32Array]",WHe="[object Uint8Array]",GHe="[object Uint8ClampedArray]",QHe="[object Uint16Array]",YHe="[object Uint32Array]",ni={};ni[B_e]=ni[AHe]=ni[$He]=ni[VHe]=ni[xHe]=ni[OHe]=ni[qHe]=ni[BHe]=ni[HHe]=ni[zHe]=ni[KHe]=ni[RHe]=ni[DHe]=ni[z_e]=ni[LHe]=ni[MHe]=ni[FHe]=ni[jHe]=ni[WHe]=ni[GHe]=ni[QHe]=ni[YHe]=!0;ni[NHe]=ni[H_e]=ni[UHe]=!1;function JO(e,t,r,i,s,u){var d,v=t&IHe,g=t&CHe,w=t&kHe;if(r&&(d=s?r(e,i,s,u):r(e)),d!==void 0)return d;if(!BP(e))return e;var S=HP(e);if(S){if(d=V9e(e),!v)return j_e(e,d)}else{var C=mQ(e),A=C==H_e||C==PHe;if(P_e(e))return y9e(e,v);if(C==z_e||C==B_e||A&&!s){if(d=g||A?{}:mHe(e),!v)return g?C9e(e,m9e(d,e)):S9e(e,h9e(d,e))}else{if(!ni[C])return s?e:{};d=dHe(e,C,v)}}u||(u=new _I);var L=u.get(e);if(L)return L;u.set(e,d),THe(e)?e.forEach(function(R){d.add(JO(R,t,r,R,e,u))}):wHe(e)&&e.forEach(function(R,$){d.set($,JO(R,t,r,$,e,u))});var M=w?g?A9e:k9e:g?pQ:dQ,U=S?void 0:M(e);return c8e(U||e,function(R,$){U&&($=R,R=e[$]),x_e(d,$,JO(R,t,r,$,e,u))}),d}var XHe=4;function dfe(e){return JO(e,XHe)}function K_e(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}var JHe="[object Symbol]";function yQ(e){return typeof e=="symbol"||p_(e)&&d_(e)==JHe}var ZHe="Expected a function";function bQ(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZHe);var r=function(){var i=arguments,s=t?t.apply(this,i):i[0],u=r.cache;if(u.has(s))return u.get(s);var d=e.apply(this,i);return r.cache=u.set(s,d)||u,d};return r.cache=new(bQ.Cache||Dy),r}bQ.Cache=Dy;var eze=500;function tze(e){var t=bQ(e,function(i){return r.size===eze&&r.clear(),i}),r=t.cache;return t}var nze=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rze=/\\(\\)?/g,ize=tze(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nze,function(r,i,s,u){t.push(s?u.replace(rze,"$1"):i||r)}),t});const oze=ize;var sze=1/0;function aze(e){if(typeof e=="string"||yQ(e))return e;var t=e+"";return t=="0"&&1/e==-sze?"-0":t}var uze=1/0,pfe=Ey?Ey.prototype:void 0,vfe=pfe?pfe.toString:void 0;function W_e(e){if(typeof e=="string")return e;if(HP(e))return K_e(e,W_e)+"";if(yQ(e))return vfe?vfe.call(e):"";var t=e+"";return t=="0"&&1/e==-uze?"-0":t}function cze(e){return e==null?"":W_e(e)}function G_e(e){return HP(e)?K_e(e,aze):yQ(e)?[e]:j_e(oze(cze(e)))}var lze=1,hze=4;function fze(e){return JO(e,lze|hze)}function Hr(){return Hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Hr.apply(this,arguments)}function dze(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Aw(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,u;for(u=0;u<i.length;u++)s=i[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function mfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gfe=function(t){return Array.isArray(t)&&t.length===0},hc=function(t){return typeof t=="function"},zP=function(t){return t!==null&&typeof t=="object"},pze=function(t){return String(Math.floor(Number(t)))===t},q9=function(t){return Object.prototype.toString.call(t)==="[object String]"},Q_e=function(t){return se.exports.Children.count(t)===0},B9=function(t){return zP(t)&&hc(t.then)};function oa(e,t,r,i){i===void 0&&(i=0);for(var s=G_e(t);e&&i<s.length;)e=e[s[i++]];return e===void 0?r:e}function ep(e,t,r){for(var i=dfe(e),s=i,u=0,d=G_e(t);u<d.length-1;u++){var v=d[u],g=oa(e,d.slice(0,u+1));if(g&&(zP(g)||Array.isArray(g)))s=s[v]=dfe(g);else{var w=d[u+1];s=s[v]=pze(w)&&Number(w)>=0?[]:{}}}return(u===0?e:s)[d[u]]===r?e:(r===void 0?delete s[d[u]]:s[d[u]]=r,u===0&&r===void 0&&delete i[d[u]],i)}function Y_e(e,t,r,i){r===void 0&&(r=new WeakMap),i===void 0&&(i={});for(var s=0,u=Object.keys(e);s<u.length;s++){var d=u[s],v=e[d];zP(v)?r.get(v)||(r.set(v,!0),i[d]=Array.isArray(v)?[]:{},Y_e(v,t,r,i[d])):i[d]=t}return i}var hU=se.exports.createContext(void 0);hU.displayName="FormikContext";var vze=hU.Provider,mze=hU.Consumer;function g_(){var e=se.exports.useContext(hU);return e||qK(!1),e}function gze(e,t){switch(t.type){case"SET_VALUES":return Hr({},e,{values:t.payload});case"SET_TOUCHED":return Hr({},e,{touched:t.payload});case"SET_ERRORS":return Vg(e.errors,t.payload)?e:Hr({},e,{errors:t.payload});case"SET_STATUS":return Hr({},e,{status:t.payload});case"SET_ISSUBMITTING":return Hr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Hr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Hr({},e,{values:ep(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Hr({},e,{touched:ep(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Hr({},e,{errors:ep(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Hr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Hr({},e,{touched:Y_e(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":return Hr({},e,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Hr({},e,{isSubmitting:!1});default:return e}}var rw={},wF={};function yze(e){var t=e.validateOnChange,r=t===void 0?!0:t,i=e.validateOnBlur,s=i===void 0?!0:i,u=e.validateOnMount,d=u===void 0?!1:u,v=e.isInitialValid,g=e.enableReinitialize,w=g===void 0?!1:g,S=e.onSubmit,C=Aw(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),A=Hr({validateOnChange:r,validateOnBlur:s,validateOnMount:d,onSubmit:S},C),L=se.exports.useRef(A.initialValues),M=se.exports.useRef(A.initialErrors||rw),U=se.exports.useRef(A.initialTouched||wF),R=se.exports.useRef(A.initialStatus),$=se.exports.useRef(!1),B=se.exports.useRef({});se.exports.useEffect(function(){return $.current=!0,function(){$.current=!1}},[]);var G=se.exports.useReducer(gze,{values:A.initialValues,errors:A.initialErrors||rw,touched:A.initialTouched||wF,status:A.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),H=G[0],Z=G[1],Y=se.exports.useCallback(function(we,Ze){return new Promise(function(ot,je){var Le=A.validate(we,Ze);Le==null?ot(rw):B9(Le)?Le.then(function(vt){ot(vt||rw)},function(vt){je(vt)}):ot(Le)})},[A.validate]),ce=se.exports.useCallback(function(we,Ze){var ot=A.validationSchema,je=hc(ot)?ot(Ze):ot,Le=Ze&&je.validateAt?je.validateAt(Ze,we):wze(we,je);return new Promise(function(vt,bt){Le.then(function(){vt(rw)},function(ft){ft.name==="ValidationError"?vt(bze(ft)):bt(ft)})})},[A.validationSchema]),ye=se.exports.useCallback(function(we,Ze){return new Promise(function(ot){return ot(B.current[we].validate(Ze))})},[]),xe=se.exports.useCallback(function(we){var Ze=Object.keys(B.current).filter(function(je){return hc(B.current[je].validate)}),ot=Ze.length>0?Ze.map(function(je){return ye(je,oa(we,je))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ot).then(function(je){return je.reduce(function(Le,vt,bt){return vt==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||vt&&(Le=ep(Le,Ze[bt],vt)),Le},{})})},[ye]),re=se.exports.useCallback(function(we){return Promise.all([xe(we),A.validationSchema?ce(we):{},A.validate?Y(we):{}]).then(function(Ze){var ot=Ze[0],je=Ze[1],Le=Ze[2],vt=Kz.all([ot,je,Le],{arrayMerge:_ze});return vt})},[A.validate,A.validationSchema,xe,Y,ce]),ut=ch(function(we){return we===void 0&&(we=H.values),Z({type:"SET_ISVALIDATING",payload:!0}),re(we).then(function(Ze){return $.current&&(Z({type:"SET_ISVALIDATING",payload:!1}),Z({type:"SET_ERRORS",payload:Ze})),Ze})});se.exports.useEffect(function(){d&&$.current===!0&&Vg(L.current,A.initialValues)&&ut(L.current)},[d,ut]);var it=se.exports.useCallback(function(we){var Ze=we&&we.values?we.values:L.current,ot=we&&we.errors?we.errors:M.current?M.current:A.initialErrors||{},je=we&&we.touched?we.touched:U.current?U.current:A.initialTouched||{},Le=we&&we.status?we.status:R.current?R.current:A.initialStatus;L.current=Ze,M.current=ot,U.current=je,R.current=Le;var vt=function(){Z({type:"RESET_FORM",payload:{isSubmitting:!!we&&!!we.isSubmitting,errors:ot,touched:je,status:Le,values:Ze,isValidating:!!we&&!!we.isValidating,submitCount:!!we&&!!we.submitCount&&typeof we.submitCount=="number"?we.submitCount:0}})};if(A.onReset){var bt=A.onReset(H.values,Vt);B9(bt)?bt.then(vt):vt()}else vt()},[A.initialErrors,A.initialStatus,A.initialTouched]);se.exports.useEffect(function(){$.current===!0&&!Vg(L.current,A.initialValues)&&(w&&(L.current=A.initialValues,it()),d&&ut(L.current))},[w,A.initialValues,it,d,ut]),se.exports.useEffect(function(){w&&$.current===!0&&!Vg(M.current,A.initialErrors)&&(M.current=A.initialErrors||rw,Z({type:"SET_ERRORS",payload:A.initialErrors||rw}))},[w,A.initialErrors]),se.exports.useEffect(function(){w&&$.current===!0&&!Vg(U.current,A.initialTouched)&&(U.current=A.initialTouched||wF,Z({type:"SET_TOUCHED",payload:A.initialTouched||wF}))},[w,A.initialTouched]),se.exports.useEffect(function(){w&&$.current===!0&&!Vg(R.current,A.initialStatus)&&(R.current=A.initialStatus,Z({type:"SET_STATUS",payload:A.initialStatus}))},[w,A.initialStatus,A.initialTouched]);var ht=ch(function(we){if(B.current[we]&&hc(B.current[we].validate)){var Ze=oa(H.values,we),ot=B.current[we].validate(Ze);return B9(ot)?(Z({type:"SET_ISVALIDATING",payload:!0}),ot.then(function(je){return je}).then(function(je){Z({type:"SET_FIELD_ERROR",payload:{field:we,value:je}}),Z({type:"SET_ISVALIDATING",payload:!1})})):(Z({type:"SET_FIELD_ERROR",payload:{field:we,value:ot}}),Promise.resolve(ot))}else if(A.validationSchema)return Z({type:"SET_ISVALIDATING",payload:!0}),ce(H.values,we).then(function(je){return je}).then(function(je){Z({type:"SET_FIELD_ERROR",payload:{field:we,value:je[we]}}),Z({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ie=se.exports.useCallback(function(we,Ze){var ot=Ze.validate;B.current[we]={validate:ot}},[]),Ne=se.exports.useCallback(function(we){delete B.current[we]},[]),Be=ch(function(we,Ze){Z({type:"SET_TOUCHED",payload:we});var ot=Ze===void 0?s:Ze;return ot?ut(H.values):Promise.resolve()}),_e=se.exports.useCallback(function(we){Z({type:"SET_ERRORS",payload:we})},[]),He=ch(function(we,Ze){var ot=hc(we)?we(H.values):we;Z({type:"SET_VALUES",payload:ot});var je=Ze===void 0?r:Ze;return je?ut(ot):Promise.resolve()}),ct=se.exports.useCallback(function(we,Ze){Z({type:"SET_FIELD_ERROR",payload:{field:we,value:Ze}})},[]),Pe=ch(function(we,Ze,ot){Z({type:"SET_FIELD_VALUE",payload:{field:we,value:Ze}});var je=ot===void 0?r:ot;return je?ut(ep(H.values,we,Ze)):Promise.resolve()}),he=se.exports.useCallback(function(we,Ze){var ot=Ze,je=we,Le;if(!q9(we)){we.persist&&we.persist();var vt=we.target?we.target:we.currentTarget,bt=vt.type,ft=vt.name,_n=vt.id,xr=vt.value,ur=vt.checked,yi=vt.outerHTML,te=vt.options,Ee=vt.multiple;ot=Ze||ft||_n,je=/number|range/.test(bt)?(Le=parseFloat(xr),isNaN(Le)?"":Le):/checkbox/.test(bt)?Sze(oa(H.values,ot),ur,xr):te&&Ee?Eze(te):xr}ot&&Pe(ot,je)},[Pe,H.values]),fe=ch(function(we){if(q9(we))return function(Ze){return he(Ze,we)};he(we)}),Se=ch(function(we,Ze,ot){Ze===void 0&&(Ze=!0),Z({type:"SET_FIELD_TOUCHED",payload:{field:we,value:Ze}});var je=ot===void 0?s:ot;return je?ut(H.values):Promise.resolve()}),Ae=se.exports.useCallback(function(we,Ze){we.persist&&we.persist();var ot=we.target,je=ot.name,Le=ot.id,vt=ot.outerHTML,bt=Ze||je||Le;Se(bt,!0)},[Se]),ee=ch(function(we){if(q9(we))return function(Ze){return Ae(Ze,we)};Ae(we)}),be=se.exports.useCallback(function(we){hc(we)?Z({type:"SET_FORMIK_STATE",payload:we}):Z({type:"SET_FORMIK_STATE",payload:function(){return we}})},[]),st=se.exports.useCallback(function(we){Z({type:"SET_STATUS",payload:we})},[]),Re=se.exports.useCallback(function(we){Z({type:"SET_ISSUBMITTING",payload:we})},[]),Pt=ch(function(){return Z({type:"SUBMIT_ATTEMPT"}),ut().then(function(we){var Ze=we instanceof Error,ot=!Ze&&Object.keys(we).length===0;if(ot){var je;try{if(je=At(),je===void 0)return}catch(Le){throw Le}return Promise.resolve(je).then(function(Le){return $.current&&Z({type:"SUBMIT_SUCCESS"}),Le}).catch(function(Le){if($.current)throw Z({type:"SUBMIT_FAILURE"}),Le})}else if($.current&&(Z({type:"SUBMIT_FAILURE"}),Ze))throw we})}),Nt=ch(function(we){we&&we.preventDefault&&hc(we.preventDefault)&&we.preventDefault(),we&&we.stopPropagation&&hc(we.stopPropagation)&&we.stopPropagation(),Pt().catch(function(Ze){console.warn("Warning: An unhandled error was caught from submitForm()",Ze)})}),Vt={resetForm:it,validateForm:ut,validateField:ht,setErrors:_e,setFieldError:ct,setFieldTouched:Se,setFieldValue:Pe,setStatus:st,setSubmitting:Re,setTouched:Be,setValues:He,setFormikState:be,submitForm:Pt},At=ch(function(){return S(H.values,Vt)}),Mt=ch(function(we){we&&we.preventDefault&&hc(we.preventDefault)&&we.preventDefault(),we&&we.stopPropagation&&hc(we.stopPropagation)&&we.stopPropagation(),it()}),zt=se.exports.useCallback(function(we){return{value:oa(H.values,we),error:oa(H.errors,we),touched:!!oa(H.touched,we),initialValue:oa(L.current,we),initialTouched:!!oa(U.current,we),initialError:oa(M.current,we)}},[H.errors,H.touched,H.values]),Te=se.exports.useCallback(function(we){return{setValue:function(ot,je){return Pe(we,ot,je)},setTouched:function(ot,je){return Se(we,ot,je)},setError:function(ot){return ct(we,ot)}}},[Pe,Se,ct]),qe=se.exports.useCallback(function(we){var Ze=zP(we),ot=Ze?we.name:we,je=oa(H.values,ot),Le={name:ot,value:je,onChange:fe,onBlur:ee};if(Ze){var vt=we.type,bt=we.value,ft=we.as,_n=we.multiple;vt==="checkbox"?bt===void 0?Le.checked=!!je:(Le.checked=!!(Array.isArray(je)&&~je.indexOf(bt)),Le.value=bt):vt==="radio"?(Le.checked=je===bt,Le.value=bt):ft==="select"&&_n&&(Le.value=Le.value||[],Le.multiple=!0)}return Le},[ee,fe,H.values]),rt=se.exports.useMemo(function(){return!Vg(L.current,H.values)},[L.current,H.values]),Fe=se.exports.useMemo(function(){return typeof v<"u"?rt?H.errors&&Object.keys(H.errors).length===0:v!==!1&&hc(v)?v(A):v:H.errors&&Object.keys(H.errors).length===0},[v,rt,H.errors,A]),Ot=Hr({},H,{initialValues:L.current,initialErrors:M.current,initialTouched:U.current,initialStatus:R.current,handleBlur:ee,handleChange:fe,handleReset:Mt,handleSubmit:Nt,resetForm:it,setErrors:_e,setFormikState:be,setFieldTouched:Se,setFieldValue:Pe,setFieldError:ct,setStatus:st,setSubmitting:Re,setTouched:Be,setValues:He,submitForm:Pt,validateForm:ut,validateField:ht,isValid:Fe,dirty:rt,unregisterField:Ne,registerField:Ie,getFieldProps:qe,getFieldMeta:zt,getFieldHelpers:Te,validateOnBlur:s,validateOnChange:r,validateOnMount:d});return Ot}function KP(e){var t=yze(e),r=e.component,i=e.children,s=e.render,u=e.innerRef;return se.exports.useImperativeHandle(u,function(){return t}),se.exports.createElement(vze,{value:t},r?se.exports.createElement(r,t):s?s(t):i?hc(i)?i(t):Q_e(i)?null:se.exports.Children.only(i):null)}function bze(e){var t={};if(e.inner){if(e.inner.length===0)return ep(t,e.path,e.message);for(var s=e.inner,r=Array.isArray(s),i=0,s=r?s:s[Symbol.iterator]();;){var u;if(r){if(i>=s.length)break;u=s[i++]}else{if(i=s.next(),i.done)break;u=i.value}var d=u;oa(t,d.path)||(t=ep(t,d.path,d.message))}}return t}function wze(e,t,r,i){r===void 0&&(r=!1),i===void 0&&(i={});var s=Xz(e);return t[r?"validateSync":"validate"](s,{abortEarly:!1,context:i})}function Xz(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=String(r);Array.isArray(e[i])===!0?t[i]=e[i].map(function(s){return Array.isArray(s)===!0||zhe(s)?Xz(s):s!==""?s:void 0}):zhe(e[i])?t[i]=Xz(e[i]):t[i]=e[i]!==""?e[i]:void 0}return t}function _ze(e,t,r){var i=e.slice();return t.forEach(function(u,d){if(typeof i[d]>"u"){var v=r.clone!==!1,g=v&&r.isMergeableObject(u);i[d]=g?Kz(Array.isArray(u)?[]:{},u,r):u}else r.isMergeableObject(u)?i[d]=Kz(e[d],u,r):e.indexOf(u)===-1&&i.push(u)}),i}function Eze(e){return Array.from(e).filter(function(t){return t.selected}).map(function(t){return t.value})}function Sze(e,t,r){if(typeof e=="boolean")return Boolean(t);var i=[],s=!1,u=-1;if(Array.isArray(e))i=e,u=e.indexOf(r),s=u>=0;else if(!r||r=="true"||r=="false")return Boolean(t);return t&&r&&!s?i.concat(r):s?i.slice(0,u).concat(i.slice(u+1)):i}var Tze=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?se.exports.useLayoutEffect:se.exports.useEffect;function ch(e){var t=se.exports.useRef(e);return Tze(function(){t.current=e}),se.exports.useCallback(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.current.apply(void 0,i)},[])}function X_e(e){var t=g_(),r=t.getFieldProps,i=t.getFieldMeta,s=t.getFieldHelpers,u=t.registerField,d=t.unregisterField,v=zP(e),g=v?e:{name:e},w=g.name,S=g.validate;return se.exports.useEffect(function(){return w&&u(w,{validate:S}),function(){w&&d(w)}},[u,d,w,S]),w||qK(!1),[r(g),i(w),s(w)]}function Du(e){var t=e.validate,r=e.name,i=e.render,s=e.children,u=e.as,d=e.component,v=Aw(e,["validate","name","render","children","as","component"]),g=g_(),w=Aw(g,["validate","validationSchema"]),S=w.registerField,C=w.unregisterField;se.exports.useEffect(function(){return S(r,{validate:t}),function(){C(r)}},[S,C,r,t]);var A=w.getFieldProps(Hr({name:r},v)),L=w.getFieldMeta(r),M={field:A,form:w};if(i)return i(Hr({},M,{meta:L}));if(hc(s))return s(Hr({},M,{meta:L}));if(d){if(typeof d=="string"){var U=v.innerRef,R=Aw(v,["innerRef"]);return se.exports.createElement(d,Hr({ref:U},A,R),s)}return se.exports.createElement(d,Hr({field:A,form:w},v),s)}var $=u||"input";if(typeof $=="string"){var B=v.innerRef,G=Aw(v,["innerRef"]);return se.exports.createElement($,Hr({ref:B},A,G),s)}return se.exports.createElement($,Hr({},A,v),s)}var WP=se.exports.forwardRef(function(e,t){var r=e.action,i=Aw(e,["action"]),s=r!=null?r:"#",u=g_(),d=u.handleReset,v=u.handleSubmit;return se.exports.createElement("form",Object.assign({onSubmit:v,ref:t,onReset:d,action:s},i))});WP.displayName="Form";function Ize(e){var t=function(s){return se.exports.createElement(mze,null,function(u){return u||qK(!1),se.exports.createElement(e,Object.assign({},s,{formik:u}))})},r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+r+")",v3(t,e)}var Cze=function(t,r,i){var s=JT(t),u=s[r];return s.splice(r,1),s.splice(i,0,u),s},kze=function(t,r,i){var s=JT(t),u=s[r];return s[r]=s[i],s[i]=u,s},H9=function(t,r,i){var s=JT(t);return s.splice(r,0,i),s},Aze=function(t,r,i){var s=JT(t);return s[r]=i,s},JT=function(t){if(t){if(Array.isArray(t))return[].concat(t);var r=Object.keys(t).map(function(i){return parseInt(i)}).reduce(function(i,s){return s>i?s:i},0);return Array.from(Hr({},t,{length:r+1}))}else return[]},J_e=function(e){dze(t,e);function t(i){var s;return s=e.call(this,i)||this,s.updateArrayField=function(u,d,v){var g=s.props,w=g.name,S=g.formik.setFormikState;S(function(C){var A=typeof v=="function"?v:u,L=typeof d=="function"?d:u,M=ep(C.values,w,u(oa(C.values,w))),U=v?A(oa(C.errors,w)):void 0,R=d?L(oa(C.touched,w)):void 0;return gfe(U)&&(U=void 0),gfe(R)&&(R=void 0),Hr({},C,{values:M,errors:v?ep(C.errors,w,U):C.errors,touched:d?ep(C.touched,w,R):C.touched})})},s.push=function(u){return s.updateArrayField(function(d){return[].concat(JT(d),[fze(u)])},!1,!1)},s.handlePush=function(u){return function(){return s.push(u)}},s.swap=function(u,d){return s.updateArrayField(function(v){return kze(v,u,d)},!0,!0)},s.handleSwap=function(u,d){return function(){return s.swap(u,d)}},s.move=function(u,d){return s.updateArrayField(function(v){return Cze(v,u,d)},!0,!0)},s.handleMove=function(u,d){return function(){return s.move(u,d)}},s.insert=function(u,d){return s.updateArrayField(function(v){return H9(v,u,d)},function(v){return H9(v,u,null)},function(v){return H9(v,u,null)})},s.handleInsert=function(u,d){return function(){return s.insert(u,d)}},s.replace=function(u,d){return s.updateArrayField(function(v){return Aze(v,u,d)},!1,!1)},s.handleReplace=function(u,d){return function(){return s.replace(u,d)}},s.unshift=function(u){var d=-1;return s.updateArrayField(function(v){var g=v?[u].concat(v):[u];return d<0&&(d=g.length),g},function(v){var g=v?[null].concat(v):[null];return d<0&&(d=g.length),g},function(v){var g=v?[null].concat(v):[null];return d<0&&(d=g.length),g}),d},s.handleUnshift=function(u){return function(){return s.unshift(u)}},s.handleRemove=function(u){return function(){return s.remove(u)}},s.handlePop=function(){return function(){return s.pop()}},s.remove=s.remove.bind(mfe(s)),s.pop=s.pop.bind(mfe(s)),s}var r=t.prototype;return r.componentDidUpdate=function(s){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Vg(oa(s.formik.values,s.name),oa(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(s){var u;return this.updateArrayField(function(d){var v=d?JT(d):[];return u||(u=v[s]),hc(v.splice)&&v.splice(s,1),v},!0,!0),u},r.pop=function(){var s;return this.updateArrayField(function(u){var d=u;return s||(s=d&&d.pop&&d.pop()),d},!0,!0),s},r.render=function(){var s={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},u=this.props,d=u.component,v=u.render,g=u.children,w=u.name,S=u.formik,C=Aw(S,["validate","validationSchema"]),A=Hr({},s,{form:C,name:w});return d?se.exports.createElement(d,A):v?v(A):g?typeof g=="function"?g(A):Q_e(g)?null:se.exports.Children.only(g):null},t}(se.exports.Component);J_e.defaultProps={validateOnChange:!0};var xze=Ize(J_e),Jz;try{Jz=Map}catch{}var Zz;try{Zz=Set}catch{}function Z_e(e,t,r){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(e7);if(Jz&&e instanceof Jz)return new Map(Array.from(e.entries()));if(Zz&&e instanceof Zz)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var i=Object.create(e);r.push(i);for(var s in e){var u=t.findIndex(function(d){return d===e[s]});i[s]=u>-1?r[u]:Z_e(e[s],t,r)}return i}return e}function e7(e){return Z_e(e,[],[])}const Oze=Object.prototype.toString,Nze=Error.prototype.toString,Pze=RegExp.prototype.toString,Rze=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Dze=/^Symbol\((.*)\)(.*)$/;function Lze(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function yfe(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const r=typeof e;if(r==="number")return Lze(e);if(r==="string")return t?`"${e}"`:e;if(r==="function")return"[Function "+(e.name||"anonymous")+"]";if(r==="symbol")return Rze.call(e).replace(Dze,"Symbol($1)");const i=Oze.call(e).slice(8,-1);return i==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):i==="Error"||e instanceof Error?"["+Nze.call(e)+"]":i==="RegExp"?Pze.call(e):null}function ZT(e,t){let r=yfe(e,t);return r!==null?r:JSON.stringify(e,function(i,s){let u=yfe(this[i],t);return u!==null?u:s},2)}let dw={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:i})=>{let s=i!=null&&i!==r,u=`${e} must be a \`${t}\` type, but the final value was: \`${ZT(r,!0)}\``+(s?` (cast from the value \`${ZT(i,!0)}\`).`:".");return r===null&&(u+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),u},defined:"${path} must be defined"},hf={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Mg={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},t7={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},n7={isValue:"${path} field must be ${value}"},r7={noUnknown:"${path} field has unspecified keys: ${unknown}"},r3={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:dw,string:hf,number:Mg,date:t7,object:r7,array:r3,boolean:n7});var Mze=Object.prototype,Fze=Mze.hasOwnProperty;function jze(e,t){return e!=null&&Fze.call(e,t)}var Uze=jze,$ze=Array.isArray,Ly=$ze,Vze=typeof $r=="object"&&$r&&$r.Object===Object&&$r,e1e=Vze,qze=e1e,Bze=typeof self=="object"&&self&&self.Object===Object&&self,Hze=qze||Bze||Function("return this")(),Jv=Hze,zze=Jv,Kze=zze.Symbol,fU=Kze,bfe=fU,t1e=Object.prototype,Wze=t1e.hasOwnProperty,Gze=t1e.toString,iO=bfe?bfe.toStringTag:void 0;function Qze(e){var t=Wze.call(e,iO),r=e[iO];try{e[iO]=void 0;var i=!0}catch{}var s=Gze.call(e);return i&&(t?e[iO]=r:delete e[iO]),s}var Yze=Qze,Xze=Object.prototype,Jze=Xze.toString;function Zze(e){return Jze.call(e)}var e7e=Zze,wfe=fU,t7e=Yze,n7e=e7e,r7e="[object Null]",i7e="[object Undefined]",_fe=wfe?wfe.toStringTag:void 0;function o7e(e){return e==null?e===void 0?i7e:r7e:_fe&&_fe in Object(e)?t7e(e):n7e(e)}var GP=o7e;function s7e(e){return e!=null&&typeof e=="object"}var QP=s7e,a7e=GP,u7e=QP,c7e="[object Symbol]";function l7e(e){return typeof e=="symbol"||u7e(e)&&a7e(e)==c7e}var wQ=l7e,h7e=Ly,f7e=wQ,d7e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p7e=/^\w*$/;function v7e(e,t){if(h7e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||f7e(e)?!0:p7e.test(e)||!d7e.test(e)||t!=null&&e in Object(t)}var _Q=v7e;function m7e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var EQ=m7e,g7e=GP,y7e=EQ,b7e="[object AsyncFunction]",w7e="[object Function]",_7e="[object GeneratorFunction]",E7e="[object Proxy]";function S7e(e){if(!y7e(e))return!1;var t=g7e(e);return t==w7e||t==_7e||t==b7e||t==E7e}var n1e=S7e,T7e=Jv,I7e=T7e["__core-js_shared__"],C7e=I7e,z9=C7e,Efe=function(){var e=/[^.]+$/.exec(z9&&z9.keys&&z9.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function k7e(e){return!!Efe&&Efe in e}var A7e=k7e,x7e=Function.prototype,O7e=x7e.toString;function N7e(e){if(e!=null){try{return O7e.call(e)}catch{}try{return e+""}catch{}}return""}var r1e=N7e,P7e=n1e,R7e=A7e,D7e=EQ,L7e=r1e,M7e=/[\\^$.*+?()[\]{}|]/g,F7e=/^\[object .+?Constructor\]$/,j7e=Function.prototype,U7e=Object.prototype,$7e=j7e.toString,V7e=U7e.hasOwnProperty,q7e=RegExp("^"+$7e.call(V7e).replace(M7e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B7e(e){if(!D7e(e)||R7e(e))return!1;var t=P7e(e)?q7e:F7e;return t.test(L7e(e))}var H7e=B7e;function z7e(e,t){return e==null?void 0:e[t]}var K7e=z7e,W7e=H7e,G7e=K7e;function Q7e(e,t){var r=G7e(e,t);return W7e(r)?r:void 0}var y_=Q7e,Y7e=y_,X7e=Y7e(Object,"create"),dU=X7e,Sfe=dU;function J7e(){this.__data__=Sfe?Sfe(null):{},this.size=0}var Z7e=J7e;function eKe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tKe=eKe,nKe=dU,rKe="__lodash_hash_undefined__",iKe=Object.prototype,oKe=iKe.hasOwnProperty;function sKe(e){var t=this.__data__;if(nKe){var r=t[e];return r===rKe?void 0:r}return oKe.call(t,e)?t[e]:void 0}var aKe=sKe,uKe=dU,cKe=Object.prototype,lKe=cKe.hasOwnProperty;function hKe(e){var t=this.__data__;return uKe?t[e]!==void 0:lKe.call(t,e)}var fKe=hKe,dKe=dU,pKe="__lodash_hash_undefined__";function vKe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=dKe&&t===void 0?pKe:t,this}var mKe=vKe,gKe=Z7e,yKe=tKe,bKe=aKe,wKe=fKe,_Ke=mKe;function EI(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}EI.prototype.clear=gKe;EI.prototype.delete=yKe;EI.prototype.get=bKe;EI.prototype.has=wKe;EI.prototype.set=_Ke;var EKe=EI;function SKe(){this.__data__=[],this.size=0}var TKe=SKe;function IKe(e,t){return e===t||e!==e&&t!==t}var i1e=IKe,CKe=i1e;function kKe(e,t){for(var r=e.length;r--;)if(CKe(e[r][0],t))return r;return-1}var pU=kKe,AKe=pU,xKe=Array.prototype,OKe=xKe.splice;function NKe(e){var t=this.__data__,r=AKe(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():OKe.call(t,r,1),--this.size,!0}var PKe=NKe,RKe=pU;function DKe(e){var t=this.__data__,r=RKe(t,e);return r<0?void 0:t[r][1]}var LKe=DKe,MKe=pU;function FKe(e){return MKe(this.__data__,e)>-1}var jKe=FKe,UKe=pU;function $Ke(e,t){var r=this.__data__,i=UKe(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var VKe=$Ke,qKe=TKe,BKe=PKe,HKe=LKe,zKe=jKe,KKe=VKe;function SI(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}SI.prototype.clear=qKe;SI.prototype.delete=BKe;SI.prototype.get=HKe;SI.prototype.has=zKe;SI.prototype.set=KKe;var vU=SI,WKe=y_,GKe=Jv,QKe=WKe(GKe,"Map"),SQ=QKe,Tfe=EKe,YKe=vU,XKe=SQ;function JKe(){this.size=0,this.__data__={hash:new Tfe,map:new(XKe||YKe),string:new Tfe}}var ZKe=JKe;function eWe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var tWe=eWe,nWe=tWe;function rWe(e,t){var r=e.__data__;return nWe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var mU=rWe,iWe=mU;function oWe(e){var t=iWe(this,e).delete(e);return this.size-=t?1:0,t}var sWe=oWe,aWe=mU;function uWe(e){return aWe(this,e).get(e)}var cWe=uWe,lWe=mU;function hWe(e){return lWe(this,e).has(e)}var fWe=hWe,dWe=mU;function pWe(e,t){var r=dWe(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var vWe=pWe,mWe=ZKe,gWe=sWe,yWe=cWe,bWe=fWe,wWe=vWe;function TI(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}TI.prototype.clear=mWe;TI.prototype.delete=gWe;TI.prototype.get=yWe;TI.prototype.has=bWe;TI.prototype.set=wWe;var TQ=TI,o1e=TQ,_We="Expected a function";function IQ(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_We);var r=function(){var i=arguments,s=t?t.apply(this,i):i[0],u=r.cache;if(u.has(s))return u.get(s);var d=e.apply(this,i);return r.cache=u.set(s,d)||u,d};return r.cache=new(IQ.Cache||o1e),r}IQ.Cache=o1e;var EWe=IQ,SWe=EWe,TWe=500;function IWe(e){var t=SWe(e,function(i){return r.size===TWe&&r.clear(),i}),r=t.cache;return t}var CWe=IWe,kWe=CWe,AWe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xWe=/\\(\\)?/g,OWe=kWe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(AWe,function(r,i,s,u){t.push(s?u.replace(xWe,"$1"):i||r)}),t}),NWe=OWe;function PWe(e,t){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}var RWe=PWe,Ife=fU,DWe=RWe,LWe=Ly,MWe=wQ,FWe=1/0,Cfe=Ife?Ife.prototype:void 0,kfe=Cfe?Cfe.toString:void 0;function s1e(e){if(typeof e=="string")return e;if(LWe(e))return DWe(e,s1e)+"";if(MWe(e))return kfe?kfe.call(e):"";var t=e+"";return t=="0"&&1/e==-FWe?"-0":t}var jWe=s1e,UWe=jWe;function $We(e){return e==null?"":UWe(e)}var YP=$We,VWe=Ly,qWe=_Q,BWe=NWe,HWe=YP;function zWe(e,t){return VWe(e)?e:qWe(e,t)?[e]:BWe(HWe(e))}var a1e=zWe,KWe=GP,WWe=QP,GWe="[object Arguments]";function QWe(e){return WWe(e)&&KWe(e)==GWe}var YWe=QWe,Afe=YWe,XWe=QP,u1e=Object.prototype,JWe=u1e.hasOwnProperty,ZWe=u1e.propertyIsEnumerable,eGe=Afe(function(){return arguments}())?Afe:function(e){return XWe(e)&&JWe.call(e,"callee")&&!ZWe.call(e,"callee")},c1e=eGe,tGe=9007199254740991,nGe=/^(?:0|[1-9]\d*)$/;function rGe(e,t){var r=typeof e;return t=t==null?tGe:t,!!t&&(r=="number"||r!="symbol"&&nGe.test(e))&&e>-1&&e%1==0&&e<t}var l1e=rGe,iGe=9007199254740991;function oGe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iGe}var CQ=oGe,sGe=wQ,aGe=1/0;function uGe(e){if(typeof e=="string"||sGe(e))return e;var t=e+"";return t=="0"&&1/e==-aGe?"-0":t}var gU=uGe,cGe=a1e,lGe=c1e,hGe=Ly,fGe=l1e,dGe=CQ,pGe=gU;function vGe(e,t,r){t=cGe(t,e);for(var i=-1,s=t.length,u=!1;++i<s;){var d=pGe(t[i]);if(!(u=e!=null&&r(e,d)))break;e=e[d]}return u||++i!=s?u:(s=e==null?0:e.length,!!s&&dGe(s)&&fGe(d,s)&&(hGe(e)||lGe(e)))}var h1e=vGe,mGe=Uze,gGe=h1e;function yGe(e,t){return e!=null&&gGe(e,t,mGe)}var S4=yGe;const kQ=e=>e&&e.__isYupSchema__;class bGe{constructor(t,r){if(this.fn=void 0,this.refs=t,this.refs=t,typeof r=="function"){this.fn=r;return}if(!S4(r,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:u}=r,d=typeof i=="function"?i:(...v)=>v.every(g=>g===i);this.fn=function(...v){let g=v.pop(),w=v.pop(),S=d(...v)?s:u;if(!!S)return typeof S=="function"?S(w):w.concat(S.resolve(g))}}resolve(t,r){let i=this.refs.map(u=>u.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn.apply(t,i.concat(t,r));if(s===void 0||s===t)return t;if(!kQ(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}function f1e(e){return e==null?[]:[].concat(e)}function i7(){return i7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i7.apply(this,arguments)}let wGe=/\$\{\s*(\w+)\s*\}/g;class gc extends Error{static formatError(t,r){const i=r.label||r.path||"this";return i!==r.path&&(r=i7({},r,{path:i})),typeof t=="string"?t.replace(wGe,(s,u)=>ZT(r[u])):typeof t=="function"?t(r):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=i,this.type=s,this.errors=[],this.inner=[],f1e(t).forEach(u=>{gc.isError(u)?(this.errors.push(...u.errors),this.inner=this.inner.concat(u.inner.length?u.inner:u)):this.errors.push(u)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,gc)}}const _Ge=e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}};function T4(e,t){let{endEarly:r,tests:i,args:s,value:u,errors:d,sort:v,path:g}=e,w=_Ge(t),S=i.length;const C=[];if(d=d||[],!S)return d.length?w(new gc(d,u,g)):w(null,u);for(let A=0;A<i.length;A++){const L=i[A];L(s,function(U){if(U){if(!gc.isError(U))return w(U,u);if(r)return U.value=u,w(U,u);C.push(U)}if(--S<=0){if(C.length&&(v&&C.sort(v),d.length&&C.push(...d),d=C),d.length){w(new gc(d,u,g),u);return}w(null,u)}})}}var EGe=y_,SGe=function(){try{var e=EGe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TGe=SGe,xfe=TGe;function IGe(e,t,r){t=="__proto__"&&xfe?xfe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var d1e=IGe;function CGe(e){return function(t,r,i){for(var s=-1,u=Object(t),d=i(t),v=d.length;v--;){var g=d[e?v:++s];if(r(u[g],g,u)===!1)break}return t}}var kGe=CGe,AGe=kGe,xGe=AGe(),OGe=xGe;function NGe(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var PGe=NGe,I4={exports:{}};function RGe(){return!1}var DGe=RGe;(function(e,t){var r=Jv,i=DGe,s=t&&!t.nodeType&&t,u=s&&!0&&e&&!e.nodeType&&e,d=u&&u.exports===s,v=d?r.Buffer:void 0,g=v?v.isBuffer:void 0,w=g||i;e.exports=w})(I4,I4.exports);var LGe=GP,MGe=CQ,FGe=QP,jGe="[object Arguments]",UGe="[object Array]",$Ge="[object Boolean]",VGe="[object Date]",qGe="[object Error]",BGe="[object Function]",HGe="[object Map]",zGe="[object Number]",KGe="[object Object]",WGe="[object RegExp]",GGe="[object Set]",QGe="[object String]",YGe="[object WeakMap]",XGe="[object ArrayBuffer]",JGe="[object DataView]",ZGe="[object Float32Array]",eQe="[object Float64Array]",tQe="[object Int8Array]",nQe="[object Int16Array]",rQe="[object Int32Array]",iQe="[object Uint8Array]",oQe="[object Uint8ClampedArray]",sQe="[object Uint16Array]",aQe="[object Uint32Array]",pi={};pi[ZGe]=pi[eQe]=pi[tQe]=pi[nQe]=pi[rQe]=pi[iQe]=pi[oQe]=pi[sQe]=pi[aQe]=!0;pi[jGe]=pi[UGe]=pi[XGe]=pi[$Ge]=pi[JGe]=pi[VGe]=pi[qGe]=pi[BGe]=pi[HGe]=pi[zGe]=pi[KGe]=pi[WGe]=pi[GGe]=pi[QGe]=pi[YGe]=!1;function uQe(e){return FGe(e)&&MGe(e.length)&&!!pi[LGe(e)]}var cQe=uQe;function lQe(e){return function(t){return e(t)}}var hQe=lQe,o7={exports:{}};(function(e,t){var r=e1e,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,u=s&&s.exports===i,d=u&&r.process,v=function(){try{var g=s&&s.require&&s.require("util").types;return g||d&&d.binding&&d.binding("util")}catch{}}();e.exports=v})(o7,o7.exports);var fQe=cQe,dQe=hQe,Ofe=o7.exports,Nfe=Ofe&&Ofe.isTypedArray,pQe=Nfe?dQe(Nfe):fQe,p1e=pQe,vQe=PGe,mQe=c1e,gQe=Ly,yQe=I4.exports,bQe=l1e,wQe=p1e,_Qe=Object.prototype,EQe=_Qe.hasOwnProperty;function SQe(e,t){var r=gQe(e),i=!r&&mQe(e),s=!r&&!i&&yQe(e),u=!r&&!i&&!s&&wQe(e),d=r||i||s||u,v=d?vQe(e.length,String):[],g=v.length;for(var w in e)(t||EQe.call(e,w))&&!(d&&(w=="length"||s&&(w=="offset"||w=="parent")||u&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||bQe(w,g)))&&v.push(w);return v}var TQe=SQe,IQe=Object.prototype;function CQe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||IQe;return e===r}var kQe=CQe;function AQe(e,t){return function(r){return e(t(r))}}var xQe=AQe,OQe=xQe,NQe=OQe(Object.keys,Object),PQe=NQe,RQe=kQe,DQe=PQe,LQe=Object.prototype,MQe=LQe.hasOwnProperty;function FQe(e){if(!RQe(e))return DQe(e);var t=[];for(var r in Object(e))MQe.call(e,r)&&r!="constructor"&&t.push(r);return t}var jQe=FQe,UQe=n1e,$Qe=CQ;function VQe(e){return e!=null&&$Qe(e.length)&&!UQe(e)}var qQe=VQe,BQe=TQe,HQe=jQe,zQe=qQe;function KQe(e){return zQe(e)?BQe(e):HQe(e)}var AQ=KQe,WQe=OGe,GQe=AQ;function QQe(e,t){return e&&WQe(e,t,GQe)}var v1e=QQe,YQe=vU;function XQe(){this.__data__=new YQe,this.size=0}var JQe=XQe;function ZQe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var eYe=ZQe;function tYe(e){return this.__data__.get(e)}var nYe=tYe;function rYe(e){return this.__data__.has(e)}var iYe=rYe,oYe=vU,sYe=SQ,aYe=TQ,uYe=200;function cYe(e,t){var r=this.__data__;if(r instanceof oYe){var i=r.__data__;if(!sYe||i.length<uYe-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new aYe(i)}return r.set(e,t),this.size=r.size,this}var lYe=cYe,hYe=vU,fYe=JQe,dYe=eYe,pYe=nYe,vYe=iYe,mYe=lYe;function II(e){var t=this.__data__=new hYe(e);this.size=t.size}II.prototype.clear=fYe;II.prototype.delete=dYe;II.prototype.get=pYe;II.prototype.has=vYe;II.prototype.set=mYe;var m1e=II,gYe="__lodash_hash_undefined__";function yYe(e){return this.__data__.set(e,gYe),this}var bYe=yYe;function wYe(e){return this.__data__.has(e)}var _Ye=wYe,EYe=TQ,SYe=bYe,TYe=_Ye;function C4(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new EYe;++t<r;)this.add(e[t])}C4.prototype.add=C4.prototype.push=SYe;C4.prototype.has=TYe;var IYe=C4;function CYe(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var kYe=CYe;function AYe(e,t){return e.has(t)}var xYe=AYe,OYe=IYe,NYe=kYe,PYe=xYe,RYe=1,DYe=2;function LYe(e,t,r,i,s,u){var d=r&RYe,v=e.length,g=t.length;if(v!=g&&!(d&&g>v))return!1;var w=u.get(e),S=u.get(t);if(w&&S)return w==t&&S==e;var C=-1,A=!0,L=r&DYe?new OYe:void 0;for(u.set(e,t),u.set(t,e);++C<v;){var M=e[C],U=t[C];if(i)var R=d?i(U,M,C,t,e,u):i(M,U,C,e,t,u);if(R!==void 0){if(R)continue;A=!1;break}if(L){if(!NYe(t,function($,B){if(!PYe(L,B)&&(M===$||s(M,$,r,i,u)))return L.push(B)})){A=!1;break}}else if(!(M===U||s(M,U,r,i,u))){A=!1;break}}return u.delete(e),u.delete(t),A}var g1e=LYe,MYe=Jv,FYe=MYe.Uint8Array,jYe=FYe;function UYe(e){var t=-1,r=Array(e.size);return e.forEach(function(i,s){r[++t]=[s,i]}),r}var $Ye=UYe;function VYe(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var qYe=VYe,Pfe=fU,Rfe=jYe,BYe=i1e,HYe=g1e,zYe=$Ye,KYe=qYe,WYe=1,GYe=2,QYe="[object Boolean]",YYe="[object Date]",XYe="[object Error]",JYe="[object Map]",ZYe="[object Number]",eXe="[object RegExp]",tXe="[object Set]",nXe="[object String]",rXe="[object Symbol]",iXe="[object ArrayBuffer]",oXe="[object DataView]",Dfe=Pfe?Pfe.prototype:void 0,K9=Dfe?Dfe.valueOf:void 0;function sXe(e,t,r,i,s,u,d){switch(r){case oXe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iXe:return!(e.byteLength!=t.byteLength||!u(new Rfe(e),new Rfe(t)));case QYe:case YYe:case ZYe:return BYe(+e,+t);case XYe:return e.name==t.name&&e.message==t.message;case eXe:case nXe:return e==t+"";case JYe:var v=zYe;case tXe:var g=i&WYe;if(v||(v=KYe),e.size!=t.size&&!g)return!1;var w=d.get(e);if(w)return w==t;i|=GYe,d.set(e,t);var S=HYe(v(e),v(t),i,s,u,d);return d.delete(e),S;case rXe:if(K9)return K9.call(e)==K9.call(t)}return!1}var aXe=sXe;function uXe(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}var cXe=uXe,lXe=cXe,hXe=Ly;function fXe(e,t,r){var i=t(e);return hXe(e)?i:lXe(i,r(e))}var dXe=fXe;function pXe(e,t){for(var r=-1,i=e==null?0:e.length,s=0,u=[];++r<i;){var d=e[r];t(d,r,e)&&(u[s++]=d)}return u}var vXe=pXe;function mXe(){return[]}var gXe=mXe,yXe=vXe,bXe=gXe,wXe=Object.prototype,_Xe=wXe.propertyIsEnumerable,Lfe=Object.getOwnPropertySymbols,EXe=Lfe?function(e){return e==null?[]:(e=Object(e),yXe(Lfe(e),function(t){return _Xe.call(e,t)}))}:bXe,SXe=EXe,TXe=dXe,IXe=SXe,CXe=AQ;function kXe(e){return TXe(e,CXe,IXe)}var AXe=kXe,Mfe=AXe,xXe=1,OXe=Object.prototype,NXe=OXe.hasOwnProperty;function PXe(e,t,r,i,s,u){var d=r&xXe,v=Mfe(e),g=v.length,w=Mfe(t),S=w.length;if(g!=S&&!d)return!1;for(var C=g;C--;){var A=v[C];if(!(d?A in t:NXe.call(t,A)))return!1}var L=u.get(e),M=u.get(t);if(L&&M)return L==t&&M==e;var U=!0;u.set(e,t),u.set(t,e);for(var R=d;++C<g;){A=v[C];var $=e[A],B=t[A];if(i)var G=d?i(B,$,A,t,e,u):i($,B,A,e,t,u);if(!(G===void 0?$===B||s($,B,r,i,u):G)){U=!1;break}R||(R=A=="constructor")}if(U&&!R){var H=e.constructor,Z=t.constructor;H!=Z&&"constructor"in e&&"constructor"in t&&!(typeof H=="function"&&H instanceof H&&typeof Z=="function"&&Z instanceof Z)&&(U=!1)}return u.delete(e),u.delete(t),U}var RXe=PXe,DXe=y_,LXe=Jv,MXe=DXe(LXe,"DataView"),FXe=MXe,jXe=y_,UXe=Jv,$Xe=jXe(UXe,"Promise"),VXe=$Xe,qXe=y_,BXe=Jv,HXe=qXe(BXe,"Set"),zXe=HXe,KXe=y_,WXe=Jv,GXe=KXe(WXe,"WeakMap"),QXe=GXe,s7=FXe,a7=SQ,u7=VXe,c7=zXe,l7=QXe,y1e=GP,CI=r1e,Ffe="[object Map]",YXe="[object Object]",jfe="[object Promise]",Ufe="[object Set]",$fe="[object WeakMap]",Vfe="[object DataView]",XXe=CI(s7),JXe=CI(a7),ZXe=CI(u7),eJe=CI(c7),tJe=CI(l7),pw=y1e;(s7&&pw(new s7(new ArrayBuffer(1)))!=Vfe||a7&&pw(new a7)!=Ffe||u7&&pw(u7.resolve())!=jfe||c7&&pw(new c7)!=Ufe||l7&&pw(new l7)!=$fe)&&(pw=function(e){var t=y1e(e),r=t==YXe?e.constructor:void 0,i=r?CI(r):"";if(i)switch(i){case XXe:return Vfe;case JXe:return Ffe;case ZXe:return jfe;case eJe:return Ufe;case tJe:return $fe}return t});var nJe=pw,W9=m1e,rJe=g1e,iJe=aXe,oJe=RXe,qfe=nJe,Bfe=Ly,Hfe=I4.exports,sJe=p1e,aJe=1,zfe="[object Arguments]",Kfe="[object Array]",_F="[object Object]",uJe=Object.prototype,Wfe=uJe.hasOwnProperty;function cJe(e,t,r,i,s,u){var d=Bfe(e),v=Bfe(t),g=d?Kfe:qfe(e),w=v?Kfe:qfe(t);g=g==zfe?_F:g,w=w==zfe?_F:w;var S=g==_F,C=w==_F,A=g==w;if(A&&Hfe(e)){if(!Hfe(t))return!1;d=!0,S=!1}if(A&&!S)return u||(u=new W9),d||sJe(e)?rJe(e,t,r,i,s,u):iJe(e,t,g,r,i,s,u);if(!(r&aJe)){var L=S&&Wfe.call(e,"__wrapped__"),M=C&&Wfe.call(t,"__wrapped__");if(L||M){var U=L?e.value():e,R=M?t.value():t;return u||(u=new W9),s(U,R,r,i,u)}}return A?(u||(u=new W9),oJe(e,t,r,i,s,u)):!1}var lJe=cJe,hJe=lJe,Gfe=QP;function b1e(e,t,r,i,s){return e===t?!0:e==null||t==null||!Gfe(e)&&!Gfe(t)?e!==e&&t!==t:hJe(e,t,r,i,b1e,s)}var w1e=b1e,fJe=m1e,dJe=w1e,pJe=1,vJe=2;function mJe(e,t,r,i){var s=r.length,u=s,d=!i;if(e==null)return!u;for(e=Object(e);s--;){var v=r[s];if(d&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++s<u;){v=r[s];var g=v[0],w=e[g],S=v[1];if(d&&v[2]){if(w===void 0&&!(g in e))return!1}else{var C=new fJe;if(i)var A=i(w,S,g,e,t,C);if(!(A===void 0?dJe(S,w,pJe|vJe,i,C):A))return!1}}return!0}var gJe=mJe,yJe=EQ;function bJe(e){return e===e&&!yJe(e)}var _1e=bJe,wJe=_1e,_Je=AQ;function EJe(e){for(var t=_Je(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,wJe(s)]}return t}var SJe=EJe;function TJe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var E1e=TJe,IJe=gJe,CJe=SJe,kJe=E1e;function AJe(e){var t=CJe(e);return t.length==1&&t[0][2]?kJe(t[0][0],t[0][1]):function(r){return r===e||IJe(r,e,t)}}var xJe=AJe,OJe=a1e,NJe=gU;function PJe(e,t){t=OJe(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[NJe(t[r++])];return r&&r==i?e:void 0}var S1e=PJe,RJe=S1e;function DJe(e,t,r){var i=e==null?void 0:RJe(e,t);return i===void 0?r:i}var LJe=DJe;function MJe(e,t){return e!=null&&t in Object(e)}var FJe=MJe,jJe=FJe,UJe=h1e;function $Je(e,t){return e!=null&&UJe(e,t,jJe)}var VJe=$Je,qJe=w1e,BJe=LJe,HJe=VJe,zJe=_Q,KJe=_1e,WJe=E1e,GJe=gU,QJe=1,YJe=2;function XJe(e,t){return zJe(e)&&KJe(t)?WJe(GJe(e),t):function(r){var i=BJe(r,e);return i===void 0&&i===t?HJe(r,e):qJe(t,i,QJe|YJe)}}var JJe=XJe;function ZJe(e){return e}var eZe=ZJe;function tZe(e){return function(t){return t==null?void 0:t[e]}}var nZe=tZe,rZe=S1e;function iZe(e){return function(t){return rZe(t,e)}}var oZe=iZe,sZe=nZe,aZe=oZe,uZe=_Q,cZe=gU;function lZe(e){return uZe(e)?sZe(cZe(e)):aZe(e)}var hZe=lZe,fZe=xJe,dZe=JJe,pZe=eZe,vZe=Ly,mZe=hZe;function gZe(e){return typeof e=="function"?e:e==null?pZe:typeof e=="object"?vZe(e)?dZe(e[0],e[1]):fZe(e):mZe(e)}var T1e=gZe,yZe=d1e,bZe=v1e,wZe=T1e;function _Ze(e,t){var r={};return t=wZe(t),bZe(e,function(i,s,u){yZe(r,s,t(i,s,u))}),r}var I1e=_Ze;function b_(e){this._maxSize=e,this.clear()}b_.prototype.clear=function(){this._size=0,this._values=Object.create(null)};b_.prototype.get=function(e){return this._values[e]};b_.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var EZe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,C1e=/^\d+$/,SZe=/^\d/,TZe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,IZe=/^\s*(['"]?)(.*?)(\1)\s*$/,xQ=512,Qfe=new b_(xQ),Yfe=new b_(xQ),Xfe=new b_(xQ),yU={Cache:b_,split:h7,normalizePath:G9,setter:function(e){var t=G9(e);return Yfe.get(e)||Yfe.set(e,function(i,s){for(var u=0,d=t.length,v=i;u<d-1;){var g=t[u];if(g==="__proto__"||g==="constructor"||g==="prototype")return i;v=v[t[u++]]}v[t[u]]=s})},getter:function(e,t){var r=G9(e);return Xfe.get(e)||Xfe.set(e,function(s){for(var u=0,d=r.length;u<d;)if(s!=null||!t)s=s[r[u++]];else return;return s})},join:function(e){return e.reduce(function(t,r){return t+(OQ(r)||C1e.test(r)?"["+r+"]":(t?".":"")+r)},"")},forEach:function(e,t,r){CZe(Array.isArray(e)?e:h7(e),t,r)}};function G9(e){return Qfe.get(e)||Qfe.set(e,h7(e).map(function(t){return t.replace(IZe,"$2")}))}function h7(e){return e.match(EZe)||[""]}function CZe(e,t,r){var i=e.length,s,u,d,v;for(u=0;u<i;u++)s=e[u],s&&(xZe(s)&&(s='"'+s+'"'),v=OQ(s),d=!v&&/^\d+$/.test(s),t.call(r,s,v,d,u,e))}function OQ(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function kZe(e){return e.match(SZe)&&!e.match(C1e)}function AZe(e){return TZe.test(e)}function xZe(e){return!OQ(e)&&(kZe(e)||AZe(e))}const EF={context:"$",value:"."};class fy{constructor(t,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===EF.context,this.isValue=this.key[0]===EF.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?EF.context:this.isValue?EF.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&yU.getter(this.path,!0),this.map=r.map}getValue(t,r,i){let s=this.isContext?i:this.isValue?t:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(t,r){return this.getValue(t,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}fy.prototype.__isYupRef=!0;function k4(){return k4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k4.apply(this,arguments)}function OZe(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,u;for(u=0;u<i.length;u++)s=i[u],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function SF(e){function t(r,i){let{value:s,path:u="",label:d,options:v,originalValue:g,sync:w}=r,S=OZe(r,["value","path","label","options","originalValue","sync"]);const{name:C,test:A,params:L,message:M}=e;let{parent:U,context:R}=v;function $(Y){return fy.isRef(Y)?Y.getValue(s,U,R):Y}function B(Y={}){const ce=I1e(k4({value:s,originalValue:g,label:d,path:Y.path||u},L,Y.params),$),ye=new gc(gc.formatError(Y.message||M,ce),s,ce.path,Y.type||C);return ye.params=ce,ye}let G=k4({path:u,parent:U,type:C,createError:B,resolve:$,options:v,originalValue:g},S);if(!w){try{Promise.resolve(A.call(G,s,G)).then(Y=>{gc.isError(Y)?i(Y):Y?i(null,Y):i(B())}).catch(i)}catch(Y){i(Y)}return}let H;try{var Z;if(H=A.call(G,s,G),typeof((Z=H)==null?void 0:Z.then)=="function")throw new Error(`Validation test of type: "${G.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(Y){i(Y);return}gc.isError(H)?i(H):H?i(null,H):i(B())}return t.OPTIONS=e,t}let NZe=e=>e.substr(0,e.length-1).substr(1);function PZe(e,t,r,i=r){let s,u,d;return t?(yU.forEach(t,(v,g,w)=>{let S=g?NZe(v):v;if(e=e.resolve({context:i,parent:s,value:r}),e.innerType){let C=w?parseInt(S,10):0;if(r&&C>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${v}, in the path: ${t}. because there is no value at that index. `);s=r,r=r&&r[C],e=e.innerType}if(!w){if(!e.fields||!e.fields[S])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${d} which is a type: "${e._type}")`);s=r,r=r&&r[S],e=e.fields[S]}u=S,d=g?"["+v+"]":"."+v}),{schema:e,parent:s,parentPath:u}):{parent:s,parentPath:t,schema:e}}class A4{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const r of this.list)t.push(r);for(const[,r]of this.refs)t.push(r.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((r,i)=>r.concat(fy.isRef(i)?t(i):i),[])}add(t){fy.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){fy.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new A4;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,r){const i=this.clone();return t.list.forEach(s=>i.add(s)),t.refs.forEach(s=>i.add(s)),r.list.forEach(s=>i.delete(s)),r.refs.forEach(s=>i.delete(s)),i}}function hh(){return hh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hh.apply(this,arguments)}class fa{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new A4,this._blacklist=new A4,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(dw.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=hh({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeError=this._typeError,r._whitelistError=this._whitelistError,r._blacklistError=this._blacklistError,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.exclusiveTests=hh({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=e7(hh({},this.spec,t)),r}label(t){let r=this.clone();return r.spec.label=t,r}meta(...t){if(t.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},t[0]),r}withMutation(t){let r=this._mutate;this._mutate=!0;let i=t(this);return this._mutate=r,i}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let r=this,i=t.clone();const s=hh({},r.spec,i.spec);return i.spec=s,i._typeError||(i._typeError=r._typeError),i._whitelistError||(i._whitelistError=r._whitelistError),i._blacklistError||(i._blacklistError=r._blacklistError),i._whitelist=r._whitelist.merge(t._whitelist,t._blacklist),i._blacklist=r._blacklist.merge(t._blacklist,t._whitelist),i.tests=r.tests,i.exclusiveTests=r.exclusiveTests,i.withMutation(u=>{t.tests.forEach(d=>{u.test(d.OPTIONS)})}),i.transforms=[...r.transforms,...i.transforms],i}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let r=this;if(r.conditions.length){let i=r.conditions;r=r.clone(),r.conditions=[],r=i.reduce((s,u)=>u.resolve(s,t),r),r=r.resolve(t)}return r}cast(t,r={}){let i=this.resolve(hh({value:t},r)),s=i._cast(t,r);if(t!==void 0&&r.assert!==!1&&i.isType(s)!==!0){let u=ZT(t),d=ZT(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${i._type}". 

attempted value: ${u} 
`+(d!==u?`result of cast: ${d}`:""))}return s}_cast(t,r){let i=t===void 0?t:this.transforms.reduce((s,u)=>u.call(this,s,t,this),t);return i===void 0&&(i=this.getDefault()),i}_validate(t,r={},i){let{sync:s,path:u,from:d=[],originalValue:v=t,strict:g=this.spec.strict,abortEarly:w=this.spec.abortEarly}=r,S=t;g||(S=this._cast(S,hh({assert:!1},r)));let C={value:S,path:u,options:r,originalValue:v,schema:this,label:this.spec.label,sync:s,from:d},A=[];this._typeError&&A.push(this._typeError);let L=[];this._whitelistError&&L.push(this._whitelistError),this._blacklistError&&L.push(this._blacklistError),T4({args:C,value:S,path:u,sync:s,tests:A,endEarly:w},M=>{if(M)return void i(M,S);T4({tests:this.tests.concat(L),args:C,path:u,sync:s,value:S,endEarly:w},i)})}validate(t,r,i){let s=this.resolve(hh({},r,{value:t}));return typeof i=="function"?s._validate(t,r,i):new Promise((u,d)=>s._validate(t,r,(v,g)=>{v?d(v):u(g)}))}validateSync(t,r){let i=this.resolve(hh({},r,{value:t})),s;return i._validate(t,hh({},r,{sync:!0}),(u,d)=>{if(u)throw u;s=d}),s}isValid(t,r){return this.validate(t,r).then(()=>!0,i=>{if(gc.isError(i))return!1;throw i})}isValidSync(t,r){try{return this.validateSync(t,r),!0}catch(i){if(gc.isError(i))return!1;throw i}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):e7(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let r=this.clone();return r.spec.strict=t,r}_isPresent(t){return t!=null}defined(t=dw.defined){return this.test({message:t,name:"defined",exclusive:!0,test(r){return r!==void 0}})}required(t=dw.required){return this.clone({presence:"required"}).withMutation(r=>r.test({message:t,name:"required",exclusive:!0,test(i){return this.schema._isPresent(i)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(r=>r.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let r=this.clone();return r.transforms.push(t),r}test(...t){let r;if(t.length===1?typeof t[0]=="function"?r={test:t[0]}:r=t[0]:t.length===2?r={name:t[0],test:t[1]}:r={name:t[0],message:t[1],test:t[2]},r.message===void 0&&(r.message=dw.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=SF(r),u=r.exclusive||r.name&&i.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(i.exclusiveTests[r.name]=!!r.exclusive),i.tests=i.tests.filter(d=>!(d.OPTIONS.name===r.name&&(u||d.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(t,r){!Array.isArray(t)&&typeof t!="string"&&(r=t,t=".");let i=this.clone(),s=f1e(t).map(u=>new fy(u));return s.forEach(u=>{u.isSibling&&i.deps.push(u.key)}),i.conditions.push(new bGe(s,r)),i}typeError(t){let r=this.clone();return r._typeError=SF({message:t,name:"typeError",test(i){return i!==void 0&&!this.schema.isType(i)?this.createError({params:{type:this.schema._type}}):!0}}),r}oneOf(t,r=dw.oneOf){let i=this.clone();return t.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i._whitelistError=SF({message:r,name:"oneOf",test(s){if(s===void 0)return!0;let u=this.schema._whitelist,d=u.resolveAll(this.resolve);return d.includes(s)?!0:this.createError({params:{values:u.toArray().join(", "),resolved:d}})}}),i}notOneOf(t,r=dw.notOneOf){let i=this.clone();return t.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i._blacklistError=SF({message:r,name:"notOneOf",test(s){let u=this.schema._blacklist,d=u.resolveAll(this.resolve);return d.includes(s)?this.createError({params:{values:u.toArray().join(", "),resolved:d}}):!0}}),i}strip(t=!0){let r=this.clone();return r.spec.strip=t,r}describe(){const t=this.clone(),{label:r,meta:i}=t.spec;return{meta:i,label:r,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,d,v)=>v.findIndex(g=>g.name===u.name)===d)}}}fa.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])fa.prototype[`${e}At`]=function(t,r,i={}){const{parent:s,parentPath:u,schema:d}=PZe(this,t,r,i.context);return d[e](s&&s[u],hh({},i,{parent:s,path:t}))};for(const e of["equals","is"])fa.prototype[e]=fa.prototype.oneOf;for(const e of["not","nope"])fa.prototype[e]=fa.prototype.notOneOf;fa.prototype.optional=fa.prototype.notRequired;const RZe=fa;RZe.prototype;const Fi=e=>e==null;function HN(){return new k1e}class k1e extends fa{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}_typeCheck(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}isTrue(t=n7.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return Fi(r)||r===!0}})}isFalse(t=n7.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return Fi(r)||r===!1}})}}HN.prototype=k1e.prototype;let DZe=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,LZe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,MZe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,FZe=e=>Fi(e)||e===e.trim(),jZe={}.toString();function mi(){return new A1e}class A1e extends fa{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const r=t!=null&&t.toString?t.toString():t;return r===jZe?t:r})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,r=hf.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},test(i){return Fi(i)||i.length===this.resolve(t)}})}min(t,r=hf.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(i){return Fi(i)||i.length>=this.resolve(t)}})}max(t,r=hf.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:t},test(i){return Fi(i)||i.length<=this.resolve(t)}})}matches(t,r){let i=!1,s,u;return r&&(typeof r=="object"?{excludeEmptyString:i=!1,message:s,name:u}=r:s=r),this.test({name:u||"matches",message:s||hf.matches,params:{regex:t},test:d=>Fi(d)||d===""&&i||d.search(t)!==-1})}email(t=hf.email){return this.matches(DZe,{name:"email",message:t,excludeEmptyString:!0})}url(t=hf.url){return this.matches(LZe,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=hf.uuid){return this.matches(MZe,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=hf.trim){return this.transform(r=>r!=null?r.trim():r).test({message:t,name:"trim",test:FZe})}lowercase(t=hf.lowercase){return this.transform(r=>Fi(r)?r:r.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>Fi(r)||r===r.toLowerCase()})}uppercase(t=hf.uppercase){return this.transform(r=>Fi(r)?r:r.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:r=>Fi(r)||r===r.toUpperCase()})}}mi.prototype=A1e.prototype;let UZe=e=>e!=+e;function i3(){return new x1e}class x1e extends fa{constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(t){let r=t;if(typeof r=="string"){if(r=r.replace(/\s/g,""),r==="")return NaN;r=+r}return this.isType(r)?r:parseFloat(r)})})}_typeCheck(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!UZe(t)}min(t,r=Mg.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(i){return Fi(i)||i>=this.resolve(t)}})}max(t,r=Mg.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:t},test(i){return Fi(i)||i<=this.resolve(t)}})}lessThan(t,r=Mg.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:t},test(i){return Fi(i)||i<this.resolve(t)}})}moreThan(t,r=Mg.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:t},test(i){return Fi(i)||i>this.resolve(t)}})}positive(t=Mg.positive){return this.moreThan(0,t)}negative(t=Mg.negative){return this.lessThan(0,t)}integer(t=Mg.integer){return this.test({name:"integer",message:t,test:r=>Fi(r)||Number.isInteger(r)})}truncate(){return this.transform(t=>Fi(t)?t:t|0)}round(t){var r;let i=["ceil","floor","round","trunc"];if(t=((r=t)==null?void 0:r.toLowerCase())||"round",t==="trunc")return this.truncate();if(i.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(s=>Fi(s)?s:Math[t](s))}}i3.prototype=x1e.prototype;var $Ze=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function VZe(e){var t=[1,4,5,6,7,10,11],r=0,i,s;if(s=$Ze.exec(e)){for(var u=0,d;d=t[u];++u)s[d]=+s[d]||0;s[2]=(+s[2]||1)-1,s[3]=+s[3]||1,s[7]=s[7]?String(s[7]).substr(0,3):0,(s[8]===void 0||s[8]==="")&&(s[9]===void 0||s[9]==="")?i=+new Date(s[1],s[2],s[3],s[4],s[5],s[6],s[7]):(s[8]!=="Z"&&s[9]!==void 0&&(r=s[10]*60+s[11],s[9]==="+"&&(r=0-r)),i=Date.UTC(s[1],s[2],s[3],s[4],s[5]+r,s[6],s[7]))}else i=Date.parse?Date.parse(e):NaN;return i}let O1e=new Date(""),qZe=e=>Object.prototype.toString.call(e)==="[object Date]";class N1e extends fa{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=VZe(t),isNaN(t)?O1e:new Date(t))})})}_typeCheck(t){return qZe(t)&&!isNaN(t.getTime())}prepareParam(t,r){let i;if(fy.isRef(t))i=t;else{let s=this.cast(t);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(t,r=t7.min){let i=this.prepareParam(t,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(s){return Fi(s)||s>=this.resolve(i)}})}max(t,r=t7.max){let i=this.prepareParam(t,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:t},test(s){return Fi(s)||s<=this.resolve(i)}})}}N1e.INVALID_DATE=O1e;N1e.prototype;function BZe(e,t,r,i){var s=-1,u=e==null?0:e.length;for(i&&u&&(r=e[++s]);++s<u;)r=t(r,e[s],s,e);return r}var HZe=BZe;function zZe(e){return function(t){return e==null?void 0:e[t]}}var KZe=zZe,WZe=KZe,GZe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},QZe=WZe(GZe),YZe=QZe,XZe=YZe,JZe=YP,ZZe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eet="\\u0300-\\u036f",tet="\\ufe20-\\ufe2f",net="\\u20d0-\\u20ff",ret=eet+tet+net,iet="["+ret+"]",oet=RegExp(iet,"g");function set(e){return e=JZe(e),e&&e.replace(ZZe,XZe).replace(oet,"")}var aet=set,uet=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function cet(e){return e.match(uet)||[]}var het=cet,fet=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function det(e){return fet.test(e)}var pet=det,P1e="\\ud800-\\udfff",vet="\\u0300-\\u036f",met="\\ufe20-\\ufe2f",get="\\u20d0-\\u20ff",yet=vet+met+get,R1e="\\u2700-\\u27bf",D1e="a-z\\xdf-\\xf6\\xf8-\\xff",bet="\\xac\\xb1\\xd7\\xf7",wet="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_et="\\u2000-\\u206f",Eet=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",L1e="A-Z\\xc0-\\xd6\\xd8-\\xde",Tet="\\ufe0e\\ufe0f",M1e=bet+wet+_et+Eet,F1e="['\u2019]",Jfe="["+M1e+"]",Iet="["+yet+"]",j1e="\\d+",Cet="["+R1e+"]",U1e="["+D1e+"]",$1e="[^"+P1e+M1e+j1e+R1e+D1e+L1e+"]",ket="\\ud83c[\\udffb-\\udfff]",Aet="(?:"+Iet+"|"+ket+")",xet="[^"+P1e+"]",V1e="(?:\\ud83c[\\udde6-\\uddff]){2}",q1e="[\\ud800-\\udbff][\\udc00-\\udfff]",XS="["+L1e+"]",Oet="\\u200d",Zfe="(?:"+U1e+"|"+$1e+")",Net="(?:"+XS+"|"+$1e+")",ede="(?:"+F1e+"(?:d|ll|m|re|s|t|ve))?",tde="(?:"+F1e+"(?:D|LL|M|RE|S|T|VE))?",B1e=Aet+"?",H1e="["+Tet+"]?",Pet="(?:"+Oet+"(?:"+[xet,V1e,q1e].join("|")+")"+H1e+B1e+")*",Ret="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Det="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Let=H1e+B1e+Pet,Met="(?:"+[Cet,V1e,q1e].join("|")+")"+Let,Fet=RegExp([XS+"?"+U1e+"+"+ede+"(?="+[Jfe,XS,"$"].join("|")+")",Net+"+"+tde+"(?="+[Jfe,XS+Zfe,"$"].join("|")+")",XS+"?"+Zfe+"+"+ede,XS+"+"+tde,Det,Ret,j1e,Met].join("|"),"g");function jet(e){return e.match(Fet)||[]}var Uet=jet,$et=het,Vet=pet,qet=YP,Bet=Uet;function Het(e,t,r){return e=qet(e),t=r?void 0:t,t===void 0?Vet(e)?Bet(e):$et(e):e.match(t)||[]}var zet=Het,Ket=HZe,Wet=aet,Get=zet,Qet="['\u2019]",Yet=RegExp(Qet,"g");function Xet(e){return function(t){return Ket(Get(Wet(t).replace(Yet,"")),e,"")}}var z1e=Xet,Jet=z1e,Zet=Jet(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),nde=Zet;function ett(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var u=Array(s);++i<s;)u[i]=e[i+t];return u}var ttt=ett,ntt=ttt;function rtt(e,t,r){var i=e.length;return r=r===void 0?i:r,!t&&r>=i?e:ntt(e,t,r)}var itt=rtt,ott="\\ud800-\\udfff",stt="\\u0300-\\u036f",att="\\ufe20-\\ufe2f",utt="\\u20d0-\\u20ff",ctt=stt+att+utt,ltt="\\ufe0e\\ufe0f",htt="\\u200d",ftt=RegExp("["+htt+ott+ctt+ltt+"]");function dtt(e){return ftt.test(e)}var K1e=dtt;function ptt(e){return e.split("")}var vtt=ptt,W1e="\\ud800-\\udfff",mtt="\\u0300-\\u036f",gtt="\\ufe20-\\ufe2f",ytt="\\u20d0-\\u20ff",btt=mtt+gtt+ytt,wtt="\\ufe0e\\ufe0f",_tt="["+W1e+"]",f7="["+btt+"]",d7="\\ud83c[\\udffb-\\udfff]",Ett="(?:"+f7+"|"+d7+")",G1e="[^"+W1e+"]",Q1e="(?:\\ud83c[\\udde6-\\uddff]){2}",Y1e="[\\ud800-\\udbff][\\udc00-\\udfff]",Stt="\\u200d",X1e=Ett+"?",J1e="["+wtt+"]?",Ttt="(?:"+Stt+"(?:"+[G1e,Q1e,Y1e].join("|")+")"+J1e+X1e+")*",Itt=J1e+X1e+Ttt,Ctt="(?:"+[G1e+f7+"?",f7,Q1e,Y1e,_tt].join("|")+")",ktt=RegExp(d7+"(?="+d7+")|"+Ctt+Itt,"g");function Att(e){return e.match(ktt)||[]}var xtt=Att,Ott=vtt,Ntt=K1e,Ptt=xtt;function Rtt(e){return Ntt(e)?Ptt(e):Ott(e)}var Dtt=Rtt,Ltt=itt,Mtt=K1e,Ftt=Dtt,jtt=YP;function Utt(e){return function(t){t=jtt(t);var r=Mtt(t)?Ftt(t):void 0,i=r?r[0]:t.charAt(0),s=r?Ltt(r,1).join(""):t.slice(1);return i[e]()+s}}var $tt=Utt,Vtt=$tt,qtt=Vtt("toUpperCase"),Btt=qtt,Htt=YP,ztt=Btt;function Ktt(e){return ztt(Htt(e).toLowerCase())}var Wtt=Ktt,Gtt=Wtt,Qtt=z1e,Ytt=Qtt(function(e,t,r){return t=t.toLowerCase(),e+(r?Gtt(t):t)}),Xtt=Ytt,Jtt=d1e,Ztt=v1e,ent=T1e;function tnt(e,t){var r={};return t=ent(t),Ztt(e,function(i,s,u){Jtt(r,t(i,s,u),i)}),r}var nnt=tnt,NQ={exports:{}};NQ.exports=function(e){return Z1e(rnt(e),e)};NQ.exports.array=Z1e;function Z1e(e,t){var r=e.length,i=new Array(r),s={},u=r,d=int(t),v=ont(e);for(t.forEach(function(w){if(!v.has(w[0])||!v.has(w[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)s[u]||g(e[u],u,new Set);return i;function g(w,S,C){if(C.has(w)){var A;try{A=", node was:"+JSON.stringify(w)}catch{A=""}throw new Error("Cyclic dependency"+A)}if(!v.has(w))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(w));if(!s[S]){s[S]=!0;var L=d.get(w)||new Set;if(L=Array.from(L),S=L.length){C.add(w);do{var M=L[--S];g(M,v.get(M),C)}while(S);C.delete(w)}i[--r]=w}}}function rnt(e){for(var t=new Set,r=0,i=e.length;r<i;r++){var s=e[r];t.add(s[0]),t.add(s[1])}return Array.from(t)}function int(e){for(var t=new Map,r=0,i=e.length;r<i;r++){var s=e[r];t.has(s[0])||t.set(s[0],new Set),t.has(s[1])||t.set(s[1],new Set),t.get(s[0]).add(s[1])}return t}function ont(e){for(var t=new Map,r=0,i=e.length;r<i;r++)t.set(e[r],r);return t}function snt(e,t=[]){let r=[],i=new Set,s=new Set(t.map(([d,v])=>`${d}-${v}`));function u(d,v){let g=yU.split(d)[0];i.add(g),s.has(`${v}-${g}`)||r.push([v,g])}for(const d in e)if(S4(e,d)){let v=e[d];i.add(d),fy.isRef(v)&&v.isSibling?u(v.path,d):kQ(v)&&"deps"in v&&v.deps.forEach(g=>u(g,d))}return NQ.exports.array(Array.from(i),r).reverse()}function rde(e,t){let r=1/0;return e.some((i,s)=>{var u;if(((u=t.path)==null?void 0:u.indexOf(i))!==-1)return r=s,!0}),r}function eEe(e){return(t,r)=>rde(e,t)-rde(e,r)}function aT(){return aT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},aT.apply(this,arguments)}let ide=e=>Object.prototype.toString.call(e)==="[object Object]";function ant(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter(i=>r.indexOf(i)===-1)}const unt=eEe([]);class tEe extends fa{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=unt,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(i){if(typeof i=="string")try{i=JSON.parse(i)}catch{i=null}return this.isType(i)?i:null}),t&&this.shape(t)})}_typeCheck(t){return ide(t)||typeof t=="function"}_cast(t,r={}){var i;let s=super._cast(t,r);if(s===void 0)return this.getDefault();if(!this._typeCheck(s))return s;let u=this.fields,d=(i=r.stripUnknown)!=null?i:this.spec.noUnknown,v=this._nodes.concat(Object.keys(s).filter(C=>this._nodes.indexOf(C)===-1)),g={},w=aT({},r,{parent:g,__validating:r.__validating||!1}),S=!1;for(const C of v){let A=u[C],L=S4(s,C);if(A){let M,U=s[C];w.path=(r.path?`${r.path}.`:"")+C,A=A.resolve({value:U,context:r.context,parent:g});let R="spec"in A?A.spec:void 0,$=R==null?void 0:R.strict;if(R!=null&&R.strip){S=S||C in s;continue}M=!r.__validating||!$?A.cast(s[C],w):s[C],M!==void 0&&(g[C]=M)}else L&&!d&&(g[C]=s[C]);g[C]!==s[C]&&(S=!0)}return S?g:s}_validate(t,r={},i){let s=[],{sync:u,from:d=[],originalValue:v=t,abortEarly:g=this.spec.abortEarly,recursive:w=this.spec.recursive}=r;d=[{schema:this,value:v},...d],r.__validating=!0,r.originalValue=v,r.from=d,super._validate(t,r,(S,C)=>{if(S){if(!gc.isError(S)||g)return void i(S,C);s.push(S)}if(!w||!ide(C)){i(s[0]||null,C);return}v=v||C;let A=this._nodes.map(L=>(M,U)=>{let R=L.indexOf(".")===-1?(r.path?`${r.path}.`:"")+L:`${r.path||""}["${L}"]`,$=this.fields[L];if($&&"validate"in $){$.validate(C[L],aT({},r,{path:R,from:d,strict:!0,parent:C,originalValue:v[L]}),U);return}U(null)});T4({sync:u,tests:A,value:C,errors:s,endEarly:g,sort:this._sortErrors,path:r.path},i)})}clone(t){const r=super.clone(t);return r.fields=aT({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(t){let r=super.concat(t),i=r.fields;for(let[s,u]of Object.entries(this.fields)){const d=i[s];d===void 0?i[s]=u:d instanceof fa&&u instanceof fa&&(i[s]=u.concat(d))}return r.withMutation(()=>r.shape(i,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(r=>{const i=this.fields[r];t[r]="default"in i?i.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(!!this._nodes.length)return this.getDefaultFromShape()}shape(t,r=[]){let i=this.clone(),s=Object.assign(i.fields,t);return i.fields=s,i._sortErrors=eEe(Object.keys(s)),r.length&&(Array.isArray(r[0])||(r=[r]),i._excludedEdges=[...i._excludedEdges,...r]),i._nodes=snt(s,i._excludedEdges),i}pick(t){const r={};for(const i of t)this.fields[i]&&(r[i]=this.fields[i]);return this.clone().withMutation(i=>(i.fields={},i.shape(r)))}omit(t){const r=this.clone(),i=r.fields;r.fields={};for(const s of t)delete i[s];return r.withMutation(()=>r.shape(i))}from(t,r,i){let s=yU.getter(t,!0);return this.transform(u=>{if(u==null)return u;let d=u;return S4(u,t)&&(d=aT({},u),i||delete d[t],d[r]=s(u)),d})}noUnknown(t=!0,r=r7.noUnknown){typeof t=="string"&&(r=t,t=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const u=ant(this.schema,s);return!t||u.length===0||this.createError({params:{unknown:u.join(", ")}})}});return i.spec.noUnknown=t,i}unknown(t=!0,r=r7.noUnknown){return this.noUnknown(!t,r)}transformKeys(t){return this.transform(r=>r&&nnt(r,(i,s)=>t(s)))}camelCase(){return this.transformKeys(Xtt)}snakeCase(){return this.transformKeys(nde)}constantCase(){return this.transformKeys(t=>nde(t).toUpperCase())}describe(){let t=super.describe();return t.fields=I1e(this.fields,r=>r.describe()),t}}function Sy(e){return new tEe(e)}Sy.prototype=tEe.prototype;function x4(){return x4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},x4.apply(this,arguments)}function o3(e){return new nEe(e)}class nEe extends fa{constructor(t){super({type:"array"}),this.innerType=void 0,this.innerType=t,this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null})})}_typeCheck(t){return Array.isArray(t)}get _subType(){return this.innerType}_cast(t,r){const i=super._cast(t,r);if(!this._typeCheck(i)||!this.innerType)return i;let s=!1;const u=i.map((d,v)=>{const g=this.innerType.cast(d,x4({},r,{path:`${r.path||""}[${v}]`}));return g!==d&&(s=!0),g});return s?u:i}_validate(t,r={},i){var s,u;let d=[],v=r.sync,g=r.path,w=this.innerType,S=(s=r.abortEarly)!=null?s:this.spec.abortEarly,C=(u=r.recursive)!=null?u:this.spec.recursive,A=r.originalValue!=null?r.originalValue:t;super._validate(t,r,(L,M)=>{if(L){if(!gc.isError(L)||S)return void i(L,M);d.push(L)}if(!C||!w||!this._typeCheck(M)){i(d[0]||null,M);return}A=A||M;let U=new Array(M.length);for(let R=0;R<M.length;R++){let $=M[R],B=`${r.path||""}[${R}]`,G=x4({},r,{path:B,strict:!0,parent:M,index:R,originalValue:A[R]});U[R]=(H,Z)=>w.validate($,G,Z)}T4({sync:v,path:g,value:M,errors:d,endEarly:S,tests:U},i)})}clone(t){const r=super.clone(t);return r.innerType=this.innerType,r}concat(t){let r=super.concat(t);return r.innerType=this.innerType,t.innerType&&(r.innerType=r.innerType?r.innerType.concat(t.innerType):t.innerType),r}of(t){let r=this.clone();if(!kQ(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ZT(t));return r.innerType=t,r}length(t,r=r3.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:t},test(i){return Fi(i)||i.length===this.resolve(t)}})}min(t,r){return r=r||r3.min,this.test({message:r,name:"min",exclusive:!0,params:{min:t},test(i){return Fi(i)||i.length>=this.resolve(t)}})}max(t,r){return r=r||r3.max,this.test({message:r,name:"max",exclusive:!0,params:{max:t},test(i){return Fi(i)||i.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,r)=>this._typeCheck(t)?t:r==null?[]:[].concat(r))}compact(t){let r=t?(i,s,u)=>!t(i,s,u):i=>!!i;return this.transform(i=>i!=null?i.filter(r):i)}describe(){let t=super.describe();return this.innerType&&(t.innerType=this.innerType.describe()),t}nullable(t=!0){return super.nullable(t)}defined(){return super.defined()}required(t){return super.required(t)}}o3.prototype=nEe.prototype;const rEe=({onConfirmUpdate:e,modal:t})=>{const[r,i]=se.exports.useState(""),{values:s}=g_();return ge(VP,{isOpen:t.isOpenModal,onRequestClose:t.onCloseModal,children:[ge("div",{className:"text-center padding-l",children:[D("h4",{children:"Confirm Update"}),ge("p",{children:["To continue updating profile including your \xA0",D("strong",{children:"email"}),",",D("br",{}),"please confirm by entering your password"]}),D("input",{className:"input-form d-block",onChange:u=>i(u.target.value),placeholder:"Enter your password",required:!0,type:"password",value:r})]}),D("br",{}),D("div",{className:"d-flex-center",children:ge("button",{className:"button",onClick:()=>{e(s,r),t.onCloseModal()},type:"button",children:[D(mP,{}),"\xA0 Confirm"]})}),D("button",{className:"modal-close-button button button-border button-border-gray button-small",onClick:t.onCloseModal,type:"button",children:D(zme,{})})]})};rEe.propTypes={onConfirmUpdate:ie.exports.func.isRequired,modal:ie.exports.shape({onCloseModal:ie.exports.func,isOpenModal:ie.exports.bool}).isRequired};const iEe=e=>{var w;const{name:t,form:r,push:i,remove:s}=e,[u,d]=On.useState(""),v=S=>{const C=S.target.value;d(C)},g=()=>{r.values[t].includes(u)||(i(u),d(""))};return ge("div",{className:"d-flex",children:[ge("div",{className:"input-group product-form-field",children:[ge("div",{className:"d-flex",children:[r.touched[t]&&r.errors[t]?D("span",{className:"label-input label-error",children:r.errors[t]}):D("label",{className:"label-input",htmlFor:t,children:"Available Colors"}),u&&ge(Mu,{children:[D("div",{className:"color-item",style:{background:u}}),ge("h4",{className:"text-link",onClick:g,style:{textDecoration:"underline"},role:"presentation",children:[D("i",{className:"fa fa-check"}),"Add Selected Color"]})]})]}),D("input",{name:t,type:"color",onChange:v,id:t})]}),ge("div",{className:"product-form-field",children:[D("span",{className:"d-block padding-s",children:"Selected Color(s)"}),D("div",{className:"color-chooser",children:(w=r.values[t])==null?void 0:w.map((S,C)=>D("div",{onClick:()=>s(C),className:"color-item color-item-deletable",title:`Remove ${S}`,style:{backgroundColor:S},role:"presentation"},S))})]})]})};iEe.propTypes={name:ie.exports.string.isRequired,form:ie.exports.shape({values:ie.exports.object,touched:ie.exports.object,errors:ie.exports.object}).isRequired,push:ie.exports.func.isRequired,remove:ie.exports.func.isRequired};function cnt(e){if(Array.isArray(e))return JH(e)}function lnt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZO(e){return cnt(e)||lnt(e)||Nme(e)||hnt()}function XP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ode(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function JP(e,t,r){return t&&ode(e.prototype,t),r&&ode(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U3(e,t)}function fnt(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function dnt(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var pnt=function(){function e(r){var i=this;this._insertTag=function(s){var u;i.tags.length===0?i.insertionPoint?u=i.insertionPoint.nextSibling:i.prepend?u=i.container.firstChild:u=i.before:u=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,u),i.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dnt(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var u=fnt(s);try{u.insertRule(i,u.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),Fa="-ms-",O4="-moz-",Sr="-webkit-",oEe="comm",PQ="rule",RQ="decl",vnt="@import",sEe="@keyframes",mnt=Math.abs,bU=String.fromCharCode,gnt=Object.assign;function ynt(e,t){return(((t<<2^pc(e,0))<<2^pc(e,1))<<2^pc(e,2))<<2^pc(e,3)}function aEe(e){return e.trim()}function bnt(e,t){return(e=t.exec(e))?e[0]:e}function kr(e,t,r){return e.replace(t,r)}function p7(e,t){return e.indexOf(t)}function pc(e,t){return e.charCodeAt(t)|0}function zN(e,t,r){return e.slice(t,r)}function qd(e){return e.length}function DQ(e){return e.length}function TF(e,t){return t.push(e),e}function wnt(e,t){return e.map(t).join("")}var wU=1,eI=1,uEe=0,Ic=0,Po=0,kI="";function _U(e,t,r,i,s,u,d){return{value:e,root:t,parent:r,type:i,props:s,children:u,line:wU,column:eI,length:d,return:""}}function oO(e,t){return gnt(_U("",null,null,"",null,null,0),e,{length:-e.length},t)}function _nt(){return Po}function Ent(){return Po=Ic>0?pc(kI,--Ic):0,eI--,Po===10&&(eI=1,wU--),Po}function gl(){return Po=Ic<uEe?pc(kI,Ic++):0,eI++,Po===10&&(eI=1,wU++),Po}function tp(){return pc(kI,Ic)}function s3(){return Ic}function eR(e,t){return zN(kI,e,t)}function KN(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cEe(e){return wU=eI=1,uEe=qd(kI=e),Ic=0,[]}function lEe(e){return kI="",e}function a3(e){return aEe(eR(Ic-1,v7(e===91?e+2:e===40?e+1:e)))}function Snt(e){for(;(Po=tp())&&Po<33;)gl();return KN(e)>2||KN(Po)>3?"":" "}function Tnt(e,t){for(;--t&&gl()&&!(Po<48||Po>102||Po>57&&Po<65||Po>70&&Po<97););return eR(e,s3()+(t<6&&tp()==32&&gl()==32))}function v7(e){for(;gl();)switch(Po){case e:return Ic;case 34:case 39:e!==34&&e!==39&&v7(Po);break;case 40:e===41&&v7(e);break;case 92:gl();break}return Ic}function Int(e,t){for(;gl()&&e+Po!==47+10;)if(e+Po===42+42&&tp()===47)break;return"/*"+eR(t,Ic-1)+"*"+bU(e===47?e:gl())}function Cnt(e){for(;!KN(tp());)gl();return eR(e,Ic)}function knt(e){return lEe(u3("",null,null,null,[""],e=cEe(e),0,[0],e))}function u3(e,t,r,i,s,u,d,v,g){for(var w=0,S=0,C=d,A=0,L=0,M=0,U=1,R=1,$=1,B=0,G="",H=s,Z=u,Y=i,ce=G;R;)switch(M=B,B=gl()){case 40:if(M!=108&&ce.charCodeAt(C-1)==58){p7(ce+=kr(a3(B),"&","&\f"),"&\f")!=-1&&($=-1);break}case 34:case 39:case 91:ce+=a3(B);break;case 9:case 10:case 13:case 32:ce+=Snt(M);break;case 92:ce+=Tnt(s3()-1,7);continue;case 47:switch(tp()){case 42:case 47:TF(Ant(Int(gl(),s3()),t,r),g);break;default:ce+="/"}break;case 123*U:v[w++]=qd(ce)*$;case 125*U:case 59:case 0:switch(B){case 0:case 125:R=0;case 59+S:L>0&&qd(ce)-C&&TF(L>32?ade(ce+";",i,r,C-1):ade(kr(ce," ","")+";",i,r,C-2),g);break;case 59:ce+=";";default:if(TF(Y=sde(ce,t,r,w,S,s,v,G,H=[],Z=[],C),u),B===123)if(S===0)u3(ce,t,Y,Y,H,u,C,v,Z);else switch(A){case 100:case 109:case 115:u3(e,Y,Y,i&&TF(sde(e,Y,Y,0,0,s,v,G,s,H=[],C),Z),s,Z,C,v,i?H:Z);break;default:u3(ce,Y,Y,Y,[""],Z,0,v,Z)}}w=S=L=0,U=$=1,G=ce="",C=d;break;case 58:C=1+qd(ce),L=M;default:if(U<1){if(B==123)--U;else if(B==125&&U++==0&&Ent()==125)continue}switch(ce+=bU(B),B*U){case 38:$=S>0?1:(ce+="\f",-1);break;case 44:v[w++]=(qd(ce)-1)*$,$=1;break;case 64:tp()===45&&(ce+=a3(gl())),A=tp(),S=C=qd(G=ce+=Cnt(s3())),B++;break;case 45:M===45&&qd(ce)==2&&(U=0)}}return u}function sde(e,t,r,i,s,u,d,v,g,w,S){for(var C=s-1,A=s===0?u:[""],L=DQ(A),M=0,U=0,R=0;M<i;++M)for(var $=0,B=zN(e,C+1,C=mnt(U=d[M])),G=e;$<L;++$)(G=aEe(U>0?A[$]+" "+B:kr(B,/&\f/g,A[$])))&&(g[R++]=G);return _U(e,t,r,s===0?PQ:v,g,w,S)}function Ant(e,t,r){return _U(e,t,r,oEe,bU(_nt()),zN(e,2,-2),0)}function ade(e,t,r,i){return _U(e,t,r,RQ,zN(e,0,i),zN(e,i+1,-1),i)}function hEe(e,t){switch(ynt(e,t)){case 5103:return Sr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sr+e+O4+e+Fa+e+e;case 6828:case 4268:return Sr+e+Fa+e+e;case 6165:return Sr+e+Fa+"flex-"+e+e;case 5187:return Sr+e+kr(e,/(\w+).+(:[^]+)/,Sr+"box-$1$2"+Fa+"flex-$1$2")+e;case 5443:return Sr+e+Fa+"flex-item-"+kr(e,/flex-|-self/,"")+e;case 4675:return Sr+e+Fa+"flex-line-pack"+kr(e,/align-content|flex-|-self/,"")+e;case 5548:return Sr+e+Fa+kr(e,"shrink","negative")+e;case 5292:return Sr+e+Fa+kr(e,"basis","preferred-size")+e;case 6060:return Sr+"box-"+kr(e,"-grow","")+Sr+e+Fa+kr(e,"grow","positive")+e;case 4554:return Sr+kr(e,/([^-])(transform)/g,"$1"+Sr+"$2")+e;case 6187:return kr(kr(kr(e,/(zoom-|grab)/,Sr+"$1"),/(image-set)/,Sr+"$1"),e,"")+e;case 5495:case 3959:return kr(e,/(image-set\([^]*)/,Sr+"$1$`$1");case 4968:return kr(kr(e,/(.+:)(flex-)?(.*)/,Sr+"box-pack:$3"+Fa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sr+e+e;case 4095:case 3583:case 4068:case 2532:return kr(e,/(.+)-inline(.+)/,Sr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qd(e)-1-t>6)switch(pc(e,t+1)){case 109:if(pc(e,t+4)!==45)break;case 102:return kr(e,/(.+:)(.+)-([^]+)/,"$1"+Sr+"$2-$3$1"+O4+(pc(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~p7(e,"stretch")?hEe(kr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(pc(e,t+1)!==115)break;case 6444:switch(pc(e,qd(e)-3-(~p7(e,"!important")&&10))){case 107:return kr(e,":",":"+Sr)+e;case 101:return kr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sr+(pc(e,14)===45?"inline-":"")+"box$3$1"+Sr+"$2$3$1"+Fa+"$2box$3")+e}break;case 5936:switch(pc(e,t+11)){case 114:return Sr+e+Fa+kr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sr+e+Fa+kr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sr+e+Fa+kr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Sr+e+Fa+e+e}return e}function ST(e,t){for(var r="",i=DQ(e),s=0;s<i;s++)r+=t(e[s],s,e,t)||"";return r}function xnt(e,t,r,i){switch(e.type){case vnt:case RQ:return e.return=e.return||e.value;case oEe:return"";case sEe:return e.return=e.value+"{"+ST(e.children,i)+"}";case PQ:e.value=e.props.join(",")}return qd(r=ST(e.children,i))?e.return=e.value+"{"+r+"}":""}function Ont(e){var t=DQ(e);return function(r,i,s,u){for(var d="",v=0;v<t;v++)d+=e[v](r,i,s,u)||"";return d}}function Nnt(e){return function(t){t.root||(t=t.return)&&e(t)}}function Pnt(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case RQ:e.return=hEe(e.value,e.length);break;case sEe:return ST([oO(e,{value:kr(e.value,"@","@"+Sr)})],i);case PQ:if(e.length)return wnt(e.props,function(s){switch(bnt(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ST([oO(e,{props:[kr(s,/:(read-\w+)/,":"+O4+"$1")]})],i);case"::placeholder":return ST([oO(e,{props:[kr(s,/:(plac\w+)/,":"+Sr+"input-$1")]}),oO(e,{props:[kr(s,/:(plac\w+)/,":"+O4+"$1")]}),oO(e,{props:[kr(s,/:(plac\w+)/,Fa+"input-$1")]})],i)}return""})}}function fEe(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Rnt=function(t,r,i){for(var s=0,u=0;s=u,u=tp(),s===38&&u===12&&(r[i]=1),!KN(u);)gl();return eR(t,Ic)},Dnt=function(t,r){var i=-1,s=44;do switch(KN(s)){case 0:s===38&&tp()===12&&(r[i]=1),t[i]+=Rnt(Ic-1,r,i);break;case 2:t[i]+=a3(s);break;case 4:if(s===44){t[++i]=tp()===58?"&\f":"",r[i]=t[i].length;break}default:t[i]+=bU(s)}while(s=gl());return t},Lnt=function(t,r){return lEe(Dnt(cEe(t),r))},ude=new WeakMap,Mnt=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!ude.get(i))&&!s){ude.set(t,!0);for(var u=[],d=Lnt(r,u),v=i.props,g=0,w=0;g<d.length;g++)for(var S=0;S<v.length;S++,w++)t.props[w]=u[g]?d[g].replace(/&\f/g,v[S]):v[S]+" "+d[g]}}},Fnt=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}},jnt=[Pnt],Unt=function(t){var r=t.key;if(r==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(U){var R=U.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(U),U.setAttribute("data-s",""))})}var s=t.stylisPlugins||jnt,u={},d,v=[];d=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(U){for(var R=U.getAttribute("data-emotion").split(" "),$=1;$<R.length;$++)u[R[$]]=!0;v.push(U)});var g,w=[Mnt,Fnt];{var S,C=[xnt,Nnt(function(U){S.insert(U)})],A=Ont(w.concat(s,C)),L=function(R){return ST(knt(R),A)};g=function(R,$,B,G){S=B,L(R?R+"{"+$.styles+"}":$.styles),G&&(M.inserted[$.name]=!0)}}var M={key:r,sheet:new pnt({key:r,container:d,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:g};return M.sheet.hydrate(v),M},$nt=!0;function dEe(e,t,r){var i="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):i+=s+" "}),i}var LQ=function(t,r,i){var s=t.key+"-"+r.name;(i===!1||$nt===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},pEe=function(t,r,i){LQ(t,r,i);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var u=r;do t.insert(r===u?"."+s:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function vEe(e){for(var t=0,r,i=0,s=e.length;s>=4;++i,s-=4)r=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var mEe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vnt=/[A-Z]|^ms/g,qnt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gEe=function(t){return t.charCodeAt(1)===45},cde=function(t){return t!=null&&typeof t!="boolean"},Q9=fEe(function(e){return gEe(e)?e:e.replace(Vnt,"-$&").toLowerCase()}),lde=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(qnt,function(i,s,u){return Bd={name:s,styles:u,next:Bd},s})}return mEe[t]!==1&&!gEe(t)&&typeof r=="number"&&r!==0?r+"px":r};function WN(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Bd={name:r.name,styles:r.styles,next:Bd},r.name;if(r.styles!==void 0){var i=r.next;if(i!==void 0)for(;i!==void 0;)Bd={name:i.name,styles:i.styles,next:Bd},i=i.next;var s=r.styles+";";return s}return Bnt(e,t,r)}case"function":{if(e!==void 0){var u=Bd,d=r(e);return Bd=u,WN(e,t,d)}break}}if(t==null)return r;var v=t[r];return v!==void 0?v:r}function Bnt(e,t,r){var i="";if(Array.isArray(r))for(var s=0;s<r.length;s++)i+=WN(e,t,r[s])+";";else for(var u in r){var d=r[u];if(typeof d!="object")t!=null&&t[d]!==void 0?i+=u+"{"+t[d]+"}":cde(d)&&(i+=Q9(u)+":"+lde(u,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var v=0;v<d.length;v++)cde(d[v])&&(i+=Q9(u)+":"+lde(u,d[v])+";");else{var g=WN(e,t,d);switch(u){case"animation":case"animationName":{i+=Q9(u)+":"+g+";";break}default:i+=u+"{"+g+"}"}}}return i}var hde=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Bd,MQ=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,u="";Bd=void 0;var d=t[0];d==null||d.raw===void 0?(s=!1,u+=WN(i,r,d)):u+=d[0];for(var v=1;v<t.length;v++)u+=WN(i,r,t[v]),s&&(u+=d[v]);hde.lastIndex=0;for(var g="",w;(w=hde.exec(u))!==null;)g+="-"+w[1];var S=vEe(u)+g;return{name:S,styles:u,next:Bd}},FQ={}.hasOwnProperty,yEe=se.exports.createContext(typeof HTMLElement<"u"?Unt({key:"css"}):null);yEe.Provider;var bEe=function(t){return se.exports.forwardRef(function(r,i){var s=se.exports.useContext(yEe);return t(r,s,i)})},wEe=se.exports.createContext({}),Hnt=d3["useInsertionEffect"]?d3["useInsertionEffect"]:function(t){t()};function _Ee(e){Hnt(e)}var m7="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",znt=function(t,r){var i={};for(var s in r)FQ.call(r,s)&&(i[s]=r[s]);return i[m7]=t,i},Knt=function(t){var r=t.cache,i=t.serialized,s=t.isStringTag;return LQ(r,i,s),_Ee(function(){return pEe(r,i,s)}),null},Wnt=bEe(function(e,t,r){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var s=e[m7],u=[i],d="";typeof e.className=="string"?d=dEe(t.registered,u,e.className):e.className!=null&&(d=e.className+" ");var v=MQ(u,void 0,se.exports.useContext(wEe));d+=t.key+"-"+v.name;var g={};for(var w in e)FQ.call(e,w)&&w!=="css"&&w!==m7&&(g[w]=e[w]);return g.ref=r,g.className=d,se.exports.createElement(se.exports.Fragment,null,se.exports.createElement(Knt,{cache:t,serialized:v,isStringTag:typeof s=="string"}),se.exports.createElement(s,g))}),vn=function(t,r){var i=arguments;if(r==null||!FQ.call(r,"css"))return se.exports.createElement.apply(void 0,i);var s=i.length,u=new Array(s);u[0]=Wnt,u[1]=znt(t,r);for(var d=2;d<s;d++)u[d]=i[d];return se.exports.createElement.apply(null,u)};d3["useInsertionEffect"]?d3["useInsertionEffect"]:se.exports.useLayoutEffect;function jQ(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return MQ(t)}var Gnt=function(){var t=jQ.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Qnt=function e(t){for(var r=t.length,i=0,s="";i<r;i++){var u=t[i];if(u!=null){var d=void 0;switch(typeof u){case"boolean":break;case"object":{if(Array.isArray(u))d=e(u);else{d="";for(var v in u)u[v]&&v&&(d&&(d+=" "),d+=v)}break}default:d=u}d&&(s&&(s+=" "),s+=d)}}return s};function Ynt(e,t,r){var i=[],s=dEe(e,i,r);return i.length<2?r:s+t(i)}var Xnt=function(t){var r=t.cache,i=t.serializedArr;return _Ee(function(){for(var s=0;s<i.length;s++)pEe(r,i[s],!1)}),null},Jnt=bEe(function(e,t){var r=!1,i=[],s=function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];var A=MQ(S,t.registered);return i.push(A),LQ(t,A,!1),t.key+"-"+A.name},u=function(){for(var w=arguments.length,S=new Array(w),C=0;C<w;C++)S[C]=arguments[C];return Ynt(t.registered,s,Qnt(S))},d={css:s,cx:u,theme:se.exports.useContext(wEe)},v=e.children(d);return r=!0,se.exports.createElement(se.exports.Fragment,null,se.exports.createElement(Xnt,{cache:t,serializedArr:i}),v)});function Znt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var EEe={};Object.defineProperty(EEe,"__esModule",{value:!0});var Y9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},fde=function(){function e(t,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),SEe=se.exports,sO=TEe(SEe),ert=ie.exports,Jo=TEe(ert);function TEe(e){return e&&e.__esModule?e:{default:e}}function trt(e,t){var r={};for(var i in e)t.indexOf(i)>=0||!Object.prototype.hasOwnProperty.call(e,i)||(r[i]=e[i]);return r}function nrt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rrt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function irt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dde={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},ort=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],srt=function(t){return ort.forEach(function(r){return delete t[r]}),t},pde=function(t,r){r.style.fontSize=t.fontSize,r.style.fontFamily=t.fontFamily,r.style.fontWeight=t.fontWeight,r.style.fontStyle=t.fontStyle,r.style.letterSpacing=t.letterSpacing,r.style.textTransform=t.textTransform},IEe=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,vde=function(){return IEe?"_"+Math.random().toString(36).substr(2,12):void 0},UQ=function(e){irt(t,e),fde(t,null,[{key:"getDerivedStateFromProps",value:function(i,s){var u=i.id;return u!==s.prevId?{inputId:u||vde(),prevId:u}:null}}]);function t(r){nrt(this,t);var i=rrt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i.inputRef=function(s){i.input=s,typeof i.props.inputRef=="function"&&i.props.inputRef(s)},i.placeHolderSizerRef=function(s){i.placeHolderSizer=s},i.sizerRef=function(s){i.sizer=s},i.state={inputWidth:r.minWidth,inputId:r.id||vde(),prevId:r.id},i}return fde(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(i,s){s.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var i=this.input&&window.getComputedStyle(this.input);!i||(pde(i,this.sizer),this.placeHolderSizer&&pde(i,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var i=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?i=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:i=this.sizer.scrollWidth+2;var s=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;i+=s,i<this.props.minWidth&&(i=this.props.minWidth),i!==this.state.inputWidth&&this.setState({inputWidth:i})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var i=this.props.injectStyles;return IEe&&i?sO.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var i=[this.props.defaultValue,this.props.value,""].reduce(function(v,g){return v!=null?v:g}),s=Y9({},this.props.style);s.display||(s.display="inline-block");var u=Y9({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),d=trt(this.props,[]);return srt(d),d.className=this.props.inputClassName,d.id=this.state.inputId,d.style=u,sO.default.createElement("div",{className:this.props.className,style:s},this.renderStyles(),sO.default.createElement("input",Y9({},d,{ref:this.inputRef})),sO.default.createElement("div",{ref:this.sizerRef,style:dde},i),this.props.placeholder?sO.default.createElement("div",{ref:this.placeHolderSizerRef,style:dde},this.props.placeholder):null)}}]),t}(SEe.Component);UQ.propTypes={className:Jo.default.string,defaultValue:Jo.default.any,extraWidth:Jo.default.oneOfType([Jo.default.number,Jo.default.string]),id:Jo.default.string,injectStyles:Jo.default.bool,inputClassName:Jo.default.string,inputRef:Jo.default.func,inputStyle:Jo.default.object,minWidth:Jo.default.oneOfType([Jo.default.number,Jo.default.string]),onAutosize:Jo.default.func,onChange:Jo.default.func,placeholder:Jo.default.string,placeholderIsMinWidth:Jo.default.bool,style:Jo.default.object,value:Jo.default.any};UQ.defaultProps={minWidth:1,injectStyles:!0};var art=EEe.default=UQ;function urt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mde(Object(r),!0).forEach(function(i){urt(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mde(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function N4(e){return N4=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},N4(e)}function crt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function lrt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hrt(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:lrt(e)}function tR(e){var t=crt();return function(){var i=N4(e),s;if(t){var u=N4(this).constructor;s=Reflect.construct(i,arguments,u)}else s=i.apply(this,arguments);return hrt(this,s)}}var P4=function(){};function frt(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function drt(e,t,r){var i=[r];if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&i.push("".concat(frt(e,s)));return i.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var R4=function(t){return Array.isArray(t)?t.filter(Boolean):bN(t)==="object"&&t!==null?[t]:[]},CEe=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Cy(t,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return Ss({},r)};function $Q(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function kEe(e){return $Q(e)?window.pageYOffset:e.scrollTop}function D4(e,t){if($Q(e)){window.scrollTo(0,t);return}e.scrollTop=t}function prt(e){var t=getComputedStyle(e),r=t.position==="absolute",i=/(auto|scroll)/,s=document.documentElement;if(t.position==="fixed")return s;for(var u=e;u=u.parentElement;)if(t=getComputedStyle(u),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return u;return s}function vrt(e,t,r,i){return r*((e=e/i-1)*e*e+1)+t}function IF(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P4,s=kEe(e),u=t-s,d=10,v=0;function g(){v+=d;var w=vrt(v,s,u,r);D4(e,w),v<r?window.requestAnimationFrame(g):i(e)}g()}function mrt(e,t){var r=e.getBoundingClientRect(),i=t.getBoundingClientRect(),s=t.offsetHeight/3;i.bottom+s>r.bottom?D4(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):i.top-s<r.top&&D4(e,Math.max(t.offsetTop-s,0))}function grt(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function gde(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function yrt(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var AEe=!1,brt={get passive(){return AEe=!0}},CF=typeof window<"u"?window:{};CF.addEventListener&&CF.removeEventListener&&(CF.addEventListener("p",P4,brt),CF.removeEventListener("p",P4,!1));var wrt=AEe;function _rt(e){var t=e.maxHeight,r=e.menuEl,i=e.minHeight,s=e.placement,u=e.shouldScroll,d=e.isFixedPosition,v=e.theme,g=v.spacing,w=prt(r),S={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return S;var C=w.getBoundingClientRect(),A=C.height,L=r.getBoundingClientRect(),M=L.bottom,U=L.height,R=L.top,$=r.offsetParent.getBoundingClientRect(),B=$.top,G=window.innerHeight,H=kEe(w),Z=parseInt(getComputedStyle(r).marginBottom,10),Y=parseInt(getComputedStyle(r).marginTop,10),ce=B-Y,ye=G-R,xe=ce+H,re=A-H-R,ut=M-G+H+Z,it=H+R-Y,ht=160;switch(s){case"auto":case"bottom":if(ye>=U)return{placement:"bottom",maxHeight:t};if(re>=U&&!d)return u&&IF(w,ut,ht),{placement:"bottom",maxHeight:t};if(!d&&re>=i||d&&ye>=i){u&&IF(w,ut,ht);var Ie=d?ye-Z:re-Z;return{placement:"bottom",maxHeight:Ie}}if(s==="auto"||d){var Ne=t,Be=d?ce:xe;return Be>=i&&(Ne=Math.min(Be-Z-g.controlHeight,t)),{placement:"top",maxHeight:Ne}}if(s==="bottom")return u&&D4(w,ut),{placement:"bottom",maxHeight:t};break;case"top":if(ce>=U)return{placement:"top",maxHeight:t};if(xe>=U&&!d)return u&&IF(w,it,ht),{placement:"top",maxHeight:t};if(!d&&xe>=i||d&&ce>=i){var _e=t;return(!d&&xe>=i||d&&ce>=i)&&(_e=d?ce-Y:xe-Y),u&&IF(w,it,ht),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return S}function Ert(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var g7=function(t){return t==="auto"?"bottom":t},Srt=function(t){var r,i=t.placement,s=t.theme,u=s.borderRadius,d=s.spacing,v=s.colors;return r={label:"menu"},lh(r,Ert(i),"100%"),lh(r,"backgroundColor",v.neutral0),lh(r,"borderRadius",u),lh(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),lh(r,"marginBottom",d.menuGutter),lh(r,"marginTop",d.menuGutter),lh(r,"position","absolute"),lh(r,"width","100%"),lh(r,"zIndex",1),r},xEe=se.exports.createContext({getPortalPlacement:null}),OEe=function(e){ZP(r,e);var t=tR(r);function r(){var i;XP(this,r);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=t.call.apply(t,[this].concat(u)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(v){var g=i.props,w=g.minMenuHeight,S=g.maxMenuHeight,C=g.menuPlacement,A=g.menuPosition,L=g.menuShouldScrollIntoView,M=g.theme;if(!!v){var U=A==="fixed",R=L&&!U,$=_rt({maxHeight:S,menuEl:v,minHeight:w,placement:C,shouldScroll:R,isFixedPosition:U,theme:M}),B=i.context.getPortalPlacement;B&&B($),i.setState($)}},i.getUpdatedProps=function(){var v=i.props.menuPlacement,g=i.state.placement||g7(v);return Ss(Ss({},i.props),{},{placement:g,maxHeight:i.state.maxHeight})},i}return JP(r,[{key:"render",value:function(){var s=this.props.children;return s({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(se.exports.Component);OEe.contextType=xEe;var Trt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerRef,v=t.innerProps;return vn("div",En({css:u("menu",t),className:s({menu:!0},i),ref:d},v),r)},Irt=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},Crt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps,v=t.innerRef,g=t.isMulti;return vn("div",En({css:u("menuList",t),className:s({"menu-list":!0,"menu-list--is-multi":g},i),ref:v},d),r)},NEe=function(t){var r=t.theme,i=r.spacing.baseUnit,s=r.colors;return{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},krt=NEe,Art=NEe,PEe=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps;return vn("div",En({css:u("noOptionsMessage",t),className:s({"menu-notice":!0,"menu-notice--no-options":!0},i)},d),r)};PEe.defaultProps={children:"No options"};var REe=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps;return vn("div",En({css:u("loadingMessage",t),className:s({"menu-notice":!0,"menu-notice--loading":!0},i)},d),r)};REe.defaultProps={children:"Loading..."};var xrt=function(t){var r=t.rect,i=t.offset,s=t.position;return{left:r.left,position:s,top:i,width:r.width,zIndex:1}},Ort=function(e){ZP(r,e);var t=tR(r);function r(){var i;XP(this,r);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=t.call.apply(t,[this].concat(u)),i.state={placement:null},i.getPortalPlacement=function(v){var g=v.placement,w=g7(i.props.menuPlacement);g!==w&&i.setState({placement:g})},i}return JP(r,[{key:"render",value:function(){var s=this.props,u=s.appendTo,d=s.children,v=s.className,g=s.controlElement,w=s.cx,S=s.innerProps,C=s.menuPlacement,A=s.menuPosition,L=s.getStyles,M=A==="fixed";if(!u&&!M||!g)return null;var U=this.state.placement||g7(C),R=grt(g),$=M?0:window.pageYOffset,B=R[U]+$,G={offset:B,position:A,rect:R},H=vn("div",En({css:L("menuPortal",G),className:w({"menu-portal":!0},v)},S),d);return vn(xEe.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},u?iI.exports.createPortal(H,u):H)}}]),r}(se.exports.Component),Nrt=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:r?"none":null,position:"relative"}},Prt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps,v=t.isDisabled,g=t.isRtl;return vn("div",En({css:u("container",t),className:s({"--is-disabled":v,"--is-rtl":g},i)},d),r)},Rrt=function(t){var r=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Drt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.innerProps,d=t.isMulti,v=t.getStyles,g=t.hasValue;return vn("div",En({css:v("valueContainer",t),className:s({"value-container":!0,"value-container--is-multi":d,"value-container--has-value":g},i)},u),r)},Lrt=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Mrt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.innerProps,d=t.getStyles;return vn("div",En({css:d("indicatorsContainer",t),className:s({indicators:!0},i)},u),r)},yde,Frt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},DEe=function(t){var r=t.size,i=Cy(t,["size"]);return vn("svg",En({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Frt},i))},VQ=function(t){return vn(DEe,En({size:20},t),vn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},LEe=function(t){return vn(DEe,En({size:20},t),vn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},MEe=function(t){var r=t.isFocused,i=t.theme,s=i.spacing.baseUnit,u=i.colors;return{label:"indicatorContainer",color:r?u.neutral60:u.neutral20,display:"flex",padding:s*2,transition:"color 150ms",":hover":{color:r?u.neutral80:u.neutral40}}},jrt=MEe,Urt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps;return vn("div",En({css:u("dropdownIndicator",t),className:s({indicator:!0,"dropdown-indicator":!0},i)},d),r||vn(LEe,null))},$rt=MEe,Vrt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps;return vn("div",En({css:u("clearIndicator",t),className:s({indicator:!0,"clear-indicator":!0},i)},d),r||vn(VQ,null))},qrt=function(t){var r=t.isDisabled,i=t.theme,s=i.spacing.baseUnit,u=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?u.neutral10:u.neutral20,marginBottom:s*2,marginTop:s*2,width:1}},Brt=function(t){var r=t.className,i=t.cx,s=t.getStyles,u=t.innerProps;return vn("span",En({},u,{css:s("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},Hrt=Gnt(yde||(yde=Znt([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),zrt=function(t){var r=t.isFocused,i=t.size,s=t.theme,u=s.colors,d=s.spacing.baseUnit;return{label:"loadingIndicator",color:r?u.neutral60:u.neutral20,display:"flex",padding:d*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},X9=function(t){var r=t.delay,i=t.offset;return vn("span",{css:jQ({animation:"".concat(Hrt," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},FEe=function(t){var r=t.className,i=t.cx,s=t.getStyles,u=t.innerProps,d=t.isRtl;return vn("div",En({css:s("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)},u),vn(X9,{delay:0,offset:d}),vn(X9,{delay:160,offset:!0}),vn(X9,{delay:320,offset:!d}))};FEe.defaultProps={size:4};var Krt=function(t){var r=t.isDisabled,i=t.isFocused,s=t.theme,u=s.colors,d=s.borderRadius,v=s.spacing;return{label:"control",alignItems:"center",backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:i?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(u.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:v.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?u.primary:u.neutral30}}},Wrt=function(t){var r=t.children,i=t.cx,s=t.getStyles,u=t.className,d=t.isDisabled,v=t.isFocused,g=t.innerRef,w=t.innerProps,S=t.menuIsOpen;return vn("div",En({ref:g,css:s("control",t),className:i({control:!0,"control--is-disabled":d,"control--is-focused":v,"control--menu-is-open":S},u)},w),r)},Grt=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Qrt=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.Heading,v=t.headingProps,g=t.innerProps,w=t.label,S=t.theme,C=t.selectProps;return vn("div",En({css:u("group",t),className:s({group:!0},i)},g),vn(d,En({},v,{selectProps:C,theme:S,getStyles:u,cx:s}),w),vn("div",null,r))},Yrt=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},Xrt=function(t){var r=t.getStyles,i=t.cx,s=t.className,u=CEe(t);u.data;var d=Cy(u,["data"]);return vn("div",En({css:r("groupHeading",t),className:i({"group-heading":!0},s)},d))},Jrt=function(t){var r=t.isDisabled,i=t.theme,s=i.spacing,u=i.colors;return{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,visibility:r?"hidden":"visible",color:u.neutral80}},Zrt=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},eit=function(t){var r=t.className,i=t.cx,s=t.getStyles,u=CEe(t),d=u.innerRef,v=u.isDisabled,g=u.isHidden,w=Cy(u,["innerRef","isDisabled","isHidden"]);return vn("div",{css:s("input",t)},vn(art,En({className:i({input:!0},r),inputRef:d,inputStyle:Zrt(g),disabled:v},w)))},tit=function(t){var r=t.theme,i=r.spacing,s=r.borderRadius,u=r.colors;return{label:"multiValue",backgroundColor:u.neutral10,borderRadius:s/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},nit=function(t){var r=t.theme,i=r.borderRadius,s=r.colors,u=t.cropWithEllipsis;return{borderRadius:i/2,color:s.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:u?"ellipsis":null,whiteSpace:"nowrap"}},rit=function(t){var r=t.theme,i=r.spacing,s=r.borderRadius,u=r.colors,d=t.isFocused;return{alignItems:"center",borderRadius:s/2,backgroundColor:d&&u.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}}},jEe=function(t){var r=t.children,i=t.innerProps;return vn("div",i,r)},iit=jEe,oit=jEe;function sit(e){var t=e.children,r=e.innerProps;return vn("div",r,t||vn(VQ,{size:14}))}var UEe=function(t){var r=t.children,i=t.className,s=t.components,u=t.cx,d=t.data,v=t.getStyles,g=t.innerProps,w=t.isDisabled,S=t.removeProps,C=t.selectProps,A=s.Container,L=s.Label,M=s.Remove;return vn(Jnt,null,function(U){var R=U.css,$=U.cx;return vn(A,{data:d,innerProps:Ss({className:$(R(v("multiValue",t)),u({"multi-value":!0,"multi-value--is-disabled":w},i))},g),selectProps:C},vn(L,{data:d,innerProps:{className:$(R(v("multiValueLabel",t)),u({"multi-value__label":!0},i))},selectProps:C},r),vn(M,{data:d,innerProps:Ss({className:$(R(v("multiValueRemove",t)),u({"multi-value__remove":!0},i))},S),selectProps:C}))})};UEe.defaultProps={cropWithEllipsis:!0};var ait=function(t){var r=t.isDisabled,i=t.isFocused,s=t.isSelected,u=t.theme,d=u.spacing,v=u.colors;return{label:"option",backgroundColor:s?v.primary:i?v.primary25:"transparent",color:r?v.neutral20:s?v.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!r&&(s?v.primary:v.primary50)}}},uit=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.isDisabled,v=t.isFocused,g=t.isSelected,w=t.innerRef,S=t.innerProps;return vn("div",En({css:u("option",t),className:s({option:!0,"option--is-disabled":d,"option--is-focused":v,"option--is-selected":g},i),ref:w},S),r)},cit=function(t){var r=t.theme,i=r.spacing,s=r.colors;return{label:"placeholder",color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},lit=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.innerProps;return vn("div",En({css:u("placeholder",t),className:s({placeholder:!0},i)},d),r)},hit=function(t){var r=t.isDisabled,i=t.theme,s=i.spacing,u=i.colors;return{label:"singleValue",color:r?u.neutral40:u.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2,maxWidth:"calc(100% - ".concat(s.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},fit=function(t){var r=t.children,i=t.className,s=t.cx,u=t.getStyles,d=t.isDisabled,v=t.innerProps;return vn("div",En({css:u("singleValue",t),className:s({"single-value":!0,"single-value--is-disabled":d},i)},v),r)},dit={ClearIndicator:Vrt,Control:Wrt,DropdownIndicator:Urt,DownChevron:LEe,CrossIcon:VQ,Group:Qrt,GroupHeading:Xrt,IndicatorsContainer:Mrt,IndicatorSeparator:Brt,Input:eit,LoadingIndicator:FEe,Menu:Trt,MenuList:Crt,MenuPortal:Ort,LoadingMessage:REe,NoOptionsMessage:PEe,MultiValue:UEe,MultiValueContainer:iit,MultiValueLabel:oit,MultiValueRemove:sit,Option:uit,Placeholder:lit,SelectContainer:Prt,SingleValue:fit,ValueContainer:Drt},pit=function(t){return Ss(Ss({},dit),t.components)},bde=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function vit(e,t){return!!(e===t||bde(e)&&bde(t))}function mit(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!vit(e[r],t[r]))return!1;return!0}function git(e,t){t===void 0&&(t=mit);var r,i=[],s,u=!1;function d(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];return u&&r===this&&t(v,i)||(s=e.apply(this,v),u=!0,r=this,i=v),s}return d}var yit={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bit=function(t){return vn("span",En({css:yit},t))},wit={guidance:function(t){var r=t.isSearchable,i=t.isMulti,s=t.isDisabled,u=t.tabSelectsValue,d=t.context;switch(d){case"menu":return"Use Up and Down to choose options".concat(s?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,i=t.label,s=i===void 0?"":i,u=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,i=t.focused,s=i===void 0?{}:i,u=t.options,d=t.label,v=d===void 0?"":d,g=t.selectValue,w=t.isDisabled,S=t.isSelected,C=function(U,R){return U&&U.length?"".concat(U.indexOf(R)+1," of ").concat(U.length):""};if(r==="value"&&g)return"value ".concat(v," focused, ").concat(C(g,s),".");if(r==="menu"){var A=w?" disabled":"",L="".concat(S?"selected":"focused").concat(A);return"option ".concat(v," ").concat(L,", ").concat(C(u,s),".")}return""},onFilter:function(t){var r=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(r?" for search term "+r:"",".")}},_it=function(t){var r=t.ariaSelection,i=t.focusedOption,s=t.focusedValue,u=t.focusableOptions,d=t.isFocused,v=t.selectValue,g=t.selectProps,w=g.ariaLiveMessages,S=g.getOptionLabel,C=g.inputValue,A=g.isMulti,L=g.isOptionDisabled,M=g.isSearchable,U=g.menuIsOpen,R=g.options,$=g.screenReaderStatus,B=g.tabSelectsValue,G=g["aria-label"],H=g["aria-live"],Z=se.exports.useMemo(function(){return Ss(Ss({},wit),w||{})},[w]),Y=se.exports.useMemo(function(){var ut="";if(r&&Z.onChange){var it=r.option,ht=r.removedValue,Ie=r.value,Ne=function(ct){return Array.isArray(ct)?null:ct},Be=ht||it||Ne(Ie),_e=Ss({isDisabled:Be&&L(Be),label:Be?S(Be):""},r);ut=Z.onChange(_e)}return ut},[r,L,S,Z]),ce=se.exports.useMemo(function(){var ut="",it=i||s,ht=!!(i&&v&&v.includes(i));if(it&&Z.onFocus){var Ie={focused:it,label:S(it),isDisabled:L(it),isSelected:ht,options:R,context:it===i?"menu":"value",selectValue:v};ut=Z.onFocus(Ie)}return ut},[i,s,S,L,Z,R,v]),ye=se.exports.useMemo(function(){var ut="";if(U&&R.length&&Z.onFilter){var it=$({count:u.length});ut=Z.onFilter({inputValue:C,resultsMessage:it})}return ut},[u,C,U,Z,R,$]),xe=se.exports.useMemo(function(){var ut="";if(Z.guidance){var it=s?"value":U?"menu":"input";ut=Z.guidance({"aria-label":G,context:it,isDisabled:i&&L(i),isMulti:A,isSearchable:M,tabSelectsValue:B})}return ut},[G,i,s,A,L,M,U,Z,B]),re="".concat(ce," ").concat(ye," ").concat(xe);return vn(bit,{"aria-live":H,"aria-atomic":"false","aria-relevant":"additions text"},d&&vn(On.Fragment,null,vn("span",{id:"aria-selection"},Y),vn("span",{id:"aria-context"},re)))},y7=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],Eit=new RegExp("["+y7.map(function(e){return e.letters}).join("")+"]","g"),$Ee={};for(var J9=0;J9<y7.length;J9++)for(var Z9=y7[J9],eH=0;eH<Z9.letters.length;eH++)$Ee[Z9.letters[eH]]=Z9.base;var VEe=function(t){return t.replace(Eit,function(r){return $Ee[r]})},Sit=git(VEe),wde=function(t){return t.replace(/^\s+|\s+$/g,"")},Tit=function(t){return"".concat(t.label," ").concat(t.value)},Iit=function(t){return function(r,i){var s=Ss({ignoreCase:!0,ignoreAccents:!0,stringify:Tit,trim:!0,matchFrom:"any"},t),u=s.ignoreCase,d=s.ignoreAccents,v=s.stringify,g=s.trim,w=s.matchFrom,S=g?wde(i):i,C=g?wde(v(r)):v(r);return u&&(S=S.toLowerCase(),C=C.toLowerCase()),d&&(S=Sit(S),C=VEe(C)),w==="start"?C.substr(0,S.length)===S:C.indexOf(S)>-1}};function Cit(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var r=Cy(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return vn("input",En({ref:t},r,{css:jQ({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var kit=function(t){t.preventDefault(),t.stopPropagation()};function Ait(e){var t=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,s=e.onTopArrive,u=e.onTopLeave,d=se.exports.useRef(!1),v=se.exports.useRef(!1),g=se.exports.useRef(0),w=se.exports.useRef(null),S=se.exports.useCallback(function(R,$){if(w.current!==null){var B=w.current,G=B.scrollTop,H=B.scrollHeight,Z=B.clientHeight,Y=w.current,ce=$>0,ye=H-Z-G,xe=!1;ye>$&&d.current&&(i&&i(R),d.current=!1),ce&&v.current&&(u&&u(R),v.current=!1),ce&&$>ye?(r&&!d.current&&r(R),Y.scrollTop=H,xe=!0,d.current=!0):!ce&&-$>G&&(s&&!v.current&&s(R),Y.scrollTop=0,xe=!0,v.current=!0),xe&&kit(R)}},[]),C=se.exports.useCallback(function(R){S(R,R.deltaY)},[S]),A=se.exports.useCallback(function(R){g.current=R.changedTouches[0].clientY},[]),L=se.exports.useCallback(function(R){var $=g.current-R.changedTouches[0].clientY;S(R,$)},[S]),M=se.exports.useCallback(function(R){if(!!R){var $=wrt?{passive:!1}:!1;typeof R.addEventListener=="function"&&R.addEventListener("wheel",C,$),typeof R.addEventListener=="function"&&R.addEventListener("touchstart",A,$),typeof R.addEventListener=="function"&&R.addEventListener("touchmove",L,$)}},[L,A,C]),U=se.exports.useCallback(function(R){!R||(typeof R.removeEventListener=="function"&&R.removeEventListener("wheel",C,!1),typeof R.removeEventListener=="function"&&R.removeEventListener("touchstart",A,!1),typeof R.removeEventListener=="function"&&R.removeEventListener("touchmove",L,!1))},[L,A,C]);return se.exports.useEffect(function(){if(!!t){var R=w.current;return M(R),function(){U(R)}}},[t,M,U]),function(R){w.current=R}}var _de=["boxSizing","height","overflow","paddingRight","position"],Ede={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Sde(e){e.preventDefault()}function Tde(e){e.stopPropagation()}function Ide(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Cde(){return"ontouchstart"in window||navigator.maxTouchPoints}var kde=!!(typeof window<"u"&&window.document&&window.document.createElement),aO=0,VS={capture:!1,passive:!1};function xit(e){var t=e.isEnabled,r=e.accountForScrollbars,i=r===void 0?!0:r,s=se.exports.useRef({}),u=se.exports.useRef(null),d=se.exports.useCallback(function(g){if(!!kde){var w=document.body,S=w&&w.style;if(i&&_de.forEach(function(M){var U=S&&S[M];s.current[M]=U}),i&&aO<1){var C=parseInt(s.current.paddingRight,10)||0,A=document.body?document.body.clientWidth:0,L=window.innerWidth-A+C||0;Object.keys(Ede).forEach(function(M){var U=Ede[M];S&&(S[M]=U)}),S&&(S.paddingRight="".concat(L,"px"))}w&&Cde()&&(w.addEventListener("touchmove",Sde,VS),g&&(g.addEventListener("touchstart",Ide,VS),g.addEventListener("touchmove",Tde,VS))),aO+=1}},[]),v=se.exports.useCallback(function(g){if(!!kde){var w=document.body,S=w&&w.style;aO=Math.max(aO-1,0),i&&aO<1&&_de.forEach(function(C){var A=s.current[C];S&&(S[C]=A)}),w&&Cde()&&(w.removeEventListener("touchmove",Sde,VS),g&&(g.removeEventListener("touchstart",Ide,VS),g.removeEventListener("touchmove",Tde,VS)))}},[]);return se.exports.useEffect(function(){if(!!t){var g=u.current;return d(g),function(){v(g)}}},[t,d,v]),function(g){u.current=g}}var Oit=function(){return document.activeElement&&document.activeElement.blur()},Nit={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Pit(e){var t=e.children,r=e.lockEnabled,i=e.captureEnabled,s=i===void 0?!0:i,u=e.onBottomArrive,d=e.onBottomLeave,v=e.onTopArrive,g=e.onTopLeave,w=Ait({isEnabled:s,onBottomArrive:u,onBottomLeave:d,onTopArrive:v,onTopLeave:g}),S=xit({isEnabled:r}),C=function(L){w(L),S(L)};return vn(On.Fragment,null,r&&vn("div",{onClick:Oit,css:Nit}),t(C))}var Rit=function(t){return t.label},qEe=function(t){return t.label},BEe=function(t){return t.value},Dit=function(t){return!!t.isDisabled},Lit={clearIndicator:$rt,container:Nrt,control:Krt,dropdownIndicator:jrt,group:Grt,groupHeading:Yrt,indicatorsContainer:Lrt,indicatorSeparator:qrt,input:Jrt,loadingIndicator:zrt,loadingMessage:Art,menu:Srt,menuList:Irt,menuPortal:xrt,multiValue:tit,multiValueLabel:nit,multiValueRemove:rit,noOptionsMessage:krt,option:ait,placeholder:cit,singleValue:hit,valueContainer:Rrt},Mit={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Fit=4,HEe=4,jit=38,Uit=HEe*2,$it={baseUnit:HEe,controlHeight:jit,menuGutter:Uit},tH={borderRadius:Fit,colors:Mit,spacing:$it},Vit={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:gde(),captureMenuScroll:!gde(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Iit(),formatGroupLabel:Rit,getOptionLabel:qEe,getOptionValue:BEe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Dit,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!yrt(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Ade(e,t,r,i){var s=GEe(e,t,r),u=QEe(e,t,r),d=WEe(e,t),v=L4(e,t);return{type:"option",data:t,isDisabled:s,isSelected:u,label:d,value:v,index:i}}function zEe(e,t){return e.options.map(function(r,i){if(r.options){var s=r.options.map(function(d,v){return Ade(e,d,t,v)}).filter(function(d){return xde(e,d)});return s.length>0?{type:"group",data:r,options:s,index:i}:void 0}var u=Ade(e,r,t,i);return xde(e,u)?u:void 0}).filter(function(r){return!!r})}function KEe(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,ZO(r.options.map(function(i){return i.data}))):t.push(r.data),t},[])}function qit(e,t){return KEe(zEe(e,t))}function xde(e,t){var r=e.inputValue,i=r===void 0?"":r,s=t.data,u=t.isSelected,d=t.label,v=t.value;return(!XEe(e)||!u)&&YEe(e,{label:d,value:v,data:s},i)}function Bit(e,t){var r=e.focusedValue,i=e.selectValue,s=i.indexOf(r);if(s>-1){var u=t.indexOf(r);if(u>-1)return r;if(s<t.length)return t[s]}return null}function Hit(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var WEe=function(t,r){return t.getOptionLabel(r)},L4=function(t,r){return t.getOptionValue(r)};function GEe(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function QEe(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var i=L4(e,t);return r.some(function(s){return L4(e,s)===i})}function YEe(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var XEe=function(t){var r=t.hideSelectedOptions,i=t.isMulti;return r===void 0?i:r},zit=1,qQ=function(e){ZP(r,e);var t=tR(r);function r(i){var s;return XP(this,r),s=t.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.instancePrefix="",s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(u){s.controlRef=u},s.focusedOptionRef=null,s.getFocusedOptionRef=function(u){s.focusedOptionRef=u},s.menuListRef=null,s.getMenuListRef=function(u){s.menuListRef=u},s.inputRef=null,s.getInputRef=function(u){s.inputRef=u},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(u,d){var v=s.props,g=v.onChange,w=v.name;d.name=w,s.ariaOnChange(u,d),g(u,d)},s.setValue=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",v=arguments.length>2?arguments[2]:void 0,g=s.props,w=g.closeMenuOnSelect,S=g.isMulti;s.onInputChange("",{action:"set-value"}),w&&(s.setState({inputIsHiddenAfterUpdate:!S}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(u,{action:d,option:v})},s.selectOption=function(u){var d=s.props,v=d.blurInputOnSelect,g=d.isMulti,w=d.name,S=s.state.selectValue,C=g&&s.isOptionSelected(u,S),A=s.isOptionDisabled(u,S);if(C){var L=s.getOptionValue(u);s.setValue(S.filter(function(M){return s.getOptionValue(M)!==L}),"deselect-option",u)}else if(!A)g?s.setValue([].concat(ZO(S),[u]),"select-option",u):s.setValue(u,"select-option");else{s.ariaOnChange(u,{action:"select-option",name:w});return}v&&s.blurInput()},s.removeValue=function(u){var d=s.props.isMulti,v=s.state.selectValue,g=s.getOptionValue(u),w=v.filter(function(C){return s.getOptionValue(C)!==g}),S=d?w:w[0]||null;s.onChange(S,{action:"remove-value",removedValue:u}),s.focusInput()},s.clearValue=function(){var u=s.state.selectValue;s.onChange(s.props.isMulti?[]:null,{action:"clear",removedValues:u})},s.popValue=function(){var u=s.props.isMulti,d=s.state.selectValue,v=d[d.length-1],g=d.slice(0,d.length-1),w=u?g:g[0]||null;s.onChange(w,{action:"pop-value",removedValue:v})},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var u=arguments.length,d=new Array(u),v=0;v<u;v++)d[v]=arguments[v];return drt.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(u){return WEe(s.props,u)},s.getOptionValue=function(u){return L4(s.props,u)},s.getStyles=function(u,d){var v=Lit[u](d);v.boxSizing="border-box";var g=s.props.styles[u];return g?g(v,d):v},s.getElementId=function(u){return"".concat(s.instancePrefix,"-").concat(u)},s.getComponents=function(){return pit(s.props)},s.buildCategorizedOptions=function(){return zEe(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return KEe(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(u,d){s.setState({ariaSelection:Ss({value:u},d)})},s.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(u){s.blockOptionHover=!1},s.onControlMouseDown=function(u){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()},s.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!s.props.isDisabled){var d=s.props,v=d.isMulti,g=d.menuIsOpen;s.focusInput(),g?(s.setState({inputIsHiddenAfterUpdate:!v}),s.onMenuClose()):s.openMenu("first"),u.preventDefault(),u.stopPropagation()}},s.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(s.clearValue(),u.stopPropagation(),s.openAfterFocus=!1,u.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(u){typeof s.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&$Q(u.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(u)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(u){var d=u.touches,v=d&&d.item(0);!v||(s.initialTouchX=v.clientX,s.initialTouchY=v.clientY,s.userIsDragging=!1)},s.onTouchMove=function(u){var d=u.touches,v=d&&d.item(0);if(!!v){var g=Math.abs(v.clientX-s.initialTouchX),w=Math.abs(v.clientY-s.initialTouchY),S=5;s.userIsDragging=g>S||w>S}},s.onTouchEnd=function(u){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(u.target)&&s.menuListRef&&!s.menuListRef.contains(u.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(u){s.userIsDragging||s.onControlMouseDown(u)},s.onClearIndicatorTouchEnd=function(u){s.userIsDragging||s.onClearIndicatorMouseDown(u)},s.onDropdownIndicatorTouchEnd=function(u){s.userIsDragging||s.onDropdownIndicatorMouseDown(u)},s.handleInputChange=function(u){var d=u.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change"}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(u){s.props.onFocus&&s.props.onFocus(u),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(u){if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(u),s.onInputChange("",{action:"input-blur"}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(u){s.blockOptionHover||s.state.focusedOption===u||s.setState({focusedOption:u})},s.shouldHideSelectedOptions=function(){return XEe(s.props)},s.onKeyDown=function(u){var d=s.props,v=d.isMulti,g=d.backspaceRemovesValue,w=d.escapeClearsValue,S=d.inputValue,C=d.isClearable,A=d.isDisabled,L=d.menuIsOpen,M=d.onKeyDown,U=d.tabSelectsValue,R=d.openMenuOnFocus,$=s.state,B=$.focusedOption,G=$.focusedValue,H=$.selectValue;if(!A&&!(typeof M=="function"&&(M(u),u.defaultPrevented))){switch(s.blockOptionHover=!0,u.key){case"ArrowLeft":if(!v||S)return;s.focusValue("previous");break;case"ArrowRight":if(!v||S)return;s.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if(G)s.removeValue(G);else{if(!g)return;v?s.popValue():C&&s.clearValue()}break;case"Tab":if(s.isComposing||u.shiftKey||!L||!U||!B||R&&s.isOptionSelected(B,H))return;s.selectOption(B);break;case"Enter":if(u.keyCode===229)break;if(L){if(!B||s.isComposing)return;s.selectOption(B);break}return;case"Escape":L?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close"}),s.onMenuClose()):C&&w&&s.clearValue();break;case" ":if(S)return;if(!L){s.openMenu("first");break}if(!B)return;s.selectOption(B);break;case"ArrowUp":L?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":L?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!L)return;s.focusOption("pageup");break;case"PageDown":if(!L)return;s.focusOption("pagedown");break;case"Home":if(!L)return;s.focusOption("first");break;case"End":if(!L)return;s.focusOption("last");break;default:return}u.preventDefault()}},s.instancePrefix="react-select-"+(s.props.instanceId||++zit),s.state.selectValue=R4(i.value),s}return JP(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(s){var u=this.props,d=u.isDisabled,v=u.menuIsOpen,g=this.state.isFocused;(g&&!d&&s.isDisabled||g&&v&&!s.menuIsOpen)&&this.focusInput(),g&&d&&!s.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(mrt(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,u){this.props.onInputChange(s,u)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(s){var u=this,d=this.state,v=d.selectValue,g=d.isFocused,w=this.buildFocusableOptions(),S=s==="first"?0:w.length-1;if(!this.props.isMulti){var C=w.indexOf(v[0]);C>-1&&(S=C)}this.scrollToFocusedOptionOnUpdate=!(g&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[S]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(s){var u=this.state,d=u.selectValue,v=u.focusedValue;if(!!this.props.isMulti){this.setState({focusedOption:null});var g=d.indexOf(v);v||(g=-1);var w=d.length-1,S=-1;if(!!d.length){switch(s){case"previous":g===0?S=0:g===-1?S=w:S=g-1;break;case"next":g>-1&&g<w&&(S=g+1);break}this.setState({inputIsHidden:S!==-1,focusedValue:d[S]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,d=this.state.focusedOption,v=this.getFocusableOptions();if(!!v.length){var g=0,w=v.indexOf(d);d||(w=-1),s==="up"?g=w>0?w-1:v.length-1:s==="down"?g=(w+1)%v.length:s==="pageup"?(g=w-u,g<0&&(g=0)):s==="pagedown"?(g=w+u,g>v.length-1&&(g=v.length-1)):s==="last"&&(g=v.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:v[g],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(tH):Ss(Ss({},tH),this.props.theme):tH}},{key:"getCommonProps",value:function(){var s=this.clearValue,u=this.cx,d=this.getStyles,v=this.getValue,g=this.selectOption,w=this.setValue,S=this.props,C=S.isMulti,A=S.isRtl,L=S.options,M=this.hasValue();return{clearValue:s,cx:u,getStyles:d,getValue:v,hasValue:M,isMulti:C,isRtl:A,options:L,selectOption:g,selectProps:S,setValue:w,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,u=s.isClearable,d=s.isMulti;return u===void 0?d:u}},{key:"isOptionDisabled",value:function(s,u){return GEe(this.props,s,u)}},{key:"isOptionSelected",value:function(s,u){return QEe(this.props,s,u)}},{key:"filterOption",value:function(s,u){return YEe(this.props,s,u)}},{key:"formatOptionLabel",value:function(s,u){if(typeof this.props.formatOptionLabel=="function"){var d=this.props.inputValue,v=this.state.selectValue;return this.props.formatOptionLabel(s,{context:u,inputValue:d,selectValue:v})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,u=s.isDisabled,d=s.isSearchable,v=s.inputId,g=s.inputValue,w=s.tabIndex,S=s.form,C=this.getComponents(),A=C.Input,L=this.state.inputIsHidden,M=this.commonProps,U=v||this.getElementId("input"),R={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return d?D(A,{...M,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:U,innerRef:this.getInputRef,isDisabled:u,isHidden:L,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:S,type:"text",value:g,...R}):D(Cit,{id:U,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:P4,onFocus:this.onInputFocus,readOnly:!0,disabled:u,tabIndex:w,form:S,value:"",...R})}},{key:"renderPlaceholderOrValue",value:function(){var s=this,u=this.getComponents(),d=u.MultiValue,v=u.MultiValueContainer,g=u.MultiValueLabel,w=u.MultiValueRemove,S=u.SingleValue,C=u.Placeholder,A=this.commonProps,L=this.props,M=L.controlShouldRenderValue,U=L.isDisabled,R=L.isMulti,$=L.inputValue,B=L.placeholder,G=this.state,H=G.selectValue,Z=G.focusedValue,Y=G.isFocused;if(!this.hasValue()||!M)return $?null:se.exports.createElement(C,{...A,key:"placeholder",isDisabled:U,isFocused:Y},B);if(R){var ce=H.map(function(xe,re){var ut=xe===Z;return se.exports.createElement(d,{...A,components:{Container:v,Label:g,Remove:w},isFocused:ut,isDisabled:U,key:"".concat(s.getOptionValue(xe)).concat(re),index:re,removeProps:{onClick:function(){return s.removeValue(xe)},onTouchEnd:function(){return s.removeValue(xe)},onMouseDown:function(ht){ht.preventDefault(),ht.stopPropagation()}},data:xe},s.formatOptionLabel(xe,"value"))});return ce}if($)return null;var ye=H[0];return D(S,{...A,data:ye,isDisabled:U,children:this.formatOptionLabel(ye,"value")})}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),u=s.ClearIndicator,d=this.commonProps,v=this.props,g=v.isDisabled,w=v.isLoading,S=this.state.isFocused;if(!this.isClearable()||!u||g||!this.hasValue()||w)return null;var C={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return D(u,{...d,innerProps:C,isFocused:S})}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),u=s.LoadingIndicator,d=this.commonProps,v=this.props,g=v.isDisabled,w=v.isLoading,S=this.state.isFocused;if(!u||!w)return null;var C={"aria-hidden":"true"};return D(u,{...d,innerProps:C,isDisabled:g,isFocused:S})}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),u=s.DropdownIndicator,d=s.IndicatorSeparator;if(!u||!d)return null;var v=this.commonProps,g=this.props.isDisabled,w=this.state.isFocused;return D(d,{...v,isDisabled:g,isFocused:w})}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),u=s.DropdownIndicator;if(!u)return null;var d=this.commonProps,v=this.props.isDisabled,g=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return D(u,{...d,innerProps:w,isDisabled:v,isFocused:g})}},{key:"renderMenu",value:function(){var s=this,u=this.getComponents(),d=u.Group,v=u.GroupHeading,g=u.Menu,w=u.MenuList,S=u.MenuPortal,C=u.LoadingMessage,A=u.NoOptionsMessage,L=u.Option,M=this.commonProps,U=this.state.focusedOption,R=this.props,$=R.captureMenuScroll,B=R.inputValue,G=R.isLoading,H=R.loadingMessage,Z=R.minMenuHeight,Y=R.maxMenuHeight,ce=R.menuIsOpen,ye=R.menuPlacement,xe=R.menuPosition,re=R.menuPortalTarget,ut=R.menuShouldBlockScroll,it=R.menuShouldScrollIntoView,ht=R.noOptionsMessage,Ie=R.onMenuScrollToTop,Ne=R.onMenuScrollToBottom;if(!ce)return null;var Be=function(Se,Ae){var ee=Se.type,be=Se.data,st=Se.isDisabled,Re=Se.isSelected,Pt=Se.label,Nt=Se.value,Vt=U===be,At=st?void 0:function(){return s.onOptionHover(be)},Mt=st?void 0:function(){return s.selectOption(be)},zt="".concat(s.getElementId("option"),"-").concat(Ae),Te={id:zt,onClick:Mt,onMouseMove:At,onMouseOver:At,tabIndex:-1};return se.exports.createElement(L,{...M,innerProps:Te,data:be,isDisabled:st,isSelected:Re,key:zt,label:Pt,type:ee,value:Nt,isFocused:Vt,innerRef:Vt?s.getFocusedOptionRef:void 0},s.formatOptionLabel(Se.data,"menu"))},_e;if(this.hasOptions())_e=this.getCategorizedOptions().map(function(fe){if(fe.type==="group"){var Se=fe.data,Ae=fe.options,ee=fe.index,be="".concat(s.getElementId("group"),"-").concat(ee),st="".concat(be,"-heading");return se.exports.createElement(d,{...M,key:be,data:Se,options:Ae,Heading:v,headingProps:{id:st,data:fe.data},label:s.formatGroupLabel(fe.data)},fe.options.map(function(Re){return Be(Re,"".concat(ee,"-").concat(Re.index))}))}else if(fe.type==="option")return Be(fe,"".concat(fe.index))});else if(G){var He=H({inputValue:B});if(He===null)return null;_e=D(C,{...M,children:He})}else{var ct=ht({inputValue:B});if(ct===null)return null;_e=D(A,{...M,children:ct})}var Pe={minMenuHeight:Z,maxMenuHeight:Y,menuPlacement:ye,menuPosition:xe,menuShouldScrollIntoView:it},he=D(OEe,{...M,...Pe,children:function(fe){var Se=fe.ref,Ae=fe.placerProps,ee=Ae.placement,be=Ae.maxHeight;return D(g,{...M,...Pe,innerRef:Se,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:G,placement:ee,children:D(Pit,{captureEnabled:$,onTopArrive:Ie,onBottomArrive:Ne,lockEnabled:ut,children:function(st){return D(w,{...M,innerRef:function(Pt){s.getMenuListRef(Pt),st(Pt)},isLoading:G,maxHeight:be,focusedOption:U,children:_e})}})})}});return re||xe==="fixed"?D(S,{...M,appendTo:re,controlElement:this.controlRef,menuPlacement:ye,menuPosition:xe,children:he}):he}},{key:"renderFormField",value:function(){var s=this,u=this.props,d=u.delimiter,v=u.isDisabled,g=u.isMulti,w=u.name,S=this.state.selectValue;if(!(!w||v))if(g)if(d){var C=S.map(function(M){return s.getOptionValue(M)}).join(d);return D("input",{name:w,type:"hidden",value:C})}else{var A=S.length>0?S.map(function(M,U){return D("input",{name:w,type:"hidden",value:s.getOptionValue(M)},"i-".concat(U))}):D("input",{name:w,type:"hidden"});return D("div",{children:A})}else{var L=S[0]?this.getOptionValue(S[0]):"";return D("input",{name:w,type:"hidden",value:L})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,u=this.state,d=u.ariaSelection,v=u.focusedOption,g=u.focusedValue,w=u.isFocused,S=u.selectValue,C=this.getFocusableOptions();return D(_it,{...s,ariaSelection:d,focusedOption:v,focusedValue:g,isFocused:w,selectValue:S,focusableOptions:C})}},{key:"render",value:function(){var s=this.getComponents(),u=s.Control,d=s.IndicatorsContainer,v=s.SelectContainer,g=s.ValueContainer,w=this.props,S=w.className,C=w.id,A=w.isDisabled,L=w.menuIsOpen,M=this.state.isFocused,U=this.commonProps=this.getCommonProps();return ge(v,{...U,className:S,innerProps:{id:C,onKeyDown:this.onKeyDown},isDisabled:A,isFocused:M,children:[this.renderLiveRegion(),ge(u,{...U,innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:A,isFocused:M,menuIsOpen:L,children:[ge(g,{...U,isDisabled:A,children:[this.renderPlaceholderOrValue(),this.renderInput()]}),ge(d,{...U,isDisabled:A,children:[this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator()]})]}),this.renderMenu(),this.renderFormField()]})}}],[{key:"getDerivedStateFromProps",value:function(s,u){var d=u.prevProps,v=u.clearFocusValueOnUpdate,g=u.inputIsHiddenAfterUpdate,w=s.options,S=s.value,C=s.menuIsOpen,A=s.inputValue,L={};if(d&&(S!==d.value||w!==d.options||C!==d.menuIsOpen||A!==d.inputValue)){var M=R4(S),U=C?qit(s,M):[],R=v?Bit(u,M):null,$=Hit(u,U);L={selectValue:M,focusedOption:$,focusedValue:R,clearFocusValueOnUpdate:!1}}var B=g!=null&&s!==d?{inputIsHidden:g,inputIsHiddenAfterUpdate:void 0}:{};return Ss(Ss(Ss({},L),B),{},{prevProps:s})}}]),r}(se.exports.Component);qQ.defaultProps=Vit;var Kit={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},JEe=function(t){var r,i;return i=r=function(s){ZP(d,s);var u=tR(d);function d(){var v;XP(this,d);for(var g=arguments.length,w=new Array(g),S=0;S<g;S++)w[S]=arguments[S];return v=u.call.apply(u,[this].concat(w)),v.select=void 0,v.state={inputValue:v.props.inputValue!==void 0?v.props.inputValue:v.props.defaultInputValue,menuIsOpen:v.props.menuIsOpen!==void 0?v.props.menuIsOpen:v.props.defaultMenuIsOpen,value:v.props.value!==void 0?v.props.value:v.props.defaultValue},v.onChange=function(C,A){v.callProp("onChange",C,A),v.setState({value:C})},v.onInputChange=function(C,A){var L=v.callProp("onInputChange",C,A);v.setState({inputValue:L!==void 0?L:C})},v.onMenuOpen=function(){v.callProp("onMenuOpen"),v.setState({menuIsOpen:!0})},v.onMenuClose=function(){v.callProp("onMenuClose"),v.setState({menuIsOpen:!1})},v}return JP(d,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(g){return this.props[g]!==void 0?this.props[g]:this.state[g]}},{key:"callProp",value:function(g){if(typeof this.props[g]=="function"){for(var w,S=arguments.length,C=new Array(S>1?S-1:0),A=1;A<S;A++)C[A-1]=arguments[A];return(w=this.props)[g].apply(w,C)}}},{key:"render",value:function(){var g=this,w=this.props;w.defaultInputValue,w.defaultMenuIsOpen,w.defaultValue;var S=Cy(w,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return D(t,{...S,ref:function(A){g.select=A},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")})}}]),d}(se.exports.Component),r.defaultProps=Kit,i},Ode=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=String(t).toLowerCase(),u=String(i.getOptionValue(r)).toLowerCase(),d=String(i.getOptionLabel(r)).toLowerCase();return u===s||d===s},Wit={formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,r,i,s){return!(!t||r.some(function(u){return Ode(t,u,s)})||i.some(function(u){return Ode(t,u,s)}))},getNewOptionData:function(t,r){return{label:r,value:t,__isNew__:!0}},getOptionValue:BEe,getOptionLabel:qEe},Git=Ss({allowCreateWhileLoading:!1,createOptionPosition:"last"},Wit),Qit=function(t){var r,i;return i=r=function(s){ZP(d,s);var u=tR(d);function d(v){var g;XP(this,d),g=u.call(this,v),g.select=void 0,g.onChange=function(S,C){var A=g.props,L=A.getNewOptionData,M=A.inputValue,U=A.isMulti,R=A.onChange,$=A.onCreateOption,B=A.value,G=A.name;if(C.action!=="select-option")return R(S,C);var H=g.state.newOption,Z=Array.isArray(S)?S:[S];if(Z[Z.length-1]===H){if($)$(M);else{var Y=L(M,M),ce={action:"create-option",name:G,option:Y};R(U?[].concat(ZO(R4(B)),[Y]):Y,ce)}return}R(S,C)};var w=v.options||[];return g.state={newOption:void 0,options:w},g}return JP(d,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var g=this,w=this.state.options;return D(t,{...this.props,ref:function(C){g.select=C},options:w,onChange:this.onChange})}}],[{key:"getDerivedStateFromProps",value:function(g,w){var S=g.allowCreateWhileLoading,C=g.createOptionPosition,A=g.formatCreateLabel,L=g.getNewOptionData,M=g.inputValue,U=g.isLoading,R=g.isValidNewOption,$=g.value,B=g.getOptionValue,G=g.getOptionLabel,H=g.options||[],Z=w.newOption;return R(M,R4($),H,{getOptionValue:B,getOptionLabel:G})?Z=L(M,A(M)):Z=void 0,{newOption:Z,options:(S||!U)&&Z?C==="first"?[Z].concat(ZO(H)):[].concat(ZO(H),[Z]):H}}}]),d}(se.exports.Component),r.defaultProps=Git,i},Yit=Qit(qQ),Xit=JEe(Yit);const eN=e=>{const[t,r,i]=X_e(e),{options:s,defaultValue:u,label:d,placeholder:v,isMulti:g,type:w,iid:S}=e,{touched:C,error:A}=r,{setValue:L}=i,M=R=>{if(Array.isArray(R)){const $=R.map(B=>B.value);L($)}else L(R.value)},U=R=>{if(w==="number"){const{key:$}=R.nativeEvent;/\D/.test($)&&$!=="Backspace"&&R.preventDefault()}};return ge("div",{className:"input-group",children:[C&&A?D("span",{className:"label-input label-error",children:A}):D("label",{className:"label-input",htmlFor:t.name,children:d}),D(Xit,{isMulti:g,placeholder:v,name:t.name,onChange:M,onKeyDown:U,defaultValue:u,options:s,instanceId:S,styles:{menu:R=>({...R,zIndex:10}),container:R=>({...R,marginBottom:"1.2rem"}),control:R=>({...R,border:C&&A?"1px solid red":"1px solid #cacaca"})}})]})};eN.defaultProps={isMulti:!1,placeholder:"",iid:"",options:[],type:"string"};eN.propTypes={options:ie.exports.arrayOf(ie.exports.object),defaultValue:ie.exports.oneOfType([ie.exports.object,ie.exports.array]).isRequired,label:ie.exports.string.isRequired,placeholder:ie.exports.string,isMulti:ie.exports.bool,type:ie.exports.string,iid:ie.exports.string};const Wa=({field:e,form:{touched:t,errors:r},label:i,inputRef:s,...u})=>ge("div",{className:"input-group",children:[t[e.name]&&r[e.name]?D("span",{className:"label-input label-error",children:r[e.name]}):D("label",{className:"label-input",htmlFor:e.name,children:i}),D("input",{type:"text",id:e.name,className:`input-form ${t[e.name]&&r[e.name]&&"input-error"}`,ref:s,...e,...u})]});Wa.defaultProps={inputRef:void 0};Wa.propTypes={label:ie.exports.string.isRequired,field:ie.exports.object.isRequired,form:ie.exports.object.isRequired,inputRef:ie.exports.oneOfType([ie.exports.func,ie.exports.shape({current:ie.exports.instanceOf(Element)})])};var Jit=function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(i,s,u){r.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:u})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,s){if(1&s&&(i=r(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var u=Object.create(null);if(r.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var d in i)r.d(u,d,function(v){return i[v]}.bind(null,d));return u},r.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(s,"a",s),s},r.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},r.p="",r(r.s=9)}([function(e,t){e.exports=se.exports},function(e,t,r){var i;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var s={}.hasOwnProperty;function u(){for(var d=[],v=0;v<arguments.length;v++){var g=arguments[v];if(g){var w=typeof g;if(w==="string"||w==="number")d.push(g);else if(Array.isArray(g)&&g.length){var S=u.apply(null,g);S&&d.push(S)}else if(w==="object")for(var C in g)s.call(g,C)&&g[C]&&d.push(C)}}return d.join(" ")}e.exports?(u.default=u,e.exports=u):(i=function(){return u}.apply(t,[]))===void 0||(e.exports=i)})()},function(e,t,r){(function(i){var s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,g=parseInt,w=typeof i=="object"&&i&&i.Object===Object&&i,S=typeof self=="object"&&self&&self.Object===Object&&self,C=w||S||Function("return this")(),A=Object.prototype.toString,L=C.Symbol,M=L?L.prototype:void 0,U=M?M.toString:void 0;function R(H){if(typeof H=="string")return H;if(B(H))return U?U.call(H):"";var Z=H+"";return Z=="0"&&1/H==-1/0?"-0":Z}function $(H){var Z=typeof H;return!!H&&(Z=="object"||Z=="function")}function B(H){return typeof H=="symbol"||function(Z){return!!Z&&typeof Z=="object"}(H)&&A.call(H)=="[object Symbol]"}function G(H){return H?(H=function(Z){if(typeof Z=="number")return Z;if(B(Z))return NaN;if($(Z)){var Y=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=$(Y)?Y+"":Y}if(typeof Z!="string")return Z===0?Z:+Z;Z=Z.replace(s,"");var ce=d.test(Z);return ce||v.test(Z)?g(Z.slice(2),ce?2:8):u.test(Z)?NaN:+Z}(H))===1/0||H===-1/0?17976931348623157e292*(H<0?-1:1):H==H?H:0:H===0?H:0}e.exports=function(H,Z,Y){var ce,ye,xe,re;return H=(ce=H)==null?"":R(ce),ye=function(ut){var it=G(ut),ht=it%1;return it==it?ht?it-ht:it:0}(Y),xe=0,re=H.length,ye==ye&&(re!==void 0&&(ye=ye<=re?ye:re),xe!==void 0&&(ye=ye>=xe?ye:xe)),Y=ye,Z=R(Z),H.slice(Y,Y+Z.length)==Z}}).call(this,r(3))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch{typeof window=="object"&&(r=window)}e.exports=r},function(e,t,r){(function(i){var s=/^\[object .+?Constructor\]$/,u=typeof i=="object"&&i&&i.Object===Object&&i,d=typeof self=="object"&&self&&self.Object===Object&&self,v=u||d||Function("return this")(),g,w=Array.prototype,S=Function.prototype,C=Object.prototype,A=v["__core-js_shared__"],L=(g=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",M=S.toString,U=C.hasOwnProperty,R=C.toString,$=RegExp("^"+M.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=w.splice,G=ut(v,"Map"),H=ut(Object,"create");function Z(Ie){var Ne=-1,Be=Ie?Ie.length:0;for(this.clear();++Ne<Be;){var _e=Ie[Ne];this.set(_e[0],_e[1])}}function Y(Ie){var Ne=-1,Be=Ie?Ie.length:0;for(this.clear();++Ne<Be;){var _e=Ie[Ne];this.set(_e[0],_e[1])}}function ce(Ie){var Ne=-1,Be=Ie?Ie.length:0;for(this.clear();++Ne<Be;){var _e=Ie[Ne];this.set(_e[0],_e[1])}}function ye(Ie,Ne){for(var Be,_e,He=Ie.length;He--;)if((Be=Ie[He][0])===(_e=Ne)||Be!=Be&&_e!=_e)return He;return-1}function xe(Ie){return!(!ht(Ie)||(Ne=Ie,L&&L in Ne))&&(function(Be){var _e=ht(Be)?R.call(Be):"";return _e=="[object Function]"||_e=="[object GeneratorFunction]"}(Ie)||function(Be){var _e=!1;if(Be!=null&&typeof Be.toString!="function")try{_e=!!(Be+"")}catch{}return _e}(Ie)?$:s).test(function(Be){if(Be!=null){try{return M.call(Be)}catch{}try{return Be+""}catch{}}return""}(Ie));var Ne}function re(Ie,Ne){var Be,_e,He=Ie.__data__;return((_e=typeof(Be=Ne))=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?Be!=="__proto__":Be===null)?He[typeof Ne=="string"?"string":"hash"]:He.map}function ut(Ie,Ne){var Be=function(_e,He){return _e==null?void 0:_e[He]}(Ie,Ne);return xe(Be)?Be:void 0}function it(Ie,Ne){if(typeof Ie!="function"||Ne&&typeof Ne!="function")throw new TypeError("Expected a function");var Be=function(){var _e=arguments,He=Ne?Ne.apply(this,_e):_e[0],ct=Be.cache;if(ct.has(He))return ct.get(He);var Pe=Ie.apply(this,_e);return Be.cache=ct.set(He,Pe),Pe};return Be.cache=new(it.Cache||ce),Be}function ht(Ie){var Ne=typeof Ie;return!!Ie&&(Ne=="object"||Ne=="function")}Z.prototype.clear=function(){this.__data__=H?H(null):{}},Z.prototype.delete=function(Ie){return this.has(Ie)&&delete this.__data__[Ie]},Z.prototype.get=function(Ie){var Ne=this.__data__;if(H){var Be=Ne[Ie];return Be==="__lodash_hash_undefined__"?void 0:Be}return U.call(Ne,Ie)?Ne[Ie]:void 0},Z.prototype.has=function(Ie){var Ne=this.__data__;return H?Ne[Ie]!==void 0:U.call(Ne,Ie)},Z.prototype.set=function(Ie,Ne){return this.__data__[Ie]=H&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},Y.prototype.clear=function(){this.__data__=[]},Y.prototype.delete=function(Ie){var Ne=this.__data__,Be=ye(Ne,Ie);return!(Be<0)&&(Be==Ne.length-1?Ne.pop():B.call(Ne,Be,1),!0)},Y.prototype.get=function(Ie){var Ne=this.__data__,Be=ye(Ne,Ie);return Be<0?void 0:Ne[Be][1]},Y.prototype.has=function(Ie){return ye(this.__data__,Ie)>-1},Y.prototype.set=function(Ie,Ne){var Be=this.__data__,_e=ye(Be,Ie);return _e<0?Be.push([Ie,Ne]):Be[_e][1]=Ne,this},ce.prototype.clear=function(){this.__data__={hash:new Z,map:new(G||Y),string:new Z}},ce.prototype.delete=function(Ie){return re(this,Ie).delete(Ie)},ce.prototype.get=function(Ie){return re(this,Ie).get(Ie)},ce.prototype.has=function(Ie){return re(this,Ie).has(Ie)},ce.prototype.set=function(Ie,Ne){return re(this,Ie).set(Ie,Ne),this},it.Cache=ce,e.exports=it}).call(this,r(3))},function(e,t,r){(function(i){var s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,g=parseInt,w=typeof i=="object"&&i&&i.Object===Object&&i,S=typeof self=="object"&&self&&self.Object===Object&&self,C=w||S||Function("return this")(),A=Object.prototype.toString,L=Math.max,M=Math.min,U=function(){return C.Date.now()};function R(B){var G=typeof B;return!!B&&(G=="object"||G=="function")}function $(B){if(typeof B=="number")return B;if(function(Z){return typeof Z=="symbol"||function(Y){return!!Y&&typeof Y=="object"}(Z)&&A.call(Z)=="[object Symbol]"}(B))return NaN;if(R(B)){var G=typeof B.valueOf=="function"?B.valueOf():B;B=R(G)?G+"":G}if(typeof B!="string")return B===0?B:+B;B=B.replace(s,"");var H=d.test(B);return H||v.test(B)?g(B.slice(2),H?2:8):u.test(B)?NaN:+B}e.exports=function(B,G,H){var Z,Y,ce,ye,xe,re,ut=0,it=!1,ht=!1,Ie=!0;if(typeof B!="function")throw new TypeError("Expected a function");function Ne(he){var fe=Z,Se=Y;return Z=Y=void 0,ut=he,ye=B.apply(Se,fe)}function Be(he){return ut=he,xe=setTimeout(He,G),it?Ne(he):ye}function _e(he){var fe=he-re;return re===void 0||fe>=G||fe<0||ht&&he-ut>=ce}function He(){var he=U();if(_e(he))return ct(he);xe=setTimeout(He,function(fe){var Se=G-(fe-re);return ht?M(Se,ce-(fe-ut)):Se}(he))}function ct(he){return xe=void 0,Ie&&Z?Ne(he):(Z=Y=void 0,ye)}function Pe(){var he=U(),fe=_e(he);if(Z=arguments,Y=this,re=he,fe){if(xe===void 0)return Be(re);if(ht)return xe=setTimeout(He,G),Ne(re)}return xe===void 0&&(xe=setTimeout(He,G)),ye}return G=$(G)||0,R(H)&&(it=!!H.leading,ce=(ht="maxWait"in H)?L($(H.maxWait)||0,G):ce,Ie="trailing"in H?!!H.trailing:Ie),Pe.cancel=function(){xe!==void 0&&clearTimeout(xe),ut=0,Z=re=Y=xe=void 0},Pe.flush=function(){return xe===void 0?ye:ct(U())},Pe}}).call(this,r(3))},function(e,t,r){(function(i,s){var u="[object Arguments]",d="[object Map]",v="[object Object]",g="[object Set]",w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,C=/^\./,A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L=/\\(\\)?/g,M=/^\[object .+?Constructor\]$/,U=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[u]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object Boolean]"]=R["[object DataView]"]=R["[object Date]"]=R["[object Error]"]=R["[object Function]"]=R[d]=R["[object Number]"]=R[v]=R["[object RegExp]"]=R[g]=R["[object String]"]=R["[object WeakMap]"]=!1;var $=typeof i=="object"&&i&&i.Object===Object&&i,B=typeof self=="object"&&self&&self.Object===Object&&self,G=$||B||Function("return this")(),H=t&&!t.nodeType&&t,Z=H&&typeof s=="object"&&s&&!s.nodeType&&s,Y=Z&&Z.exports===H&&$.process,ce=function(){try{return Y&&Y.binding("util")}catch{}}(),ye=ce&&ce.isTypedArray;function xe(oe,Me,nt,Ge){var Dt=-1,Wt=oe?oe.length:0;for(Ge&&Wt&&(nt=oe[++Dt]);++Dt<Wt;)nt=Me(nt,oe[Dt],Dt,oe);return nt}function re(oe,Me){for(var nt=-1,Ge=oe?oe.length:0;++nt<Ge;)if(Me(oe[nt],nt,oe))return!0;return!1}function ut(oe,Me,nt,Ge,Dt){return Dt(oe,function(Wt,hn,pr){nt=Ge?(Ge=!1,Wt):Me(nt,Wt,hn,pr)}),nt}function it(oe){var Me=!1;if(oe!=null&&typeof oe.toString!="function")try{Me=!!(oe+"")}catch{}return Me}function ht(oe){var Me=-1,nt=Array(oe.size);return oe.forEach(function(Ge,Dt){nt[++Me]=[Dt,Ge]}),nt}function Ie(oe){var Me=-1,nt=Array(oe.size);return oe.forEach(function(Ge){nt[++Me]=Ge}),nt}var Ne,Be,_e,He=Array.prototype,ct=Function.prototype,Pe=Object.prototype,he=G["__core-js_shared__"],fe=(Ne=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||""))?"Symbol(src)_1."+Ne:"",Se=ct.toString,Ae=Pe.hasOwnProperty,ee=Pe.toString,be=RegExp("^"+Se.call(Ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),st=G.Symbol,Re=G.Uint8Array,Pt=Pe.propertyIsEnumerable,Nt=He.splice,Vt=(Be=Object.keys,_e=Object,function(oe){return Be(_e(oe))}),At=Or(G,"DataView"),Mt=Or(G,"Map"),zt=Or(G,"Promise"),Te=Or(G,"Set"),qe=Or(G,"WeakMap"),rt=Or(Object,"create"),Fe=As(At),Ot=As(Mt),we=As(zt),Ze=As(Te),ot=As(qe),je=st?st.prototype:void 0,Le=je?je.valueOf:void 0,vt=je?je.toString:void 0;function bt(oe){var Me=-1,nt=oe?oe.length:0;for(this.clear();++Me<nt;){var Ge=oe[Me];this.set(Ge[0],Ge[1])}}function ft(oe){var Me=-1,nt=oe?oe.length:0;for(this.clear();++Me<nt;){var Ge=oe[Me];this.set(Ge[0],Ge[1])}}function _n(oe){var Me=-1,nt=oe?oe.length:0;for(this.clear();++Me<nt;){var Ge=oe[Me];this.set(Ge[0],Ge[1])}}function xr(oe){var Me=-1,nt=oe?oe.length:0;for(this.__data__=new _n;++Me<nt;)this.add(oe[Me])}function ur(oe){this.__data__=new ft(oe)}function yi(oe,Me){var nt=ln(oe)||tm(oe)?function(hn,pr){for(var cr=-1,Un=Array(hn);++cr<hn;)Un[cr]=pr(cr);return Un}(oe.length,String):[],Ge=nt.length,Dt=!!Ge;for(var Wt in oe)!Me&&!Ae.call(oe,Wt)||Dt&&(Wt=="length"||ju(Wt,Ge))||nt.push(Wt);return nt}function te(oe,Me){for(var nt=oe.length;nt--;)if(Nr(oe[nt][0],Me))return nt;return-1}bt.prototype.clear=function(){this.__data__=rt?rt(null):{}},bt.prototype.delete=function(oe){return this.has(oe)&&delete this.__data__[oe]},bt.prototype.get=function(oe){var Me=this.__data__;if(rt){var nt=Me[oe];return nt==="__lodash_hash_undefined__"?void 0:nt}return Ae.call(Me,oe)?Me[oe]:void 0},bt.prototype.has=function(oe){var Me=this.__data__;return rt?Me[oe]!==void 0:Ae.call(Me,oe)},bt.prototype.set=function(oe,Me){return this.__data__[oe]=rt&&Me===void 0?"__lodash_hash_undefined__":Me,this},ft.prototype.clear=function(){this.__data__=[]},ft.prototype.delete=function(oe){var Me=this.__data__,nt=te(Me,oe);return!(nt<0)&&(nt==Me.length-1?Me.pop():Nt.call(Me,nt,1),!0)},ft.prototype.get=function(oe){var Me=this.__data__,nt=te(Me,oe);return nt<0?void 0:Me[nt][1]},ft.prototype.has=function(oe){return te(this.__data__,oe)>-1},ft.prototype.set=function(oe,Me){var nt=this.__data__,Ge=te(nt,oe);return Ge<0?nt.push([oe,Me]):nt[Ge][1]=Me,this},_n.prototype.clear=function(){this.__data__={hash:new bt,map:new(Mt||ft),string:new bt}},_n.prototype.delete=function(oe){return Ji(this,oe).delete(oe)},_n.prototype.get=function(oe){return Ji(this,oe).get(oe)},_n.prototype.has=function(oe){return Ji(this,oe).has(oe)},_n.prototype.set=function(oe,Me){return Ji(this,oe).set(oe,Me),this},xr.prototype.add=xr.prototype.push=function(oe){return this.__data__.set(oe,"__lodash_hash_undefined__"),this},xr.prototype.has=function(oe){return this.__data__.has(oe)},ur.prototype.clear=function(){this.__data__=new ft},ur.prototype.delete=function(oe){return this.__data__.delete(oe)},ur.prototype.get=function(oe){return this.__data__.get(oe)},ur.prototype.has=function(oe){return this.__data__.has(oe)},ur.prototype.set=function(oe,Me){var nt=this.__data__;if(nt instanceof ft){var Ge=nt.__data__;if(!Mt||Ge.length<199)return Ge.push([oe,Me]),this;nt=this.__data__=new _n(Ge)}return nt.set(oe,Me),this};var Ee,Ue=(Ee=function(oe,Me){return oe&&ze(oe,Me,cp)},function(oe,Me){if(oe==null)return oe;if(!Gr(oe))return Ee(oe,Me);for(var nt=oe.length,Ge=-1,Dt=Object(oe);++Ge<nt&&Me(Dt[Ge],Ge,Dt)!==!1;);return oe}),ze=function(oe){return function(Me,nt,Ge){for(var Dt=-1,Wt=Object(Me),hn=Ge(Me),pr=hn.length;pr--;){var cr=hn[oe?pr:++Dt];if(nt(Wt[cr],cr,Wt)===!1)break}return Me}}();function _t(oe,Me){for(var nt=0,Ge=(Me=Zv(Me,oe)?[Me]:dr(Me)).length;oe!=null&&nt<Ge;)oe=oe[Ui(Me[nt++])];return nt&&nt==Ge?oe:void 0}function kt(oe,Me){return oe!=null&&Me in Object(oe)}function Bt(oe,Me,nt,Ge,Dt){return oe===Me||(oe==null||Me==null||!Os(oe)&&!_l(Me)?oe!=oe&&Me!=Me:function(Wt,hn,pr,cr,Un,Sn){var Fo=ln(Wt),fo=ln(hn),$n="[object Array]",Oi="[object Array]";Fo||($n=($n=Wr(Wt))==u?v:$n),fo||(Oi=(Oi=Wr(hn))==u?v:Oi);var jo=$n==v&&!it(Wt),Uu=Oi==v&&!it(hn),$u=$n==Oi;if($u&&!jo)return Sn||(Sn=new ur),Fo||Pf(Wt)?Kr(Wt,hn,pr,cr,Un,Sn):function(or,tr,El,Vu,$i,Qr,ga){switch(El){case"[object DataView]":if(or.byteLength!=tr.byteLength||or.byteOffset!=tr.byteOffset)return!1;or=or.buffer,tr=tr.buffer;case"[object ArrayBuffer]":return!(or.byteLength!=tr.byteLength||!Vu(new Re(or),new Re(tr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nr(+or,+tr);case"[object Error]":return or.name==tr.name&&or.message==tr.message;case"[object RegExp]":case"[object String]":return or==tr+"";case d:var tu=ht;case g:var Yr=2&Qr;if(tu||(tu=Ie),or.size!=tr.size&&!Yr)return!1;var Rf=ga.get(or);if(Rf)return Rf==tr;Qr|=1,ga.set(or,tr);var qu=Kr(tu(or),tu(tr),Vu,$i,Qr,ga);return ga.delete(or),qu;case"[object Symbol]":if(Le)return Le.call(or)==Le.call(tr)}return!1}(Wt,hn,$n,pr,cr,Un,Sn);if(!(2&Un)){var Ns=jo&&Ae.call(Wt,"__wrapped__"),S_=Uu&&Ae.call(hn,"__wrapped__");if(Ns||S_){var Th=Ns?Wt.value():Wt,ma=S_?hn.value():hn;return Sn||(Sn=new ur),pr(Th,ma,cr,Un,Sn)}}return $u?(Sn||(Sn=new ur),function(or,tr,El,Vu,$i,Qr){var ga=2&$i,tu=cp(or),Yr=tu.length,Rf=cp(tr).length;if(Yr!=Rf&&!ga)return!1;for(var qu=Yr;qu--;){var Ps=tu[qu];if(!(ga?Ps in tr:Ae.call(tr,Ps)))return!1}var rm=Qr.get(or);if(rm&&Qr.get(tr))return rm==tr;var gn=!0;Qr.set(or,tr),Qr.set(tr,or);for(var Uo=ga;++qu<Yr;){Ps=tu[qu];var ya=or[Ps],rs=tr[Ps];if(Vu)var lp=ga?Vu(rs,ya,Ps,tr,or,Qr):Vu(ya,rs,Ps,or,tr,Qr);if(!(lp===void 0?ya===rs||El(ya,rs,Vu,$i,Qr):lp)){gn=!1;break}Uo||(Uo=Ps=="constructor")}if(gn&&!Uo){var Ih=or.constructor,Sl=tr.constructor;Ih==Sl||!("constructor"in or)||!("constructor"in tr)||typeof Ih=="function"&&Ih instanceof Ih&&typeof Sl=="function"&&Sl instanceof Sl||(gn=!1)}return Qr.delete(or),Qr.delete(tr),gn}(Wt,hn,pr,cr,Un,Sn)):!1}(oe,Me,Bt,nt,Ge,Dt))}function cn(oe){return!(!Os(oe)||function(Me){return!!fe&&fe in Me}(oe))&&(eu(oe)||it(oe)?be:M).test(As(oe))}function zn(oe){return typeof oe=="function"?oe:oe==null?E_:typeof oe=="object"?ln(oe)?function(Ge,Dt){return Zv(Ge)&&em(Dt)?up(Ui(Ge),Dt):function(Wt){var hn=function(pr,cr,Un){var Sn=pr==null?void 0:_t(pr,cr);return Sn===void 0?Un:Sn}(Wt,Ge);return hn===void 0&&hn===Dt?function(pr,cr){return pr!=null&&function(Un,Sn,Fo){Sn=Zv(Sn,Un)?[Sn]:dr(Sn);for(var fo,$n=-1,Oi=Sn.length;++$n<Oi;){var jo=Ui(Sn[$n]);if(!(fo=Un!=null&&Fo(Un,jo)))break;Un=Un[jo]}return fo||!!(Oi=Un?Un.length:0)&&xs(Oi)&&ju(jo,Oi)&&(ln(Un)||tm(Un))}(pr,cr,kt)}(Wt,Ge):Bt(Dt,hn,void 0,3)}}(oe[0],oe[1]):function(Ge){var Dt=function(Wt){for(var hn=cp(Wt),pr=hn.length;pr--;){var cr=hn[pr],Un=Wt[cr];hn[pr]=[cr,Un,em(Un)]}return hn}(Ge);return Dt.length==1&&Dt[0][2]?up(Dt[0][0],Dt[0][1]):function(Wt){return Wt===Ge||function(hn,pr,cr,Un){var Sn=cr.length,Fo=Sn,fo=!Un;if(hn==null)return!Fo;for(hn=Object(hn);Sn--;){var $n=cr[Sn];if(fo&&$n[2]?$n[1]!==hn[$n[0]]:!($n[0]in hn))return!1}for(;++Sn<Fo;){var Oi=($n=cr[Sn])[0],jo=hn[Oi],Uu=$n[1];if(fo&&$n[2]){if(jo===void 0&&!(Oi in hn))return!1}else{var $u=new ur;if(Un)var Ns=Un(jo,Uu,Oi,hn,pr,$u);if(!(Ns===void 0?Bt(Uu,jo,Un,3,$u):Ns))return!1}}return!0}(Wt,Ge,Dt)}}(oe):Zv(Me=oe)?(nt=Ui(Me),function(Ge){return Ge==null?void 0:Ge[nt]}):function(Ge){return function(Dt){return _t(Dt,Ge)}}(Me);var Me,nt}function fr(oe){if(nt=(Me=oe)&&Me.constructor,Ge=typeof nt=="function"&&nt.prototype||Pe,Me!==Ge)return Vt(oe);var Me,nt,Ge,Dt=[];for(var Wt in Object(oe))Ae.call(oe,Wt)&&Wt!="constructor"&&Dt.push(Wt);return Dt}function dr(oe){return ln(oe)?oe:OI(oe)}function Kr(oe,Me,nt,Ge,Dt,Wt){var hn=2&Dt,pr=oe.length,cr=Me.length;if(pr!=cr&&!(hn&&cr>pr))return!1;var Un=Wt.get(oe);if(Un&&Wt.get(Me))return Un==Me;var Sn=-1,Fo=!0,fo=1&Dt?new xr:void 0;for(Wt.set(oe,Me),Wt.set(Me,oe);++Sn<pr;){var $n=oe[Sn],Oi=Me[Sn];if(Ge)var jo=hn?Ge(Oi,$n,Sn,Me,oe,Wt):Ge($n,Oi,Sn,oe,Me,Wt);if(jo!==void 0){if(jo)continue;Fo=!1;break}if(fo){if(!re(Me,function(Uu,$u){if(!fo.has($u)&&($n===Uu||nt($n,Uu,Ge,Dt,Wt)))return fo.add($u)})){Fo=!1;break}}else if($n!==Oi&&!nt($n,Oi,Ge,Dt,Wt)){Fo=!1;break}}return Wt.delete(oe),Wt.delete(Me),Fo}function Ji(oe,Me){var nt,Ge,Dt=oe.__data__;return((Ge=typeof(nt=Me))=="string"||Ge=="number"||Ge=="symbol"||Ge=="boolean"?nt!=="__proto__":nt===null)?Dt[typeof Me=="string"?"string":"hash"]:Dt.map}function Or(oe,Me){var nt=function(Ge,Dt){return Ge==null?void 0:Ge[Dt]}(oe,Me);return cn(nt)?nt:void 0}var Wr=function(oe){return ee.call(oe)};function ju(oe,Me){return!!(Me=Me==null?9007199254740991:Me)&&(typeof oe=="number"||U.test(oe))&&oe>-1&&oe%1==0&&oe<Me}function Zv(oe,Me){if(ln(oe))return!1;var nt=typeof oe;return!(nt!="number"&&nt!="symbol"&&nt!="boolean"&&oe!=null&&!nm(oe))||S.test(oe)||!w.test(oe)||Me!=null&&oe in Object(Me)}function em(oe){return oe==oe&&!Os(oe)}function up(oe,Me){return function(nt){return nt!=null&&nt[oe]===Me&&(Me!==void 0||oe in Object(nt))}}(At&&Wr(new At(new ArrayBuffer(1)))!="[object DataView]"||Mt&&Wr(new Mt)!=d||zt&&Wr(zt.resolve())!="[object Promise]"||Te&&Wr(new Te)!=g||qe&&Wr(new qe)!="[object WeakMap]")&&(Wr=function(oe){var Me=ee.call(oe),nt=Me==v?oe.constructor:void 0,Ge=nt?As(nt):void 0;if(Ge)switch(Ge){case Fe:return"[object DataView]";case Ot:return d;case we:return"[object Promise]";case Ze:return g;case ot:return"[object WeakMap]"}return Me});var OI=Za(function(oe){var Me;oe=(Me=oe)==null?"":function(Ge){if(typeof Ge=="string")return Ge;if(nm(Ge))return vt?vt.call(Ge):"";var Dt=Ge+"";return Dt=="0"&&1/Ge==-1/0?"-0":Dt}(Me);var nt=[];return C.test(oe)&&nt.push(""),oe.replace(A,function(Ge,Dt,Wt,hn){nt.push(Wt?hn.replace(L,"$1"):Dt||Ge)}),nt});function Ui(oe){if(typeof oe=="string"||nm(oe))return oe;var Me=oe+"";return Me=="0"&&1/oe==-1/0?"-0":Me}function As(oe){if(oe!=null){try{return Se.call(oe)}catch{}try{return oe+""}catch{}}return""}function Za(oe,Me){if(typeof oe!="function"||Me&&typeof Me!="function")throw new TypeError("Expected a function");var nt=function(){var Ge=arguments,Dt=Me?Me.apply(this,Ge):Ge[0],Wt=nt.cache;if(Wt.has(Dt))return Wt.get(Dt);var hn=oe.apply(this,Ge);return nt.cache=Wt.set(Dt,hn),hn};return nt.cache=new(Za.Cache||_n),nt}function Nr(oe,Me){return oe===Me||oe!=oe&&Me!=Me}function tm(oe){return function(Me){return _l(Me)&&Gr(Me)}(oe)&&Ae.call(oe,"callee")&&(!Pt.call(oe,"callee")||ee.call(oe)==u)}Za.Cache=_n;var ln=Array.isArray;function Gr(oe){return oe!=null&&xs(oe.length)&&!eu(oe)}function eu(oe){var Me=Os(oe)?ee.call(oe):"";return Me=="[object Function]"||Me=="[object GeneratorFunction]"}function xs(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=9007199254740991}function Os(oe){var Me=typeof oe;return!!oe&&(Me=="object"||Me=="function")}function _l(oe){return!!oe&&typeof oe=="object"}function nm(oe){return typeof oe=="symbol"||_l(oe)&&ee.call(oe)=="[object Symbol]"}var Pf=ye?function(oe){return function(Me){return oe(Me)}}(ye):function(oe){return _l(oe)&&xs(oe.length)&&!!R[ee.call(oe)]};function cp(oe){return Gr(oe)?yi(oe):fr(oe)}function E_(oe){return oe}s.exports=function(oe,Me,nt){var Ge=ln(oe)?xe:ut,Dt=arguments.length<3;return Ge(oe,zn(Me),nt,Dt,Ue)}}).call(this,r(3),r(7)(e))},function(e,t){e.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return r.i}}),r.webpackPolyfill=1),r}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(r,i){return r>>=0,i=String(i!==void 0?i:" "),this.length>r?String(this):((r-=this.length)>i.length&&(i+=i.repeat(r/i.length)),String(this)+i.slice(0,r))})},function(e,t,r){function i(Pe,he,fe){return he in Pe?Object.defineProperty(Pe,he,{value:fe,enumerable:!0,configurable:!0,writable:!0}):Pe[he]=fe,Pe}function s(Pe){if(Symbol.iterator in Object(Pe)||Object.prototype.toString.call(Pe)==="[object Arguments]")return Array.from(Pe)}function u(Pe){return function(he){if(Array.isArray(he)){for(var fe=0,Se=new Array(he.length);fe<he.length;fe++)Se[fe]=he[fe];return Se}}(Pe)||s(Pe)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(Pe){if(Array.isArray(Pe))return Pe}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(Pe,he){if(!(Pe instanceof he))throw new TypeError("Cannot call a class as a function")}function w(Pe,he){for(var fe=0;fe<he.length;fe++){var Se=he[fe];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(Pe,Se.key,Se)}}function S(Pe){return(S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he})(Pe)}function C(Pe){return(C=typeof Symbol=="function"&&S(Symbol.iterator)==="symbol"?function(he){return S(he)}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":S(he)})(Pe)}function A(Pe){if(Pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pe}function L(Pe){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(he){return he.__proto__||Object.getPrototypeOf(he)})(Pe)}function M(Pe,he){return(M=Object.setPrototypeOf||function(fe,Se){return fe.__proto__=Se,fe})(Pe,he)}r.r(t);var U=r(0),R=r.n(U),$=r(5),B=r.n($),G=r(4),H=r.n(G),Z=r(6),Y=r.n(Z),ce=r(2),ye=r.n(ce),xe=r(1),re=r.n(xe);r(8);function ut(Pe,he){return d(Pe)||function(fe,Se){var Ae=[],ee=!0,be=!1,st=void 0;try{for(var Re,Pt=fe[Symbol.iterator]();!(ee=(Re=Pt.next()).done)&&(Ae.push(Re.value),!Se||Ae.length!==Se);ee=!0);}catch(Nt){be=!0,st=Nt}finally{try{ee||Pt.return==null||Pt.return()}finally{if(be)throw st}}return Ae}(Pe,he)||v()}var it=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["C\xF4te d\u2019Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Cura\xE7ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["R\xE9union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],ht=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barth\xE9lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function Ie(Pe,he,fe,Se,Ae){return!fe||Ae?Pe+"".padEnd(he.length,".")+" "+Se:Pe+"".padEnd(he.length,".")+" "+fe}function Ne(Pe,he,fe,Se,Ae){var ee,be,st=[];return be=he===!0,[(ee=[]).concat.apply(ee,u(Pe.map(function(Re){var Pt={name:Re[0],regions:Re[1],iso2:Re[2],countryCode:Re[3],dialCode:Re[3],format:Ie(fe,Re[3],Re[4],Se,Ae),priority:Re[5]||0},Nt=[];return Re[6]&&Re[6].map(function(Vt){var At=function(Mt){for(var zt=1;zt<arguments.length;zt++){var Te=arguments[zt]!=null?arguments[zt]:{},qe=Object.keys(Te);typeof Object.getOwnPropertySymbols=="function"&&(qe=qe.concat(Object.getOwnPropertySymbols(Te).filter(function(rt){return Object.getOwnPropertyDescriptor(Te,rt).enumerable}))),qe.forEach(function(rt){i(Mt,rt,Te[rt])})}return Mt}({},Pt);At.dialCode=Re[3]+Vt,At.isAreaCode=!0,At.areaCodeLength=Vt.length,Nt.push(At)}),Nt.length>0?(Pt.mainCode=!0,be||he.constructor.name==="Array"&&he.includes(Re[2])?(Pt.hasAreaCodes=!0,[Pt].concat(Nt)):(st=st.concat(Nt),[Pt])):[Pt]}))),st]}function Be(Pe,he,fe,Se){if(fe!==null){var Ae=Object.keys(fe),ee=Object.values(fe);Ae.forEach(function(be,st){if(Se)return Pe.push([be,ee[st]]);var Re=Pe.findIndex(function(Nt){return Nt[0]===be});if(Re===-1){var Pt=[be];Pt[he]=ee[st],Pe.push(Pt)}else Pe[Re][he]=ee[st]})}}function _e(Pe,he){return he.length===0?Pe:Pe.map(function(fe){var Se=he.findIndex(function(ee){return ee[0]===fe[2]});if(Se===-1)return fe;var Ae=he[Se];return Ae[1]&&(fe[4]=Ae[1]),Ae[3]&&(fe[5]=Ae[3]),Ae[2]&&(fe[6]=Ae[2]),fe})}var He=function Pe(he,fe,Se,Ae,ee,be,st,Re,Pt,Nt,Vt,At,Mt,zt){g(this,Pe),this.filterRegions=function(je,Le){if(typeof je=="string"){var vt=je;return Le.filter(function(bt){return bt.regions.some(function(ft){return ft===vt})})}return Le.filter(function(bt){return je.map(function(ft){return bt.regions.some(function(_n){return _n===ft})}).some(function(ft){return ft})})},this.sortTerritories=function(je,Le){var vt=[].concat(u(je),u(Le));return vt.sort(function(bt,ft){return bt.name<ft.name?-1:bt.name>ft.name?1:0}),vt},this.getFilteredCountryList=function(je,Le,vt){return je.length===0?Le:vt?je.map(function(bt){var ft=Le.find(function(_n){return _n.iso2===bt});if(ft)return ft}).filter(function(bt){return bt}):Le.filter(function(bt){return je.some(function(ft){return ft===bt.iso2})})},this.localizeCountries=function(je,Le,vt){for(var bt=0;bt<je.length;bt++)Le[je[bt].iso2]!==void 0?je[bt].localName=Le[je[bt].iso2]:Le[je[bt].name]!==void 0&&(je[bt].localName=Le[je[bt].name]);return vt||je.sort(function(ft,_n){return ft.localName<_n.localName?-1:ft.localName>_n.localName?1:0}),je},this.getCustomAreas=function(je,Le){for(var vt=[],bt=0;bt<Le.length;bt++){var ft=JSON.parse(JSON.stringify(je));ft.dialCode+=Le[bt],vt.push(ft)}return vt},this.excludeCountries=function(je,Le){return Le.length===0?je:je.filter(function(vt){return!Le.includes(vt.iso2)})};var Te=function(je,Le,vt){var bt=[];return Be(bt,1,je,!0),Be(bt,3,Le),Be(bt,2,vt),bt}(Re,Pt,Nt),qe=_e(JSON.parse(JSON.stringify(it)),Te),rt=_e(JSON.parse(JSON.stringify(ht)),Te),Fe=ut(Ne(qe,he,At,Mt,zt),2),Ot=Fe[0],we=Fe[1];if(fe){var Ze=ut(Ne(rt,he,At,Mt,zt),2),ot=Ze[0];Ze[1],Ot=this.sortTerritories(ot,Ot)}Se&&(Ot=this.filterRegions(Se,Ot)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(Ae,Ot,st.includes("onlyCountries")),be),Vt,st.includes("onlyCountries")),this.preferredCountries=ee.length===0?[]:this.localizeCountries(this.getFilteredCountryList(ee,Ot,st.includes("preferredCountries")),Vt,st.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(Ae,we),be)},ct=function(Pe){function he(Ae){var ee;g(this,he),(ee=function(Te,qe){return!qe||C(qe)!=="object"&&typeof qe!="function"?A(Te):qe}(this,L(he).call(this,Ae))).getProbableCandidate=H()(function(Te){return Te&&Te.length!==0?ee.state.onlyCountries.filter(function(qe){return ye()(qe.name.toLowerCase(),Te.toLowerCase())},A(A(ee)))[0]:null}),ee.guessSelectedCountry=H()(function(Te,qe,rt,Fe){var Ot;if(ee.props.enableAreaCodes===!1&&(Fe.some(function(ot){if(ye()(Te,ot.dialCode))return rt.some(function(je){if(ot.iso2===je.iso2&&je.mainCode)return Ot=je,!0}),!0}),Ot))return Ot;var we=rt.find(function(ot){return ot.iso2==qe});if(Te.trim()==="")return we;var Ze=rt.reduce(function(ot,je){return ye()(Te,je.dialCode)&&(je.dialCode.length>ot.dialCode.length||je.dialCode.length===ot.dialCode.length&&je.priority<ot.priority)?je:ot},{dialCode:"",priority:10001},A(A(ee)));return Ze.name?Ze:we}),ee.updateCountry=function(Te){var qe,rt=ee.state.onlyCountries;(qe=Te.indexOf(0)>="0"&&Te.indexOf(0)<="9"?rt.find(function(Fe){return Fe.dialCode==+Te}):rt.find(function(Fe){return Fe.iso2==Te}))&&qe.dialCode&&ee.setState({selectedCountry:qe,formattedNumber:ee.props.disableCountryCode?"":ee.formatNumber(qe.dialCode,qe)})},ee.scrollTo=function(Te,qe){if(Te){var rt=ee.dropdownRef;if(rt&&document.body){var Fe=rt.offsetHeight,Ot=rt.getBoundingClientRect().top+document.body.scrollTop,we=Ot+Fe,Ze=Te,ot=Ze.getBoundingClientRect(),je=Ze.offsetHeight,Le=ot.top+document.body.scrollTop,vt=Le+je,bt=Le-Ot+rt.scrollTop,ft=Fe/2-je/2;if(ee.props.enableSearch?Le<Ot+32:Le<Ot)qe&&(bt-=ft),rt.scrollTop=bt;else if(vt>we){qe&&(bt+=ft);var _n=Fe-je;rt.scrollTop=bt-_n}}}},ee.scrollToTop=function(){var Te=ee.dropdownRef;Te&&document.body&&(Te.scrollTop=0)},ee.formatNumber=function(Te,qe){if(!qe)return Te;var rt,Fe=qe.format,Ot=ee.props,we=Ot.disableCountryCode,Ze=Ot.enableAreaCodeStretch,ot=Ot.enableLongNumbers,je=Ot.autoFormat;if(we?((rt=Fe.split(" ")).shift(),rt=rt.join(" ")):Ze&&qe.isAreaCode?((rt=Fe.split(" "))[1]=rt[1].replace(/\.+/,"".padEnd(qe.areaCodeLength,".")),rt=rt.join(" ")):rt=Fe,!Te||Te.length===0)return we?"":ee.props.prefix;if(Te&&Te.length<2||!rt||!je)return we?Te:ee.props.prefix+Te;var Le,vt=Y()(rt,function(bt,ft){if(bt.remainingText.length===0)return bt;if(ft!==".")return{formattedText:bt.formattedText+ft,remainingText:bt.remainingText};var _n,xr=d(_n=bt.remainingText)||s(_n)||v(),ur=xr[0],yi=xr.slice(1);return{formattedText:bt.formattedText+ur,remainingText:yi}},{formattedText:"",remainingText:Te.split("")});return(Le=ot?vt.formattedText+vt.remainingText.join(""):vt.formattedText).includes("(")&&!Le.includes(")")&&(Le+=")"),Le},ee.cursorToEnd=function(){var Te=ee.numberInputRef;if(document.activeElement===Te){Te.focus();var qe=Te.value.length;Te.value.charAt(qe-1)===")"&&(qe-=1),Te.setSelectionRange(qe,qe)}},ee.getElement=function(Te){return ee["flag_no_".concat(Te)]},ee.getCountryData=function(){return ee.state.selectedCountry?{name:ee.state.selectedCountry.name||"",dialCode:ee.state.selectedCountry.dialCode||"",countryCode:ee.state.selectedCountry.iso2||"",format:ee.state.selectedCountry.format||""}:{}},ee.handleFlagDropdownClick=function(Te){if(Te.preventDefault(),ee.state.showDropdown||!ee.props.disabled){var qe=ee.state,rt=qe.preferredCountries,Fe=qe.onlyCountries,Ot=qe.selectedCountry,we=ee.concatPreferredCountries(rt,Fe).findIndex(function(Ze){return Ze.dialCode===Ot.dialCode&&Ze.iso2===Ot.iso2});ee.setState({showDropdown:!ee.state.showDropdown,highlightCountryIndex:we},function(){ee.state.showDropdown&&ee.scrollTo(ee.getElement(ee.state.highlightCountryIndex))})}},ee.handleInput=function(Te){var qe=Te.target.value,rt=ee.props,Fe=rt.prefix,Ot=rt.onChange,we=ee.props.disableCountryCode?"":Fe,Ze=ee.state.selectedCountry,ot=ee.state.freezeSelection;if(!ee.props.countryCodeEditable){var je=Fe+(Ze.hasAreaCodes?ee.state.onlyCountries.find(function(Ue){return Ue.iso2===Ze.iso2&&Ue.mainCode}).dialCode:Ze.dialCode);if(qe.slice(0,je.length)!==je)return}if(qe===Fe)return Ot&&Ot("",ee.getCountryData(),Te,""),ee.setState({formattedNumber:""});if(!(qe.replace(/\D/g,"").length>15&&(ee.props.enableLongNumbers===!1||typeof ee.props.enableLongNumbers=="number"&&qe.replace(/\D/g,"").length>ee.props.enableLongNumbers))&&qe!==ee.state.formattedNumber){Te.preventDefault?Te.preventDefault():Te.returnValue=!1;var Le=ee.props.country,vt=ee.state,bt=vt.onlyCountries,ft=vt.selectedCountry,_n=vt.hiddenAreaCodes;if(Ot&&Te.persist(),qe.length>0){var xr=qe.replace(/\D/g,"");(!ee.state.freezeSelection||ft&&ft.dialCode.length>xr.length)&&(Ze=ee.props.disableCountryGuess?ft:ee.guessSelectedCountry(xr.substring(0,6),Le,bt,_n)||ft,ot=!1),we=ee.formatNumber(xr,Ze),Ze=Ze.dialCode?Ze:ft}var ur=Te.target.selectionStart,yi=Te.target.selectionStart,te=ee.state.formattedNumber,Ee=we.length-te.length;ee.setState({formattedNumber:we,freezeSelection:ot,selectedCountry:Ze},function(){Ee>0&&(yi-=Ee),we.charAt(we.length-1)==")"?ee.numberInputRef.setSelectionRange(we.length-1,we.length-1):yi>0&&te.length>=we.length?ee.numberInputRef.setSelectionRange(yi,yi):ur<te.length&&ee.numberInputRef.setSelectionRange(ur,ur),Ot&&Ot(we.replace(/[^0-9]+/g,""),ee.getCountryData(),Te,we)})}},ee.handleInputClick=function(Te){ee.setState({showDropdown:!1}),ee.props.onClick&&ee.props.onClick(Te,ee.getCountryData())},ee.handleDoubleClick=function(Te){var qe=Te.target.value.length;Te.target.setSelectionRange(0,qe)},ee.handleFlagItemClick=function(Te,qe){var rt=ee.state.selectedCountry,Fe=ee.state.onlyCountries.find(function(ot){return ot==Te});if(Fe){var Ot=ee.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),we=Ot.length>1?Ot.replace(rt.dialCode,Fe.dialCode):Fe.dialCode,Ze=ee.formatNumber(we.replace(/\D/g,""),Fe);ee.setState({showDropdown:!1,selectedCountry:Fe,freezeSelection:!0,formattedNumber:Ze,searchValue:""},function(){ee.cursorToEnd(),ee.props.onChange&&ee.props.onChange(Ze.replace(/[^0-9]+/g,""),ee.getCountryData(),qe,Ze)})}},ee.handleInputFocus=function(Te){ee.numberInputRef&&ee.numberInputRef.value===ee.props.prefix&&ee.state.selectedCountry&&!ee.props.disableCountryCode&&ee.setState({formattedNumber:ee.props.prefix+ee.state.selectedCountry.dialCode},function(){ee.props.jumpCursorToEnd&&setTimeout(ee.cursorToEnd,0)}),ee.setState({placeholder:""}),ee.props.onFocus&&ee.props.onFocus(Te,ee.getCountryData()),ee.props.jumpCursorToEnd&&setTimeout(ee.cursorToEnd,0)},ee.handleInputBlur=function(Te){Te.target.value||ee.setState({placeholder:ee.props.placeholder}),ee.props.onBlur&&ee.props.onBlur(Te,ee.getCountryData())},ee.handleInputCopy=function(Te){if(ee.props.copyNumbersOnly){var qe=window.getSelection().toString().replace(/[^0-9]+/g,"");Te.clipboardData.setData("text/plain",qe),Te.preventDefault()}},ee.getHighlightCountryIndex=function(Te){var qe=ee.state.highlightCountryIndex+Te;return qe<0||qe>=ee.state.onlyCountries.length+ee.state.preferredCountries.length?qe-Te:ee.props.enableSearch&&qe>ee.getSearchFilteredCountries().length?0:qe},ee.searchCountry=function(){var Te=ee.getProbableCandidate(ee.state.queryString)||ee.state.onlyCountries[0],qe=ee.state.onlyCountries.findIndex(function(rt){return rt==Te})+ee.state.preferredCountries.length;ee.scrollTo(ee.getElement(qe),!0),ee.setState({queryString:"",highlightCountryIndex:qe})},ee.handleKeydown=function(Te){var qe=ee.props.keys,rt=Te.target.className;if(rt.includes("selected-flag")&&Te.which===qe.ENTER&&!ee.state.showDropdown)return ee.handleFlagDropdownClick(Te);if(rt.includes("form-control")&&(Te.which===qe.ENTER||Te.which===qe.ESC))return Te.target.blur();if(ee.state.showDropdown&&!ee.props.disabled&&(!rt.includes("search-box")||Te.which===qe.UP||Te.which===qe.DOWN||Te.which===qe.ENTER||Te.which===qe.ESC&&Te.target.value==="")){Te.preventDefault?Te.preventDefault():Te.returnValue=!1;var Fe=function(Ot){ee.setState({highlightCountryIndex:ee.getHighlightCountryIndex(Ot)},function(){ee.scrollTo(ee.getElement(ee.state.highlightCountryIndex),!0)})};switch(Te.which){case qe.DOWN:Fe(1);break;case qe.UP:Fe(-1);break;case qe.ENTER:ee.props.enableSearch?ee.handleFlagItemClick(ee.getSearchFilteredCountries()[ee.state.highlightCountryIndex]||ee.getSearchFilteredCountries()[0],Te):ee.handleFlagItemClick([].concat(u(ee.state.preferredCountries),u(ee.state.onlyCountries))[ee.state.highlightCountryIndex],Te);break;case qe.ESC:case qe.TAB:ee.setState({showDropdown:!1},ee.cursorToEnd);break;default:(Te.which>=qe.A&&Te.which<=qe.Z||Te.which===qe.SPACE)&&ee.setState({queryString:ee.state.queryString+String.fromCharCode(Te.which)},ee.state.debouncedQueryStingSearcher)}}},ee.handleInputKeyDown=function(Te){var qe=ee.props,rt=qe.keys,Fe=qe.onEnterKeyPress,Ot=qe.onKeyDown;Te.which===rt.ENTER&&Fe&&Fe(Te),Ot&&Ot(Te)},ee.handleClickOutside=function(Te){ee.dropdownRef&&!ee.dropdownContainerRef.contains(Te.target)&&ee.state.showDropdown&&ee.setState({showDropdown:!1})},ee.handleSearchChange=function(Te){var qe=Te.currentTarget.value,rt=ee.state,Fe=rt.preferredCountries,Ot=rt.selectedCountry,we=0;if(qe===""&&Ot){var Ze=ee.state.onlyCountries;we=ee.concatPreferredCountries(Fe,Ze).findIndex(function(ot){return ot==Ot}),setTimeout(function(){return ee.scrollTo(ee.getElement(we))},100)}ee.setState({searchValue:qe,highlightCountryIndex:we})},ee.concatPreferredCountries=function(Te,qe){return Te.length>0?u(new Set(Te.concat(qe))):qe},ee.getDropdownCountryName=function(Te){return Te.localName||Te.name},ee.getSearchFilteredCountries=function(){var Te=ee.state,qe=Te.preferredCountries,rt=Te.onlyCountries,Fe=Te.searchValue,Ot=ee.props.enableSearch,we=ee.concatPreferredCountries(qe,rt),Ze=Fe.trim().toLowerCase().replace("+","");if(Ot&&Ze){if(/^\d+$/.test(Ze))return we.filter(function(Le){var vt=Le.dialCode;return["".concat(vt)].some(function(bt){return bt.toLowerCase().includes(Ze)})});var ot=we.filter(function(Le){var vt=Le.iso2;return["".concat(vt)].some(function(bt){return bt.toLowerCase().includes(Ze)})}),je=we.filter(function(Le){var vt=Le.name,bt=Le.localName;return Le.iso2,["".concat(vt),"".concat(bt||"")].some(function(ft){return ft.toLowerCase().includes(Ze)})});return ee.scrollToTop(),u(new Set([].concat(ot,je)))}return we},ee.getCountryDropdownList=function(){var Te=ee.state,qe=Te.preferredCountries,rt=Te.highlightCountryIndex,Fe=Te.showDropdown,Ot=Te.searchValue,we=ee.props,Ze=we.disableDropdown,ot=we.prefix,je=ee.props,Le=je.enableSearch,vt=je.searchNotFound,bt=je.disableSearchIcon,ft=je.searchClass,_n=je.searchStyle,xr=je.searchPlaceholder,ur=je.autocompleteSearch,yi=ee.getSearchFilteredCountries().map(function(Ue,ze){var _t=rt===ze,kt=re()({country:!0,preferred:Ue.iso2==="us"||Ue.iso2==="gb",active:Ue.iso2==="us",highlight:_t}),Bt="flag ".concat(Ue.iso2);return R.a.createElement("li",Object.assign({ref:function(cn){return ee["flag_no_".concat(ze)]=cn},key:"flag_no_".concat(ze),"data-flag-key":"flag_no_".concat(ze),className:kt,"data-dial-code":"1",tabIndex:Ze?"-1":"0","data-country-code":Ue.iso2,onClick:function(cn){return ee.handleFlagItemClick(Ue,cn)},role:"option"},_t?{"aria-selected":!0}:{}),R.a.createElement("div",{className:Bt}),R.a.createElement("span",{className:"country-name"},ee.getDropdownCountryName(Ue)),R.a.createElement("span",{className:"dial-code"},Ue.format?ee.formatNumber(Ue.dialCode,Ue):ot+Ue.dialCode))}),te=R.a.createElement("li",{key:"dashes",className:"divider"});qe.length>0&&(!Le||Le&&!Ot.trim())&&yi.splice(qe.length,0,te);var Ee=re()(i({"country-list":!0,hide:!Fe},ee.props.dropdownClass,!0));return R.a.createElement("ul",{ref:function(Ue){return!Le&&Ue&&Ue.focus(),ee.dropdownRef=Ue},className:Ee,style:ee.props.dropdownStyle,role:"listbox",tabIndex:"0"},Le&&R.a.createElement("li",{className:re()(i({search:!0},ft,ft))},!bt&&R.a.createElement("span",{className:re()(i({"search-emoji":!0},"".concat(ft,"-emoji"),ft)),role:"img","aria-label":"Magnifying glass"},"\u{1F50E}"),R.a.createElement("input",{className:re()(i({"search-box":!0},"".concat(ft,"-box"),ft)),style:_n,type:"search",placeholder:xr,autoFocus:!0,autoComplete:ur?"on":"off",value:Ot,onChange:ee.handleSearchChange})),yi.length>0?yi:R.a.createElement("li",{className:"no-entries-message"},R.a.createElement("span",null,vt)))};var be,st=new He(Ae.enableAreaCodes,Ae.enableTerritories,Ae.regions,Ae.onlyCountries,Ae.preferredCountries,Ae.excludeCountries,Ae.preserveOrder,Ae.masks,Ae.priority,Ae.areaCodes,Ae.localization,Ae.prefix,Ae.defaultMask,Ae.alwaysDefaultMask),Re=st.onlyCountries,Pt=st.preferredCountries,Nt=st.hiddenAreaCodes,Vt=Ae.value?Ae.value.replace(/\D/g,""):"";be=Ae.disableInitialCountryGuess?0:Vt.length>1?ee.guessSelectedCountry(Vt.substring(0,6),Ae.country,Re,Nt)||0:Ae.country&&Re.find(function(Te){return Te.iso2==Ae.country})||0;var At,Mt=Vt.length<2&&be&&!ye()(Vt,be.dialCode)?be.dialCode:"";At=Vt===""&&be===0?"":ee.formatNumber((Ae.disableCountryCode?"":Mt)+Vt,be.name?be:void 0);var zt=Re.findIndex(function(Te){return Te==be});return ee.state={showDropdown:Ae.showDropdown,formattedNumber:At,onlyCountries:Re,preferredCountries:Pt,hiddenAreaCodes:Nt,selectedCountry:be,highlightCountryIndex:zt,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:B()(ee.searchCountry,250),searchValue:""},ee}var fe,Se;return function(Ae,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");Ae.prototype=Object.create(ee&&ee.prototype,{constructor:{value:Ae,writable:!0,configurable:!0}}),ee&&M(Ae,ee)}(he,Pe),fe=he,(Se=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(Ae,ee,be){Ae.country!==this.props.country?this.updateCountry(this.props.country):Ae.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(Ae){if(Ae===null)return this.setState({selectedCountry:0,formattedNumber:""});var ee=this.state,be=ee.onlyCountries,st=ee.selectedCountry,Re=ee.hiddenAreaCodes,Pt=this.props,Nt=Pt.country,Vt=Pt.prefix;if(Ae==="")return this.setState({selectedCountry:st,formattedNumber:""});var At,Mt,zt=Ae.replace(/\D/g,"");if(st&&ye()(Ae,Vt+st.dialCode))Mt=this.formatNumber(zt,st),this.setState({formattedNumber:Mt});else{var Te=(At=this.props.disableCountryGuess?st:this.guessSelectedCountry(zt.substring(0,6),Nt,be,Re)||st)&&ye()(zt,Vt+At.dialCode)?At.dialCode:"";Mt=this.formatNumber((this.props.disableCountryCode?"":Te)+zt,At||void 0),this.setState({selectedCountry:At,formattedNumber:Mt})}}},{key:"render",value:function(){var Ae,ee,be,st=this,Re=this.state,Pt=Re.onlyCountries,Nt=Re.selectedCountry,Vt=Re.showDropdown,At=Re.formattedNumber,Mt=Re.hiddenAreaCodes,zt=this.props,Te=zt.disableDropdown,qe=zt.renderStringAsFlag,rt=zt.isValid,Fe=zt.defaultErrorMessage,Ot=zt.specialLabel;if(typeof rt=="boolean")ee=rt;else{var we=rt(At.replace(/\D/g,""),Nt,Pt,Mt);typeof we=="boolean"?(ee=we)===!1&&(be=Fe):(ee=!1,be=we)}var Ze=re()((i(Ae={},this.props.containerClass,!0),i(Ae,"react-tel-input",!0),Ae)),ot=re()({arrow:!0,up:Vt}),je=re()(i({"form-control":!0,"invalid-number":!ee,open:Vt},this.props.inputClass,!0)),Le=re()({"selected-flag":!0,open:Vt}),vt=re()(i({"flag-dropdown":!0,"invalid-number":!ee,open:Vt},this.props.buttonClass,!0)),bt="flag ".concat(Nt&&Nt.iso2);return R.a.createElement("div",{className:"".concat(Ze," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Ot&&R.a.createElement("div",{className:"special-label"},Ot),be&&R.a.createElement("div",{className:"invalid-number-message"},be),R.a.createElement("input",Object.assign({className:je,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:At,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(ft){st.numberInputRef=ft,typeof st.props.inputProps.ref=="function"?st.props.inputProps.ref(ft):typeof st.props.inputProps.ref=="object"&&(st.props.inputProps.ref.current=ft)}})),R.a.createElement("div",{className:vt,style:this.props.buttonStyle,ref:function(ft){return st.dropdownContainerRef=ft}},qe?R.a.createElement("div",{className:Le},qe):R.a.createElement("div",{onClick:Te?void 0:this.handleFlagDropdownClick,className:Le,title:Nt?"".concat(Nt.localName||Nt.name,": + ").concat(Nt.dialCode):"",tabIndex:Te?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!Vt||void 0},R.a.createElement("div",{className:bt},!Te&&R.a.createElement("div",{className:ot}))),Vt&&this.getCountryDropdownList()))}}])&&w(fe.prototype,Se),he}(R.a.Component);ct.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=ct}]);const EU=e=>{const[t,r,i]=X_e(e),{label:s,placeholder:u,defaultValue:d}=e,{touched:v,error:g}=r,{setValue:w}=i,S=(C,A)=>{const L={dialCode:A.dialCode,countryCode:A.countryCode,country:A.name,value:C};w(L)};return ge("div",{className:"input-group",children:[v&&g?D("span",{className:"label-input label-error",children:(g==null?void 0:g.value)||(g==null?void 0:g.dialCode)}):D("label",{className:"label-input",htmlFor:t.name,children:s}),D(Jit,{name:t.name,country:"ph",inputClass:"input-form d-block",style:{border:v&&g?"1px solid red":"1px solid #cacaca"},inputExtraProps:{required:!0},onChange:S,placeholder:u,value:d.value})]})};EU.defaultProps={label:"Mobile Number",placeholder:"09254461351"};EU.propTypes={label:ie.exports.string,placeholder:ie.exports.string,defaultValue:ie.exports.object.isRequired};const ZEe=({field:e,form:{touched:t,errors:r},label:i,...s})=>ge("div",{className:"input-group",children:[t[e.name]&&r[e.name]?D("span",{className:"label-input label-error",children:r[e.name]}):D("label",{className:"label-input",htmlFor:e.name,children:i}),D("textarea",{name:e.name,cols:30,rows:4,id:e.name,className:`input-form ${t[e.name]&&r[e.name]&&"input-error"}`,...e,...s})]});ZEe.propTypes={label:ie.exports.string.isRequired,field:ie.exports.object.isRequired,form:ie.exports.object.isRequired};const eSe=({isLoading:e,authProvider:t})=>{const r=sp(),{values:i,submitForm:s}=g_();return ge("div",{className:"user-profile-details",children:[D(Du,{disabled:e,name:"fullname",type:"text",label:"* Full Name",placeholder:"Enter your full name",component:Wa,style:{textTransform:"capitalize"}}),D(Du,{disabled:t!=="password"||e,name:"email",type:"email",label:"* Email Address",placeholder:"test@example.com",component:Wa}),D(Du,{disabled:e,name:"address",type:"text",label:"Address (Will be used for checkout)",placeholder:"#245 Brgy. Maligalig, Arayat Pampanga, Philippines",component:Wa,style:{textTransform:"capitalize"}}),D(EU,{defaultValue:i.mobile,name:"mobile",disabled:e,label:"Mobile Number (Will be used for checkout)"}),D("br",{}),ge("div",{className:"edit-user-action",children:[ge("button",{className:"button button-muted w-100-mobile",disabled:e,onClick:()=>r.push(V4),type:"button",children:[D(ZK,{}),"\xA0 Back to Profile"]}),ge("button",{className:"button w-100-mobile",disabled:e,onClick:s,type:"button",children:[e?D(Qa,{}):D(mP,{}),"\xA0",e?"Updating Profile":"Update Profile"]})]})]})};eSe.propTypes={isLoading:ie.exports.bool.isRequired,authProvider:ie.exports.string.isRequired};const Zit=Sy().shape({fullname:mi().min(4,"Full name should be at least 4 characters.").max(60,"Full name should be only be 4 characters long.").required("Full name is required"),email:mi().email("Email is not valid.").required("Email is required."),address:mi(),mobile:Sy().shape({country:mi(),countryCode:mi(),dialCode:mi(),value:mi()})}),eot=()=>{Xa("Edit Account | Salinaka"),va();const e=MG(),t=Lo();se.exports.useEffect(()=>()=>{t(fl(!1))},[]);const{profile:r,auth:i,isLoading:s}=ks(A=>({profile:A.profile,auth:A.auth,isLoading:A.app.loading})),u={fullname:r.fullname||"",email:r.email||"",address:r.address||"",mobile:r.mobile||{}},{imageFile:d,isFileLoading:v,onFileChange:g}=cwe({avatar:{},banner:{}}),w=(A,L={})=>{t(jqe({updates:{fullname:A.fullname,email:A.email,address:A.address,mobile:A.mobile,avatar:r.avatar,banner:r.banner},files:{bannerFile:d.banner.file,avatarFile:d.avatar.file},credentials:L}))},S=(A,L)=>{L&&w(A,{email:A.email,password:L})};return D(t_,{children:ge("div",{className:"edit-user",children:[D("h3",{className:"text-center",children:"Edit Account Details"}),D(KP,{initialValues:u,validateOnChange:!0,validationSchema:Zit,onSubmit:A=>{(Object.keys(A).some(M=>r[M]!==A[M])||Boolean(d.banner.file||d.avatar.file))&&(A.email!==r.email?e.onOpenModal():w(A))},children:()=>ge(Mu,{children:[ge("div",{className:"user-profile-banner",children:[ge("div",{className:"user-profile-banner-wrapper",children:[D(Eh,{alt:"Banner",className:"user-profile-banner-img",src:d.banner.url||r.banner}),v?D("div",{className:"loading-wrapper",children:D(Qa,{})}):ge("label",{className:"edit-button edit-banner-button",htmlFor:"edit-banner",children:[D("input",{accept:"image/x-png,image/jpeg",disabled:s,hidden:!0,id:"edit-banner",onChange:A=>g(A,{name:"banner",type:"single"}),type:"file"}),D(_ce,{})]})]}),ge("div",{className:"user-profile-avatar-wrapper",children:[D(Eh,{alt:"Avatar",className:"user-profile-img",src:d.avatar.url||r.avatar}),v?D("div",{className:"loading-wrapper",children:D(Qa,{})}):ge("label",{className:"edit-button edit-avatar-button",htmlFor:"edit-avatar",children:[D("input",{accept:"image/x-png,image/jpeg",disabled:s,hidden:!0,id:"edit-avatar",onChange:A=>g(A,{name:"avatar",type:"single"}),type:"file"}),D(_ce,{})]})]})]}),D(eSe,{authProvider:i.provider,isLoading:s}),D(rEe,{onConfirmUpdate:S,modal:e})]})})]})})},tot="modulepreload",not=function(e){return"/"+e},Nde={},kf=function(t,r,i){return!r||r.length===0?t():Promise.all(r.map(s=>{if(s=not(s),s in Nde)return;Nde[s]=!0;const u=s.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const v=document.createElement("link");if(v.rel=u?"stylesheet":tot,u||(v.as="script",v.crossOrigin=""),v.href=s,document.head.appendChild(v),u)return new Promise((g,w)=>{v.addEventListener("load",g),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},tSe=e=>{const{children:t}=e,[r,i]=se.exports.useState(t[0].props.index||0),s=u=>i(u);return ge("div",{className:"user-tab",children:[D("div",{className:"user-tab-nav",children:D("ul",{className:"user-tab-menu",children:t.map(u=>D("li",{className:`user-tab-item ${u.props.index===r?"user-tab-active":""}`,role:"presentation",onClick:()=>s(u.props.index),children:u.props.label},u.props.label))})}),D("div",{className:"user-tab-content",children:t.map(u=>u.props.index!==r?null:u.props.children)})]})};tSe.propTypes={children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.node]).isRequired};const rot=se.exports.lazy(()=>kf(()=>import("./UserAccountTab.d1d7d922.js"),[])),iot=se.exports.lazy(()=>kf(()=>import("./UserWishListTab.4f07965f.js"),[])),oot=se.exports.lazy(()=>kf(()=>import("./UserOrdersTab.30c8b881.js"),[])),nH=()=>ge("div",{className:"loader",style:{minHeight:"80vh"},children:[D(Qa,{}),D("h6",{children:"Loading ... "})]}),sot=()=>(va(),Xa("My Account | Salinaka"),ge(tSe,{children:[D("div",{index:0,label:"Account",children:D(se.exports.Suspense,{fallback:D(nH,{}),children:D(rot,{})})}),D("div",{index:1,label:"My Wish List",children:D(se.exports.Suspense,{fallback:D(nH,{}),children:D(iot,{})})}),D("div",{index:2,label:"My Orders",children:D(se.exports.Suspense,{fallback:D(nH,{}),children:D(oot,{})})})]})),aot=e=>({type:eW,payload:e}),uot=e=>({type:cge,payload:e}),cot=e=>({type:nW,payload:e}),lot=e=>({type:tW,payload:{searchKey:e}}),hot=e=>({type:uge,payload:e}),Pde=()=>({type:dge}),fot=e=>({type:lge,payload:e}),dot=e=>({type:rW,payload:e}),pot=e=>({type:hge,payload:e}),vot=(e,t)=>({type:iW,payload:{id:e,updates:t}}),mot=e=>({type:fge,payload:e}),got=se.exports.lazy(()=>kf(()=>Promise.resolve().then(()=>gSe),void 0)),yot=()=>{va(),Xa("Add New Product | Salinaka");const e=ks(i=>i.app.loading),t=Lo(),r=i=>{t(cot(i))};return ge("div",{className:"product-form-container",children:[D("h2",{children:"Add New Product"}),D(se.exports.Suspense,{fallback:ge("div",{className:"loader",style:{minHeight:"80vh"},children:[D("h6",{children:"Loading ... "}),D("br",{}),D(Qa,{})]}),children:D(got,{isLoading:e,onSubmit:r,product:{name:"",brand:"",price:0,maxQuantity:0,description:"",keywords:[],sizes:[],image:"",isFeatured:!1,isRecommended:!1,availableColors:[],imageCollection:[]}})})]})},bot=e_(yot),wot=()=>(Xa("Welcome | Admin Dashboard"),va(),D("div",{className:"loader",children:D("h2",{children:"Welcome to admin dashboard"})})),_ot=se.exports.lazy(()=>kf(()=>Promise.resolve().then(()=>gSe),void 0)),nSe=({match:e})=>{Xa("Edit Product | Salinaka"),va();const{product:t,error:r,isLoading:i}=lwe(e.params.id),s=Lo(),u=d=>{s(vot(t.id,d))};return ge("div",{className:"product-form-container",children:[r&&D(yy,{to:"/dashboard/products"}),D("h2",{children:"Edit Product"}),t&&D(se.exports.Suspense,{fallback:ge("div",{className:"loader",style:{minHeight:"80vh"},children:[D("h6",{children:"Loading ... "}),D("br",{}),D(Qa,{})]}),children:D(_ot,{isLoading:i,onSubmit:u,product:t})})]})};nSe.propTypes={match:ie.exports.shape({params:ie.exports.shape({id:ie.exports.string})}).isRequired};const Eot=e_(nSe),SU=({filteredProductsCount:e})=>{const t=ks(w=>w.filter,TO),i=["brand","minPrice","maxPrice","sortBy","keyword"].some(w=>!!t[w]),s=Lo(),u=()=>{s(_O({keyword:""}))},d=()=>{s(_O({minPrice:0,maxPrice:0}))},v=()=>{s(_O({brand:""}))},g=()=>{s(_O({sortBy:""}))};return i?ge(Mu,{children:[D("div",{className:"product-list-header",children:D("div",{className:"product-list-header-title",children:D("h5",{children:e>0&&`Found ${e} ${e>1?"products":"product"}`})})}),ge("div",{className:"product-applied-filters",children:[t.keyword&&ge("div",{className:"pill-wrapper",children:[D("span",{className:"d-block",children:"Keyword"}),ge("div",{className:"pill padding-right-l",children:[D("h5",{className:"pill-content margin-0",children:t.keyword}),D("div",{className:"pill-remove",onClick:u,role:"presentation",children:D("h5",{className:"margin-0 text-subtle",children:D(rF,{})})})]})]}),t.brand&&ge("div",{className:"pill-wrapper",children:[D("span",{className:"d-block",children:"Brand"}),ge("div",{className:"pill padding-right-l",children:[D("h5",{className:"pill-content margin-0",children:t.brand}),D("div",{className:"pill-remove",onClick:v,role:"presentation",children:D("h5",{className:"margin-0 text-subtle",children:D(rF,{})})})]})]}),(!!t.minPrice||!!t.maxPrice)&&ge("div",{className:"pill-wrapper",children:[D("span",{className:"d-block",children:"Price Range"}),ge("div",{className:"pill padding-right-l",children:[ge("h5",{className:"pill-content margin-0",children:["RP.",t.minPrice,"- RP.",t.maxPrice]}),D("div",{className:"pill-remove",onClick:d,role:"presentation",children:D("h5",{className:"margin-0 text-subtle",children:D(rF,{})})})]})]}),t.sortBy&&ge("div",{className:"pill-wrapper",children:[D("span",{className:"d-block",children:"Sort By"}),ge("div",{className:"pill padding-right-l",children:[D("h5",{className:"pill-content margin-0",children:t.sortBy==="price-desc"?"Price High - Low":t.sortBy==="price-asc"?"Price Low - High":t.sortBy==="name-desc"?"Name Z - A":"Name A - Z"}),D("div",{className:"pill-remove",onClick:g,role:"presentation",children:D("h5",{className:"margin-0 text-subtle",children:D(rF,{})})})]})]})]})]}):null};SU.defaultProps={filteredProductsCount:0};SU.propTypes={filteredProductsCount:ie.exports.number};var nR={},gh={};function Sot(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Tot(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}var rSe=function(){function e(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=e.prototype;return t.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var s=Tot(this),u;this.tags.length===0?u=this.before:u=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(s,u),this.tags.push(s)}var d=this.tags[this.tags.length-1];if(this.isSpeedy){var v=Sot(d);try{var g=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;v.insertRule(i,g?0:v.cssRules.length)}catch{}}else d.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}();function Iot(e){function t(fe,Se,Ae,ee,be){for(var st=0,Re=0,Pt=0,Nt=0,Vt,At,Mt=0,zt=0,Te,qe=Te=Vt=0,rt=0,Fe=0,Ot=0,we=0,Ze=Ae.length,ot=Ze-1,je,Le="",vt="",bt="",ft="",_n;rt<Ze;){if(At=Ae.charCodeAt(rt),rt===ot&&Re+Nt+Pt+st!==0&&(Re!==0&&(At=Re===47?10:47),Nt=Pt=st=0,Ze++,ot++),Re+Nt+Pt+st===0){if(rt===ot&&(0<Fe&&(Le=Le.replace(A,"")),0<Le.trim().length)){switch(At){case 32:case 9:case 59:case 13:case 10:break;default:Le+=Ae.charAt(rt)}At=59}switch(At){case 123:for(Le=Le.trim(),Vt=Le.charCodeAt(0),Te=1,we=++rt;rt<Ze;){switch(At=Ae.charCodeAt(rt)){case 123:Te++;break;case 125:Te--;break;case 47:switch(At=Ae.charCodeAt(rt+1)){case 42:case 47:e:{for(qe=rt+1;qe<ot;++qe)switch(Ae.charCodeAt(qe)){case 47:if(At===42&&Ae.charCodeAt(qe-1)===42&&rt+2!==qe){rt=qe+1;break e}break;case 10:if(At===47){rt=qe+1;break e}}rt=qe}}break;case 91:At++;case 40:At++;case 34:case 39:for(;rt++<ot&&Ae.charCodeAt(rt)!==At;);}if(Te===0)break;rt++}switch(Te=Ae.substring(we,rt),Vt===0&&(Vt=(Le=Le.replace(C,"").trim()).charCodeAt(0)),Vt){case 64:switch(0<Fe&&(Le=Le.replace(A,"")),At=Le.charCodeAt(1),At){case 100:case 109:case 115:case 45:Fe=Se;break;default:Fe=Be}if(Te=t(Se,Fe,Te,At,be+1),we=Te.length,0<He&&(Fe=r(Be,Le,Ot),_n=v(3,Te,Fe,Se,ht,it,we,At,be,ee),Le=Fe.join(""),_n!==void 0&&(we=(Te=_n.trim()).length)===0&&(At=0,Te="")),0<we)switch(At){case 115:Le=Le.replace(Y,d);case 100:case 109:case 45:Te=Le+"{"+Te+"}";break;case 107:Le=Le.replace(B,"$1 $2"),Te=Le+"{"+Te+"}",Te=Ne===1||Ne===2&&u("@"+Te,3)?"@-webkit-"+Te+"@"+Te:"@"+Te;break;default:Te=Le+Te,ee===112&&(Te=(vt+=Te,""))}else Te="";break;default:Te=t(Se,r(Se,Le,Ot),Te,ee,be+1)}bt+=Te,Te=Ot=Fe=qe=Vt=0,Le="",At=Ae.charCodeAt(++rt);break;case 125:case 59:if(Le=(0<Fe?Le.replace(A,""):Le).trim(),1<(we=Le.length))switch(qe===0&&(Vt=Le.charCodeAt(0),Vt===45||96<Vt&&123>Vt)&&(we=(Le=Le.replace(" ",":")).length),0<He&&(_n=v(1,Le,Se,fe,ht,it,vt.length,ee,be,ee))!==void 0&&(we=(Le=_n.trim()).length)===0&&(Le="\0\0"),Vt=Le.charCodeAt(0),At=Le.charCodeAt(1),Vt){case 0:break;case 64:if(At===105||At===99){ft+=Le+Ae.charAt(rt);break}default:Le.charCodeAt(we-1)!==58&&(vt+=s(Le,Vt,At,Le.charCodeAt(2)))}Ot=Fe=qe=Vt=0,Le="",At=Ae.charCodeAt(++rt)}}switch(At){case 13:case 10:Re===47?Re=0:1+Vt===0&&ee!==107&&0<Le.length&&(Fe=1,Le+="\0"),0<He*Pe&&v(0,Le,Se,fe,ht,it,vt.length,ee,be,ee),it=1,ht++;break;case 59:case 125:if(Re+Nt+Pt+st===0){it++;break}default:switch(it++,je=Ae.charAt(rt),At){case 9:case 32:if(Nt+st+Re===0)switch(Mt){case 44:case 58:case 9:case 32:je="";break;default:At!==32&&(je=" ")}break;case 0:je="\\0";break;case 12:je="\\f";break;case 11:je="\\v";break;case 38:Nt+Re+st===0&&(Fe=Ot=1,je="\f"+je);break;case 108:if(Nt+Re+st+Ie===0&&0<qe)switch(rt-qe){case 2:Mt===112&&Ae.charCodeAt(rt-3)===58&&(Ie=Mt);case 8:zt===111&&(Ie=zt)}break;case 58:Nt+Re+st===0&&(qe=rt);break;case 44:Re+Pt+Nt+st===0&&(Fe=1,je+="\r");break;case 34:case 39:Re===0&&(Nt=Nt===At?0:Nt===0?At:Nt);break;case 91:Nt+Re+Pt===0&&st++;break;case 93:Nt+Re+Pt===0&&st--;break;case 41:Nt+Re+st===0&&Pt--;break;case 40:if(Nt+Re+st===0){if(Vt===0)switch(2*Mt+3*zt){case 533:break;default:Vt=1}Pt++}break;case 64:Re+Pt+Nt+st+qe+Te===0&&(Te=1);break;case 42:case 47:if(!(0<Nt+st+Pt))switch(Re){case 0:switch(2*At+3*Ae.charCodeAt(rt+1)){case 235:Re=47;break;case 220:we=rt,Re=42}break;case 42:At===47&&Mt===42&&we+2!==rt&&(Ae.charCodeAt(we+2)===33&&(vt+=Ae.substring(we,rt+1)),je="",Re=0)}}Re===0&&(Le+=je)}zt=Mt,Mt=At,rt++}if(we=vt.length,0<we){if(Fe=Se,0<He&&(_n=v(2,vt,Fe,fe,ht,it,we,ee,be,ee),_n!==void 0&&(vt=_n).length===0))return ft+vt+bt;if(vt=Fe.join(",")+"{"+vt+"}",Ne*Ie!==0){switch(Ne!==2||u(vt,2)||(Ie=0),Ie){case 111:vt=vt.replace(H,":-moz-$1")+vt;break;case 112:vt=vt.replace(G,"::-webkit-input-$1")+vt.replace(G,"::-moz-$1")+vt.replace(G,":-ms-input-$1")+vt}Ie=0}}return ft+vt+bt}function r(fe,Se,Ae){var ee=Se.trim().split(R);Se=ee;var be=ee.length,st=fe.length;switch(st){case 0:case 1:var Re=0;for(fe=st===0?"":fe[0]+" ";Re<be;++Re)Se[Re]=i(fe,Se[Re],Ae).trim();break;default:var Pt=Re=0;for(Se=[];Re<be;++Re)for(var Nt=0;Nt<st;++Nt)Se[Pt++]=i(fe[Nt]+" ",ee[Re],Ae).trim()}return Se}function i(fe,Se,Ae){var ee=Se.charCodeAt(0);switch(33>ee&&(ee=(Se=Se.trim()).charCodeAt(0)),ee){case 38:return Se.replace($,"$1"+fe.trim());case 58:return fe.trim()+Se.replace($,"$1"+fe.trim());default:if(0<1*Ae&&0<Se.indexOf("\f"))return Se.replace($,(fe.charCodeAt(0)===58?"":"$1")+fe.trim())}return fe+Se}function s(fe,Se,Ae,ee){var be=fe+";",st=2*Se+3*Ae+4*ee;if(st===944){fe=be.indexOf(":",9)+1;var Re=be.substring(fe,be.length-1).trim();return Re=be.substring(0,fe).trim()+Re+";",Ne===1||Ne===2&&u(Re,1)?"-webkit-"+Re+Re:Re}if(Ne===0||Ne===2&&!u(be,1))return be;switch(st){case 1015:return be.charCodeAt(10)===97?"-webkit-"+be+be:be;case 951:return be.charCodeAt(3)===116?"-webkit-"+be+be:be;case 963:return be.charCodeAt(5)===110?"-webkit-"+be+be:be;case 1009:if(be.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+be+be;case 978:return"-webkit-"+be+"-moz-"+be+be;case 1019:case 983:return"-webkit-"+be+"-moz-"+be+"-ms-"+be+be;case 883:if(be.charCodeAt(8)===45)return"-webkit-"+be+be;if(0<be.indexOf("image-set(",11))return be.replace(ut,"$1-webkit-$2")+be;break;case 932:if(be.charCodeAt(4)===45)switch(be.charCodeAt(5)){case 103:return"-webkit-box-"+be.replace("-grow","")+"-webkit-"+be+"-ms-"+be.replace("grow","positive")+be;case 115:return"-webkit-"+be+"-ms-"+be.replace("shrink","negative")+be;case 98:return"-webkit-"+be+"-ms-"+be.replace("basis","preferred-size")+be}return"-webkit-"+be+"-ms-"+be+be;case 964:return"-webkit-"+be+"-ms-flex-"+be+be;case 1023:if(be.charCodeAt(8)!==99)break;return Re=be.substring(be.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Re+"-webkit-"+be+"-ms-flex-pack"+Re+be;case 1005:return M.test(be)?be.replace(L,":-webkit-")+be.replace(L,":-moz-")+be:be;case 1e3:switch(Re=be.substring(13).trim(),Se=Re.indexOf("-")+1,Re.charCodeAt(0)+Re.charCodeAt(Se)){case 226:Re=be.replace(Z,"tb");break;case 232:Re=be.replace(Z,"tb-rl");break;case 220:Re=be.replace(Z,"lr");break;default:return be}return"-webkit-"+be+"-ms-"+Re+be;case 1017:if(be.indexOf("sticky",9)===-1)break;case 975:switch(Se=(be=fe).length-10,Re=(be.charCodeAt(Se)===33?be.substring(0,Se):be).substring(fe.indexOf(":",7)+1).trim(),st=Re.charCodeAt(0)+(Re.charCodeAt(7)|0)){case 203:if(111>Re.charCodeAt(8))break;case 115:be=be.replace(Re,"-webkit-"+Re)+";"+be;break;case 207:case 102:be=be.replace(Re,"-webkit-"+(102<st?"inline-":"")+"box")+";"+be.replace(Re,"-webkit-"+Re)+";"+be.replace(Re,"-ms-"+Re+"box")+";"+be}return be+";";case 938:if(be.charCodeAt(5)===45)switch(be.charCodeAt(6)){case 105:return Re=be.replace("-items",""),"-webkit-"+be+"-webkit-box-"+Re+"-ms-flex-"+Re+be;case 115:return"-webkit-"+be+"-ms-flex-item-"+be.replace(ye,"")+be;default:return"-webkit-"+be+"-ms-flex-line-pack"+be.replace("align-content","").replace(ye,"")+be}break;case 973:case 989:if(be.charCodeAt(3)!==45||be.charCodeAt(4)===122)break;case 931:case 953:if(re.test(fe)===!0)return(Re=fe.substring(fe.indexOf(":")+1)).charCodeAt(0)===115?s(fe.replace("stretch","fill-available"),Se,Ae,ee).replace(":fill-available",":stretch"):be.replace(Re,"-webkit-"+Re)+be.replace(Re,"-moz-"+Re.replace("fill-",""))+be;break;case 962:if(be="-webkit-"+be+(be.charCodeAt(5)===102?"-ms-"+be:"")+be,Ae+ee===211&&be.charCodeAt(13)===105&&0<be.indexOf("transform",10))return be.substring(0,be.indexOf(";",27)+1).replace(U,"$1-webkit-$2")+be}return be}function u(fe,Se){var Ae=fe.indexOf(Se===1?":":"{"),ee=fe.substring(0,Se!==3?Ae:10);return Ae=fe.substring(Ae+1,fe.length-1),ct(Se!==2?ee:ee.replace(xe,"$1"),Ae,Se)}function d(fe,Se){var Ae=s(Se,Se.charCodeAt(0),Se.charCodeAt(1),Se.charCodeAt(2));return Ae!==Se+";"?Ae.replace(ce," or ($1)").substring(4):"("+Se+")"}function v(fe,Se,Ae,ee,be,st,Re,Pt,Nt,Vt){for(var At=0,Mt=Se,zt;At<He;++At)switch(zt=_e[At].call(S,fe,Mt,Ae,ee,be,st,Re,Pt,Nt,Vt)){case void 0:case!1:case!0:case null:break;default:Mt=zt}if(Mt!==Se)return Mt}function g(fe){switch(fe){case void 0:case null:He=_e.length=0;break;default:if(typeof fe=="function")_e[He++]=fe;else if(typeof fe=="object")for(var Se=0,Ae=fe.length;Se<Ae;++Se)g(fe[Se]);else Pe=!!fe|0}return g}function w(fe){return fe=fe.prefix,fe!==void 0&&(ct=null,fe?typeof fe!="function"?Ne=1:(Ne=2,ct=fe):Ne=0),w}function S(fe,Se){var Ae=fe;if(33>Ae.charCodeAt(0)&&(Ae=Ae.trim()),he=Ae,Ae=[he],0<He){var ee=v(-1,Se,Ae,Ae,ht,it,0,0,0,0);ee!==void 0&&typeof ee=="string"&&(Se=ee)}var be=t(Be,Ae,Se,0,0);return 0<He&&(ee=v(-2,be,Ae,Ae,ht,it,be.length,0,0,0),ee!==void 0&&(be=ee)),he="",Ie=0,it=ht=1,be}var C=/^\0+/g,A=/[\0\r\f]/g,L=/: */g,M=/zoo|gra/,U=/([,: ])(transform)/g,R=/,\r+?/g,$=/([\t\r\n ])*\f?&/g,B=/@(k\w+)\s*(\S*)\s*/,G=/::(place)/g,H=/:(read-only)/g,Z=/[svh]\w+-[tblr]{2}/,Y=/\(\s*(.*)\s*\)/g,ce=/([\s\S]*?);/g,ye=/-self|flex-/g,xe=/[^]*?(:[rp][el]a[\w-]+)[^]*/,re=/stretch|:\s*\w+\-(?:conte|avail)/,ut=/([^-])(image-set\()/,it=1,ht=1,Ie=0,Ne=1,Be=[],_e=[],He=0,ct=null,Pe=0,he="";return S.use=g,S.set=w,e!==void 0&&w(e),S}var b7="/*|*/",Cot=b7+"}";function kot(e){e&&M4.current.insert(e+"}")}var M4={current:null},Aot=function(t,r,i,s,u,d,v,g,w,S){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return M4.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(g===0)return r+b7;break}case 3:switch(g){case 102:case 112:return M4.current.insert(i[0]+r),"";default:return r+(S===0?b7:"")}case-2:r.split(Cot).forEach(kot)}},xot=function(t){t===void 0&&(t={});var r=t.key||"css",i;t.prefix!==void 0&&(i={prefix:t.prefix});var s=new Iot(i),u={},d;{d=t.container||document.head;var v=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(v,function(S){var C=S.getAttribute("data-emotion-"+r);C.split(" ").forEach(function(A){u[A]=!0}),S.parentNode!==d&&d.appendChild(S)})}var g;s.use(t.stylisPlugins)(Aot),g=function(C,A,L,M){var U=A.name;M4.current=L,s(C,A.styles),M&&(w.inserted[U]=!0)};var w={key:r,sheet:new rSe({key:r,container:d,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:u,registered:{},insert:g};return w},Oot=!0;function iSe(e,t,r){var i="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]):i+=s+" "}),i}var BQ=function(t,r,i){var s=t.key+"-"+r.name;if((i===!1||Oot===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles),t.inserted[r.name]===void 0){var u=r;do t.insert("."+s,u,t.sheet,!0),u=u.next;while(u!==void 0)}},Not=/[A-Z]|^ms/g,Pot=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oSe=function(t){return t.charCodeAt(1)===45},Rde=function(t){return t!=null&&typeof t!="boolean"},rH=fEe(function(e){return oSe(e)?e:e.replace(Not,"-$&").toLowerCase()}),Dde=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Pot,function(i,s,u){return Hd={name:s,styles:u,next:Hd},s})}return mEe[t]!==1&&!oSe(t)&&typeof r=="number"&&r!==0?r+"px":r};function GN(e,t,r,i){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Hd={name:r.name,styles:r.styles,next:Hd},r.name;if(r.styles!==void 0){var s=r.next;if(s!==void 0)for(;s!==void 0;)Hd={name:s.name,styles:s.styles,next:Hd},s=s.next;var u=r.styles+";";return u}return Rot(e,t,r)}case"function":{if(e!==void 0){var d=Hd,v=r(e);return Hd=d,GN(e,t,v,i)}break}}if(t==null)return r;var g=t[r];return g!==void 0&&!i?g:r}function Rot(e,t,r){var i="";if(Array.isArray(r))for(var s=0;s<r.length;s++)i+=GN(e,t,r[s],!1);else for(var u in r){var d=r[u];if(typeof d!="object")t!=null&&t[d]!==void 0?i+=u+"{"+t[d]+"}":Rde(d)&&(i+=rH(u)+":"+Dde(u,d)+";");else if(Array.isArray(d)&&typeof d[0]=="string"&&(t==null||t[d[0]]===void 0))for(var v=0;v<d.length;v++)Rde(d[v])&&(i+=rH(u)+":"+Dde(u,d[v])+";");else{var g=GN(e,t,d,!1);switch(u){case"animation":case"animationName":{i+=rH(u)+":"+g+";";break}default:i+=u+"{"+g+"}"}}}return i}var Lde=/label:\s*([^\s;\n{]+)\s*;/g,Hd,QN=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,u="";Hd=void 0;var d=t[0];d==null||d.raw===void 0?(s=!1,u+=GN(i,r,d,!1)):u+=d[0];for(var v=1;v<t.length;v++)u+=GN(i,r,t[v],u.charCodeAt(u.length-1)===46),s&&(u+=d[v]);Lde.lastIndex=0;for(var g="",w;(w=Lde.exec(u))!==null;)g+="-"+w[1];var S=vEe(u)+g;return{name:S,styles:u,next:Hd}},HQ=Object.prototype.hasOwnProperty,sSe=se.exports.createContext(typeof HTMLElement<"u"?xot():null),TU=se.exports.createContext({}),Dot=sSe.Provider,IU=function(t){var r=function(s,u){return se.exports.createElement(sSe.Consumer,null,function(d){return t(s,d,u)})};return se.exports.forwardRef(r)},w7="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Lot=function(t,r){var i={};for(var s in r)HQ.call(r,s)&&(i[s]=r[s]);return i[w7]=t,i},Mot=function(){return null},Mde=function(t,r,i,s){var u=i===null?r.css:r.css(i);typeof u=="string"&&t.registered[u]!==void 0&&(u=t.registered[u]);var d=r[w7],v=[u],g="";typeof r.className=="string"?g=iSe(t.registered,v,r.className):r.className!=null&&(g=r.className+" ");var w=QN(v);BQ(t,w,typeof d=="string"),g+=t.key+"-"+w.name;var S={};for(var C in r)HQ.call(r,C)&&C!=="css"&&C!==w7&&(S[C]=r[C]);S.ref=s,S.className=g;var A=se.exports.createElement(d,S),L=se.exports.createElement(Mot,null);return se.exports.createElement(se.exports.Fragment,null,L,A)},Fot=IU(function(e,t,r){return typeof e.css=="function"?se.exports.createElement(TU.Consumer,null,function(i){return Mde(t,e,i,r)}):Mde(t,e,null,r)});function aSe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return QN(t)}var Fde=function(t,r){var i=arguments;if(r==null||!HQ.call(r,"css"))return se.exports.createElement.apply(void 0,i);var s=i.length,u=new Array(s);u[0]=Fot,u[1]=Lot(t,r);for(var d=2;d<s;d++)u[d]=i[d];return se.exports.createElement.apply(null,u)},jot=IU(function(e,t){var r=e.styles;if(typeof r=="function")return se.exports.createElement(TU.Consumer,null,function(s){var u=QN([r(s)]);return se.exports.createElement(jde,{serialized:u,cache:t})});var i=QN([r]);return se.exports.createElement(jde,{serialized:i,cache:t})}),jde=function(e){Tf(t,e);function t(i,s,u){return e.call(this,i,s,u)||this}var r=t.prototype;return r.componentDidMount=function(){this.sheet=new rSe({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var s=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');s!==null&&this.sheet.tags.push(s),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(s){s.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(this.props.serialized.next!==void 0&&BQ(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var s=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=s,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(se.exports.Component),Uot=function(){var t=aSe.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},$ot=function e(t){for(var r=t.length,i=0,s="";i<r;i++){var u=t[i];if(u!=null){var d=void 0;switch(typeof u){case"boolean":break;case"object":{if(Array.isArray(u))d=e(u);else{d="";for(var v in u)u[v]&&v&&(d&&(d+=" "),d+=v)}break}default:d=u}d&&(s&&(s+=" "),s+=d)}}return s};function Vot(e,t,r){var i=[],s=iSe(e,i,r);return i.length<2?r:s+t(i)}var qot=function(){return null},Bot=IU(function(e,t){return se.exports.createElement(TU.Consumer,null,function(r){var i=!1,s=function(){for(var S=arguments.length,C=new Array(S),A=0;A<S;A++)C[A]=arguments[A];var L=QN(C,t.registered);return BQ(t,L,!1),t.key+"-"+L.name},u=function(){for(var S=arguments.length,C=new Array(S),A=0;A<S;A++)C[A]=arguments[A];return Vot(t.registered,s,$ot(C))},d={css:s,cx:u,theme:r},v=e.children(d);i=!0;var g=se.exports.createElement(qot,null);return se.exports.createElement(se.exports.Fragment,null,g,v)})});const Hot=Object.freeze(Object.defineProperty({__proto__:null,ClassNames:Bot,Global:jot,createElement:Fde,jsx:Fde,keyframes:Uot,CacheProvider:Dot,ThemeContext:TU,withEmotionCache:IU,css:aSe},Symbol.toStringTag,{value:"Module"})),uSe=M7(Hot);Object.defineProperty(gh,"__esModule",{value:!0});gh.default=dSe;gh.skeletonStyles=gh.skeletonKeyframes=gh.defaultHighlightColor=gh.defaultBaseColor=void 0;zot(se.exports);var uT=uSe;function zot(e){return e&&e.__esModule?e:{default:e}}function Ude(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Kot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ude(r,!0).forEach(function(i){Wot(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ude(r).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Wot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cSe(){var e=Got([`
  0% {
    background-position: -200px 0;
  }
  `,`
  100% {
    background-position: calc(200px + 100%) 0;
  }
`]);return cSe=function(){return e},e}function Got(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c3="#eee";gh.defaultBaseColor=c3;var lSe="#f5f5f5";gh.defaultHighlightColor=lSe;var hSe=function(t,r){return(0,uT.keyframes)(cSe(),r>0?"".concat(Math.floor(1/(t+r)*t*100),`% {
    background-position: calc(200px + 100%) 0;
  }`):void 0)};gh.skeletonKeyframes=hSe;var fSe=(0,uT.css)("background-color:",c3,";background-image:linear-gradient( 90deg,",c3,",",lSe,",",c3," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");gh.skeletonStyles=fSe;function dSe(e){for(var t=e.count,r=e.duration,i=e.width,s=e.wrapper,u=e.height,d=e.circle,v=e.delay,g=e.style,w=e.className,S=[],C=0;C<t;C++){var A={};i!==null&&(A.width=i),u!==null&&(A.height=u),i!==null&&u!==null&&d&&(A.borderRadius="50%");var L="react-loading-skeleton";w&&(L+=" "+w),S.push((0,uT.jsx)("span",{key:C,className:L,css:(0,uT.css)(fSe," animation:",hSe(r,v)," ",r+v,"s ease-in-out infinite;label:Skeleton;"),style:Kot({},g,{},A)},"\u200C"))}return(0,uT.jsx)("span",null,s?S.map(function(M,U){return(0,uT.jsx)(s,{key:U},M,"\u200C")}):S)}dSe.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0};var CU={};Object.defineProperty(CU,"__esModule",{value:!0});CU.default=void 0;var Qot=Yot(se.exports),$de=uSe,Vde=gh;function pSe(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return pSe=function(){return e},e}function Yot(e){if(e&&e.__esModule)return e;if(e===null||tN(e)!=="object"&&typeof e!="function")return{default:e};var t=pSe();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var u=i?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}function tN(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tN=function(r){return typeof r}:tN=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tN(e)}function Xot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qde(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jot(e,t,r){return t&&qde(e.prototype,t),r&&qde(e,r),e}function Zot(e,t){return t&&(tN(t)==="object"||typeof t=="function")?t:est(e)}function est(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(e){return _7=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_7(e)}function tst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E7(e,t)}function E7(e,t){return E7=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},E7(e,t)}function nst(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vSe=function(e){tst(t,e);function t(){return Xot(this,t),Zot(this,_7(t).apply(this,arguments))}return Jot(t,[{key:"render",value:function(){var i=this.props,s=i.color,u=i.highlightColor,d=i.children,v=(0,$de.css)(".react-loading-skeleton{background-color:",s,";background-image:linear-gradient( 90deg,",s,",",u,",",s," );};label:SkeletonTheme;");return(0,$de.jsx)("div",{css:v},d)}}]),t}(Qot.Component);CU.default=vSe;nst(vSe,"defaultProps",{color:Vde.defaultBaseColor,highlightColor:Vde.defaultHighlightColor});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"SkeletonTheme",{enumerable:!0,get:function(){return r.default}});var t=i(gh),r=i(CU);function i(s){return s&&s.__esModule?s:{default:s}}})(nR);const ll=B4(nR),S7=({product:e})=>{const t=sp(),r=()=>{!e||t.push(`/product/${e.id}`)};return D(nR.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:ge("div",{className:"product-display",onClick:r,role:"presentation",children:[D("div",{className:"product-display-img",children:e.image?D(Eh,{className:"product-card-img",src:e.image}):D(ll,{width:"100%",height:"100%"})}),ge("div",{className:"product-display-details",children:[D("h2",{children:e.name||D(ll,{width:80})}),D("p",{className:"text-subtle text-italic",children:e.brand||D(ll,{width:40})})]})]})})};S7.propTypes={product:ie.exports.shape({image:ie.exports.string,name:ie.exports.string,id:ie.exports.string,brand:ie.exports.string}).isRequired};const F4=({product:e,isItemOnBasket:t,addToBasket:r})=>{const i=sp(),s=()=>{!e||e.id&&i.push(`/product/${e.id}`)},u=t?t(e.id):!1,d=()=>{r&&r({...e,selectedSize:e.sizes[0]})};return D(nR.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:ge("div",{className:`product-card ${e.id?"":"product-loading"}`,style:{border:e&&u?"1px solid #a6a5a5":"",boxShadow:e&&u?"0 10px 15px rgba(0, 0, 0, .07)":"none"},children:[u&&D(mP,{className:"fa fa-check product-card-check"}),ge("div",{className:"product-card-content",onClick:s,role:"presentation",children:[D("div",{className:"product-card-img-wrapper",children:e.image?D(Eh,{alt:e.name,className:"product-card-img",src:e.image}):D(ll,{width:"100%",height:"90%"})}),ge("div",{className:"product-details",children:[D("h5",{className:"product-card-name text-overflow-ellipsis margin-auto",children:e.name||D(ll,{width:80})}),D("p",{className:"product-card-brand",children:e.brand||D(ll,{width:60})}),D("h4",{className:"product-card-price",children:e.price?by(e.price):D(ll,{width:40})})]})]}),e.id&&D("button",{className:`product-card-button button-small button button-block ${u?"button-border button-border-gray":""}`,onClick:d,type:"button",children:u?"Remove from basket":"Add to basket"})]})})};F4.defaultProps={isItemOnBasket:void 0,addToBasket:void 0};F4.propTypes={product:ie.exports.object.isRequired,isItemOnBasket:ie.exports.func,addToBasket:ie.exports.func};const zQ=({products:e})=>{const{addToBasket:t,isItemOnBasket:r}=qge();return D("div",{className:"product-grid",children:e.length===0?new Array(12).fill({}).map((i,s)=>D(F4,{product:i},`product-skeleton ${s}`)):e.map(i=>D(F4,{isItemOnBasket:r,addToBasket:t,product:i},i.id))})};zQ.propTypes={products:ie.exports.array.isRequired};const kU=e=>{const{products:t,filteredProducts:r,isLoading:i,requestStatus:s,children:u}=e,[d,v]=se.exports.useState(!1),g=Lo(),w=()=>{v(!0),g(aot(t.lastRefKey))};return se.exports.useEffect(()=>((t.items.length===0||!t.lastRefKey)&&w(),window.scrollTo(0,0),()=>g(fl(!1))),[]),se.exports.useEffect(()=>{v(!1)},[t.lastRefKey]),r.length===0&&!i?D(Cf,{message:(s==null?void 0:s.message)||"No products found."}):r.length===0&&s?D(Cf,{message:(s==null?void 0:s.message)||"Something went wrong :(",action:w,buttonLabel:"Try Again"}):ge(t_,{children:[u,t.items.length<t.total&&D("div",{className:"d-flex-center padding-l",children:D("button",{className:"button button-small",disabled:d,onClick:w,type:"button",children:d?"Fetching Items...":"Show More Items"})})]})};kU.defaultProps={requestStatus:null};kU.propTypes={products:ie.exports.object.isRequired,filteredProducts:ie.exports.array.isRequired,isLoading:ie.exports.bool.isRequired,requestStatus:ie.exports.string,children:ie.exports.oneOfType([ie.exports.arrayOf(ie.exports.node),ie.exports.node]).isRequired};const Gw=({products:e,skeletonCount:t})=>D("div",{className:"product-display-grid",children:e.length===0?new Array(t).fill({}).map((r,i)=>D(S7,{product:r},`product-skeleton ${i}`)):e.map(r=>D(S7,{product:r},r.id))});Gw.defaultProps={skeletonCount:4};Gw.propTypes={products:ie.exports.array.isRequired,skeletonCount:ie.exports.number};const rst=[{value:"Salt Maalat",label:"Salt Maalat"},{value:"Betsin Maalat",label:"Betsin Maalat"},{value:"Sexbomb",label:"Sexbomb"},{value:"Black Kibal",label:"Black Kibal"}],ist=Sy().shape({name:mi().required("Product name is required.").max(60,"Product name must only be less than 60 characters."),brand:mi().required("Brand name is required."),price:i3().positive("Price is invalid.").integer("Price should be an integer.").required("Price is required."),description:mi().required("Description is required."),maxQuantity:i3().positive("Max quantity is invalid.").integer("Max quantity should be an integer.").required("Max quantity is required."),keywords:o3().of(mi()).min(1,"Please enter at least 1 keyword for this product."),sizes:o3().of(i3()).min(1,"Please enter a size for this product."),isFeatured:HN(),isRecommended:HN(),availableColors:o3().of(mi().required()).min(1,"Please add a default color for this product.")}),mSe=({product:e,onSubmit:t,isLoading:r})=>{const i={name:(e==null?void 0:e.name)||"",brand:(e==null?void 0:e.brand)||"",price:(e==null?void 0:e.price)||0,maxQuantity:(e==null?void 0:e.maxQuantity)||0,description:(e==null?void 0:e.description)||"",keywords:(e==null?void 0:e.keywords)||[],sizes:(e==null?void 0:e.sizes)||[],isFeatured:(e==null?void 0:e.isFeatured)||!1,isRecommended:(e==null?void 0:e.isRecommended)||!1,availableColors:(e==null?void 0:e.availableColors)||[]},{imageFile:s,isFileLoading:u,onFileChange:d,removeImage:v}=cwe({image:{},imageCollection:(e==null?void 0:e.imageCollection)||[]});return D("div",{children:D(KP,{initialValues:i,validateOnChange:!0,validationSchema:ist,onSubmit:w=>{var S;s.image.file||e.imageUrl?t({...w,quantity:1,name_lower:w.name.toLowerCase(),dateAdded:new Date().getTime(),image:((S=s==null?void 0:s.image)==null?void 0:S.file)||e.imageUrl,imageCollection:s.imageCollection}):alert("Product thumbnail image is required.")},children:({values:w,setValues:S})=>ge(WP,{className:"product-form",children:[ge("div",{className:"product-form-inputs",children:[ge("div",{className:"d-flex",children:[D("div",{className:"product-form-field",children:D(Du,{disabled:r,name:"name",type:"text",label:"* Product Name",placeholder:"Gago",style:{textTransform:"capitalize"},component:Wa})}),"\xA0",D("div",{className:"product-form-field",children:D(eN,{defaultValue:{label:w.brand,value:w.brand},name:"brand",iid:"brand",options:rst,disabled:r,placeholder:"Select/Create Brand",label:"* Brand"})})]}),D("div",{className:"product-form-field",children:D(Du,{disabled:r,name:"description",id:"description",rows:3,label:"* Product Description",component:ZEe})}),ge("div",{className:"d-flex",children:[D("div",{className:"product-form-field",children:D(Du,{disabled:r,name:"price",id:"price",type:"number",label:"* Price",component:Wa})}),"\xA0",D("div",{className:"product-form-field",children:D(Du,{disabled:r,name:"maxQuantity",type:"number",id:"maxQuantity",label:"* Max Quantity",component:Wa})})]}),ge("div",{className:"d-flex",children:[D("div",{className:"product-form-field",children:D(eN,{defaultValue:w.keywords.map(C=>({value:C,label:C})),name:"keywords",iid:"keywords",isMulti:!0,disabled:r,placeholder:"Create/Select Keywords",label:"* Keywords"})}),"\xA0",D("div",{className:"product-form-field",children:D(eN,{defaultValue:w.keywords.map(C=>({value:C,label:C})),name:"sizes",iid:"sizes",type:"number",isMulti:!0,disabled:r,placeholder:"Create/Select Sizes",label:"* Sizes (Millimeter)"})})]}),D("div",{className:"product-form-field",children:D(xze,{name:"availableColors",disabled:r,component:iEe})}),ge("div",{className:"product-form-field",children:[D("span",{className:"d-block padding-s",children:"Image Collection"}),!u&&ge("label",{htmlFor:"product-input-file-collection",children:[D("input",{disabled:r,hidden:!0,id:"product-input-file-collection",multiple:!0,onChange:C=>d(C,{name:"imageCollection",type:"multiple"}),readOnly:r,type:"file"}),"Choose Images"]})]}),D("div",{className:"product-form-collection",children:D(Mu,{children:s.imageCollection.length>=1&&s.imageCollection.map(C=>ge("div",{className:"product-form-collection-image",children:[D(Eh,{alt:"",src:C.url}),D("button",{className:"product-form-delete-image",onClick:()=>v({id:C.id,name:"imageCollection"}),title:"Delete Image",type:"button",children:D("i",{className:"fa fa-times-circle"})})]},C.id))})}),D("br",{}),ge("div",{className:"d-flex",children:[ge("div",{className:"product-form-field",children:[D("input",{checked:w.isFeatured,className:"",id:"featured",onChange:C=>S({...w,isFeatured:C.target.checked}),type:"checkbox"}),D("label",{htmlFor:"featured",children:D("h5",{className:"d-flex-grow-1 margin-0",children:"\xA0 Add to Featured \xA0"})})]}),ge("div",{className:"product-form-field",children:[D("input",{checked:w.isRecommended,className:"",id:"recommended",onChange:C=>S({...w,isRecommended:C.target.checked}),type:"checkbox"}),D("label",{htmlFor:"recommended",children:D("h5",{className:"d-flex-grow-1 margin-0",children:"\xA0 Add to Recommended \xA0"})})]})]}),D("br",{}),D("br",{}),D("br",{}),D("div",{className:"product-form-field product-form-submit",children:ge("button",{className:"button",disabled:r,type:"submit",children:[r?D(Qa,{}):D(mP,{}),"\xA0",r?"Saving Product":"Save Product"]})})]}),ge("div",{className:"product-form-file",children:[ge("div",{className:"product-form-field",children:[D("span",{className:"d-block padding-s",children:"* Thumbnail"}),!u&&ge("label",{htmlFor:"product-input-file",children:[D("input",{disabled:r,hidden:!0,id:"product-input-file",onChange:C=>d(C,{name:"image",type:"single"}),readOnly:r,type:"file"}),"Choose Image"]})]}),D("div",{className:"product-form-image-wrapper",children:(s.image.url||e.image)&&D(Eh,{alt:"",className:"product-form-image-preview",src:s.image.url||e.image})})]})]})})})};mSe.propTypes={product:ie.exports.shape({name:ie.exports.string,brand:ie.exports.string,price:ie.exports.number,maxQuantity:ie.exports.number,description:ie.exports.string,keywords:ie.exports.arrayOf(ie.exports.string),imageCollection:ie.exports.arrayOf(ie.exports.object),sizes:ie.exports.arrayOf(ie.exports.string),image:ie.exports.string,imageUrl:ie.exports.string,isFeatured:ie.exports.bool,isRecommended:ie.exports.bool,availableColors:ie.exports.arrayOf(ie.exports.string)}).isRequired,onSubmit:ie.exports.func.isRequired,isLoading:ie.exports.bool.isRequired};const gSe=Object.freeze(Object.defineProperty({__proto__:null,default:mSe},Symbol.toStringTag,{value:"Module"})),ySe=({product:e})=>{const t=Lo(),r=sp(),i=se.exports.useRef(null),s=()=>{r.push(`${upe}/${e.id}`)},u=()=>{i.current.classList.toggle("item-active")},d=()=>{t(dot(e.id)),Zg("Item successfully deleted"),i.current.classList.remove("item-active")},v=()=>{i.current.classList.remove("item-active")};return D(nR.SkeletonTheme,{color:"#e1e1e1",highlightColor:"#f2f2f2",children:ge("div",{className:`item item-products ${!e.id&&"item-loading"}`,ref:i,children:[ge("div",{className:"grid grid-count-6",children:[D("div",{className:"grid-col item-img-wrapper",children:e.image?D(Eh,{alt:e.name,className:"item-img",src:e.image}):D(ll,{width:50,height:30})}),D("div",{className:"grid-col",children:D("span",{className:"text-overflow-ellipsis",children:e.name||D(ll,{width:50})})}),D("div",{className:"grid-col",children:D("span",{children:e.brand||D(ll,{width:50})})}),D("div",{className:"grid-col",children:D("span",{children:e.price?by(e.price):D(ll,{width:30})})}),D("div",{className:"grid-col",children:D("span",{children:e.dateAdded?_Me(e.dateAdded):D(ll,{width:30})})}),D("div",{className:"grid-col",children:D("span",{children:e.maxQuantity||D(ll,{width:20})})})]}),e.id&&ge("div",{className:"item-action",children:[D("button",{className:"button button-border button-small",onClick:s,type:"button",children:"Edit"}),"\xA0",D("button",{className:"button button-border button-small button-danger",onClick:u,type:"button",children:"Delete"}),ge("div",{className:"item-action-confirm",children:[D("h5",{children:"Are you sure you want to delete this?"}),D("button",{className:"button button-small button-border",onClick:v,type:"button",children:"No"}),"\xA0",D("button",{className:"button button-small button-danger",onClick:d,type:"button",children:"Yes"})]})]})]})})};ySe.propTypes={product:ie.exports.shape({id:ie.exports.string,name:ie.exports.string,brand:ie.exports.string,price:ie.exports.number,maxQuantity:ie.exports.number,description:ie.exports.string,keywords:ie.exports.arrayOf(ie.exports.string),imageCollection:ie.exports.arrayOf(ie.exports.object),sizes:ie.exports.arrayOf(ie.exports.string),image:ie.exports.string,imageUrl:ie.exports.string,isFeatured:ie.exports.bool,isRecommended:ie.exports.bool,dateAdded:ie.exports.number,availableColors:ie.exports.arrayOf(ie.exports.string)}).isRequired};const Bde=e_(ySe),bSe=e=>{const{productsCount:t,totalProductsCount:r}=e,i=sp();return ge("div",{className:"product-admin-header",children:[ge("h3",{className:"product-admin-header-title",children:["Products \xA0 (",`${t} / ${r}`,")"]}),D(KG,{}),"\xA0",D(nU,{children:ge("button",{className:"button-muted button-small",type:"button",children:[D(Yme,{}),"\xA0More Filters"]})}),ge("button",{className:"button button-small",onClick:()=>i.push(ape),type:"button",children:[D(rge,{}),"\xA0 Add New Product"]})]})};bSe.propTypes={productsCount:ie.exports.number.isRequired,totalProductsCount:ie.exports.number.isRequired};const wSe=({filteredProducts:e})=>ge("div",{children:[e.length>0&&ge("div",{className:"grid grid-product grid-count-6",children:[D("div",{className:"grid-col"}),D("div",{className:"grid-col",children:D("h5",{children:"Name"})}),D("div",{className:"grid-col",children:D("h5",{children:"Brand"})}),D("div",{className:"grid-col",children:D("h5",{children:"Price"})}),D("div",{className:"grid-col",children:D("h5",{children:"Date Added"})}),D("div",{className:"grid-col",children:D("h5",{children:"Qty"})})]}),e.length===0?new Array(10).fill({}).map((t,r)=>D(Bde,{product:t},`product-skeleton ${r}`)):e.map(t=>D(Bde,{product:t},t.id))]});wSe.propTypes={filteredProducts:ie.exports.array.isRequired};const ost=()=>{Xa("Product List | Admin"),va();const e=ks(t=>({filteredProducts:fwe(t.products.items,t.filter),requestStatus:t.app.requestStatus,isLoading:t.app.loading,products:t.products}));return ge(t_,{children:[D(bSe,{productsCount:e.products.items.length,totalProductsCount:e.products.total}),D("div",{className:"product-admin-items",children:ge(kU,{...e,children:[D(SU,{filter:e.filter}),D(wSe,{filteredProducts:e.filteredProducts})]})})]})},sst=e_(ost),ast=()=>{const{authStatus:e,isAuthenticating:t}=ks(A=>({isAuthenticating:A.app.isAuthenticating,authStatus:A.app.authStatus})),r=Lo(),i=n_(),[s,u]=se.exports.useState({}),[d,v]=se.exports.useState(!1),[g,w]=se.exports.useState({});va(),Xa("Forgot Password | Salinaka"),se.exports.useEffect(()=>{i&&(u(e),v(t))},[e,t]);const S=(A,L)=>{w({email:A,error:L})},C=()=>{!!g.email&&!g.error&&r(yMe(g.email))};return ge("div",{className:"forgot_password",children:[(s==null?void 0:s.message)&&D("h5",{className:`text-center ${e!=null&&e.success?"toast-success":"toast-error"}`,children:e.message}),D("h2",{children:"Forgot Your Password?"}),D("p",{children:"Enter your email address and we will send you a password reset email."}),D("br",{}),D("input",{field:"email",required:!0,className:"input-form",label:"* Email",maxLength:40,onChange:S,placeholder:"Enter your email",readOnly:d||(e==null?void 0:e.success),type:"email",style:{width:"100%"}}),D("br",{}),D("br",{}),ge("button",{className:"button w-100-mobile",disabled:d||(e==null?void 0:e.success),onClick:C,type:"button",children:[d?D(Qa,{}):D(mP,{}),"\xA0",d?"Sending Password Reset Email":"Send Password Reset Email"]})]})},ust=Sy().shape({email:mi().email("Email is not valid.").required("Email is required."),password:mi().required("Password is required.")}),_Se=({history:e})=>{const{authStatus:t,isAuthenticating:r}=ks(v=>({authStatus:v.app.authStatus,isAuthenticating:v.app.isAuthenticating})),i=Lo();va(),Xa("Sign In | Salinaka"),se.exports.useEffect(()=>()=>{i(mf(null)),i(ty(!1))},[]);const s=()=>e.push(cT),u=v=>{i(lMe(v.email,v.password))},d=v=>{r&&v.preventDefault()};return ge("div",{className:"auth-content",children:[(t==null?void 0:t.success)&&D("div",{className:"loader",children:ge("h3",{className:"toast-success auth-success",children:[t.message,D(Qa,{})]})}),!(t!=null&&t.success)&&ge(Mu,{children:[(t==null?void 0:t.message)&&D("h5",{className:"text-center toast-error",children:t==null?void 0:t.message}),ge("div",{className:`auth ${(t==null?void 0:t.message)&&!(t!=null&&t.success)&&"input-error"}`,children:[ge("div",{className:"auth-main",children:[D("h3",{children:"Sign in to Salinaka"}),D("br",{}),D("div",{className:"auth-wrapper",children:D(KP,{initialValues:{email:"",password:""},validateOnChange:!0,validationSchema:ust,onSubmit:u,children:()=>ge(WP,{children:[D("div",{className:"auth-field",children:D(Du,{disabled:r,name:"email",type:"email",label:"Email",placeholder:"test@example.com",component:Wa})}),D("div",{className:"auth-field",children:D(Du,{disabled:r,name:"password",type:"password",label:"Password",placeholder:"Your Password",component:Wa})}),D("br",{}),ge("div",{className:"auth-field auth-action",children:[D(wc,{onClick:d,style:{textDecoration:"underline"},to:D7,children:D("span",{children:"Forgot password?"})}),ge("button",{className:"button auth-button",disabled:r,type:"submit",children:[r?"Signing In":"Sign In","\xA0",r?D(Qa,{}):D(vP,{})]})]})]})})})]}),D("div",{className:"auth-divider",children:D("h6",{children:"OR"})}),D(WG,{isLoading:r})]}),ge("div",{className:"auth-message",children:[D("span",{className:"auth-info",children:D("strong",{children:"Don't have an account?"})}),D("button",{className:"button button-small button-border button-border-gray button-icon",disabled:r,onClick:s,type:"button",children:"Sign Up"})]})]})]})};_Se.propTypes={history:ie.exports.shape({push:ie.exports.func}).isRequired};const cst=Sy().shape({email:mi().email("Email is not valid.").required("Email is required."),password:mi().required("Password is required.").min(8,"Password length should be at least 8 characters.").matches(/[A-Z\W]/g,"Password should contain at least 1 uppercase letter."),fullname:mi().required("Full name is required.").min(4,"Name should be at least 4 characters.")}),ESe=({history:e})=>{const{isAuthenticating:t,authStatus:r}=ks(d=>({isAuthenticating:d.app.isAuthenticating,authStatus:d.app.authStatus})),i=Lo();va(),Xa("Sign Up | Salinaka"),se.exports.useEffect(()=>()=>{i(mf(null)),i(ty(!1))},[]);const s=()=>e.push(yf),u=d=>{i(pMe({fullname:d.fullname.trim(),email:d.email.trim().toLowerCase(),password:d.password.trim()}))};return ge("div",{className:"auth-content",children:[(r==null?void 0:r.success)&&D("div",{className:"loader",children:ge("h3",{className:"toast-success auth-success",children:[r==null?void 0:r.message,D(Qa,{})]})}),!(r!=null&&r.success)&&ge(Mu,{children:[(r==null?void 0:r.message)&&D("h5",{className:"text-center toast-error",children:r==null?void 0:r.message}),ge("div",{className:`auth ${(r==null?void 0:r.message)&&!(r!=null&&r.success)&&"input-error"}`,children:[ge("div",{className:"auth-main",children:[D("h3",{children:"Sign up to Salinaka"}),D(KP,{initialValues:{fullname:"",email:"",password:""},validateOnChange:!0,validationSchema:cst,onSubmit:u,children:()=>ge(WP,{children:[D("div",{className:"auth-field",children:D(Du,{disabled:t,name:"fullname",type:"text",label:"* Full Name",placeholder:"John Doe",style:{textTransform:"capitalize"},component:Wa})}),D("div",{className:"auth-field",children:D(Du,{disabled:t,name:"email",type:"email",label:"* Email",placeholder:"test@example.com",component:Wa})}),D("div",{className:"auth-field",children:D(Du,{disabled:t,name:"password",type:"password",label:"* Password",placeholder:"Your Password",component:Wa})}),D("br",{}),D("div",{className:"auth-field auth-action auth-action-signup",children:ge("button",{className:"button auth-button",disabled:t,type:"submit",children:[t?"Signing Up":"Sign Up","\xA0",t?D(Qa,{}):D(vP,{})]})})]})})]}),D("div",{className:"auth-divider",children:D("h6",{children:"OR"})}),D(WG,{isLoading:t})]}),ge("div",{className:"auth-message",children:[D("span",{className:"auth-info",children:D("strong",{children:"Already have an account?"})}),D("button",{className:"button button-small button-border button-border-gray",disabled:t,onClick:s,type:"button",children:"Sign In"})]})]})]})};ESe.propTypes={history:ie.exports.shape({push:ie.exports.func}).isRequired};const KQ=({current:e})=>{const t=r=>e===r?"is-active-step":r<e?"is-done-step":"";return D("div",{className:"checkout-header",children:ge("ul",{className:"checkout-header-menu",children:[D("li",{className:`checkout-header-list ${t(1)}`,children:ge("div",{className:"checkout-header-item",children:[D("div",{className:"checkout-header-icon",children:D("h4",{className:"checkout-header-step",children:"1"})}),D("h6",{className:"checkout-header-subtitle",children:"Order Summary"})]})}),D("li",{className:`checkout-header-list ${t(2)}`,children:ge("div",{className:"checkout-header-item",children:[D("div",{className:"checkout-header-icon",children:D("h4",{className:"checkout-header-step",children:"2"})}),D("h6",{className:"checkout-header-subtitle",children:"Shipping Details"})]})}),D("li",{className:`checkout-header-list ${t(3)}`,children:ge("div",{className:"checkout-header-item",children:[D("div",{className:"checkout-header-icon",children:D("h4",{className:"checkout-header-step",children:"3"})}),D("h6",{className:"checkout-header-subtitle",children:"Payment"})]})})]})})};KQ.propTypes={current:ie.exports.number.isRequired};const SSe=e=>e_(t=>{const r=ks(u=>({isAuth:!!u.auth.id&&!!u.auth.role,basket:u.basket,shipping:u.checkout.shipping,payment:u.checkout.payment,profile:u.profile})),i=r.shipping.isInternational?50:0,s=Uge(r.basket.map(u=>u.price*u.quantity));return r.isAuth?r.basket.length===0?D(yy,{to:"/"}):r.isAuth&&r.basket.length!==0?D(e,{...t,basket:r.basket,payment:r.payment,profile:r.profile,shipping:r.shipping,subtotal:Number(s+i)}):null:D(yy,{to:yf})}),TSe=({basket:e,subtotal:t})=>{Xa("Check Out Step 1 | Salinaka"),va();const r=Lo(),i=sp(),s=()=>i.push("/"),u=()=>i.push(L7);return ge("div",{className:"checkout",children:[D(KQ,{current:1}),ge("div",{className:"checkout-step-1",children:[D("h3",{className:"text-center",children:"Order Summary"}),D("span",{className:"d-block text-center",children:"Review items in your basket."}),D("br",{}),D("div",{className:"checkout-items",children:e.map(d=>D(zG,{basket:e,dispatch:r,product:d},d.id))}),D("br",{}),ge("div",{className:"basket-total text-right",children:[D("p",{className:"basket-total-title",children:"Subtotal:"}),D("h2",{className:"basket-total-amount",children:by(t)})]}),D("br",{}),ge("div",{className:"checkout-shipping-action",children:[ge("button",{className:"button button-muted",onClick:s,type:"button",children:[D(GLe,{}),"\xA0 Continue Shopping"]}),ge("button",{className:"button",onClick:u,type:"submit",children:["Next Step \xA0",D(vP,{})]})]})]})]})};TSe.propTypes={basket:ie.exports.arrayOf(ie.exports.object).isRequired,subtotal:ie.exports.number.isRequired};const lst=SSe(TSe),hst=()=>{const{values:e}=g_();return D("div",{className:"checkout-shipping-wrapper",children:ge("div",{className:"checkout-shipping-form",children:[ge("div",{className:"checkout-fieldset",children:[D("div",{className:"d-block checkout-field",children:D(Du,{name:"fullname",type:"text",label:"* Full Name",placeholder:"Enter your full name",component:Wa,style:{textTransform:"capitalize"}})}),D("div",{className:"d-block checkout-field",children:D(Du,{name:"email",type:"email",label:"* Email Address",placeholder:"Enter your email address",component:Wa})})]}),ge("div",{className:"checkout-fieldset",children:[D("div",{className:"d-block checkout-field",children:D(Du,{name:"address",type:"text",label:"* Shipping Address",placeholder:"Enter full shipping address",component:Wa})}),D("div",{className:"d-block checkout-field",children:D(EU,{name:"mobile",defaultValue:e.mobile})})]})]})})},ISe=({subtotal:e})=>{const{values:t}=g_();return D("div",{className:"checkout-total d-flex-end padding-right-m",children:D("table",{children:ge("tbody",{children:[ge("tr",{children:[D("td",{children:D("span",{className:"d-block margin-0 padding-right-s text-right",children:"Subtotal: \xA0"})}),D("td",{children:D("h4",{className:"basket-total-amount text-subtle text-right margin-0",children:by(e)})})]}),ge("tr",{children:[D("td",{children:D("span",{className:"d-block margin-0 padding-right-s text-right",children:"Total: \xA0"})}),D("td",{children:D("h2",{className:"basket-total-amount text-right",children:by(Number(e)+(t.isInternational?5e5:0))})})]})]})})})};ISe.propTypes={subtotal:ie.exports.number.isRequired};const fst=Sy().shape({fullname:mi().required("Full name is required.").min(2,"Full name must be at least 2 characters long.").max(60,"Full name must only be less than 60 characters."),email:mi().email("Email is not valid.").required("Email is required."),address:mi().required("Shipping address is required."),mobile:Sy().shape({country:mi(),countryCode:mi(),dialCode:mi().required("Mobile number is required"),value:mi().required("Mobile number is required")}).required("Mobile number is required."),isInternational:HN(),isDone:HN()}),CSe=({profile:e,shipping:t,subtotal:r})=>{Xa("Check Out Step 2 | Salinaka"),va();const i=Lo(),s=sp(),u={fullname:t.fullname||e.fullname||"",email:t.email||e.email||"",address:t.address||e.address||"",mobile:t.mobile||e.mobile||{},isInternational:t.isInternational||!1,isDone:t.isDone||!1};return D(t_,{children:ge("div",{className:"checkout",children:[D(KQ,{current:2}),ge("div",{className:"checkout-step-2",children:[D("h3",{className:"text-center",children:"Shipping Details"}),D(KP,{initialValues:u,validateOnChange:!0,validationSchema:fst,onSubmit:async v=>{i(Mqe({fullname:v.fullname,email:v.email,address:v.address,mobile:v.mobile,isInternational:v.isInternational,isDone:!0}));const g={orderId:`ORDER-${new Date().getTime()}`,quantity:1,price:r};try{const w=await fetch("http://localhost:8080/createTransaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:`ORDER-${new Date().getTime()}`,quantity:1,price:r})});console.log({transactionData:g});const S=await w.json();S.redirect_url?window.location.href=S.redirect_url:window.snap.pay(S.token,{onSuccess:C=>{console.log("Payment success:",C),alert("Pembayaran berhasil!"),s.push(CHECKOUT_STEP_3)},onPending:C=>{console.log("Payment pending:",C),alert("Pembayaran pending!")},onError:C=>{console.error("Payment error:",C),alert("Pembayaran gagal.")},onClose:()=>{alert("Anda menutup popup pembayaran.")}})}catch(w){console.error("Error during payment:",w),alert("Terjadi kesalahan saat memproses pembayaran.")}},children:({values:v})=>ge(WP,{children:[D(hst,{}),D("br",{}),D(ISe,{subtotal:r}),D("br",{}),ge("div",{className:"checkout-shipping-action",children:[ge("button",{className:"button button-muted",onClick:()=>s.push(iN),type:"button",children:[D(ZK,{}),"\xA0 Go Back"]}),ge("button",{className:"button button-icon",type:"submit",children:["Confirm & Pay \xA0",D(vP,{})]})]})]})})]})]})})};CSe.propTypes={subtotal:ie.exports.number.isRequired,profile:ie.exports.shape({fullname:ie.exports.string,email:ie.exports.string,address:ie.exports.string,mobile:ie.exports.object}).isRequired,shipping:ie.exports.shape({fullname:ie.exports.string,email:ie.exports.string,address:ie.exports.string,mobile:ie.exports.object,isInternational:ie.exports.bool,isDone:ie.exports.bool}).isRequired};const dst=SSe(CSe),kSe=({history:e})=>(va(),ge("div",{className:"page-not-found",children:[D("h1",{children:":( Page you are looking for doesn't exists."}),D("br",{}),D("button",{className:"button",onClick:e.goBack,type:"button",children:"Go back"})]}));kSe.propTypes={history:ie.exports.shape({goBack:ie.exports.func}).isRequired};const pst="/assets/banner-guy.0729a23e.png",vst=()=>{Xa("Featured Products | Salinaka"),va();const{featuredProducts:e,fetchFeaturedProducts:t,isLoading:r,error:i}=uwe();return D("main",{className:"content",children:ge("div",{className:"featured",children:[ge("div",{className:"banner",children:[D("div",{className:"banner-desc",children:D("h1",{children:"Featured Products"})}),D("div",{className:"banner-img",children:D("img",{src:pst,alt:""})})]}),D("div",{className:"display",children:D("div",{className:"product-display-grid",children:i&&!r?D(Cf,{message:i,action:t,buttonLabel:"Try Again"}):D(Gw,{products:e,skeletonCount:6})})})]})})},mst="/assets/banner-girl.cc69a475.png",gst=()=>{Xa("E-commerce | Home"),va();const{featuredProducts:e,fetchFeaturedProducts:t,isLoading:r,error:i}=uwe(6),{recommendedProducts:s,fetchRecommendedProducts:u,isLoading:d,error:v}=FG(6);return D("main",{className:"content",children:ge("div",{className:"home",children:[ge("div",{className:"banner",children:[ge("div",{className:"banner-desc",children:[ge("h1",{className:"text-thin",children:[D("strong",{children:"See"}),"\xA0everything with\xA0",D("strong",{children:"Clarity"})]}),D("p",{children:"Buying eyewear should leave you happy and good-looking, with money in your pocket. Glasses, sunglasses, and contacts\u2014we\u2019ve got your eyes covered."}),D("br",{}),ge(wc,{to:IT,className:"button",children:["Shop Now \xA0",D(vP,{})]})]}),D("div",{className:"banner-img",children:D("img",{src:mst,alt:""})})]}),ge("div",{className:"display",children:[ge("div",{className:"display-header",children:[D("h1",{children:"Featured Products"}),D(wc,{to:R7,children:"See All"})]}),i&&!r?D(Cf,{message:i,action:t,buttonLabel:"Try Again"}):D(Gw,{products:e,skeletonCount:6})]}),ge("div",{className:"display",children:[ge("div",{className:"display-header",children:[D("h1",{children:"Recommended Products"}),D(wc,{to:$4,children:"See All"})]}),v&&!d?D(Cf,{message:v,action:u,buttonLabel:"Try Again"}):D(Gw,{products:s,skeletonCount:6})]})]})})},yst="/assets/banner-girl-1.23493f87.png",bst=()=>{Xa("Recommended Products | Salinaka"),va();const{recommendedProducts:e,fetchRecommendedProducts:t,isLoading:r,error:i}=FG();return D("main",{className:"content",children:ge("div",{className:"featured",children:[ge("div",{className:"banner",children:[D("div",{className:"banner-desc",children:D("h1",{children:"Recommended Products"})}),D("div",{className:"banner-img",children:D("img",{src:yst,alt:""})})]}),D("div",{className:"display",children:D("div",{className:"product-display-grid",children:i&&!r?D(Cf,{message:i,action:t,buttonLabel:"Try Again"}):D(Gw,{products:e,skeletonCount:6})})})]})})},ASe=({match:e})=>{const{searchKey:t}=e.params,r=Lo(),i=n_(!0),s=ks(u=>({isLoading:u.app.loading,products:u.products.searchedProducts.items,basket:u.basket,requestStatus:u.app.requestStatus}));return se.exports.useEffect(()=>{i&&!s.isLoading&&r(lot(t))},[t]),se.exports.useEffect(()=>()=>{r($N(""))},[]),s.requestStatus&&!s.isLoading?D("main",{className:"content",children:D(Cf,{message:s.requestStatus,desc:"Try using correct filters or keyword."})}):!s.requestStatus&&!s.isLoading?D(t_,{children:D("main",{className:"content",children:ge("section",{className:"product-list-wrapper product-list-search",children:[!s.requestStatus&&D("div",{className:"product-list-header",children:D("div",{className:"product-list-header-title",children:D("h5",{children:`Found ${s.products.length} ${s.products.length>1?"products":"product"} with keyword ${t}`})})}),D(zQ,{products:s.products})]})})}):D("main",{className:"content",children:ge("div",{className:"loader",children:[D("h4",{children:"Searching Product..."}),D("br",{}),D(Qa,{style:{fontSize:"3rem"}})]})})};ASe.propTypes={match:ie.exports.shape({params:ie.exports.shape({searchKey:ie.exports.string})}).isRequired};const wst=()=>{Xa("Shop | Salinaka"),va();const e=ks(t=>({filteredProducts:fwe(t.products.items,t.filter),products:t.products,requestStatus:t.app.requestStatus,isLoading:t.app.loading}),TO);return D("main",{className:"content",children:ge("section",{className:"product-list-wrapper",children:[D(SU,{filteredProductsCount:e.filteredProducts.length}),D(kU,{...e,children:D(zQ,{products:e.filteredProducts})})]})})};var _st=JEe(qQ);const Est=_st,Sst=()=>{const{id:e}=_De(),{product:t,isLoading:r,error:i}=lwe(e),{addToBasket:s,isItemOnBasket:u}=qge();va(),Xa(`View ${(t==null?void 0:t.name)||"Item"}`);const[d,v]=se.exports.useState((t==null?void 0:t.image)||""),[g,w]=se.exports.useState(""),[S,C]=se.exports.useState(""),{recommendedProducts:A,fetchRecommendedProducts:L,isLoading:M,error:U}=FG(6),R=se.exports.useRef(null);se.exports.useEffect(()=>{v(t==null?void 0:t.image)},[t]);const $=H=>{w(H.value)},B=H=>{C(H),R.current&&(R.current.value=H)},G=()=>{s({...t,selectedColor:S,selectedSize:g||t.sizes[0]})};return ge("main",{className:"content",children:[r&&ge("div",{className:"loader",children:[D("h4",{children:"Loading Product..."}),D("br",{}),D(Qa,{style:{fontSize:"3rem"}})]}),i&&D(Cf,{message:i}),t&&!r&&ge("div",{className:"product-view",children:[D(wc,{to:IT,children:ge("h3",{className:"button-link d-inline-flex",children:[D(ZK,{}),"\xA0 Back to shop"]})}),ge("div",{className:"product-modal",children:[t.imageCollection.length!==0&&D("div",{className:"product-modal-image-collection",children:t.imageCollection.map(H=>D("div",{className:"product-modal-image-collection-wrapper",onClick:()=>v(H.url),role:"presentation",children:D(Eh,{className:"product-modal-image-collection-img",src:H.url})},H.id))}),ge("div",{className:"product-modal-image-wrapper",children:[S&&D("input",{type:"color",disabled:!0,ref:R,id:"color-overlay"}),D(Eh,{alt:t.name,className:"product-modal-image",src:d})]}),ge("div",{className:"product-modal-details",children:[D("br",{}),D("span",{className:"text-subtle",children:t.brand}),D("h1",{className:"margin-top-0",children:t.name}),D("span",{children:t.description}),D("br",{}),D("br",{}),D("div",{className:"divider"}),D("br",{}),ge("div",{children:[D("span",{className:"text-subtle",children:"Lens Width and Frame Size"}),D("br",{}),D("br",{}),D(Est,{placeholder:"--Select Size--",onChange:$,options:t.sizes.sort((H,Z)=>H<Z?-1:1).map(H=>({label:`${H} mm`,value:H})),styles:{menu:H=>({...H,zIndex:10})}})]}),D("br",{}),t.availableColors.length>=1&&ge("div",{children:[D("span",{className:"text-subtle",children:"Choose Color"}),D("br",{}),D("br",{}),D(jge,{availableColors:t.availableColors,onSelectedColorChange:B})]}),D("h1",{children:by(t.price)}),D("div",{className:"product-modal-action",children:D("button",{className:`button button-small ${u(t.id)?"button-border button-border-gray":""}`,onClick:G,type:"button",children:u(t.id)?"Remove From Basket":"Add To Basket"})})]})]}),ge("div",{style:{marginTop:"10rem"},children:[ge("div",{className:"display-header",children:[D("h1",{children:"Recommended"}),D(wc,{to:$4,children:"See All"})]}),U&&!M?D(Cf,{message:i,action:L,buttonLabel:"Try Again"}):D(Gw,{products:A,skeletonCount:3})]})]})]})},WQ=({isAuth:e,role:t,component:r,...i})=>D(Pv,{...i,component:s=>e&&t==="ADMIN"?ge(Mu,{children:[D(bMe,{}),ge("main",{className:"content-admin",children:[D(wMe,{}),D("div",{className:"content-admin-wrapper",children:D(r,{...s})})]})]}):D(yy,{to:"/"})}),Tst=({auth:e})=>({isAuth:!!e,role:(e==null?void 0:e.role)||""});WQ.defaultProps={isAuth:!1,role:"USER"};WQ.propTypes={isAuth:ie.exports.bool,role:ie.exports.string,component:ie.exports.func.isRequired,rest:ie.exports.any};const kF=Y7(Tst)(WQ),GQ=({isAuth:e,role:t,component:r,...i})=>D(Pv,{...i,component:s=>e&&t==="USER"?D("main",{className:"content",children:D(r,{...s})}):e&&t==="ADMIN"?D(yy,{to:q4}):D(yy,{to:{pathname:yf,state:{from:s.location}}})});GQ.defaultProps={isAuth:!1,role:"USER"};GQ.propTypes={isAuth:ie.exports.bool,role:ie.exports.string,component:ie.exports.func.isRequired,rest:ie.exports.any};const Ist=({auth:e})=>({isAuth:!!e,role:(e==null?void 0:e.role)||""}),uO=Y7(Ist)(GQ),QQ=({isAuth:e,role:t,component:r,path:i,...s})=>D(Pv,{...s,render:u=>{const{from:d}=u.location.state||{from:{pathname:"/"}};return e&&t==="ADMIN"?D(yy,{to:q4}):e&&t==="USER"&&(i===yf||i===cT)?D(yy,{to:d}):D("main",{className:"content",children:D(r,{...u})})}});QQ.defaultProps={isAuth:!1,role:"USER",path:"/"};QQ.propTypes={isAuth:ie.exports.bool,role:ie.exports.string,component:ie.exports.func.isRequired,path:ie.exports.string,rest:ie.exports.any};const Cst=({auth:e})=>({isAuth:!!e,role:(e==null?void 0:e.role)||""}),AF=Y7(Cst)(QQ),YN=Eme(),kst=()=>D(pP,{history:YN,children:ge(Mu,{children:[D(OVe,{}),D(xVe,{}),ge(wDe,{children:[D(Pv,{component:ASe,exact:!0,path:cpe}),D(Pv,{component:gst,exact:!0,path:U4}),D(Pv,{component:wst,exact:!0,path:IT}),D(Pv,{component:vst,exact:!0,path:R7}),D(Pv,{component:bst,exact:!0,path:$4}),D(AF,{component:ESe,path:cT}),D(AF,{component:_Se,exact:!0,path:yf}),D(AF,{component:ast,path:D7}),D(Pv,{component:Sst,path:gNe}),D(uO,{component:sot,exact:!0,path:V4}),D(uO,{component:eot,exact:!0,path:mNe}),D(uO,{component:lst,path:iN}),D(uO,{component:dst,path:L7}),D(uO,{component:void 0,path:lpe}),D(kF,{component:wot,exact:!0,path:q4}),D(kF,{component:sst,path:SO}),D(kF,{component:bot,path:ape}),D(kF,{component:Eot,path:`${upe}/:id`}),D(AF,{component:kSe})]}),D(AVe,{})]})});function*qS(e){const t={success:!1,type:"auth",isError:!0};switch(yield rn(ty(!1)),e.code){case"auth/network-request-failed":yield rn(mf({...t,message:"Network error has occured. Please try again."}));break;case"auth/email-already-in-use":yield rn(mf({...t,message:"Email is already in use. Please use another email"}));break;case"auth/wrong-password":yield rn(mf({...t,message:"Incorrect email or password"}));break;case"auth/user-not-found":yield rn(mf({...t,message:"Incorrect email or password"}));break;case"auth/reset-password-error":yield rn(mf({...t,message:"Failed to send password reset email. Did you type your email correctly?"}));break;default:yield rn(mf({...t,message:e.message}));break}}function*iw(){yield rn(ty()),yield rn(mf({}))}function*Ast({type:e,payload:t}){switch(e){case oW:try{yield iw(),yield Zn(ii.signIn,t.email,t.password)}catch(r){yield qS(r)}break;case uW:try{yield iw(),yield Zn(ii.signInWithGoogle)}catch(r){yield qS(r)}break;case cW:try{yield iw(),yield Zn(ii.signInWithFacebook)}catch(r){yield qS(r)}break;case lW:try{yield iw(),yield Zn(ii.signInWithGithub)}catch(r){yield qS(r)}break;case sW:try{yield iw();const r=yield Zn(ii.createAccount,t.email,t.password),s={fullname:t.fullname.split(" ").map(u=>u[0].toUpperCase().concat(u.substring(1))).join(" "),avatar:jhe,banner:Uhe,email:t.email,address:"",basket:[],mobile:{data:{}},role:"USER",dateJoined:r.user.metadata.creationTime||new Date().getTime()};yield Zn(ii.addUser,r.user.uid,s),yield rn(U9(s)),yield rn(ty(!1))}catch(r){yield qS(r)}break;case aW:{try{yield iw(),yield Zn(ii.signOut),yield rn(Vge()),yield rn($he()),yield rn(hwe()),yield rn(Fqe()),yield rn(Sce()),yield rn(ty(!1)),yield Zn(YN.push,yf)}catch(r){console.log(r)}break}case dW:{try{yield iw(),yield Zn(ii.passwordReset,t),yield rn(mf({success:!0,type:"reset",message:"Password reset email has been sent to your provided email."})),yield rn(ty(!1))}catch{qS({code:"auth/reset-password-error"})}break}case hW:{const r=yield Zn(ii.getUser,t.uid);if(r.data()){const i=r.data();yield rn(U9(i)),yield rn(Tce(i.basket)),yield rn(Tce(i.basket)),yield rn(Ece({id:t.uid,role:i.role,provider:t.providerData[0].providerId}))}else if(t.providerData[0].providerId!=="password"&&!r.data()){const i={fullname:t.displayName?t.displayName:"User",avatar:t.photoURL?t.photoURL:jhe,banner:Uhe,email:t.email,address:"",basket:[],mobile:{data:{}},role:"USER",dateJoined:t.metadata.creationTime};yield Zn(ii.addUser,t.uid,i),yield rn(U9(i)),yield rn(Ece({id:t.uid,role:i.role,provider:t.providerData[0].providerId}))}yield rn(mf({success:!0,type:"auth",isError:!1,message:"Successfully signed in. Redirecting..."})),yield rn(ty(!1));break}case fW:{yield rn($he()),yield rn(Sce());break}case Ige:{try{yield Zn(ii.setAuthPersistence)}catch(r){console.log(r)}break}default:throw new Error("Unexpected Action Type.")}}const xst=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>kf(()=>Promise.resolve().then(()=>AI),void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)};class YQ extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class Ost extends YQ{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nst extends YQ{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Pst extends YQ{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var T7;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(T7||(T7={}));var Rst=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};class Dst{constructor(t,{headers:r={},customFetch:i,region:s=T7.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=xst(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var i;return Rst(this,void 0,void 0,function*(){try{const{headers:s,method:u,body:d}=r;let v={},{region:g}=r;g||(g=this.region),g&&g!=="any"&&(v["x-region"]=g);let w;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(v["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(v["Content-Type"]="application/json",w=JSON.stringify(d)));const S=yield this.fetch(`${this.url}/${t}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),s),body:w}).catch(M=>{throw new Ost(M)}),C=S.headers.get("x-relay-error");if(C&&C==="true")throw new Nst(S);if(!S.ok)throw new Pst(S);let A=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),L;return A==="application/json"?L=yield S.json():A==="application/octet-stream"?L=yield S.blob():A==="text/event-stream"?L=S:A==="multipart/form-data"?L=yield S.formData():L=yield S.text(),{data:L,error:null}}catch(s){return{data:null,error:s}}})}}var vc={},XQ={},AU={},rR={},xU={},OU={},Lst=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tI=Lst();const Mst=tI.fetch,xSe=tI.fetch.bind(tI),OSe=tI.Headers,Fst=tI.Request,jst=tI.Response,AI=Object.freeze(Object.defineProperty({__proto__:null,fetch:Mst,default:xSe,Headers:OSe,Request:Fst,Response:jst},Symbol.toStringTag,{value:"Module"})),Ust=M7(AI);var NU={};Object.defineProperty(NU,"__esModule",{value:!0});class $st extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}NU.default=$st;var NSe=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OU,"__esModule",{value:!0});const Vst=NSe(Ust),qst=NSe(NU);class Bst{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Vst.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,v,g;let w=null,S=null,C=null,A=u.status,L=u.statusText;if(u.ok){if(this.method!=="HEAD"){const $=await u.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=$:S=JSON.parse($))}const U=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),R=(v=u.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");U&&R&&R.length>1&&(C=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(w={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,C=null,A=406,L="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const U=await u.text();try{w=JSON.parse(U),Array.isArray(w)&&u.status===404&&(S=[],w=null,A=200,L="OK")}catch{u.status===404&&U===""?(A=204,L="No Content"):w={message:U}}if(w&&this.isMaybeSingle&&((g=w==null?void 0:w.details)===null||g===void 0?void 0:g.includes("0 rows"))&&(w=null,A=200,L="OK"),w&&this.shouldThrowOnError)throw new qst.default(w)}return{error:w,data:S,count:C,status:A,statusText:L}});return this.shouldThrowOnError||(s=s.catch(u=>{var d,v,g;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(v=u==null?void 0:u.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(g=u==null?void 0:u.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}}OU.default=Bst;var Hst=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xU,"__esModule",{value:!0});const zst=Hst(OU);class Kst extends zst.default{select(t){let r=!1;const i=(t!=null?t:"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:i,foreignTable:s,referencedTable:u=s}={}){const d=u?`${u}.order`:"order",v=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${v?`${v},`:""}${t}.${r?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:i,referencedTable:s=i}={}){const u=typeof s>"u"?"offset":`${s}.offset`,d=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(u,`${t}`),this.url.searchParams.set(d,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:i=!1,buffers:s=!1,wal:u=!1,format:d="text"}={}){var v;const g=[t?"analyze":null,r?"verbose":null,i?"settings":null,s?"buffers":null,u?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${w}"; options=${g};`,d==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}xU.default=Kst;var Wst=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rR,"__esModule",{value:!0});const Gst=Wst(xU);class Qst extends Gst.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const i=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:i,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${u}fts${d}.${r}`),this}match(t){return Object.entries(t).forEach(([r,i])=>{this.url.searchParams.append(r,`eq.${i}`)}),this}not(t,r,i){return this.url.searchParams.append(t,`not.${r}.${i}`),this}or(t,{foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,i){return this.url.searchParams.append(t,`${r}.${i}`),this}}rR.default=Qst;var Yst=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AU,"__esModule",{value:!0});const cO=Yst(rR);class Xst{constructor(t,{headers:r={},schema:i,fetch:s}){this.url=t,this.headers=r,this.schema=i,this.fetch=s}select(t,{head:r=!1,count:i}={}){const s=r?"HEAD":"GET";let u=!1;const d=(t!=null?t:"*").split("").map(v=>/\s/.test(v)&&!u?"":(v==='"'&&(u=!u),v)).join("");return this.url.searchParams.set("select",d),i&&(this.headers.Prefer=`count=${i}`),new cO.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:i=!0}={}){const s="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),r&&u.push(`count=${r}`),i||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const d=t.reduce((v,g)=>v.concat(Object.keys(g)),[]);if(d.length>0){const v=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",v.join(","))}}return new cO.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:i=!1,count:s,defaultToNull:u=!0}={}){const d="POST",v=[`resolution=${i?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&v.push(this.headers.Prefer),s&&v.push(`count=${s}`),u||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(t)){const g=t.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(g.length>0){const w=[...new Set(g)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new cO.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new cO.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new cO.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}AU.default=Xst;var PU={},RU={};Object.defineProperty(RU,"__esModule",{value:!0});RU.version=void 0;RU.version="0.0.0-automated";Object.defineProperty(PU,"__esModule",{value:!0});PU.DEFAULT_HEADERS=void 0;const Jst=RU;PU.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Jst.version}`};var PSe=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(XQ,"__esModule",{value:!0});const Zst=PSe(AU),eat=PSe(rR),tat=PU;class JQ{constructor(t,{headers:r={},schema:i,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},tat.DEFAULT_HEADERS),r),this.schemaName=i,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Zst.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new JQ(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:i=!1,get:s=!1,count:u}={}){let d;const v=new URL(`${this.url}/rpc/${t}`);let g;i||s?(d=i?"HEAD":"GET",Object.entries(r).filter(([S,C])=>C!==void 0).map(([S,C])=>[S,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([S,C])=>{v.searchParams.append(S,C)})):(d="POST",g=r);const w=Object.assign({},this.headers);return u&&(w.Prefer=`count=${u}`),new eat.default({method:d,url:v,headers:w,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}XQ.default=JQ;var xI=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vc,"__esModule",{value:!0});vc.PostgrestError=vc.PostgrestBuilder=vc.PostgrestTransformBuilder=vc.PostgrestFilterBuilder=vc.PostgrestQueryBuilder=vc.PostgrestClient=void 0;const RSe=xI(XQ);vc.PostgrestClient=RSe.default;const DSe=xI(AU);vc.PostgrestQueryBuilder=DSe.default;const LSe=xI(rR);vc.PostgrestFilterBuilder=LSe.default;const MSe=xI(xU);vc.PostgrestTransformBuilder=MSe.default;const FSe=xI(OU);vc.PostgrestBuilder=FSe.default;const jSe=xI(NU);vc.PostgrestError=jSe.default;var nat=vc.default={PostgrestClient:RSe.default,PostgrestQueryBuilder:DSe.default,PostgrestFilterBuilder:LSe.default,PostgrestTransformBuilder:MSe.default,PostgrestBuilder:FSe.default,PostgrestError:jSe.default};const{PostgrestClient:rat,PostgrestQueryBuilder:Qut,PostgrestFilterBuilder:Yut,PostgrestTransformBuilder:Xut,PostgrestBuilder:Jut}=nat,iat="2.10.7",oat={"X-Client-Info":`realtime-js/${iat}`},sat="1.0.0",USe=1e4,aat=1e3;var TT;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(TT||(TT={}));var al;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(al||(al={}));var vf;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vf||(vf={}));var I7;(function(e){e.websocket="websocket"})(I7||(I7={}));var yw;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yw||(yw={}));class uat{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,r,i)}_decodeBroadcast(t,r,i){const s=r.getUint8(1),u=r.getUint8(2);let d=this.HEADER_LENGTH+2;const v=i.decode(t.slice(d,d+s));d=d+s;const g=i.decode(t.slice(d,d+u));d=d+u;const w=JSON.parse(i.decode(t.slice(d,t.byteLength)));return{ref:null,topic:v,event:g,payload:w}}}class $Se{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ti;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ti||(ti={}));const Hde=(e,t,r={})=>{var i;const s=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((u,d)=>(u[d]=cat(d,e,t,s),u),{})},cat=(e,t,r,i)=>{const s=t.find(v=>v.name===e),u=s==null?void 0:s.type,d=r[e];return u&&!i.includes(u)?VSe(u,d):C7(d)},VSe=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dat(t,r)}switch(e){case ti.bool:return lat(t);case ti.float4:case ti.float8:case ti.int2:case ti.int4:case ti.int8:case ti.numeric:case ti.oid:return hat(t);case ti.json:case ti.jsonb:return fat(t);case ti.timestamp:return pat(t);case ti.abstime:case ti.date:case ti.daterange:case ti.int4range:case ti.int8range:case ti.money:case ti.reltime:case ti.text:case ti.time:case ti.timestamptz:case ti.timetz:case ti.tsrange:case ti.tstzrange:return C7(t);default:return C7(t)}},C7=e=>e,lat=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hat=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fat=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dat=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let u;const d=e.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(v=>VSe(t,v))}return e},pat=e=>typeof e=="string"?e.replace(" ","T"):e,qSe=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class iH{constructor(t,r,i={},s=USe){this.channel=t,this.event=r,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zde;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zde||(zde={}));class nN{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:u,onLeave:d,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=nN.syncState(this.state,s,u,d),this.pendingDiffs.forEach(g=>{this.state=nN.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],v()}),this.channel._on(i.diff,{},s=>{const{onJoin:u,onLeave:d,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=nN.syncDiff(this.state,s,u,d),v())}),this.onJoin((s,u,d)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:u,newPresences:d})}),this.onLeave((s,u,d)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,s){const u=this.cloneDeep(t),d=this.transformState(r),v={},g={};return this.map(u,(w,S)=>{d[w]||(g[w]=S)}),this.map(d,(w,S)=>{const C=u[w];if(C){const A=S.map(R=>R.presence_ref),L=C.map(R=>R.presence_ref),M=S.filter(R=>L.indexOf(R.presence_ref)<0),U=C.filter(R=>A.indexOf(R.presence_ref)<0);M.length>0&&(v[w]=M),U.length>0&&(g[w]=U)}else v[w]=S}),this.syncDiff(u,{joins:v,leaves:g},i,s)}static syncDiff(t,r,i,s){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(u,(v,g)=>{var w;const S=(w=t[v])!==null&&w!==void 0?w:[];if(t[v]=this.cloneDeep(g),S.length>0){const C=t[v].map(L=>L.presence_ref),A=S.filter(L=>C.indexOf(L.presence_ref)<0);t[v].unshift(...A)}i(v,S,g)}),this.map(d,(v,g)=>{let w=t[v];if(!w)return;const S=g.map(C=>C.presence_ref);w=w.filter(C=>S.indexOf(C.presence_ref)<0),t[v]=w,s(v,w,g),w.length===0&&delete t[v]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const s=t[i];return"metas"in s?r[i]=s.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kde;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kde||(Kde={}));var Wde;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wde||(Wde={}));var Gde;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gde||(Gde={}));class ZQ{constructor(t,r={config:{}},i){this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=al.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new iH(this,vf.join,this.params,this.timeout),this.rejoinTimer=new $Se(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=al.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=al.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=al.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=al.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vf.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new nN(this),this.broadcastEndpointURL=qSe(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:d,private:v}}=this.params;this._onError(S=>t&&t("CHANNEL_ERROR",S)),this._onClose(()=>t&&t("CLOSED"));const g={},w={broadcast:u,presence:d,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&s!==void 0?s:[],private:v};this.socket.accessToken&&(g.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:w},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:S})=>{var C;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),S===void 0){t&&t("SUBSCRIBED");return}else{const A=this.bindings.postgres_changes,L=(C=A==null?void 0:A.length)!==null&&C!==void 0?C:0,M=[];for(let U=0;U<L;U++){const R=A[U],{filter:{event:$,schema:B,table:G,filter:H}}=R,Z=S&&S[U];if(Z&&Z.event===$&&Z.schema===B&&Z.table===G&&Z.filter===H)M.push(Object.assign(Object.assign({},R),{id:Z.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t("SUBSCRIBED");return}}).receive("error",S=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this._on(t,r,i)}async send(t,r={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:d}=t,v={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=g.body)===null||s===void 0?void 0:s.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,v,g;const w=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(v=(d=this.params)===null||d===void 0?void 0:d.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),w.receive("ok",()=>u("ok")),w.receive("error",()=>u("error")),w.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=al.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vf.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const s=new iH(this,vf.leave,{},t);s.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,i){const s=new AbortController,u=setTimeout(()=>s.abort(),i),d=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(u),d}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iH(this,t,r,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var s,u;const d=t.toLocaleLowerCase(),{close:v,error:g,leave:w,join:S}=vf;if(i&&[v,g,w,S].indexOf(d)>=0&&i!==this._joinRef())return;let A=this._onMessage(d,r,i);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(L=>{var M,U,R;return((M=L.filter)===null||M===void 0?void 0:M.event)==="*"||((R=(U=L.filter)===null||U===void 0?void 0:U.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===d}).map(L=>L.callback(A,i)):(u=this.bindings[d])===null||u===void 0||u.filter(L=>{var M,U,R,$,B,G;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in L){const H=L.id,Z=(M=L.filter)===null||M===void 0?void 0:M.event;return H&&((U=r.ids)===null||U===void 0?void 0:U.includes(H))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const H=(B=($=L==null?void 0:L.filter)===null||$===void 0?void 0:$.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return H==="*"||H===((G=r==null?void 0:r.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return L.type.toLocaleLowerCase()===d}).map(L=>{if(typeof A=="object"&&"ids"in A){const M=A.data,{schema:U,table:R,commit_timestamp:$,type:B,errors:G}=M;A=Object.assign(Object.assign({},{schema:U,table:R,commit_timestamp:$,eventType:B,new:{},old:{},errors:G}),this._getPayloadRecords(M))}L.callback(A,i)})}_isClosed(){return this.state===al.closed}_isJoined(){return this.state===al.joined}_isJoining(){return this.state===al.joining}_isLeaving(){return this.state===al.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const s=t.toLocaleLowerCase(),u={type:s,filter:r,callback:i};return this.bindings[s]?this.bindings[s].push(u):this.bindings[s]=[u],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var u;return!(((u=s.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&ZQ.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vf.close,{},t)}_onError(t){this._on(vf.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=al.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hde(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hde(t.columns,t.old_record)),r}}const vat=()=>{},mat=typeof WebSocket<"u",gat=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yat{constructor(t,r){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=oat,this.params={},this.timeout=USe,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vat,this.conn=null,this.sendBuffer=[],this.serializer=new uat,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...v)=>kf(()=>Promise.resolve().then(()=>AI),void 0).then(({default:g})=>g(...v)):d=fetch,(...v)=>d(...v)},this.endPoint=`${t}/${I7.websocket}`,this.httpEndpoint=qSe(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(i=r==null?void 0:r.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(u,d)=>d(JSON.stringify(u)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $Se(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(mat){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new bat(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),kf(()=>import("./browser.cba14c08.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r!=null?r:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case TT.connecting:return yw.Connecting;case TT.open:return yw.Open;case TT.closing:return yw.Closing;default:return yw.Closed}}isConnected(){return this.connectionState()===yw.Open}channel(t,r={config:{}}){const i=new ZQ(`realtime:${t}`,r,this);return this.channels.push(i),i}push(t){const{topic:r,event:i,payload:s,ref:u}=t,d=()=>{this.encode(t,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${r} ${i} (${u})`,s),this.isConnected()?d():this.sendBuffer.push(d)}setAuth(t){this.accessToken=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t}),r.joinedOnce&&r._isJoined()&&r._push(vf.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sat}))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:i,event:s,payload:u,ref:d}=r;(d&&d===this.pendingHeartbeatRef||s===(u==null?void 0:u.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${i} ${s} ${d&&"("+d+")"||""}`,u),this.channels.filter(v=>v._isMember(i)).forEach(v=>v._trigger(s,u,d)),this.stateChangeCallbacks.message.forEach(v=>v(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vf.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${i}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(aat,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([gat],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}}class bat{constructor(t,r,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=TT.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class eY extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _s(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wat extends eY{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class k7 extends eY{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _at=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};const BSe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>kf(()=>Promise.resolve().then(()=>AI),void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},Eat=()=>_at(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kf(()=>Promise.resolve().then(()=>AI),void 0)).Response:Response}),A7=e=>{if(Array.isArray(e))return e.map(r=>A7(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const s=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[s]=A7(i)}),t};var w_=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};const oH=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Sat=(e,t,r)=>w_(void 0,void 0,void 0,function*(){const i=yield Eat();e instanceof i&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new wat(oH(s),e.status||500))}).catch(s=>{t(new k7(oH(s),s))}):t(new k7(oH(e),e))}),Tat=(e,t,r,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),r))};function iR(e,t,r,i,s,u){return w_(this,void 0,void 0,function*(){return new Promise((d,v)=>{e(r,Tat(t,i,s,u)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>Sat(g,v,i))})})}function j4(e,t,r,i){return w_(this,void 0,void 0,function*(){return iR(e,"GET",t,r,i)})}function qg(e,t,r,i,s){return w_(this,void 0,void 0,function*(){return iR(e,"POST",t,i,s,r)})}function Iat(e,t,r,i,s){return w_(this,void 0,void 0,function*(){return iR(e,"PUT",t,i,s,r)})}function Cat(e,t,r,i){return w_(this,void 0,void 0,function*(){return iR(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function HSe(e,t,r,i,s){return w_(this,void 0,void 0,function*(){return iR(e,"DELETE",t,i,s,r)})}var lc=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};const kat={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qde={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Aat{constructor(t,r={},i,s){this.url=t,this.headers=r,this.bucketId=i,this.fetch=BSe(s)}uploadOrUpdate(t,r,i,s){return lc(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Qde),s);let v=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g))):(u=i,v["cache-control"]=`max-age=${d.cacheControl}`,v["content-type"]=d.contentType,g&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),s!=null&&s.headers&&(v=Object.assign(Object.assign({},v),s.headers));const w=this._removeEmptyFolders(r),S=this._getFinalPath(w),C=yield this.fetch(`${this.url}/object/${S}`,Object.assign({method:t,body:u,headers:v},d!=null&&d.duplex?{duplex:d.duplex}:{})),A=yield C.json();return C.ok?{data:{path:w,id:A.Id,fullPath:A.Key},error:null}:{data:null,error:A}}catch(u){if(_s(u))return{data:null,error:u};throw u}})}upload(t,r,i){return lc(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,i)})}uploadToSignedUrl(t,r,i,s){return lc(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),d=this._getFinalPath(u),v=new URL(this.url+`/object/upload/sign/${d}`);v.searchParams.set("token",r);try{let g;const w=Object.assign({upsert:Qde.upsert},s),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",w.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",w.cacheControl)):(g=i,S["cache-control"]=`max-age=${w.cacheControl}`,S["content-type"]=w.contentType);const C=yield this.fetch(v.toString(),{method:"PUT",body:g,headers:S}),A=yield C.json();return C.ok?{data:{path:u,fullPath:A.Key},error:null}:{data:null,error:A}}catch(g){if(_s(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,r){return lc(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const u=yield qg(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),d=new URL(this.url+u.url),v=d.searchParams.get("token");if(!v)throw new eY("No token returned by API");return{data:{signedUrl:d.toString(),path:t,token:v},error:null}}catch(i){if(_s(i))return{data:null,error:i};throw i}})}update(t,r,i){return lc(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,i)})}move(t,r,i){return lc(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(_s(s))return{data:null,error:s};throw s}})}copy(t,r,i){return lc(this,void 0,void 0,function*(){try{return{data:{path:(yield qg(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(_s(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,i){return lc(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),u=yield qg(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(s){if(_s(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,i){return lc(this,void 0,void 0,function*(){try{const s=yield qg(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(s){if(_s(s))return{data:null,error:s};throw s}})}download(t,r){return lc(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=u?`?${u}`:"";try{const v=this._getFinalPath(t);return{data:yield(yield j4(this.fetch,`${this.url}/${s}/${v}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(_s(v))return{data:null,error:v};throw v}})}info(t){return lc(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const i=yield j4(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:A7(i),error:null}}catch(i){if(_s(i))return{data:null,error:i};throw i}})}exists(t){return lc(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Cat(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(_s(i)&&i instanceof k7){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,r){const i=this._getFinalPath(t),s=[],u=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&s.push(u);const v=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&s.push(g);let w=s.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${i}${w}`)}}}remove(t){return lc(this,void 0,void 0,function*(){try{return{data:yield HSe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(_s(r))return{data:null,error:r};throw r}})}list(t,r,i){return lc(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kat),r),{prefix:t||""});return{data:yield qg(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(_s(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const xat="2.7.1",Oat={"X-Client-Info":`storage-js/${xat}`};var BS=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};class Nat{constructor(t,r={},i){this.url=t,this.headers=Object.assign(Object.assign({},Oat),r),this.fetch=BSe(i)}listBuckets(){return BS(this,void 0,void 0,function*(){try{return{data:yield j4(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_s(t))return{data:null,error:t};throw t}})}getBucket(t){return BS(this,void 0,void 0,function*(){try{return{data:yield j4(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(_s(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return BS(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(_s(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return BS(this,void 0,void 0,function*(){try{return{data:yield Iat(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(_s(i))return{data:null,error:i};throw i}})}emptyBucket(t){return BS(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(_s(r))return{data:null,error:r};throw r}})}deleteBucket(t){return BS(this,void 0,void 0,function*(){try{return{data:yield HSe(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(_s(r))return{data:null,error:r};throw r}})}}class Pat extends Nat{constructor(t,r={},i){super(t,r,i)}from(t){return new Aat(this.url,this.headers,t,this.fetch)}}const Rat="2.46.1";let EO="";typeof Deno<"u"?EO="deno":typeof document<"u"?EO="web":typeof navigator<"u"&&navigator.product==="ReactNative"?EO="react-native":EO="node";const Dat={"X-Client-Info":`supabase-js-${EO}/${Rat}`},Lat={headers:Dat},Mat={schema:"public"},Fat={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jat={};var Uat=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};const $at=e=>{let t;return e?t=e:typeof fetch>"u"?t=xSe:t=fetch,(...r)=>t(...r)},Vat=()=>typeof Headers>"u"?OSe:Headers,qat=(e,t,r)=>{const i=$at(r),s=Vat();return(u,d)=>Uat(void 0,void 0,void 0,function*(){var v;const g=(v=yield t())!==null&&v!==void 0?v:e;let w=new s(d==null?void 0:d.headers);return w.has("apikey")||w.set("apikey",e),w.has("Authorization")||w.set("Authorization",`Bearer ${g}`),i(u,Object.assign(Object.assign({},d),{headers:w}))})};var Bat=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};function Hat(e){return e.replace(/\/$/,"")}function zat(e,t){const{db:r,auth:i,realtime:s,global:u}=e,{db:d,auth:v,realtime:g,global:w}=t,S={db:Object.assign(Object.assign({},d),r),auth:Object.assign(Object.assign({},v),i),realtime:Object.assign(Object.assign({},g),s),global:Object.assign(Object.assign({},w),u),accessToken:()=>Bat(this,void 0,void 0,function*(){return""})};return e.accessToken?S.accessToken=e.accessToken:delete S.accessToken,S}const zSe="2.65.1",Kat="http://localhost:9999",Wat="supabase.auth.token",Gat={"X-Client-Info":`gotrue-js/${zSe}`},Yde=10,x7="X-Supabase-Api-Version",KSe={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Qat(e){return Math.round(Date.now()/1e3)+e}function Yat(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ff=()=>typeof document<"u",ow={tested:!1,writable:!1},rN=()=>{if(!ff())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ow.tested)return ow.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ow.tested=!0,ow.writable=!0}catch{ow.tested=!0,ow.writable=!1}return ow.writable};function sH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,u)=>{t[u]=s})}catch{}return r.searchParams.forEach((i,s)=>{t[s]=i}),t}const WSe=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>kf(()=>Promise.resolve().then(()=>AI),void 0).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},Xat=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",GSe=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xF=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},OF=async(e,t)=>{await e.removeItem(t)};function Jat(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",i,s,u,d,v,g,w,S=0;for(e=e.replace("-","+").replace("_","/");S<e.length;)d=t.indexOf(e.charAt(S++)),v=t.indexOf(e.charAt(S++)),g=t.indexOf(e.charAt(S++)),w=t.indexOf(e.charAt(S++)),i=d<<2|v>>4,s=(v&15)<<4|g>>2,u=(g&3)<<6|w,r=r+String.fromCharCode(i),g!=64&&s!=0&&(r=r+String.fromCharCode(s)),w!=64&&u!=0&&(r=r+String.fromCharCode(u));return r}class DU{constructor(){this.promise=new DU.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}DU.promiseConstructor=Promise;function Xde(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=r[1];return JSON.parse(Jat(i))}async function Zat(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function eut(e,t){return new Promise((i,s)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await e(u);if(!t(u,null,d)){i(d);return}}catch(d){if(!t(u,d)){s(d);return}}})()})}function tut(e){return("0"+e.toString(16)).substr(-2)}function nut(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let s="";for(let u=0;u<56;u++)s+=r.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,tut).join("")}async function rut(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(u=>String.fromCharCode(u)).join("")}function iut(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function out(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rut(e);return iut(r)}async function HS(e,t,r=!1){const i=nut();let s=i;r&&(s+="/PASSWORD_RECOVERY"),await GSe(e,`${t}-code-verifier`,s);const u=await out(i);return[u,i===u?"plain":"s256"]}const sut=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aut(e){const t=e.headers.get(x7);if(!t||!t.match(sut))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class tY extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function jn(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uut extends tY{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function cut(e){return jn(e)&&e.name==="AuthApiError"}class QSe extends tY{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class __ extends tY{constructor(t,r,i,s){super(t,i,s),this.name=r,this.status=i}}class Fg extends __{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lut(e){return jn(e)&&e.name==="AuthSessionMissingError"}class aH extends __{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class NF extends __{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class PF extends __{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jde extends __{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O7 extends __{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uH(e){return jn(e)&&e.name==="AuthRetryableFetchError"}class Zde extends __{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}var hut=globalThis&&globalThis.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};const vw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fut=[502,503,504];async function epe(e){var t;if(!Xat(e))throw new O7(vw(e),0);if(fut.includes(e.status))throw new O7(vw(e),e.status);let r;try{r=await e.json()}catch(u){throw new QSe(vw(u),u)}let i;const s=aut(e);if(s&&s.getTime()>=KSe["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Zde(vw(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Fg}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Zde(vw(r),e.status,r.weak_password.reasons);throw new uut(vw(r),e.status||500,i)}const dut=(e,t,r,i)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function ir(e,t,r,i){var s;const u=Object.assign({},i==null?void 0:i.headers);u[x7]||(u[x7]=KSe["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const v=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await put(e,t,r+v,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function put(e,t,r,i,s,u){const d=dut(t,i,s,u);let v;try{v=await e(r,Object.assign({},d))}catch(g){throw console.error(g),new O7(vw(g),0)}if(v.ok||await epe(v),i!=null&&i.noResolveJson)return v;try{return await v.json()}catch(g){await epe(g)}}function jg(e){var t;let r=null;yut(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Qat(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function tpe(e){const t=jg(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Gg(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vut(e){return{data:e,error:null}}function mut(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:u}=e,d=hut(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:u},g=Object.assign({},d);return{data:{properties:v,user:g},error:null}}function gut(e){return e}function yut(e){return e.access_token&&e.refresh_token&&e.expires_in}var but=globalThis&&globalThis.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r};class wut{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=WSe(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ir(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(jn(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await ir(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gg})}catch(i){if(jn(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=but(t,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await ir(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mut,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(jn(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ir(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Gg})}catch(r){if(jn(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,s,u,d,v,g;try{const w={nextPage:null,lastPage:0,total:0},S=await ir(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&u!==void 0?u:""},xform:gut});if(S.error)throw S.error;const C=await S.json(),A=(d=S.headers.get("x-total-count"))!==null&&d!==void 0?d:0,L=(g=(v=S.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return L.length>0&&(L.forEach(M=>{const U=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(M.split(";")[1].split("=")[1]);w[`${R}Page`]=U}),w.total=parseInt(A)),{data:Object.assign(Object.assign({},C),w),error:null}}catch(w){if(jn(w))return{data:{users:[]},error:w};throw w}}async getUserById(t){try{return await ir(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Gg})}catch(r){if(jn(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ir(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Gg})}catch(i){if(jn(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){try{return await ir(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gg})}catch(i){if(jn(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:r,error:i}=await ir(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(jn(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ir(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}}}const _ut={getItem:e=>rN()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{!rN()||globalThis.localStorage.setItem(e,t)},removeItem:e=>{!rN()||globalThis.localStorage.removeItem(e)}};function npe(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Eut(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zS={debug:!!(globalThis&&rN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YSe extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sut extends YSe{}async function Tut(e,t,r){zS.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),zS.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){zS.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{zS.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zS.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Sut(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zS.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}Eut();const Iut={url:Kat,storageKey:Wat,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gat,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},lO=30*1e3,rpe=3;async function ipe(e,t,r){return await r()}class XN{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=XN.nextInstanceID,XN.nextInstanceID+=1,this.instanceID>0&&ff()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Iut),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wut({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=WSe(s.fetch),this.lock=s.lock||ipe,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ff()&&((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0?void 0:r.locks)?this.lock=Tut:this.lock=ipe,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:rN()?this.storage=_ut:(this.memoryStorage={},this.storage=npe(this.memoryStorage)):(this.memoryStorage={},this.storage=npe(this.memoryStorage)),ff()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zSe}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=ff()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:i}=await this._getSessionFromURL(t);if(i)return this._debug("#_initialize()","error detecting session from URL",i),(i==null?void 0:i.code)==="identity_already_exists"?{error:i}:(await this._removeSession(),{error:i});const{session:s,redirectType:u}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return jn(t)?{error:t}:{error:new QSe("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,s;try{const u=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jg}),{data:d,error:v}=u;if(v||!d)return{data:{user:null,session:null},error:v};const g=d.session,w=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:w,session:g},error:null}}catch(u){if(jn(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var r,i,s;try{let u;if("email"in t){const{email:S,password:C,options:A}=t;let L=null,M=null;this.flowType==="pkce"&&([L,M]=await HS(this.storage,this.storageKey)),u=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:S,password:C,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:L,code_challenge_method:M},xform:jg})}else if("phone"in t){const{phone:S,password:C,options:A}=t;u=await ir(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:C,data:(i=A==null?void 0:A.data)!==null&&i!==void 0?i:{},channel:(s=A==null?void 0:A.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:jg})}else throw new NF("You must provide either an email or phone number and a password");const{data:d,error:v}=u;if(v||!d)return{data:{user:null,session:null},error:v};const g=d.session,w=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:w,session:g},error:null}}catch(u){if(jn(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let r;if("email"in t){const{email:u,password:d,options:v}=t;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:tpe})}else if("phone"in t){const{phone:u,password:d,options:v}=t;r=await ir(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:tpe})}else throw new NF("You must provide either an email or phone number and a password");const{data:i,error:s}=r;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new aH}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(jn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,s,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await xF(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r!=null?r:"").split("/");try{const{data:u,error:d}=await ir(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:jg});if(await OF(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new aH}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:s!=null?s:null}),error:d})}catch(u){if(jn(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:r,provider:i,token:s,access_token:u,nonce:d}=t,v=await ir(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jg}),{data:g,error:w}=v;return w?{data:{user:null,session:null},error:w}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new aH}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:w})}catch(r){if(jn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,s,u,d;try{if("email"in t){const{email:v,options:g}=t;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await HS(this.storage,this.storageKey));const{error:C}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:S},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:C}}if("phone"in t){const{phone:v,options:g}=t,{data:w,error:S}=await ir(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:S}}throw new NF("You must provide either an email or phone number.")}catch(v){if(jn(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(t){var r,i;try{let s,u;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:v}=await ir(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:s,xform:jg});if(v)throw v;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,w=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:w,session:g},error:null}}catch(s){if(jn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,i,s;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await HS(this.storage,this.storageKey)),await ir(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:vut})}catch(u){if(jn(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Fg;const{error:s}=await ir(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(jn(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:u}=t,{error:d}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in t){const{phone:i,type:s,options:u}=t,{data:d,error:v}=await ir(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:v}}throw new NF("You must provide either an email or phone number and a type")}catch(r){if(jn(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xF(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let d=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,w,S)=>(!d&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,w,S))})}return{data:{session:t},error:null}}const{session:s,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Gg}):await this._useSession(async r=>{var i,s,u;const{data:d,error:v}=r;if(v)throw v;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fg}:await ir(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0,xform:Gg})})}catch(r){if(jn(r))return lut(r)&&(await this._removeSession(),await OF(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:s,error:u}=i;if(u)throw u;if(!s.session)throw new Fg;const d=s.session;let v=null,g=null;this.flowType==="pkce"&&t.email!=null&&([v,g]=await HS(this.storage,this.storageKey));const{data:w,error:S}=await ir(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:v,code_challenge_method:g}),jwt:d.access_token,xform:Gg});if(S)throw S;return d.user=w.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(jn(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return Xde(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fg;const r=Date.now()/1e3;let i=r,s=!0,u=null;const d=Xde(t.access_token);if(d.exp&&(i=d.exp,s=i<=r),s){const{session:v,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!v)return{data:{user:null,session:null},error:null};u=v}else{const{data:v,error:g}=await this._getUser(t.access_token);if(g)throw g;u={access_token:t.access_token,refresh_token:t.refresh_token,user:v.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(r){if(jn(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:d,error:v}=r;if(v)throw v;t=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Fg;const{session:s,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(jn(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t){try{if(!ff())throw new PF("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new PF("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Jde("Not a valid PKCE flow url.");const r=sH(window.location.href);if(t){if(!r.code)throw new Jde("No code detected.");const{data:B,error:G}=await this._exchangeCodeForSession(r.code);if(G)throw G;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:B.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new PF(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:s,access_token:u,refresh_token:d,expires_in:v,expires_at:g,token_type:w}=r;if(!u||!v||!d||!w)throw new PF("No session defined in URL");const S=Math.round(Date.now()/1e3),C=parseInt(v);let A=S+C;g&&(A=parseInt(g));const L=A-S;L*1e3<=lO&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${L}s, should have been closer to ${C}s`);const M=A-C;S-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,A,S):S-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,A,S);const{data:U,error:R}=await this._getUser(u);if(R)throw R;const $={provider_token:i,provider_refresh_token:s,access_token:u,expires_in:C,expires_at:A,refresh_token:d,token_type:w,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:r.type},error:null}}catch(r){if(jn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const t=sH(window.location.href);return!!(ff()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=sH(window.location.href),r=await xF(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:s,error:u}=r;if(u)return{error:u};const d=(i=s.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:v}=await this.admin.signOut(d,t);if(v&&!(cut(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return t!=="others"&&(await this._removeSession(),await OF(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Yat(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,s;try{const{data:{session:u},error:d}=r;if(d)throw d;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await HS(this.storage,this.storageKey,!0));try{return await ir(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(jn(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:i,error:s}=await this._useSession(async u=>{var d,v,g,w,S;const{data:C,error:A}=u;if(A)throw A;const L=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(v=t.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ir(this.fetch,"GET",L,{headers:this.headers,jwt:(S=(w=C.session)===null||w===void 0?void 0:w.access_token)!==null&&S!==void 0?S:void 0})});if(s)throw s;return ff()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(jn(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,s;const{data:u,error:d}=r;if(d)throw d;return await ir(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(jn(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await eut(async s=>(s>0&&await Zat(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ir(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jg})),(s,u)=>{const d=200*Math.pow(2,s);return u&&uH(u)&&Date.now()+d-i<lO})}catch(i){if(this._debug(r,"error",i),jn(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),ff()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xF(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),u=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<s+Yde;if(this._debug(r,`session has${u?"":" not"} expired with margin of ${Yde}s`),u){if(this.autoRefreshToken&&i.refresh_token){const{error:d}=await this._callRefreshToken(i.refresh_token);d&&(console.error(d),uH(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Fg;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new DU;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Fg;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const v={session:u.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(u){if(this._debug(s,"error",u),jn(u)){const d={session:null,error:u};return uH(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(t,r)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let v=0;v<u.length;v+=1)console.error(u[v]);throw u[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await GSe(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await OF(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ff()&&(window==null?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lO);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/lO);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lO}ms, refresh threshold is ${rpe} ticks`),s<=rpe&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YSe)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ff()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const s=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await HS(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});s.push(v.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);s.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:s,error:u}=r;return u?{data:null,error:u}:await ir(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(jn(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,s;const{data:u,error:d}=r;if(d)return{data:null,error:d};const v=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:w}=await ir(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return w?{data:null,error:w}:(t.factorType==="totp"&&((s=g==null?void 0:g.totp)===null||s===void 0?void 0:s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(jn(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:u}=r;if(u)return{data:null,error:u};const{data:d,error:v}=await ir(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:v})})}catch(r){if(jn(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:u}=r;return u?{data:null,error:u}:await ir(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(jn(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(t==null?void 0:t.factors)||[],s=i.filter(d=>d.factor_type==="totp"&&d.status==="verified"),u=i.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:i,totp:s,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;const{data:{session:s},error:u}=t;if(u)return{data:null,error:u};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(s.access_token);let v=null;d.aal&&(v=d.aal);let g=v;((i=(r=s.user.factors)===null||r===void 0?void 0:r.filter(C=>C.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const S=d.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:S},error:null}}))}}XN.nextInstanceID=0;const Cut=XN;class kut extends Cut{constructor(t){super(t)}}var Aut=globalThis&&globalThis.__awaiter||function(e,t,r,i){function s(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function v(S){try{w(i.next(S))}catch(C){d(C)}}function g(S){try{w(i.throw(S))}catch(C){d(C)}}function w(S){S.done?u(S.value):s(S.value).then(v,g)}w((i=i.apply(e,t||[])).next())})};class xut{constructor(t,r,i){var s,u,d;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const v=Hat(t);this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,this.functionsUrl=`${v}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,w={db:Mat,realtime:jat,auth:Object.assign(Object.assign({},Fat),{storageKey:g}),global:Lat},S=zat(i!=null?i:{},w);this.storageKey=(s=S.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(u=S.global.headers)!==null&&u!==void 0?u:{},S.accessToken?(this.accessToken=S.accessToken,this.auth=new Proxy({},{get:(C,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=S.auth)!==null&&d!==void 0?d:{},this.headers,S.global.fetch),this.fetch=qat(r,this._getAccessToken.bind(this),S.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},S.realtime)),this.rest=new rat(`${v}/rest/v1`,{headers:this.headers,schema:S.db.schema,fetch:this.fetch}),S.accessToken||this._listenForAuthEvents()}get functions(){return new Dst(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Pat(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},i={}){return this.rest.rpc(t,r,i)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Aut(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:s,storageKey:u,flowType:d,lock:v,debug:g},w,S){var C;const A={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kut({url:this.authUrl,headers:Object.assign(Object.assign({},A),w),storageKey:u,autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:s,flowType:d,lock:v,debug:g,fetch:S,hasCustomAuthorizationHeader:(C="Authorization"in this.headers)!==null&&C!==void 0?C:!1})}_initRealtimeClient(t){return new yat(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,r,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i!=null?i:null),this.changedAccessToken=i):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Out=(e,t,r)=>new xut(e,t,r),Nut="https://dffslhnhihfzeoznvgud.supabase.co",Put="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmZnNsaG5oaWhmemVvem52Z3VkIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczMjE4MTY0OCwiZXhwIjoyMDQ3NzU3NjQ4fQ.XvKpgWF9f6bggPqkSkhIm3GLTmLJECeV0K4S6gt2Es8",sw=Out(Nut,Put);function*hO(){yield rn(fl(!0)),yield rn($N(null))}function*aw(e){yield rn(fl(!1)),yield rn($N((e==null?void 0:e.message)||"Failed to fetch products")),console.log("ERROR: ",e)}function*fO(e,t,r){e&&(yield Zn(YN.push,e)),yield Zn(Zg,t,r)}function*Rut({type:e,payload:t}){switch(e){case eW:try{yield hO();const r=yield Hz(),i=yield Zn(ii.getProducts,t);i.products.length===0?aw("No items found."):(yield rn(uot({products:i.products,lastKey:i.lastKey?i.lastKey:r.products.lastRefKey,total:i.total?i.total:r.products.total})),yield rn($N(""))),yield rn(fl(!1))}catch(r){console.log(r),yield aw(r)}break;case nW:{try{yield hO(),console.log("Uploading main image...");const r=`${Date.now()}-${t.image.name}`,{data:i,error:s}=yield Zn([sw.storage.from("products"),"upload"],r,t.image);if(s)throw console.error("Main image upload error:",s.message),new Error("Failed to upload main image to Supabase");console.log("Main image upload success:",i);const u=`https://dffslhnhihfzeoznvgud.supabase.co/storage/v1/object/public/products/${r}`;console.log("Main image URL:",u);const d=[];for(const g of t.imageCollection){const w=`${Date.now()}-${g.file.name}`,{data:S,error:C}=yield Zn([sw.storage.from("products"),"upload"],w,g.file);if(C)throw console.error(`Error uploading ${g.file.name}:`,C.message),new Error(`Failed to upload image: ${g.file.name}`);const A=`https://dffslhnhihfzeoznvgud.supabase.co/storage/v1/object/public/products/${w}`;console.log(`Image URL for ${g.file.name}:`,A),d.push({id:w,url:A})}console.log("Uploaded images:",d);const v={...t,image:u,imageCollection:d,dateAdded:Date.now()};console.log("Final product data:",v),yield Zn(ii.addProduct,r,v),yield rn(fot({id:r,...v})),yield fO(SO,"Product added successfully!","success")}catch(r){console.error("Error adding product:",r.message),yield aw(r)}break}case iW:{try{yield hO();const{image:r,imageCollection:i}=t.updates;let s={...t.updates};if(r.constructor===File&&typeof r=="object"){try{yield Zn([sw.storage.from("products"),"remove"],[t.id])}catch(w){console.error("Failed to delete image from Supabase:",w)}const u=`${Date.now()}-${r.name}`,{data:d,error:v}=yield Zn([sw.storage.from("products"),"upload"],u,r);if(v)throw new Error(`Failed to upload image to Supabase: ${v.message}`);const{publicUrl:g}=sw.storage.from("products").getPublicUrl(u);s={...s,image:g}}if(i.length>1){const u=[],d=[];i.forEach(S=>{S.file?d.push(S):u.push(S)});const v=yield Nhe(d.map(()=>`${Date.now()}-${img.file.name}`)),w=(yield Nhe(d.map((S,C)=>Zn([sw.storage.from("products"),"upload"],v[C],S.file)))).map((S,C)=>{if(S.error)throw new Error(`Failed to upload image: ${S.error.message}`);const{publicUrl:A}=sw.storage.from("products").getPublicUrl(v[C]);return{id:v[C],url:A}});s={...s,imageCollection:[...u,...w]}}else s={...s,imageCollection:[{id:new Date().getTime(),url:s.image}]};yield Zn(ii.editProduct,t.id,s),yield rn(mot({id:t.id,updates:s})),yield fO(SO,"Item successfully edited","success"),yield rn(fl(!1))}catch(r){yield aw(r),yield fO(void 0,`Item failed to edit: ${r.message}`,"error")}break}case rW:{try{yield hO(),yield Zn(ii.removeProduct,t),yield rn(pot(t)),yield rn(fl(!1)),yield fO(SO,"Item succesfully removed","success")}catch(r){yield aw(r),yield fO(void 0,`Item failed to remove: ${r.message}`,"error")}break}case tW:{try{yield hO(),yield rn(Pde());const r=yield Hz(),i=yield Zn(ii.searchProducts,t.searchKey);i.products.length===0?(yield aw({message:"No product found."}),yield rn(Pde())):(yield rn(hot({products:i.products,lastKey:i.lastKey?i.lastKey:r.products.searchedProducts.lastRefKey,total:i.total?i.total:r.products.searchedProducts.total})),yield rn($N(""))),yield rn(fl(!1))}catch(r){yield aw(r)}break}default:throw new Error(`Unexpected action type ${e}`)}}function*Dut({type:e,payload:t}){switch(e){case Cge:{try{yield rn(fl(!1)),yield Zn(ii.updateEmail,t.password,t.newEmail),yield rn(fl(!1)),yield Zn(YN.push,"/profile"),yield Zn(Zg,"Email Updated Successfully!","success")}catch(r){console.log(r.message)}break}case pW:{try{const r=yield Hz(),{email:i,password:s}=t.credentials,{avatarFile:u,bannerFile:d}=t.files;if(yield rn(fl(!0)),i&&s&&i!==r.profile.email&&(yield Zn(ii.updateEmail,s,i)),u||d){const v=d?yield Zn(ii.storeImage,r.auth.id,"banner",d):t.updates.banner,g=u?yield Zn(ii.storeImage,r.auth.id,"avatar",u):t.updates.avatar,w={...t.updates,avatar:g,banner:v};yield Zn(ii.updateProfile,r.auth.id,w),yield rn(Vhe(w))}else yield Zn(ii.updateProfile,r.auth.id,t.updates),yield rn(Vhe(t.updates));yield rn(fl(!1)),yield Zn(YN.push,V4),yield Zn(Zg,"Profile Updated Successfully!","success")}catch(r){console.log(r),yield rn(fl(!1)),r.code==="auth/wrong-password"?yield Zn(Zg,"Wrong password, profile update failed :(","error"):yield Zn(Zg,`:( Failed to update profile. ${r.message?r.message:""}`,"error")}break}default:throw new Error("Unexpected action type.")}}function*Lut(){yield j9([oW,sW,aW,uW,cW,lW,nMe,hW,fW,Ige,dW],Ast),yield j9([nW,tW,rW,iW,eW],Rut),yield j9([Cge,pW],Dut)}const ope=_qe(),Mut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||QG,Fut={key:"root",storage:jwe,whitelist:["auth","profile","basket","checkout"]},jut=()=>{const e=GG(ZVe(Fut,Pqe),Mut(DVe(ope))),t=o5e(e);return ope.run(Lut),{store:e,persistor:t}};var XSe={exports:{}};(function(e){(function(){function t(te,Ee,Ue){return te.call.apply(te.bind,arguments)}function r(te,Ee,Ue){if(!te)throw Error();if(2<arguments.length){var ze=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,ze),te.apply(Ee,_t)}}return function(){return te.apply(Ee,arguments)}}function i(te,Ee,Ue){return i=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?t:r,i.apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(te,Ee){this.a=te,this.o=Ee||te,this.c=this.o.document}var d=!!window.FontFace;function v(te,Ee,Ue,ze){if(Ee=te.c.createElement(Ee),Ue)for(var _t in Ue)Ue.hasOwnProperty(_t)&&(_t=="style"?Ee.style.cssText=Ue[_t]:Ee.setAttribute(_t,Ue[_t]));return ze&&Ee.appendChild(te.c.createTextNode(ze)),Ee}function g(te,Ee,Ue){te=te.c.getElementsByTagName(Ee)[0],te||(te=document.documentElement),te.insertBefore(Ue,te.lastChild)}function w(te){te.parentNode&&te.parentNode.removeChild(te)}function S(te,Ee,Ue){Ee=Ee||[],Ue=Ue||[];for(var ze=te.className.split(/\s+/),_t=0;_t<Ee.length;_t+=1){for(var kt=!1,Bt=0;Bt<ze.length;Bt+=1)if(Ee[_t]===ze[Bt]){kt=!0;break}kt||ze.push(Ee[_t])}for(Ee=[],_t=0;_t<ze.length;_t+=1){for(kt=!1,Bt=0;Bt<Ue.length;Bt+=1)if(ze[_t]===Ue[Bt]){kt=!0;break}kt||Ee.push(ze[_t])}te.className=Ee.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function C(te,Ee){for(var Ue=te.className.split(/\s+/),ze=0,_t=Ue.length;ze<_t;ze++)if(Ue[ze]==Ee)return!0;return!1}function A(te){return te.o.location.hostname||te.a.location.hostname}function L(te,Ee,Ue){function ze(){cn&&_t&&kt&&(cn(Bt),cn=null)}Ee=v(te,"link",{rel:"stylesheet",href:Ee,media:"all"});var _t=!1,kt=!0,Bt=null,cn=Ue||null;d?(Ee.onload=function(){_t=!0,ze()},Ee.onerror=function(){_t=!0,Bt=Error("Stylesheet failed to load"),ze()}):setTimeout(function(){_t=!0,ze()},0),g(te,"head",Ee)}function M(te,Ee,Ue,ze){var _t=te.c.getElementsByTagName("head")[0];if(_t){var kt=v(te,"script",{src:Ee}),Bt=!1;return kt.onload=kt.onreadystatechange=function(){Bt||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Bt=!0,Ue&&Ue(null),kt.onload=kt.onreadystatechange=null,kt.parentNode.tagName=="HEAD"&&_t.removeChild(kt))},_t.appendChild(kt),setTimeout(function(){Bt||(Bt=!0,Ue&&Ue(Error("Script load timeout")))},ze||5e3),kt}return null}function U(){this.a=0,this.c=null}function R(te){return te.a++,function(){te.a--,B(te)}}function $(te,Ee){te.c=Ee,B(te)}function B(te){te.a==0&&te.c&&(te.c(),te.c=null)}function G(te){this.a=te||"-"}G.prototype.c=function(te){for(var Ee=[],Ue=0;Ue<arguments.length;Ue++)Ee.push(arguments[Ue].replace(/[\W_]+/g,"").toLowerCase());return Ee.join(this.a)};function H(te,Ee){this.c=te,this.f=4,this.a="n";var Ue=(Ee||"n4").match(/^([nio])([1-9])$/i);Ue&&(this.a=Ue[1],this.f=parseInt(Ue[2],10))}function Z(te){return ye(te)+" "+(te.f+"00")+" 300px "+Y(te.c)}function Y(te){var Ee=[];te=te.split(/,\s*/);for(var Ue=0;Ue<te.length;Ue++){var ze=te[Ue].replace(/['"]/g,"");ze.indexOf(" ")!=-1||/^\d/.test(ze)?Ee.push("'"+ze+"'"):Ee.push(ze)}return Ee.join(",")}function ce(te){return te.a+te.f}function ye(te){var Ee="normal";return te.a==="o"?Ee="oblique":te.a==="i"&&(Ee="italic"),Ee}function xe(te){var Ee=4,Ue="n",ze=null;return te&&((ze=te.match(/(normal|oblique|italic)/i))&&ze[1]&&(Ue=ze[1].substr(0,1).toLowerCase()),(ze=te.match(/([1-9]00|normal|bold)/i))&&ze[1]&&(/bold/i.test(ze[1])?Ee=7:/[1-9]00/.test(ze[1])&&(Ee=parseInt(ze[1].substr(0,1),10)))),Ue+Ee}function re(te,Ee){this.c=te,this.f=te.o.document.documentElement,this.h=Ee,this.a=new G("-"),this.j=Ee.events!==!1,this.g=Ee.classes!==!1}function ut(te){te.g&&S(te.f,[te.a.c("wf","loading")]),ht(te,"loading")}function it(te){if(te.g){var Ee=C(te.f,te.a.c("wf","active")),Ue=[],ze=[te.a.c("wf","loading")];Ee||Ue.push(te.a.c("wf","inactive")),S(te.f,Ue,ze)}ht(te,"inactive")}function ht(te,Ee,Ue){te.j&&te.h[Ee]&&(Ue?te.h[Ee](Ue.c,ce(Ue)):te.h[Ee]())}function Ie(){this.c={}}function Ne(te,Ee,Ue){var ze=[],_t;for(_t in Ee)if(Ee.hasOwnProperty(_t)){var kt=te.c[_t];kt&&ze.push(kt(Ee[_t],Ue))}return ze}function Be(te,Ee){this.c=te,this.f=Ee,this.a=v(this.c,"span",{"aria-hidden":"true"},this.f)}function _e(te){g(te.c,"body",te.a)}function He(te){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+Y(te.c)+";"+("font-style:"+ye(te)+";font-weight:"+(te.f+"00")+";")}function ct(te,Ee,Ue,ze,_t,kt){this.g=te,this.j=Ee,this.a=ze,this.c=Ue,this.f=_t||3e3,this.h=kt||void 0}ct.prototype.start=function(){var te=this.c.o.document,Ee=this,Ue=s(),ze=new Promise(function(Bt,cn){function zn(){s()-Ue>=Ee.f?cn():te.fonts.load(Z(Ee.a),Ee.h).then(function(fr){1<=fr.length?Bt():setTimeout(zn,25)},function(){cn()})}zn()}),_t=null,kt=new Promise(function(Bt,cn){_t=setTimeout(cn,Ee.f)});Promise.race([kt,ze]).then(function(){_t&&(clearTimeout(_t),_t=null),Ee.g(Ee.a)},function(){Ee.j(Ee.a)})};function Pe(te,Ee,Ue,ze,_t,kt,Bt){this.v=te,this.B=Ee,this.c=Ue,this.a=ze,this.s=Bt||"BESbswy",this.f={},this.w=_t||3e3,this.u=kt||null,this.m=this.j=this.h=this.g=null,this.g=new Be(this.c,this.s),this.h=new Be(this.c,this.s),this.j=new Be(this.c,this.s),this.m=new Be(this.c,this.s),te=new H(this.a.c+",serif",ce(this.a)),te=He(te),this.g.a.style.cssText=te,te=new H(this.a.c+",sans-serif",ce(this.a)),te=He(te),this.h.a.style.cssText=te,te=new H("serif",ce(this.a)),te=He(te),this.j.a.style.cssText=te,te=new H("sans-serif",ce(this.a)),te=He(te),this.m.a.style.cssText=te,_e(this.g),_e(this.h),_e(this.j),_e(this.m)}var he={D:"serif",C:"sans-serif"},fe=null;function Se(){if(fe===null){var te=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);fe=!!te&&(536>parseInt(te[1],10)||parseInt(te[1],10)===536&&11>=parseInt(te[2],10))}return fe}Pe.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),ee(this)};function Ae(te,Ee,Ue){for(var ze in he)if(he.hasOwnProperty(ze)&&Ee===te.f[he[ze]]&&Ue===te.f[he[ze]])return!0;return!1}function ee(te){var Ee=te.g.a.offsetWidth,Ue=te.h.a.offsetWidth,ze;(ze=Ee===te.f.serif&&Ue===te.f["sans-serif"])||(ze=Se()&&Ae(te,Ee,Ue)),ze?s()-te.A>=te.w?Se()&&Ae(te,Ee,Ue)&&(te.u===null||te.u.hasOwnProperty(te.a.c))?st(te,te.v):st(te,te.B):be(te):st(te,te.v)}function be(te){setTimeout(i(function(){ee(this)},te),50)}function st(te,Ee){setTimeout(i(function(){w(this.g.a),w(this.h.a),w(this.j.a),w(this.m.a),Ee(this.a)},te),0)}function Re(te,Ee,Ue){this.c=te,this.a=Ee,this.f=0,this.m=this.j=!1,this.s=Ue}var Pt=null;Re.prototype.g=function(te){var Ee=this.a;Ee.g&&S(Ee.f,[Ee.a.c("wf",te.c,ce(te).toString(),"active")],[Ee.a.c("wf",te.c,ce(te).toString(),"loading"),Ee.a.c("wf",te.c,ce(te).toString(),"inactive")]),ht(Ee,"fontactive",te),this.m=!0,Nt(this)},Re.prototype.h=function(te){var Ee=this.a;if(Ee.g){var Ue=C(Ee.f,Ee.a.c("wf",te.c,ce(te).toString(),"active")),ze=[],_t=[Ee.a.c("wf",te.c,ce(te).toString(),"loading")];Ue||ze.push(Ee.a.c("wf",te.c,ce(te).toString(),"inactive")),S(Ee.f,ze,_t)}ht(Ee,"fontinactive",te),Nt(this)};function Nt(te){--te.f==0&&te.j&&(te.m?(te=te.a,te.g&&S(te.f,[te.a.c("wf","active")],[te.a.c("wf","loading"),te.a.c("wf","inactive")]),ht(te,"active")):it(te.a))}function Vt(te){this.j=te,this.a=new Ie,this.h=0,this.f=this.g=!0}Vt.prototype.load=function(te){this.c=new u(this.j,te.context||this.j),this.g=te.events!==!1,this.f=te.classes!==!1,Mt(this,new re(this.c,te),te)};function At(te,Ee,Ue,ze,_t){var kt=--te.h==0;(te.f||te.g)&&setTimeout(function(){var Bt=_t||null,cn=ze||null||{};if(Ue.length===0&&kt)it(Ee.a);else{Ee.f+=Ue.length,kt&&(Ee.j=kt);var zn,fr=[];for(zn=0;zn<Ue.length;zn++){var dr=Ue[zn],Kr=cn[dr.c],Ji=Ee.a,Or=dr;if(Ji.g&&S(Ji.f,[Ji.a.c("wf",Or.c,ce(Or).toString(),"loading")]),ht(Ji,"fontloading",Or),Ji=null,Pt===null)if(window.FontFace){var Or=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),Wr=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);Pt=Or?42<parseInt(Or[1],10):!Wr}else Pt=!1;Pt?Ji=new ct(i(Ee.g,Ee),i(Ee.h,Ee),Ee.c,dr,Ee.s,Kr):Ji=new Pe(i(Ee.g,Ee),i(Ee.h,Ee),Ee.c,dr,Ee.s,Bt,Kr),fr.push(Ji)}for(zn=0;zn<fr.length;zn++)fr[zn].start()}},0)}function Mt(te,Ee,Ue){var _t=[],ze=Ue.timeout;ut(Ee);var _t=Ne(te.a,Ue,te.c),kt=new Re(te.c,Ee,ze);for(te.h=_t.length,Ee=0,Ue=_t.length;Ee<Ue;Ee++)_t[Ee].load(function(Bt,cn,zn){At(te,kt,Bt,cn,zn)})}function zt(te,Ee){this.c=te,this.a=Ee}zt.prototype.load=function(te){function Ee(){if(kt["__mti_fntLst"+ze]){var Bt=kt["__mti_fntLst"+ze](),cn=[],zn;if(Bt)for(var fr=0;fr<Bt.length;fr++){var dr=Bt[fr].fontfamily;Bt[fr].fontStyle!=null&&Bt[fr].fontWeight!=null?(zn=Bt[fr].fontStyle+Bt[fr].fontWeight,cn.push(new H(dr,zn))):cn.push(new H(dr))}te(cn)}else setTimeout(function(){Ee()},50)}var Ue=this,ze=Ue.a.projectId,_t=Ue.a.version;if(ze){var kt=Ue.c.o;M(this.c,(Ue.a.api||"https://fast.fonts.net/jsapi")+"/"+ze+".js"+(_t?"?v="+_t:""),function(Bt){Bt?te([]):(kt["__MonotypeConfiguration__"+ze]=function(){return Ue.a},Ee())}).id="__MonotypeAPIScript__"+ze}else te([])};function Te(te,Ee){this.c=te,this.a=Ee}Te.prototype.load=function(te){var Ee,Ue,ze=this.a.urls||[],_t=this.a.families||[],kt=this.a.testStrings||{},Bt=new U;for(Ee=0,Ue=ze.length;Ee<Ue;Ee++)L(this.c,ze[Ee],R(Bt));var cn=[];for(Ee=0,Ue=_t.length;Ee<Ue;Ee++)if(ze=_t[Ee].split(":"),ze[1])for(var zn=ze[1].split(","),fr=0;fr<zn.length;fr+=1)cn.push(new H(ze[0],zn[fr]));else cn.push(new H(ze[0]));$(Bt,function(){te(cn,kt)})};function qe(te,Ee){te?this.c=te:this.c=rt,this.a=[],this.f=[],this.g=Ee||""}var rt="https://fonts.googleapis.com/css";function Fe(te,Ee){for(var Ue=Ee.length,ze=0;ze<Ue;ze++){var _t=Ee[ze].split(":");_t.length==3&&te.f.push(_t.pop());var kt="";_t.length==2&&_t[1]!=""&&(kt=":"),te.a.push(_t.join(kt))}}function Ot(te){if(te.a.length==0)throw Error("No fonts to load!");if(te.c.indexOf("kit=")!=-1)return te.c;for(var Ee=te.a.length,Ue=[],ze=0;ze<Ee;ze++)Ue.push(te.a[ze].replace(/ /g,"+"));return Ee=te.c+"?family="+Ue.join("%7C"),0<te.f.length&&(Ee+="&subset="+te.f.join(",")),0<te.g.length&&(Ee+="&text="+encodeURIComponent(te.g)),Ee}function we(te){this.f=te,this.a=[],this.c={}}var Ze={latin:"BESbswy","latin-ext":"\xE7\xF6\xFC\u011F\u015F",cyrillic:"\u0439\u044F\u0416",greek:"\u03B1\u03B2\u03A3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},ot={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},je={i:"i",italic:"i",n:"n",normal:"n"},Le=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function vt(te){for(var Ee=te.f.length,Ue=0;Ue<Ee;Ue++){var ze=te.f[Ue].split(":"),_t=ze[0].replace(/\+/g," "),kt=["n4"];if(2<=ze.length){var Bt,cn=ze[1];if(Bt=[],cn)for(var cn=cn.split(","),zn=cn.length,fr=0;fr<zn;fr++){var dr;if(dr=cn[fr],dr.match(/^[\w-]+$/)){var Kr=Le.exec(dr.toLowerCase());if(Kr==null)dr="";else{if(dr=Kr[2],dr=dr==null||dr==""?"n":je[dr],Kr=Kr[1],Kr==null||Kr=="")Kr="4";else var Ji=ot[Kr],Kr=Ji||(isNaN(Kr)?"4":Kr.substr(0,1));dr=[dr,Kr].join("")}}else dr="";dr&&Bt.push(dr)}0<Bt.length&&(kt=Bt),ze.length==3&&(ze=ze[2],Bt=[],ze=ze?ze.split(","):Bt,0<ze.length&&(ze=Ze[ze[0]])&&(te.c[_t]=ze))}for(te.c[_t]||(ze=Ze[_t])&&(te.c[_t]=ze),ze=0;ze<kt.length;ze+=1)te.a.push(new H(_t,kt[ze]))}}function bt(te,Ee){this.c=te,this.a=Ee}var ft={Arimo:!0,Cousine:!0,Tinos:!0};bt.prototype.load=function(te){var Ee=new U,Ue=this.c,ze=new qe(this.a.api,this.a.text),_t=this.a.families;Fe(ze,_t);var kt=new we(_t);vt(kt),L(Ue,Ot(ze),R(Ee)),$(Ee,function(){te(kt.a,kt.c,ft)})};function _n(te,Ee){this.c=te,this.a=Ee}_n.prototype.load=function(te){var Ee=this.a.id,Ue=this.c.o;Ee?M(this.c,(this.a.api||"https://use.typekit.net")+"/"+Ee+".js",function(ze){if(ze)te([]);else if(Ue.Typekit&&Ue.Typekit.config&&Ue.Typekit.config.fn){ze=Ue.Typekit.config.fn;for(var _t=[],kt=0;kt<ze.length;kt+=2)for(var Bt=ze[kt],cn=ze[kt+1],zn=0;zn<cn.length;zn++)_t.push(new H(Bt,cn[zn]));try{Ue.Typekit.load({events:!1,classes:!1,async:!0})}catch{}te(_t)}},2e3):te([])};function xr(te,Ee){this.c=te,this.f=Ee,this.a=[]}xr.prototype.load=function(te){var Ee=this.f.id,Ue=this.c.o,ze=this;Ee?(Ue.__webfontfontdeckmodule__||(Ue.__webfontfontdeckmodule__={}),Ue.__webfontfontdeckmodule__[Ee]=function(_t,kt){for(var Bt=0,cn=kt.fonts.length;Bt<cn;++Bt){var zn=kt.fonts[Bt];ze.a.push(new H(zn.name,xe("font-weight:"+zn.weight+";font-style:"+zn.style)))}te(ze.a)},M(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+A(this.c)+"/"+Ee+".js",function(_t){_t&&te([])})):te([])};var ur=new Vt(window);ur.a.c.custom=function(te,Ee){return new Te(Ee,te)},ur.a.c.fontdeck=function(te,Ee){return new xr(Ee,te)},ur.a.c.monotype=function(te,Ee){return new zt(Ee,te)},ur.a.c.typekit=function(te,Ee){return new _n(Ee,te)},ur.a.c.google=function(te,Ee){return new bt(Ee,te)};var yi={load:i(ur.load,ur)};e.exports?e.exports=yi:(window.WebFont=yi,window.WebFontConfig&&ur.load(window.WebFontConfig))})()})(XSe);const Uut=XSe.exports;function l3(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l3=function(r){return typeof r}:l3=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l3(e)}function $ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function spe(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vut(e,t,r){return t&&spe(e.prototype,t),r&&spe(e,r),e}function qut(e,t){return t&&(l3(t)==="object"||typeof t=="function")?t:h3(e)}function N7(e){return N7=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},N7(e)}function h3(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function But(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P7(e,t)}function P7(e,t){return P7=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},P7(e,t)}function f3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JSe=function(e){But(t,e);function t(){var r,i;$ut(this,t);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=qut(this,(r=N7(t)).call.apply(r,[this].concat(u))),f3(h3(i),"state",{bootstrapped:!1}),f3(h3(i),"_unsubscribe",void 0),f3(h3(i),"handlePersistorState",function(){var v=i.props.persistor,g=v.getState(),w=g.bootstrapped;w&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return Vut(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(se.exports.PureComponent);f3(JSe,"defaultProps",{children:null,loading:null});const ZSe=({store:e,persistor:t})=>D(se.exports.StrictMode,{children:D($Ne,{store:e,children:D(JSe,{loading:D(Nwe,{}),persistor:t,children:D(kst,{})})})});ZSe.propTypes={store:ie.exports.any.isRequired,persistor:ie.exports.any.isRequired};Uut.load({google:{families:["Tajawal"]}});const{store:cH,persistor:Hut}=jut(),eTe=document.getElementById("app");iI.exports.render(D(Nwe,{}),eTe);ii.auth.onAuthStateChanged(e=>{e?cH.dispatch(mMe(e)):cH.dispatch(gMe("Failed to authenticate")),iI.exports.render(D(ZSe,{store:cH,persistor:Hut}),eTe)});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});export{mNe as A,Eh as I,ge as a,_Me as d,D as j,ie as p,ks as u,e_ as w};
